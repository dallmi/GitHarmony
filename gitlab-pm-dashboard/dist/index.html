<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GitHarmony - teams in tune</title>
    <script type="module" crossorigin>(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function l(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(r){if(r.ep)return;r.ep=!0;const c=l(r);fetch(r.href,c)}})();function wx(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function Sm(o){if(Object.prototype.hasOwnProperty.call(o,"__esModule"))return o;var d=o.default;if(typeof d=="function"){var l=function a(){var r=!1;try{r=this instanceof a}catch{}return r?Reflect.construct(d,arguments,this.constructor):d.apply(this,arguments)};l.prototype=d.prototype}else l={};return Object.defineProperty(l,"__esModule",{value:!0}),Object.keys(o).forEach(function(a){var r=Object.getOwnPropertyDescriptor(o,a);Object.defineProperty(l,a,r.get?r:{enumerable:!0,get:function(){return o[a]}})}),l}var _c={exports:{}},Ss={};var Bh;function jm(){if(Bh)return Ss;Bh=1;var o=Symbol.for("react.transitional.element"),d=Symbol.for("react.fragment");function l(a,r,c){var p=null;if(c!==void 0&&(p=""+c),r.key!==void 0&&(p=""+r.key),"key"in r){c={};for(var f in r)f!=="key"&&(c[f]=r[f])}else c=r;return r=c.ref,{$$typeof:o,type:a,key:p,ref:r!==void 0?r:null,props:c}}return Ss.Fragment=d,Ss.jsx=l,Ss.jsxs=l,Ss}var Dh;function Em(){return Dh||(Dh=1,_c.exports=jm()),_c.exports}var t=Em(),Fc={exports:{}},ge={};var Ch;function wm(){if(Ch)return ge;Ch=1;var o=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),p=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),m=Symbol.iterator;function b(R){return R===null||typeof R!="object"?null:(R=m&&R[m]||R["@@iterator"],typeof R=="function"?R:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,A={};function N(R,$,ie){this.props=R,this.context=$,this.refs=A,this.updater=ie||j}N.prototype.isReactComponent={},N.prototype.setState=function(R,$){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,$,"setState")},N.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function k(){}k.prototype=N.prototype;function C(R,$,ie){this.props=R,this.context=$,this.refs=A,this.updater=ie||j}var D=C.prototype=new k;D.constructor=C,E(D,N.prototype),D.isPureReactComponent=!0;var w=Array.isArray;function T(){}var _={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function B(R,$,ie){var ne=ie.ref;return{$$typeof:o,type:R,key:$,ref:ne!==void 0?ne:null,props:ie}}function O(R,$){return B(R.type,$,R.props)}function G(R){return typeof R=="object"&&R!==null&&R.$$typeof===o}function K(R){var $={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(ie){return $[ie]})}var J=/\/+/g;function le(R,$){return typeof R=="object"&&R!==null&&R.key!=null?K(""+R.key):$.toString(36)}function I(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(T,T):(R.status="pending",R.then(function($){R.status==="pending"&&(R.status="fulfilled",R.value=$)},function($){R.status==="pending"&&(R.status="rejected",R.reason=$)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function F(R,$,ie,ne,oe){var ue=typeof R;(ue==="undefined"||ue==="boolean")&&(R=null);var de=!1;if(R===null)de=!0;else switch(ue){case"bigint":case"string":case"number":de=!0;break;case"object":switch(R.$$typeof){case o:case d:de=!0;break;case y:return de=R._init,F(de(R._payload),$,ie,ne,oe)}}if(de)return oe=oe(R),de=ne===""?"."+le(R,0):ne,w(oe)?(ie="",de!=null&&(ie=de.replace(J,"$&/")+"/"),F(oe,$,ie,"",function(Vt){return Vt})):oe!=null&&(G(oe)&&(oe=O(oe,ie+(oe.key==null||R&&R.key===oe.key?"":(""+oe.key).replace(J,"$&/")+"/")+de)),$.push(oe)),1;de=0;var me=ne===""?".":ne+":";if(w(R))for(var je=0;je<R.length;je++)ne=R[je],ue=me+le(ne,je),de+=F(ne,$,ie,ue,oe);else if(je=b(R),typeof je=="function")for(R=je.call(R),je=0;!(ne=R.next()).done;)ne=ne.value,ue=me+le(ne,je++),de+=F(ne,$,ie,ue,oe);else if(ue==="object"){if(typeof R.then=="function")return F(I(R),$,ie,ne,oe);throw $=String(R),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return de}function M(R,$,ie){if(R==null)return R;var ne=[],oe=0;return F(R,ne,"","",function(ue){return $.call(ie,ue,oe++)}),ne}function W(R){if(R._status===-1){var $=R._result;$=$(),$.then(function(ie){(R._status===0||R._status===-1)&&(R._status=1,R._result=ie)},function(ie){(R._status===0||R._status===-1)&&(R._status=2,R._result=ie)}),R._status===-1&&(R._status=0,R._result=$)}if(R._status===1)return R._result.default;throw R._result}var P=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},Y={map:M,forEach:function(R,$,ie){M(R,function(){$.apply(this,arguments)},ie)},count:function(R){var $=0;return M(R,function(){$++}),$},toArray:function(R){return M(R,function($){return $})||[]},only:function(R){if(!G(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return ge.Activity=v,ge.Children=Y,ge.Component=N,ge.Fragment=l,ge.Profiler=r,ge.PureComponent=C,ge.StrictMode=a,ge.Suspense=g,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,ge.__COMPILER_RUNTIME={__proto__:null,c:function(R){return _.H.useMemoCache(R)}},ge.cache=function(R){return function(){return R.apply(null,arguments)}},ge.cacheSignal=function(){return null},ge.cloneElement=function(R,$,ie){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var ne=E({},R.props),oe=R.key;if($!=null)for(ue in $.key!==void 0&&(oe=""+$.key),$)!L.call($,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&$.ref===void 0||(ne[ue]=$[ue]);var ue=arguments.length-2;if(ue===1)ne.children=ie;else if(1<ue){for(var de=Array(ue),me=0;me<ue;me++)de[me]=arguments[me+2];ne.children=de}return B(R.type,oe,ne)},ge.createContext=function(R){return R={$$typeof:p,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:c,_context:R},R},ge.createElement=function(R,$,ie){var ne,oe={},ue=null;if($!=null)for(ne in $.key!==void 0&&(ue=""+$.key),$)L.call($,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(oe[ne]=$[ne]);var de=arguments.length-2;if(de===1)oe.children=ie;else if(1<de){for(var me=Array(de),je=0;je<de;je++)me[je]=arguments[je+2];oe.children=me}if(R&&R.defaultProps)for(ne in de=R.defaultProps,de)oe[ne]===void 0&&(oe[ne]=de[ne]);return B(R,ue,oe)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(R){return{$$typeof:f,render:R}},ge.isValidElement=G,ge.lazy=function(R){return{$$typeof:y,_payload:{_status:-1,_result:R},_init:W}},ge.memo=function(R,$){return{$$typeof:h,type:R,compare:$===void 0?null:$}},ge.startTransition=function(R){var $=_.T,ie={};_.T=ie;try{var ne=R(),oe=_.S;oe!==null&&oe(ie,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(T,P)}catch(ue){P(ue)}finally{$!==null&&ie.types!==null&&($.types=ie.types),_.T=$}},ge.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},ge.use=function(R){return _.H.use(R)},ge.useActionState=function(R,$,ie){return _.H.useActionState(R,$,ie)},ge.useCallback=function(R,$){return _.H.useCallback(R,$)},ge.useContext=function(R){return _.H.useContext(R)},ge.useDebugValue=function(){},ge.useDeferredValue=function(R,$){return _.H.useDeferredValue(R,$)},ge.useEffect=function(R,$){return _.H.useEffect(R,$)},ge.useEffectEvent=function(R){return _.H.useEffectEvent(R)},ge.useId=function(){return _.H.useId()},ge.useImperativeHandle=function(R,$,ie){return _.H.useImperativeHandle(R,$,ie)},ge.useInsertionEffect=function(R,$){return _.H.useInsertionEffect(R,$)},ge.useLayoutEffect=function(R,$){return _.H.useLayoutEffect(R,$)},ge.useMemo=function(R,$){return _.H.useMemo(R,$)},ge.useOptimistic=function(R,$){return _.H.useOptimistic(R,$)},ge.useReducer=function(R,$,ie){return _.H.useReducer(R,$,ie)},ge.useRef=function(R){return _.H.useRef(R)},ge.useState=function(R){return _.H.useState(R)},ge.useSyncExternalStore=function(R,$,ie){return _.H.useSyncExternalStore(R,$,ie)},ge.useTransition=function(){return _.H.useTransition()},ge.version="19.2.0",ge}var Ah;function pd(){return Ah||(Ah=1,Fc.exports=wm()),Fc.exports}var U=pd();const Bx=wx(U);var Mc={exports:{}},js={},Nc={exports:{}},Ic={};var Th;function Bm(){return Th||(Th=1,(function(o){function d(F,M){var W=F.length;F.push(M);e:for(;0<W;){var P=W-1>>>1,Y=F[P];if(0<r(Y,M))F[P]=M,F[W]=Y,W=P;else break e}}function l(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var M=F[0],W=F.pop();if(W!==M){F[0]=W;e:for(var P=0,Y=F.length,R=Y>>>1;P<R;){var $=2*(P+1)-1,ie=F[$],ne=$+1,oe=F[ne];if(0>r(ie,W))ne<Y&&0>r(oe,ie)?(F[P]=oe,F[ne]=W,P=ne):(F[P]=ie,F[$]=W,P=$);else if(ne<Y&&0>r(oe,W))F[P]=oe,F[ne]=W,P=ne;else break e}}return M}function r(F,M){var W=F.sortIndex-M.sortIndex;return W!==0?W:F.id-M.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;o.unstable_now=function(){return c.now()}}else{var p=Date,f=p.now();o.unstable_now=function(){return p.now()-f}}var g=[],h=[],y=1,v=null,m=3,b=!1,j=!1,E=!1,A=!1,N=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function D(F){for(var M=l(h);M!==null;){if(M.callback===null)a(h);else if(M.startTime<=F)a(h),M.sortIndex=M.expirationTime,d(g,M);else break;M=l(h)}}function w(F){if(E=!1,D(F),!j)if(l(g)!==null)j=!0,T||(T=!0,K());else{var M=l(h);M!==null&&I(w,M.startTime-F)}}var T=!1,_=-1,L=5,B=-1;function O(){return A?!0:!(o.unstable_now()-B<L)}function G(){if(A=!1,T){var F=o.unstable_now();B=F;var M=!0;try{e:{j=!1,E&&(E=!1,k(_),_=-1),b=!0;var W=m;try{t:{for(D(F),v=l(g);v!==null&&!(v.expirationTime>F&&O());){var P=v.callback;if(typeof P=="function"){v.callback=null,m=v.priorityLevel;var Y=P(v.expirationTime<=F);if(F=o.unstable_now(),typeof Y=="function"){v.callback=Y,D(F),M=!0;break t}v===l(g)&&a(g),D(F)}else a(g);v=l(g)}if(v!==null)M=!0;else{var R=l(h);R!==null&&I(w,R.startTime-F),M=!1}}break e}finally{v=null,m=W,b=!1}M=void 0}}finally{M?K():T=!1}}}var K;if(typeof C=="function")K=function(){C(G)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,le=J.port2;J.port1.onmessage=G,K=function(){le.postMessage(null)}}else K=function(){N(G,0)};function I(F,M){_=N(function(){F(o.unstable_now())},M)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(F){F.callback=null},o.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<F?Math.floor(1e3/F):5},o.unstable_getCurrentPriorityLevel=function(){return m},o.unstable_next=function(F){switch(m){case 1:case 2:case 3:var M=3;break;default:M=m}var W=m;m=M;try{return F()}finally{m=W}},o.unstable_requestPaint=function(){A=!0},o.unstable_runWithPriority=function(F,M){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var W=m;m=F;try{return M()}finally{m=W}},o.unstable_scheduleCallback=function(F,M,W){var P=o.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?P+W:P):W=P,F){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=W+Y,F={id:y++,callback:M,priorityLevel:F,startTime:W,expirationTime:Y,sortIndex:-1},W>P?(F.sortIndex=W,d(h,F),l(g)===null&&F===l(h)&&(E?(k(_),_=-1):E=!0,I(w,W-P))):(F.sortIndex=Y,d(g,F),j||b||(j=!0,T||(T=!0,K()))),F},o.unstable_shouldYield=O,o.unstable_wrapCallback=function(F){var M=m;return function(){var W=m;m=M;try{return F.apply(this,arguments)}finally{m=W}}}})(Ic)),Ic}var zh;function Dm(){return zh||(zh=1,Nc.exports=Bm()),Nc.exports}var Oc={exports:{}},ct={};var kh;function Cm(){if(kh)return ct;kh=1;var o=pd();function d(g){var h="https://react.dev/errors/"+g;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var a={d:{f:l,r:function(){throw Error(d(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},r=Symbol.for("react.portal");function c(g,h,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:g,containerInfo:h,implementation:y}}var p=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(g,h){if(g==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ct.createPortal=function(g,h){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(d(299));return c(g,h,null,y)},ct.flushSync=function(g){var h=p.T,y=a.p;try{if(p.T=null,a.p=2,g)return g()}finally{p.T=h,a.p=y,a.d.f()}},ct.preconnect=function(g,h){typeof g=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(g,h))},ct.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},ct.preinit=function(g,h){if(typeof g=="string"&&h&&typeof h.as=="string"){var y=h.as,v=f(y,h.crossOrigin),m=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;y==="style"?a.d.S(g,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:v,integrity:m,fetchPriority:b}):y==="script"&&a.d.X(g,{crossOrigin:v,integrity:m,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},ct.preinitModule=function(g,h){if(typeof g=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var y=f(h.as,h.crossOrigin);a.d.M(g,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(g)},ct.preload=function(g,h){if(typeof g=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var y=h.as,v=f(y,h.crossOrigin);a.d.L(g,y,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},ct.preloadModule=function(g,h){if(typeof g=="string")if(h){var y=f(h.as,h.crossOrigin);a.d.m(g,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(g)},ct.requestFormReset=function(g){a.d.r(g)},ct.unstable_batchedUpdates=function(g,h){return g(h)},ct.useFormState=function(g,h,y){return p.H.useFormState(g,h,y)},ct.useFormStatus=function(){return p.H.useHostTransitionStatus()},ct.version="19.2.0",ct}var Rh;function Am(){if(Rh)return Oc.exports;Rh=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(d){console.error(d)}}return o(),Oc.exports=Cm(),Oc.exports}var _h;function Tm(){if(_h)return js;_h=1;var o=Dm(),d=pd(),l=Am();function a(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)i+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var i=e,n=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(n=i.return),e=i.return;while(e)}return i.tag===3?n:null}function p(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function f(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(a(188))}function h(e){var i=e.alternate;if(!i){if(i=c(e),i===null)throw Error(a(188));return i!==e?null:e}for(var n=e,s=i;;){var u=n.return;if(u===null)break;var x=u.alternate;if(x===null){if(s=u.return,s!==null){n=s;continue}break}if(u.child===x.child){for(x=u.child;x;){if(x===n)return g(u),e;if(x===s)return g(u),i;x=x.sibling}throw Error(a(188))}if(n.return!==s.return)n=u,s=x;else{for(var S=!1,z=u.child;z;){if(z===n){S=!0,n=u,s=x;break}if(z===s){S=!0,s=u,n=x;break}z=z.sibling}if(!S){for(z=x.child;z;){if(z===n){S=!0,n=x,s=u;break}if(z===s){S=!0,s=x,n=u;break}z=z.sibling}if(!S)throw Error(a(189))}}if(n.alternate!==s)throw Error(a(190))}if(n.tag!==3)throw Error(a(188));return n.stateNode.current===n?e:i}function y(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=y(e),i!==null)return i;e=e.sibling}return null}var v=Object.assign,m=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),C=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function K(e){return e===null||typeof e!="object"?null:(e=G&&e[G]||e["@@iterator"],typeof e=="function"?e:null)}var J=Symbol.for("react.client.reference");function le(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===J?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case E:return"Fragment";case N:return"Profiler";case A:return"StrictMode";case w:return"Suspense";case T:return"SuspenseList";case B:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case C:return e.displayName||"Context";case k:return(e._context.displayName||"Context")+".Consumer";case D:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _:return i=e.displayName||null,i!==null?i:le(e.type)||"Memo";case L:i=e._payload,e=e._init;try{return le(e(i))}catch{}}return null}var I=Array.isArray,F=d.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},P=[],Y=-1;function R(e){return{current:e}}function $(e){0>Y||(e.current=P[Y],P[Y]=null,Y--)}function ie(e,i){Y++,P[Y]=e.current,e.current=i}var ne=R(null),oe=R(null),ue=R(null),de=R(null);function me(e,i){switch(ie(ue,i),ie(oe,e),ie(ne,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Vf(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Vf(i),e=Qf(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(ne),ie(ne,e)}function je(){$(ne),$(oe),$(ue)}function Vt(e){e.memoizedState!==null&&ie(de,e);var i=ne.current,n=Qf(i,e.type);i!==n&&(ie(oe,e),ie(ne,n))}function Qt(e){oe.current===e&&($(ne),$(oe)),de.current===e&&($(de),ms._currentValue=W)}var ti,ks;function ii(e){if(ti===void 0)try{throw Error()}catch(n){var i=n.stack.trim().match(/\n( *(at )?)/);ti=i&&i[1]||"",ks=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ti+e+ks}var Da=!1;function Ca(e,i){if(!e||Da)return"";Da=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(i){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(te){var ee=te}Reflect.construct(e,[],re)}else{try{re.call()}catch(te){ee=te}e.call(re.prototype)}}else{try{throw Error()}catch(te){ee=te}(re=e())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(te){if(te&&ee&&typeof te.stack=="string")return[te.stack,ee.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=s.DetermineComponentFrameRoot(),S=x[0],z=x[1];if(S&&z){var H=S.split(`
`),Z=z.split(`
`);for(u=s=0;s<H.length&&!H[s].includes("DetermineComponentFrameRoot");)s++;for(;u<Z.length&&!Z[u].includes("DetermineComponentFrameRoot");)u++;if(s===H.length||u===Z.length)for(s=H.length-1,u=Z.length-1;1<=s&&0<=u&&H[s]!==Z[u];)u--;for(;1<=s&&0<=u;s--,u--)if(H[s]!==Z[u]){if(s!==1||u!==1)do if(s--,u--,0>u||H[s]!==Z[u]){var ae=`
`+H[s].replace(" at new "," at ");return e.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",e.displayName)),ae}while(1<=s&&0<=u);break}}}finally{Da=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ii(n):""}function mo(e,i){switch(e.tag){case 26:case 27:case 5:return ii(e.type);case 16:return ii("Lazy");case 13:return e.child!==i&&i!==null?ii("Suspense Fallback"):ii("Suspense");case 19:return ii("SuspenseList");case 0:case 15:return Ca(e.type,!1);case 11:return Ca(e.type.render,!1);case 1:return Ca(e.type,!0);case 31:return ii("Activity");default:return""}}function Rs(e){try{var i="",n=null;do i+=mo(e,n),n=e,e=e.return;while(e);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Aa=Object.prototype.hasOwnProperty,An=o.unstable_scheduleCallback,Ta=o.unstable_cancelCallback,yo=o.unstable_shouldYield,vo=o.unstable_requestPaint,dt=o.unstable_now,bo=o.unstable_getCurrentPriorityLevel,Tn=o.unstable_ImmediatePriority,Q=o.unstable_UserBlockingPriority,ce=o.unstable_NormalPriority,ye=o.unstable_LowPriority,Ze=o.unstable_IdlePriority,Je=o.log,Xt=o.unstable_setDisableYieldValue,Bt=null,ke=null;function lt(e){if(typeof Je=="function"&&Xt(e),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(Bt,e)}catch{}}var Ae=Math.clz32?Math.clz32:zn,Pt=Math.log,ni=Math.LN2;function zn(e){return e>>>=0,e===0?32:31-(Pt(e)/ni|0)|0}var Ai=256,_s=262144,Fs=4194304;function en(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ms(e,i,n){var s=e.pendingLanes;if(s===0)return 0;var u=0,x=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var z=s&134217727;return z!==0?(s=z&~x,s!==0?u=en(s):(S&=z,S!==0?u=en(S):n||(n=z&~e,n!==0&&(u=en(n))))):(z=s&~x,z!==0?u=en(z):S!==0?u=en(S):n||(n=s&~e,n!==0&&(u=en(n)))),u===0?0:i!==0&&i!==u&&(i&x)===0&&(x=u&-u,n=i&-i,x>=n||x===32&&(n&4194048)!==0)?i:u}function za(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function l0(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ad(){var e=Fs;return Fs<<=1,(Fs&62914560)===0&&(Fs=4194304),e}function So(e){for(var i=[],n=0;31>n;n++)i.push(e);return i}function ka(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function c0(e,i,n,s,u,x){var S=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var z=e.entanglements,H=e.expirationTimes,Z=e.hiddenUpdates;for(n=S&~n;0<n;){var ae=31-Ae(n),re=1<<ae;z[ae]=0,H[ae]=-1;var ee=Z[ae];if(ee!==null)for(Z[ae]=null,ae=0;ae<ee.length;ae++){var te=ee[ae];te!==null&&(te.lane&=-536870913)}n&=~re}s!==0&&Td(e,s,0),x!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=x&~(S&~i))}function Td(e,i,n){e.pendingLanes|=i,e.suspendedLanes&=~i;var s=31-Ae(i);e.entangledLanes|=i,e.entanglements[s]=e.entanglements[s]|1073741824|n&261930}function zd(e,i){var n=e.entangledLanes|=i;for(e=e.entanglements;n;){var s=31-Ae(n),u=1<<s;u&i|e[s]&i&&(e[s]|=i),n&=~u}}function kd(e,i){var n=i&-i;return n=(n&42)!==0?1:jo(n),(n&(e.suspendedLanes|i))!==0?0:n}function jo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Eo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Rd(){var e=M.p;return e!==0?e:(e=window.event,e===void 0?32:yh(e.type))}function _d(e,i){var n=M.p;try{return M.p=e,i()}finally{M.p=n}}var Ti=Math.random().toString(36).slice(2),it="__reactFiber$"+Ti,ht="__reactProps$"+Ti,kn="__reactContainer$"+Ti,wo="__reactEvents$"+Ti,d0="__reactListeners$"+Ti,u0="__reactHandles$"+Ti,Fd="__reactResources$"+Ti,Ra="__reactMarker$"+Ti;function Bo(e){delete e[it],delete e[ht],delete e[wo],delete e[d0],delete e[u0]}function Rn(e){var i=e[it];if(i)return i;for(var n=e.parentNode;n;){if(i=n[kn]||n[it]){if(n=i.alternate,i.child!==null||n!==null&&n.child!==null)for(e=ih(e);e!==null;){if(n=e[it])return n;e=ih(e)}return i}e=n,n=e.parentNode}return null}function _n(e){if(e=e[it]||e[kn]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function _a(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(a(33))}function Fn(e){var i=e[Fd];return i||(i=e[Fd]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function et(e){e[Ra]=!0}var Md=new Set,Nd={};function tn(e,i){Mn(e,i),Mn(e+"Capture",i)}function Mn(e,i){for(Nd[e]=i,e=0;e<i.length;e++)Md.add(i[e])}var p0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Id={},Od={};function f0(e){return Aa.call(Od,e)?!0:Aa.call(Id,e)?!1:p0.test(e)?Od[e]=!0:(Id[e]=!0,!1)}function Ns(e,i,n){if(f0(i))if(n===null)e.removeAttribute(i);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var s=i.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+n)}}function Is(e,i,n){if(n===null)e.removeAttribute(i);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+n)}}function ai(e,i,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(i,n,""+s)}}function _t(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ld(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function h0(e,i,n){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var u=s.get,x=s.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return u.call(this)},set:function(S){n=""+S,x.call(this,S)}}),Object.defineProperty(e,i,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(S){n=""+S},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Do(e){if(!e._valueTracker){var i=Ld(e)?"checked":"value";e._valueTracker=h0(e,i,""+e[i])}}function Ud(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var n=i.getValue(),s="";return e&&(s=Ld(e)?e.checked?"true":"false":e.value),e=s,e!==n?(i.setValue(e),!0):!1}function Os(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var x0=/[\n"\\]/g;function Ft(e){return e.replace(x0,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Co(e,i,n,s,u,x,S,z){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),i!=null?S==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+_t(i)):e.value!==""+_t(i)&&(e.value=""+_t(i)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),i!=null?Ao(e,S,_t(i)):n!=null?Ao(e,S,_t(n)):s!=null&&e.removeAttribute("value"),u==null&&x!=null&&(e.defaultChecked=!!x),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?e.name=""+_t(z):e.removeAttribute("name")}function Wd(e,i,n,s,u,x,S,z){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.type=x),i!=null||n!=null){if(!(x!=="submit"&&x!=="reset"||i!=null)){Do(e);return}n=n!=null?""+_t(n):"",i=i!=null?""+_t(i):n,z||i===e.value||(e.value=i),e.defaultValue=i}s=s??u,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=z?e.checked:!!s,e.defaultChecked=!!s,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),Do(e)}function Ao(e,i,n){i==="number"&&Os(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Nn(e,i,n,s){if(e=e.options,i){i={};for(var u=0;u<n.length;u++)i["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=i.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&s&&(e[n].defaultSelected=!0)}else{for(n=""+_t(n),i=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,s&&(e[u].defaultSelected=!0);return}i!==null||e[u].disabled||(i=e[u])}i!==null&&(i.selected=!0)}}function Hd(e,i,n){if(i!=null&&(i=""+_t(i),i!==e.value&&(e.value=i),n==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=n!=null?""+_t(n):""}function Pd(e,i,n,s){if(i==null){if(s!=null){if(n!=null)throw Error(a(92));if(I(s)){if(1<s.length)throw Error(a(93));s=s[0]}n=s}n==null&&(n=""),i=n}n=_t(i),e.defaultValue=n,s=e.textContent,s===n&&s!==""&&s!==null&&(e.value=s),Do(e)}function In(e,i){if(i){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=i;return}}e.textContent=i}var g0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $d(e,i,n){var s=i.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":s?e.setProperty(i,n):typeof n!="number"||n===0||g0.has(i)?i==="float"?e.cssFloat=n:e[i]=(""+n).trim():e[i]=n+"px"}function Gd(e,i,n){if(i!=null&&typeof i!="object")throw Error(a(62));if(e=e.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||i!=null&&i.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var u in i)s=i[u],i.hasOwnProperty(u)&&n[u]!==s&&$d(e,u,s)}else for(var x in i)i.hasOwnProperty(x)&&$d(e,x,i[x])}function To(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var m0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),y0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ls(e){return y0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function si(){}var zo=null;function ko(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var On=null,Ln=null;function qd(e){var i=_n(e);if(i&&(e=i.stateNode)){var n=e[ht]||null;e:switch(e=i.stateNode,i.type){case"input":if(Co(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),i=n.name,n.type==="radio"&&i!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Ft(""+i)+'"][type="radio"]'),i=0;i<n.length;i++){var s=n[i];if(s!==e&&s.form===e.form){var u=s[ht]||null;if(!u)throw Error(a(90));Co(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(i=0;i<n.length;i++)s=n[i],s.form===e.form&&Ud(s)}break e;case"textarea":Hd(e,n.value,n.defaultValue);break e;case"select":i=n.value,i!=null&&Nn(e,!!n.multiple,i,!1)}}}var Ro=!1;function Yd(e,i,n){if(Ro)return e(i,n);Ro=!0;try{var s=e(i);return s}finally{if(Ro=!1,(On!==null||Ln!==null)&&(Dr(),On&&(i=On,e=Ln,Ln=On=null,qd(i),e)))for(i=0;i<e.length;i++)qd(e[i])}}function Fa(e,i){var n=e.stateNode;if(n===null)return null;var s=n[ht]||null;if(s===null)return null;n=s[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(a(231,i,typeof n));return n}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_o=!1;if(ri)try{var Ma={};Object.defineProperty(Ma,"passive",{get:function(){_o=!0}}),window.addEventListener("test",Ma,Ma),window.removeEventListener("test",Ma,Ma)}catch{_o=!1}var zi=null,Fo=null,Us=null;function Vd(){if(Us)return Us;var e,i=Fo,n=i.length,s,u="value"in zi?zi.value:zi.textContent,x=u.length;for(e=0;e<n&&i[e]===u[e];e++);var S=n-e;for(s=1;s<=S&&i[n-s]===u[x-s];s++);return Us=u.slice(e,1<s?1-s:void 0)}function Ws(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Hs(){return!0}function Qd(){return!1}function xt(e){function i(n,s,u,x,S){this._reactName=n,this._targetInst=u,this.type=s,this.nativeEvent=x,this.target=S,this.currentTarget=null;for(var z in e)e.hasOwnProperty(z)&&(n=e[z],this[z]=n?n(x):x[z]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Hs:Qd,this.isPropagationStopped=Qd,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Hs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Hs)},persist:function(){},isPersistent:Hs}),i}var nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ps=xt(nn),Na=v({},nn,{view:0,detail:0}),v0=xt(Na),Mo,No,Ia,$s=v({},Na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ia&&(Ia&&e.type==="mousemove"?(Mo=e.screenX-Ia.screenX,No=e.screenY-Ia.screenY):No=Mo=0,Ia=e),Mo)},movementY:function(e){return"movementY"in e?e.movementY:No}}),Xd=xt($s),b0=v({},$s,{dataTransfer:0}),S0=xt(b0),j0=v({},Na,{relatedTarget:0}),Io=xt(j0),E0=v({},nn,{animationName:0,elapsedTime:0,pseudoElement:0}),w0=xt(E0),B0=v({},nn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),D0=xt(B0),C0=v({},nn,{data:0}),Zd=xt(C0),A0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},T0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},z0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function k0(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=z0[e])?!!i[e]:!1}function Oo(){return k0}var R0=v({},Na,{key:function(e){if(e.key){var i=A0[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Ws(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?T0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oo,charCode:function(e){return e.type==="keypress"?Ws(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ws(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_0=xt(R0),F0=v({},$s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kd=xt(F0),M0=v({},Na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oo}),N0=xt(M0),I0=v({},nn,{propertyName:0,elapsedTime:0,pseudoElement:0}),O0=xt(I0),L0=v({},$s,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),U0=xt(L0),W0=v({},nn,{newState:0,oldState:0}),H0=xt(W0),P0=[9,13,27,32],Lo=ri&&"CompositionEvent"in window,Oa=null;ri&&"documentMode"in document&&(Oa=document.documentMode);var $0=ri&&"TextEvent"in window&&!Oa,Jd=ri&&(!Lo||Oa&&8<Oa&&11>=Oa),eu=" ",tu=!1;function iu(e,i){switch(e){case"keyup":return P0.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Un=!1;function G0(e,i){switch(e){case"compositionend":return nu(i);case"keypress":return i.which!==32?null:(tu=!0,eu);case"textInput":return e=i.data,e===eu&&tu?null:e;default:return null}}function q0(e,i){if(Un)return e==="compositionend"||!Lo&&iu(e,i)?(e=Vd(),Us=Fo=zi=null,Un=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Jd&&i.locale!=="ko"?null:i.data;default:return null}}var Y0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function au(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Y0[e.type]:i==="textarea"}function su(e,i,n,s){On?Ln?Ln.push(s):Ln=[s]:On=s,i=_r(i,"onChange"),0<i.length&&(n=new Ps("onChange","change",null,n,s),e.push({event:n,listeners:i}))}var La=null,Ua=null;function V0(e){Hf(e,0)}function Gs(e){var i=_a(e);if(Ud(i))return e}function ru(e,i){if(e==="change")return i}var ou=!1;if(ri){var Uo;if(ri){var Wo="oninput"in document;if(!Wo){var lu=document.createElement("div");lu.setAttribute("oninput","return;"),Wo=typeof lu.oninput=="function"}Uo=Wo}else Uo=!1;ou=Uo&&(!document.documentMode||9<document.documentMode)}function cu(){La&&(La.detachEvent("onpropertychange",du),Ua=La=null)}function du(e){if(e.propertyName==="value"&&Gs(Ua)){var i=[];su(i,Ua,e,ko(e)),Yd(V0,i)}}function Q0(e,i,n){e==="focusin"?(cu(),La=i,Ua=n,La.attachEvent("onpropertychange",du)):e==="focusout"&&cu()}function X0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gs(Ua)}function Z0(e,i){if(e==="click")return Gs(i)}function K0(e,i){if(e==="input"||e==="change")return Gs(i)}function J0(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Dt=typeof Object.is=="function"?Object.is:J0;function Wa(e,i){if(Dt(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var n=Object.keys(e),s=Object.keys(i);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var u=n[s];if(!Aa.call(i,u)||!Dt(e[u],i[u]))return!1}return!0}function uu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pu(e,i){var n=uu(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=i&&s>=i)return{node:n,offset:i-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=uu(n)}}function fu(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?fu(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function hu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Os(e.document);i instanceof e.HTMLIFrameElement;){try{var n=typeof i.contentWindow.location.href=="string"}catch{n=!1}if(n)e=i.contentWindow;else break;i=Os(e.document)}return i}function Ho(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var eg=ri&&"documentMode"in document&&11>=document.documentMode,Wn=null,Po=null,Ha=null,$o=!1;function xu(e,i,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$o||Wn==null||Wn!==Os(s)||(s=Wn,"selectionStart"in s&&Ho(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ha&&Wa(Ha,s)||(Ha=s,s=_r(Po,"onSelect"),0<s.length&&(i=new Ps("onSelect","select",null,i,n),e.push({event:i,listeners:s}),i.target=Wn)))}function an(e,i){var n={};return n[e.toLowerCase()]=i.toLowerCase(),n["Webkit"+e]="webkit"+i,n["Moz"+e]="moz"+i,n}var Hn={animationend:an("Animation","AnimationEnd"),animationiteration:an("Animation","AnimationIteration"),animationstart:an("Animation","AnimationStart"),transitionrun:an("Transition","TransitionRun"),transitionstart:an("Transition","TransitionStart"),transitioncancel:an("Transition","TransitionCancel"),transitionend:an("Transition","TransitionEnd")},Go={},gu={};ri&&(gu=document.createElement("div").style,"AnimationEvent"in window||(delete Hn.animationend.animation,delete Hn.animationiteration.animation,delete Hn.animationstart.animation),"TransitionEvent"in window||delete Hn.transitionend.transition);function sn(e){if(Go[e])return Go[e];if(!Hn[e])return e;var i=Hn[e],n;for(n in i)if(i.hasOwnProperty(n)&&n in gu)return Go[e]=i[n];return e}var mu=sn("animationend"),yu=sn("animationiteration"),vu=sn("animationstart"),tg=sn("transitionrun"),ig=sn("transitionstart"),ng=sn("transitioncancel"),bu=sn("transitionend"),Su=new Map,qo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qo.push("scrollEnd");function $t(e,i){Su.set(e,i),tn(i,[e])}var qs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Mt=[],Pn=0,Yo=0;function Ys(){for(var e=Pn,i=Yo=Pn=0;i<e;){var n=Mt[i];Mt[i++]=null;var s=Mt[i];Mt[i++]=null;var u=Mt[i];Mt[i++]=null;var x=Mt[i];if(Mt[i++]=null,s!==null&&u!==null){var S=s.pending;S===null?u.next=u:(u.next=S.next,S.next=u),s.pending=u}x!==0&&ju(n,u,x)}}function Vs(e,i,n,s){Mt[Pn++]=e,Mt[Pn++]=i,Mt[Pn++]=n,Mt[Pn++]=s,Yo|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Vo(e,i,n,s){return Vs(e,i,n,s),Qs(e)}function rn(e,i){return Vs(e,null,null,i),Qs(e)}function ju(e,i,n){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n);for(var u=!1,x=e.return;x!==null;)x.childLanes|=n,s=x.alternate,s!==null&&(s.childLanes|=n),x.tag===22&&(e=x.stateNode,e===null||e._visibility&1||(u=!0)),e=x,x=x.return;return e.tag===3?(x=e.stateNode,u&&i!==null&&(u=31-Ae(n),e=x.hiddenUpdates,s=e[u],s===null?e[u]=[i]:s.push(i),i.lane=n|536870912),x):null}function Qs(e){if(50<ds)throw ds=0,nc=null,Error(a(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var $n={};function ag(e,i,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,i,n,s){return new ag(e,i,n,s)}function Qo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function oi(e,i){var n=e.alternate;return n===null?(n=Ct(e.tag,i,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=i,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,i=e.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Eu(e,i){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,i=n.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Xs(e,i,n,s,u,x){var S=0;if(s=e,typeof e=="function")Qo(e)&&(S=1);else if(typeof e=="string")S=cm(e,n,ne.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case B:return e=Ct(31,n,i,u),e.elementType=B,e.lanes=x,e;case E:return on(n.children,u,x,i);case A:S=8,u|=24;break;case N:return e=Ct(12,n,i,u|2),e.elementType=N,e.lanes=x,e;case w:return e=Ct(13,n,i,u),e.elementType=w,e.lanes=x,e;case T:return e=Ct(19,n,i,u),e.elementType=T,e.lanes=x,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case C:S=10;break e;case k:S=9;break e;case D:S=11;break e;case _:S=14;break e;case L:S=16,s=null;break e}S=29,n=Error(a(130,e===null?"null":typeof e,"")),s=null}return i=Ct(S,n,i,u),i.elementType=e,i.type=s,i.lanes=x,i}function on(e,i,n,s){return e=Ct(7,e,s,i),e.lanes=n,e}function Xo(e,i,n){return e=Ct(6,e,null,i),e.lanes=n,e}function wu(e){var i=Ct(18,null,null,0);return i.stateNode=e,i}function Zo(e,i,n){return i=Ct(4,e.children!==null?e.children:[],e.key,i),i.lanes=n,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Bu=new WeakMap;function Nt(e,i){if(typeof e=="object"&&e!==null){var n=Bu.get(e);return n!==void 0?n:(i={value:e,source:i,stack:Rs(i)},Bu.set(e,i),i)}return{value:e,source:i,stack:Rs(i)}}var Gn=[],qn=0,Zs=null,Pa=0,It=[],Ot=0,ki=null,Zt=1,Kt="";function li(e,i){Gn[qn++]=Pa,Gn[qn++]=Zs,Zs=e,Pa=i}function Du(e,i,n){It[Ot++]=Zt,It[Ot++]=Kt,It[Ot++]=ki,ki=e;var s=Zt;e=Kt;var u=32-Ae(s)-1;s&=~(1<<u),n+=1;var x=32-Ae(i)+u;if(30<x){var S=u-u%5;x=(s&(1<<S)-1).toString(32),s>>=S,u-=S,Zt=1<<32-Ae(i)+u|n<<u|s,Kt=x+e}else Zt=1<<x|n<<u|s,Kt=e}function Ko(e){e.return!==null&&(li(e,1),Du(e,1,0))}function Jo(e){for(;e===Zs;)Zs=Gn[--qn],Gn[qn]=null,Pa=Gn[--qn],Gn[qn]=null;for(;e===ki;)ki=It[--Ot],It[Ot]=null,Kt=It[--Ot],It[Ot]=null,Zt=It[--Ot],It[Ot]=null}function Cu(e,i){It[Ot++]=Zt,It[Ot++]=Kt,It[Ot++]=ki,Zt=i.id,Kt=i.overflow,ki=e}var nt=null,Ue=null,Ce=!1,Ri=null,Lt=!1,el=Error(a(519));function _i(e){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $a(Nt(i,e)),el}function Au(e){var i=e.stateNode,n=e.type,s=e.memoizedProps;switch(i[it]=e,i[ht]=s,n){case"dialog":we("cancel",i),we("close",i);break;case"iframe":case"object":case"embed":we("load",i);break;case"video":case"audio":for(n=0;n<ps.length;n++)we(ps[n],i);break;case"source":we("error",i);break;case"img":case"image":case"link":we("error",i),we("load",i);break;case"details":we("toggle",i);break;case"input":we("invalid",i),Wd(i,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":we("invalid",i);break;case"textarea":we("invalid",i),Pd(i,s.value,s.defaultValue,s.children)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||i.textContent===""+n||s.suppressHydrationWarning===!0||qf(i.textContent,n)?(s.popover!=null&&(we("beforetoggle",i),we("toggle",i)),s.onScroll!=null&&we("scroll",i),s.onScrollEnd!=null&&we("scrollend",i),s.onClick!=null&&(i.onclick=si),i=!0):i=!1,i||_i(e,!0)}function Tu(e){for(nt=e.return;nt;)switch(nt.tag){case 5:case 31:case 13:Lt=!1;return;case 27:case 3:Lt=!0;return;default:nt=nt.return}}function Yn(e){if(e!==nt)return!1;if(!Ce)return Tu(e),Ce=!0,!1;var i=e.tag,n;if((n=i!==3&&i!==27)&&((n=i===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||yc(e.type,e.memoizedProps)),n=!n),n&&Ue&&_i(e),Tu(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ue=th(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ue=th(e)}else i===27?(i=Ue,Yi(e.type)?(e=Ec,Ec=null,Ue=e):Ue=i):Ue=nt?Wt(e.stateNode.nextSibling):null;return!0}function ln(){Ue=nt=null,Ce=!1}function tl(){var e=Ri;return e!==null&&(vt===null?vt=e:vt.push.apply(vt,e),Ri=null),e}function $a(e){Ri===null?Ri=[e]:Ri.push(e)}var il=R(null),cn=null,ci=null;function Fi(e,i,n){ie(il,i._currentValue),i._currentValue=n}function di(e){e._currentValue=il.current,$(il)}function nl(e,i,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,s!==null&&(s.childLanes|=i)):s!==null&&(s.childLanes&i)!==i&&(s.childLanes|=i),e===n)break;e=e.return}}function al(e,i,n,s){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var x=u.dependencies;if(x!==null){var S=u.child;x=x.firstContext;e:for(;x!==null;){var z=x;x=u;for(var H=0;H<i.length;H++)if(z.context===i[H]){x.lanes|=n,z=x.alternate,z!==null&&(z.lanes|=n),nl(x.return,n,e),s||(S=null);break e}x=z.next}}else if(u.tag===18){if(S=u.return,S===null)throw Error(a(341));S.lanes|=n,x=S.alternate,x!==null&&(x.lanes|=n),nl(S,n,e),S=null}else S=u.child;if(S!==null)S.return=u;else for(S=u;S!==null;){if(S===e){S=null;break}if(u=S.sibling,u!==null){u.return=S.return,S=u;break}S=S.return}u=S}}function Vn(e,i,n,s){e=null;for(var u=i,x=!1;u!==null;){if(!x){if((u.flags&524288)!==0)x=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var S=u.alternate;if(S===null)throw Error(a(387));if(S=S.memoizedProps,S!==null){var z=u.type;Dt(u.pendingProps.value,S.value)||(e!==null?e.push(z):e=[z])}}else if(u===de.current){if(S=u.alternate,S===null)throw Error(a(387));S.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(ms):e=[ms])}u=u.return}e!==null&&al(i,e,n,s),i.flags|=262144}function Ks(e){for(e=e.firstContext;e!==null;){if(!Dt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function dn(e){cn=e,ci=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function at(e){return zu(cn,e)}function Js(e,i){return cn===null&&dn(e),zu(e,i)}function zu(e,i){var n=i._currentValue;if(i={context:i,memoizedValue:n,next:null},ci===null){if(e===null)throw Error(a(308));ci=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else ci=ci.next=i;return n}var sg=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(n,s){e.push(s)}};this.abort=function(){i.aborted=!0,e.forEach(function(n){return n()})}},rg=o.unstable_scheduleCallback,og=o.unstable_NormalPriority,Ye={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sl(){return{controller:new sg,data:new Map,refCount:0}}function Ga(e){e.refCount--,e.refCount===0&&rg(og,function(){e.controller.abort()})}var qa=null,rl=0,Qn=0,Xn=null;function lg(e,i){if(qa===null){var n=qa=[];rl=0,Qn=cc(),Xn={status:"pending",value:void 0,then:function(s){n.push(s)}}}return rl++,i.then(ku,ku),i}function ku(){if(--rl===0&&qa!==null){Xn!==null&&(Xn.status="fulfilled");var e=qa;qa=null,Qn=0,Xn=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function cg(e,i){var n=[],s={status:"pending",value:null,reason:null,then:function(u){n.push(u)}};return e.then(function(){s.status="fulfilled",s.value=i;for(var u=0;u<n.length;u++)(0,n[u])(i)},function(u){for(s.status="rejected",s.reason=u,u=0;u<n.length;u++)(0,n[u])(void 0)}),s}var Ru=F.S;F.S=function(e,i){gf=dt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&lg(e,i),Ru!==null&&Ru(e,i)};var un=R(null);function ol(){var e=un.current;return e!==null?e:Le.pooledCache}function er(e,i){i===null?ie(un,un.current):ie(un,i.pool)}function _u(){var e=ol();return e===null?null:{parent:Ye._currentValue,pool:e}}var Zn=Error(a(460)),ll=Error(a(474)),tr=Error(a(542)),ir={then:function(){}};function Fu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Mu(e,i,n){switch(n=e[n],n===void 0?e.push(i):n!==i&&(i.then(si,si),i=n),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Iu(e),e;default:if(typeof i.status=="string")i.then(si,si);else{if(e=Le,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=i,e.status="pending",e.then(function(s){if(i.status==="pending"){var u=i;u.status="fulfilled",u.value=s}},function(s){if(i.status==="pending"){var u=i;u.status="rejected",u.reason=s}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Iu(e),e}throw fn=i,Zn}}function pn(e){try{var i=e._init;return i(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(fn=n,Zn):n}}var fn=null;function Nu(){if(fn===null)throw Error(a(459));var e=fn;return fn=null,e}function Iu(e){if(e===Zn||e===tr)throw Error(a(483))}var Kn=null,Ya=0;function nr(e){var i=Ya;return Ya+=1,Kn===null&&(Kn=[]),Mu(Kn,e,i)}function Va(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function ar(e,i){throw i.$$typeof===m?Error(a(525)):(e=Object.prototype.toString.call(i),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Ou(e){function i(V,q){if(e){var X=V.deletions;X===null?(V.deletions=[q],V.flags|=16):X.push(q)}}function n(V,q){if(!e)return null;for(;q!==null;)i(V,q),q=q.sibling;return null}function s(V){for(var q=new Map;V!==null;)V.key!==null?q.set(V.key,V):q.set(V.index,V),V=V.sibling;return q}function u(V,q){return V=oi(V,q),V.index=0,V.sibling=null,V}function x(V,q,X){return V.index=X,e?(X=V.alternate,X!==null?(X=X.index,X<q?(V.flags|=67108866,q):X):(V.flags|=67108866,q)):(V.flags|=1048576,q)}function S(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function z(V,q,X,se){return q===null||q.tag!==6?(q=Xo(X,V.mode,se),q.return=V,q):(q=u(q,X),q.return=V,q)}function H(V,q,X,se){var he=X.type;return he===E?ae(V,q,X.props.children,se,X.key):q!==null&&(q.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===L&&pn(he)===q.type)?(q=u(q,X.props),Va(q,X),q.return=V,q):(q=Xs(X.type,X.key,X.props,null,V.mode,se),Va(q,X),q.return=V,q)}function Z(V,q,X,se){return q===null||q.tag!==4||q.stateNode.containerInfo!==X.containerInfo||q.stateNode.implementation!==X.implementation?(q=Zo(X,V.mode,se),q.return=V,q):(q=u(q,X.children||[]),q.return=V,q)}function ae(V,q,X,se,he){return q===null||q.tag!==7?(q=on(X,V.mode,se,he),q.return=V,q):(q=u(q,X),q.return=V,q)}function re(V,q,X){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Xo(""+q,V.mode,X),q.return=V,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case b:return X=Xs(q.type,q.key,q.props,null,V.mode,X),Va(X,q),X.return=V,X;case j:return q=Zo(q,V.mode,X),q.return=V,q;case L:return q=pn(q),re(V,q,X)}if(I(q)||K(q))return q=on(q,V.mode,X,null),q.return=V,q;if(typeof q.then=="function")return re(V,nr(q),X);if(q.$$typeof===C)return re(V,Js(V,q),X);ar(V,q)}return null}function ee(V,q,X,se){var he=q!==null?q.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return he!==null?null:z(V,q,""+X,se);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case b:return X.key===he?H(V,q,X,se):null;case j:return X.key===he?Z(V,q,X,se):null;case L:return X=pn(X),ee(V,q,X,se)}if(I(X)||K(X))return he!==null?null:ae(V,q,X,se,null);if(typeof X.then=="function")return ee(V,q,nr(X),se);if(X.$$typeof===C)return ee(V,q,Js(V,X),se);ar(V,X)}return null}function te(V,q,X,se,he){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return V=V.get(X)||null,z(q,V,""+se,he);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case b:return V=V.get(se.key===null?X:se.key)||null,H(q,V,se,he);case j:return V=V.get(se.key===null?X:se.key)||null,Z(q,V,se,he);case L:return se=pn(se),te(V,q,X,se,he)}if(I(se)||K(se))return V=V.get(X)||null,ae(q,V,se,he,null);if(typeof se.then=="function")return te(V,q,X,nr(se),he);if(se.$$typeof===C)return te(V,q,X,Js(q,se),he);ar(q,se)}return null}function pe(V,q,X,se){for(var he=null,Te=null,fe=q,be=q=0,De=null;fe!==null&&be<X.length;be++){fe.index>be?(De=fe,fe=null):De=fe.sibling;var ze=ee(V,fe,X[be],se);if(ze===null){fe===null&&(fe=De);break}e&&fe&&ze.alternate===null&&i(V,fe),q=x(ze,q,be),Te===null?he=ze:Te.sibling=ze,Te=ze,fe=De}if(be===X.length)return n(V,fe),Ce&&li(V,be),he;if(fe===null){for(;be<X.length;be++)fe=re(V,X[be],se),fe!==null&&(q=x(fe,q,be),Te===null?he=fe:Te.sibling=fe,Te=fe);return Ce&&li(V,be),he}for(fe=s(fe);be<X.length;be++)De=te(fe,V,be,X[be],se),De!==null&&(e&&De.alternate!==null&&fe.delete(De.key===null?be:De.key),q=x(De,q,be),Te===null?he=De:Te.sibling=De,Te=De);return e&&fe.forEach(function(Ki){return i(V,Ki)}),Ce&&li(V,be),he}function xe(V,q,X,se){if(X==null)throw Error(a(151));for(var he=null,Te=null,fe=q,be=q=0,De=null,ze=X.next();fe!==null&&!ze.done;be++,ze=X.next()){fe.index>be?(De=fe,fe=null):De=fe.sibling;var Ki=ee(V,fe,ze.value,se);if(Ki===null){fe===null&&(fe=De);break}e&&fe&&Ki.alternate===null&&i(V,fe),q=x(Ki,q,be),Te===null?he=Ki:Te.sibling=Ki,Te=Ki,fe=De}if(ze.done)return n(V,fe),Ce&&li(V,be),he;if(fe===null){for(;!ze.done;be++,ze=X.next())ze=re(V,ze.value,se),ze!==null&&(q=x(ze,q,be),Te===null?he=ze:Te.sibling=ze,Te=ze);return Ce&&li(V,be),he}for(fe=s(fe);!ze.done;be++,ze=X.next())ze=te(fe,V,be,ze.value,se),ze!==null&&(e&&ze.alternate!==null&&fe.delete(ze.key===null?be:ze.key),q=x(ze,q,be),Te===null?he=ze:Te.sibling=ze,Te=ze);return e&&fe.forEach(function(bm){return i(V,bm)}),Ce&&li(V,be),he}function Oe(V,q,X,se){if(typeof X=="object"&&X!==null&&X.type===E&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case b:e:{for(var he=X.key;q!==null;){if(q.key===he){if(he=X.type,he===E){if(q.tag===7){n(V,q.sibling),se=u(q,X.props.children),se.return=V,V=se;break e}}else if(q.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===L&&pn(he)===q.type){n(V,q.sibling),se=u(q,X.props),Va(se,X),se.return=V,V=se;break e}n(V,q);break}else i(V,q);q=q.sibling}X.type===E?(se=on(X.props.children,V.mode,se,X.key),se.return=V,V=se):(se=Xs(X.type,X.key,X.props,null,V.mode,se),Va(se,X),se.return=V,V=se)}return S(V);case j:e:{for(he=X.key;q!==null;){if(q.key===he)if(q.tag===4&&q.stateNode.containerInfo===X.containerInfo&&q.stateNode.implementation===X.implementation){n(V,q.sibling),se=u(q,X.children||[]),se.return=V,V=se;break e}else{n(V,q);break}else i(V,q);q=q.sibling}se=Zo(X,V.mode,se),se.return=V,V=se}return S(V);case L:return X=pn(X),Oe(V,q,X,se)}if(I(X))return pe(V,q,X,se);if(K(X)){if(he=K(X),typeof he!="function")throw Error(a(150));return X=he.call(X),xe(V,q,X,se)}if(typeof X.then=="function")return Oe(V,q,nr(X),se);if(X.$$typeof===C)return Oe(V,q,Js(V,X),se);ar(V,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,q!==null&&q.tag===6?(n(V,q.sibling),se=u(q,X),se.return=V,V=se):(n(V,q),se=Xo(X,V.mode,se),se.return=V,V=se),S(V)):n(V,q)}return function(V,q,X,se){try{Ya=0;var he=Oe(V,q,X,se);return Kn=null,he}catch(fe){if(fe===Zn||fe===tr)throw fe;var Te=Ct(29,fe,null,V.mode);return Te.lanes=se,Te.return=V,Te}finally{}}}var hn=Ou(!0),Lu=Ou(!1),Mi=!1;function cl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dl(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ni(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ii(e,i,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Re&2)!==0){var u=s.pending;return u===null?i.next=i:(i.next=u.next,u.next=i),s.pending=i,i=Qs(e),ju(e,null,n),i}return Vs(e,s,i,n),Qs(e)}function Qa(e,i,n){if(i=i.updateQueue,i!==null&&(i=i.shared,(n&4194048)!==0)){var s=i.lanes;s&=e.pendingLanes,n|=s,i.lanes=n,zd(e,n)}}function ul(e,i){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var u=null,x=null;if(n=n.firstBaseUpdate,n!==null){do{var S={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};x===null?u=x=S:x=x.next=S,n=n.next}while(n!==null);x===null?u=x=i:x=x.next=i}else u=x=i;n={baseState:s.baseState,firstBaseUpdate:u,lastBaseUpdate:x,shared:s.shared,callbacks:s.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=i:e.next=i,n.lastBaseUpdate=i}var pl=!1;function Xa(){if(pl){var e=Xn;if(e!==null)throw e}}function Za(e,i,n,s){pl=!1;var u=e.updateQueue;Mi=!1;var x=u.firstBaseUpdate,S=u.lastBaseUpdate,z=u.shared.pending;if(z!==null){u.shared.pending=null;var H=z,Z=H.next;H.next=null,S===null?x=Z:S.next=Z,S=H;var ae=e.alternate;ae!==null&&(ae=ae.updateQueue,z=ae.lastBaseUpdate,z!==S&&(z===null?ae.firstBaseUpdate=Z:z.next=Z,ae.lastBaseUpdate=H))}if(x!==null){var re=u.baseState;S=0,ae=Z=H=null,z=x;do{var ee=z.lane&-536870913,te=ee!==z.lane;if(te?(Be&ee)===ee:(s&ee)===ee){ee!==0&&ee===Qn&&(pl=!0),ae!==null&&(ae=ae.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var pe=e,xe=z;ee=i;var Oe=n;switch(xe.tag){case 1:if(pe=xe.payload,typeof pe=="function"){re=pe.call(Oe,re,ee);break e}re=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=xe.payload,ee=typeof pe=="function"?pe.call(Oe,re,ee):pe,ee==null)break e;re=v({},re,ee);break e;case 2:Mi=!0}}ee=z.callback,ee!==null&&(e.flags|=64,te&&(e.flags|=8192),te=u.callbacks,te===null?u.callbacks=[ee]:te.push(ee))}else te={lane:ee,tag:z.tag,payload:z.payload,callback:z.callback,next:null},ae===null?(Z=ae=te,H=re):ae=ae.next=te,S|=ee;if(z=z.next,z===null){if(z=u.shared.pending,z===null)break;te=z,z=te.next,te.next=null,u.lastBaseUpdate=te,u.shared.pending=null}}while(!0);ae===null&&(H=re),u.baseState=H,u.firstBaseUpdate=Z,u.lastBaseUpdate=ae,x===null&&(u.shared.lanes=0),Hi|=S,e.lanes=S,e.memoizedState=re}}function Uu(e,i){if(typeof e!="function")throw Error(a(191,e));e.call(i)}function Wu(e,i){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Uu(n[e],i)}var Jn=R(null),sr=R(0);function Hu(e,i){e=vi,ie(sr,e),ie(Jn,i),vi=e|i.baseLanes}function fl(){ie(sr,vi),ie(Jn,Jn.current)}function hl(){vi=sr.current,$(Jn),$(sr)}var At=R(null),Ut=null;function Oi(e){var i=e.alternate;ie(Ge,Ge.current&1),ie(At,e),Ut===null&&(i===null||Jn.current!==null||i.memoizedState!==null)&&(Ut=e)}function xl(e){ie(Ge,Ge.current),ie(At,e),Ut===null&&(Ut=e)}function Pu(e){e.tag===22?(ie(Ge,Ge.current),ie(At,e),Ut===null&&(Ut=e)):Li()}function Li(){ie(Ge,Ge.current),ie(At,At.current)}function Tt(e){$(At),Ut===e&&(Ut=null),$(Ge)}var Ge=R(0);function rr(e){for(var i=e;i!==null;){if(i.tag===13){var n=i.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Sc(n)||jc(n)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ui=0,ve=null,Ne=null,Ve=null,or=!1,ea=!1,xn=!1,lr=0,Ka=0,ta=null,dg=0;function Pe(){throw Error(a(321))}function gl(e,i){if(i===null)return!1;for(var n=0;n<i.length&&n<e.length;n++)if(!Dt(e[n],i[n]))return!1;return!0}function ml(e,i,n,s,u,x){return ui=x,ve=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=e===null||e.memoizedState===null?Dp:Rl,xn=!1,x=n(s,u),xn=!1,ea&&(x=Gu(i,n,s,u)),$u(e),x}function $u(e){F.H=ts;var i=Ne!==null&&Ne.next!==null;if(ui=0,Ve=Ne=ve=null,or=!1,Ka=0,ta=null,i)throw Error(a(300));e===null||Qe||(e=e.dependencies,e!==null&&Ks(e)&&(Qe=!0))}function Gu(e,i,n,s){ve=e;var u=0;do{if(ea&&(ta=null),Ka=0,ea=!1,25<=u)throw Error(a(301));if(u+=1,Ve=Ne=null,e.updateQueue!=null){var x=e.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}F.H=Cp,x=i(n,s)}while(ea);return x}function ug(){var e=F.H,i=e.useState()[0];return i=typeof i.then=="function"?Ja(i):i,e=e.useState()[0],(Ne!==null?Ne.memoizedState:null)!==e&&(ve.flags|=1024),i}function yl(){var e=lr!==0;return lr=0,e}function vl(e,i,n){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~n}function bl(e){if(or){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}or=!1}ui=0,Ve=Ne=ve=null,ea=!1,Ka=lr=0,ta=null}function ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?ve.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function qe(){if(Ne===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var i=Ve===null?ve.memoizedState:Ve.next;if(i!==null)Ve=i,Ne=e;else{if(e===null)throw ve.alternate===null?Error(a(467)):Error(a(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Ve===null?ve.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function cr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ja(e){var i=Ka;return Ka+=1,ta===null&&(ta=[]),e=Mu(ta,e,i),i=ve,(Ve===null?i.memoizedState:Ve.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?Dp:Rl),e}function dr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ja(e);if(e.$$typeof===C)return at(e)}throw Error(a(438,String(e)))}function Sl(e){var i=null,n=ve.updateQueue;if(n!==null&&(i=n.memoCache),i==null){var s=ve.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(i={data:s.data.map(function(u){return u.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),n===null&&(n=cr(),ve.updateQueue=n),n.memoCache=i,n=i.data[i.index],n===void 0)for(n=i.data[i.index]=Array(e),s=0;s<e;s++)n[s]=O;return i.index++,n}function pi(e,i){return typeof i=="function"?i(e):i}function ur(e){var i=qe();return jl(i,Ne,e)}function jl(e,i,n){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=n;var u=e.baseQueue,x=s.pending;if(x!==null){if(u!==null){var S=u.next;u.next=x.next,x.next=S}i.baseQueue=u=x,s.pending=null}if(x=e.baseState,u===null)e.memoizedState=x;else{i=u.next;var z=S=null,H=null,Z=i,ae=!1;do{var re=Z.lane&-536870913;if(re!==Z.lane?(Be&re)===re:(ui&re)===re){var ee=Z.revertLane;if(ee===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),re===Qn&&(ae=!0);else if((ui&ee)===ee){Z=Z.next,ee===Qn&&(ae=!0);continue}else re={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},H===null?(z=H=re,S=x):H=H.next=re,ve.lanes|=ee,Hi|=ee;re=Z.action,xn&&n(x,re),x=Z.hasEagerState?Z.eagerState:n(x,re)}else ee={lane:re,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},H===null?(z=H=ee,S=x):H=H.next=ee,ve.lanes|=re,Hi|=re;Z=Z.next}while(Z!==null&&Z!==i);if(H===null?S=x:H.next=z,!Dt(x,e.memoizedState)&&(Qe=!0,ae&&(n=Xn,n!==null)))throw n;e.memoizedState=x,e.baseState=S,e.baseQueue=H,s.lastRenderedState=x}return u===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function El(e){var i=qe(),n=i.queue;if(n===null)throw Error(a(311));n.lastRenderedReducer=e;var s=n.dispatch,u=n.pending,x=i.memoizedState;if(u!==null){n.pending=null;var S=u=u.next;do x=e(x,S.action),S=S.next;while(S!==u);Dt(x,i.memoizedState)||(Qe=!0),i.memoizedState=x,i.baseQueue===null&&(i.baseState=x),n.lastRenderedState=x}return[x,s]}function qu(e,i,n){var s=ve,u=qe(),x=Ce;if(x){if(n===void 0)throw Error(a(407));n=n()}else n=i();var S=!Dt((Ne||u).memoizedState,n);if(S&&(u.memoizedState=n,Qe=!0),u=u.queue,Dl(Qu.bind(null,s,u,e),[e]),u.getSnapshot!==i||S||Ve!==null&&Ve.memoizedState.tag&1){if(s.flags|=2048,ia(9,{destroy:void 0},Vu.bind(null,s,u,n,i),null),Le===null)throw Error(a(349));x||(ui&127)!==0||Yu(s,i,n)}return n}function Yu(e,i,n){e.flags|=16384,e={getSnapshot:i,value:n},i=ve.updateQueue,i===null?(i=cr(),ve.updateQueue=i,i.stores=[e]):(n=i.stores,n===null?i.stores=[e]:n.push(e))}function Vu(e,i,n,s){i.value=n,i.getSnapshot=s,Xu(i)&&Zu(e)}function Qu(e,i,n){return n(function(){Xu(i)&&Zu(e)})}function Xu(e){var i=e.getSnapshot;e=e.value;try{var n=i();return!Dt(e,n)}catch{return!0}}function Zu(e){var i=rn(e,2);i!==null&&bt(i,e,2)}function wl(e){var i=ut();if(typeof e=="function"){var n=e;if(e=n(),xn){lt(!0);try{n()}finally{lt(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:e},i}function Ku(e,i,n,s){return e.baseState=n,jl(e,Ne,typeof s=="function"?s:pi)}function pg(e,i,n,s,u){if(hr(e))throw Error(a(485));if(e=i.action,e!==null){var x={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){x.listeners.push(S)}};F.T!==null?n(!0):x.isTransition=!1,s(x),n=i.pending,n===null?(x.next=i.pending=x,Ju(i,x)):(x.next=n.next,i.pending=n.next=x)}}function Ju(e,i){var n=i.action,s=i.payload,u=e.state;if(i.isTransition){var x=F.T,S={};F.T=S;try{var z=n(u,s),H=F.S;H!==null&&H(S,z),ep(e,i,z)}catch(Z){Bl(e,i,Z)}finally{x!==null&&S.types!==null&&(x.types=S.types),F.T=x}}else try{x=n(u,s),ep(e,i,x)}catch(Z){Bl(e,i,Z)}}function ep(e,i,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){tp(e,i,s)},function(s){return Bl(e,i,s)}):tp(e,i,n)}function tp(e,i,n){i.status="fulfilled",i.value=n,ip(i),e.state=n,i=e.pending,i!==null&&(n=i.next,n===i?e.pending=null:(n=n.next,i.next=n,Ju(e,n)))}function Bl(e,i,n){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do i.status="rejected",i.reason=n,ip(i),i=i.next;while(i!==s)}e.action=null}function ip(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function np(e,i){return i}function ap(e,i){if(Ce){var n=Le.formState;if(n!==null){e:{var s=ve;if(Ce){if(Ue){t:{for(var u=Ue,x=Lt;u.nodeType!==8;){if(!x){u=null;break t}if(u=Wt(u.nextSibling),u===null){u=null;break t}}x=u.data,u=x==="F!"||x==="F"?u:null}if(u){Ue=Wt(u.nextSibling),s=u.data==="F!";break e}}_i(s)}s=!1}s&&(i=n[0])}}return n=ut(),n.memoizedState=n.baseState=i,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:np,lastRenderedState:i},n.queue=s,n=Ep.bind(null,ve,s),s.dispatch=n,s=wl(!1),x=kl.bind(null,ve,!1,s.queue),s=ut(),u={state:i,dispatch:null,action:e,pending:null},s.queue=u,n=pg.bind(null,ve,u,x,n),u.dispatch=n,s.memoizedState=e,[i,n,!1]}function sp(e){var i=qe();return rp(i,Ne,e)}function rp(e,i,n){if(i=jl(e,i,np)[0],e=ur(pi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var s=Ja(i)}catch(S){throw S===Zn?tr:S}else s=i;i=qe();var u=i.queue,x=u.dispatch;return n!==i.memoizedState&&(ve.flags|=2048,ia(9,{destroy:void 0},fg.bind(null,u,n),null)),[s,x,e]}function fg(e,i){e.action=i}function op(e){var i=qe(),n=Ne;if(n!==null)return rp(i,n,e);qe(),i=i.memoizedState,n=qe();var s=n.queue.dispatch;return n.memoizedState=e,[i,s,!1]}function ia(e,i,n,s){return e={tag:e,create:n,deps:s,inst:i,next:null},i=ve.updateQueue,i===null&&(i=cr(),ve.updateQueue=i),n=i.lastEffect,n===null?i.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,i.lastEffect=e),e}function lp(){return qe().memoizedState}function pr(e,i,n,s){var u=ut();ve.flags|=e,u.memoizedState=ia(1|i,{destroy:void 0},n,s===void 0?null:s)}function fr(e,i,n,s){var u=qe();s=s===void 0?null:s;var x=u.memoizedState.inst;Ne!==null&&s!==null&&gl(s,Ne.memoizedState.deps)?u.memoizedState=ia(i,x,n,s):(ve.flags|=e,u.memoizedState=ia(1|i,x,n,s))}function cp(e,i){pr(8390656,8,e,i)}function Dl(e,i){fr(2048,8,e,i)}function hg(e){ve.flags|=4;var i=ve.updateQueue;if(i===null)i=cr(),ve.updateQueue=i,i.events=[e];else{var n=i.events;n===null?i.events=[e]:n.push(e)}}function dp(e){var i=qe().memoizedState;return hg({ref:i,nextImpl:e}),function(){if((Re&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function up(e,i){return fr(4,2,e,i)}function pp(e,i){return fr(4,4,e,i)}function fp(e,i){if(typeof i=="function"){e=e();var n=i(e);return function(){typeof n=="function"?n():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function hp(e,i,n){n=n!=null?n.concat([e]):null,fr(4,4,fp.bind(null,i,e),n)}function Cl(){}function xp(e,i){var n=qe();i=i===void 0?null:i;var s=n.memoizedState;return i!==null&&gl(i,s[1])?s[0]:(n.memoizedState=[e,i],e)}function gp(e,i){var n=qe();i=i===void 0?null:i;var s=n.memoizedState;if(i!==null&&gl(i,s[1]))return s[0];if(s=e(),xn){lt(!0);try{e()}finally{lt(!1)}}return n.memoizedState=[s,i],s}function Al(e,i,n){return n===void 0||(ui&1073741824)!==0&&(Be&261930)===0?e.memoizedState=i:(e.memoizedState=n,e=yf(),ve.lanes|=e,Hi|=e,n)}function mp(e,i,n,s){return Dt(n,i)?n:Jn.current!==null?(e=Al(e,n,s),Dt(e,i)||(Qe=!0),e):(ui&42)===0||(ui&1073741824)!==0&&(Be&261930)===0?(Qe=!0,e.memoizedState=n):(e=yf(),ve.lanes|=e,Hi|=e,i)}function yp(e,i,n,s,u){var x=M.p;M.p=x!==0&&8>x?x:8;var S=F.T,z={};F.T=z,kl(e,!1,i,n);try{var H=u(),Z=F.S;if(Z!==null&&Z(z,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ae=cg(H,s);es(e,i,ae,Rt(e))}else es(e,i,s,Rt(e))}catch(re){es(e,i,{then:function(){},status:"rejected",reason:re},Rt())}finally{M.p=x,S!==null&&z.types!==null&&(S.types=z.types),F.T=S}}function xg(){}function Tl(e,i,n,s){if(e.tag!==5)throw Error(a(476));var u=vp(e).queue;yp(e,u,i,W,n===null?xg:function(){return bp(e),n(s)})}function vp(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:W},next:null};var n={};return i.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:n},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function bp(e){var i=vp(e);i.next===null&&(i=e.alternate.memoizedState),es(e,i.next.queue,{},Rt())}function zl(){return at(ms)}function Sp(){return qe().memoizedState}function jp(){return qe().memoizedState}function gg(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var n=Rt();e=Ni(n);var s=Ii(i,e,n);s!==null&&(bt(s,i,n),Qa(s,i,n)),i={cache:sl()},e.payload=i;return}i=i.return}}function mg(e,i,n){var s=Rt();n={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},hr(e)?wp(i,n):(n=Vo(e,i,n,s),n!==null&&(bt(n,e,s),Bp(n,i,s)))}function Ep(e,i,n){var s=Rt();es(e,i,n,s)}function es(e,i,n,s){var u={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(hr(e))wp(i,u);else{var x=e.alternate;if(e.lanes===0&&(x===null||x.lanes===0)&&(x=i.lastRenderedReducer,x!==null))try{var S=i.lastRenderedState,z=x(S,n);if(u.hasEagerState=!0,u.eagerState=z,Dt(z,S))return Vs(e,i,u,0),Le===null&&Ys(),!1}catch{}finally{}if(n=Vo(e,i,u,s),n!==null)return bt(n,e,s),Bp(n,i,s),!0}return!1}function kl(e,i,n,s){if(s={lane:2,revertLane:cc(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},hr(e)){if(i)throw Error(a(479))}else i=Vo(e,n,s,2),i!==null&&bt(i,e,2)}function hr(e){var i=e.alternate;return e===ve||i!==null&&i===ve}function wp(e,i){ea=or=!0;var n=e.pending;n===null?i.next=i:(i.next=n.next,n.next=i),e.pending=i}function Bp(e,i,n){if((n&4194048)!==0){var s=i.lanes;s&=e.pendingLanes,n|=s,i.lanes=n,zd(e,n)}}var ts={readContext:at,use:dr,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useLayoutEffect:Pe,useInsertionEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useSyncExternalStore:Pe,useId:Pe,useHostTransitionStatus:Pe,useFormState:Pe,useActionState:Pe,useOptimistic:Pe,useMemoCache:Pe,useCacheRefresh:Pe};ts.useEffectEvent=Pe;var Dp={readContext:at,use:dr,useCallback:function(e,i){return ut().memoizedState=[e,i===void 0?null:i],e},useContext:at,useEffect:cp,useImperativeHandle:function(e,i,n){n=n!=null?n.concat([e]):null,pr(4194308,4,fp.bind(null,i,e),n)},useLayoutEffect:function(e,i){return pr(4194308,4,e,i)},useInsertionEffect:function(e,i){pr(4,2,e,i)},useMemo:function(e,i){var n=ut();i=i===void 0?null:i;var s=e();if(xn){lt(!0);try{e()}finally{lt(!1)}}return n.memoizedState=[s,i],s},useReducer:function(e,i,n){var s=ut();if(n!==void 0){var u=n(i);if(xn){lt(!0);try{n(i)}finally{lt(!1)}}}else u=i;return s.memoizedState=s.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},s.queue=e,e=e.dispatch=mg.bind(null,ve,e),[s.memoizedState,e]},useRef:function(e){var i=ut();return e={current:e},i.memoizedState=e},useState:function(e){e=wl(e);var i=e.queue,n=Ep.bind(null,ve,i);return i.dispatch=n,[e.memoizedState,n]},useDebugValue:Cl,useDeferredValue:function(e,i){var n=ut();return Al(n,e,i)},useTransition:function(){var e=wl(!1);return e=yp.bind(null,ve,e.queue,!0,!1),ut().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,n){var s=ve,u=ut();if(Ce){if(n===void 0)throw Error(a(407));n=n()}else{if(n=i(),Le===null)throw Error(a(349));(Be&127)!==0||Yu(s,i,n)}u.memoizedState=n;var x={value:n,getSnapshot:i};return u.queue=x,cp(Qu.bind(null,s,x,e),[e]),s.flags|=2048,ia(9,{destroy:void 0},Vu.bind(null,s,x,n,i),null),n},useId:function(){var e=ut(),i=Le.identifierPrefix;if(Ce){var n=Kt,s=Zt;n=(s&~(1<<32-Ae(s)-1)).toString(32)+n,i="_"+i+"R_"+n,n=lr++,0<n&&(i+="H"+n.toString(32)),i+="_"}else n=dg++,i="_"+i+"r_"+n.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:zl,useFormState:ap,useActionState:ap,useOptimistic:function(e){var i=ut();i.memoizedState=i.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=n,i=kl.bind(null,ve,!0,n),n.dispatch=i,[e,i]},useMemoCache:Sl,useCacheRefresh:function(){return ut().memoizedState=gg.bind(null,ve)},useEffectEvent:function(e){var i=ut(),n={impl:e};return i.memoizedState=n,function(){if((Re&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}},Rl={readContext:at,use:dr,useCallback:xp,useContext:at,useEffect:Dl,useImperativeHandle:hp,useInsertionEffect:up,useLayoutEffect:pp,useMemo:gp,useReducer:ur,useRef:lp,useState:function(){return ur(pi)},useDebugValue:Cl,useDeferredValue:function(e,i){var n=qe();return mp(n,Ne.memoizedState,e,i)},useTransition:function(){var e=ur(pi)[0],i=qe().memoizedState;return[typeof e=="boolean"?e:Ja(e),i]},useSyncExternalStore:qu,useId:Sp,useHostTransitionStatus:zl,useFormState:sp,useActionState:sp,useOptimistic:function(e,i){var n=qe();return Ku(n,Ne,e,i)},useMemoCache:Sl,useCacheRefresh:jp};Rl.useEffectEvent=dp;var Cp={readContext:at,use:dr,useCallback:xp,useContext:at,useEffect:Dl,useImperativeHandle:hp,useInsertionEffect:up,useLayoutEffect:pp,useMemo:gp,useReducer:El,useRef:lp,useState:function(){return El(pi)},useDebugValue:Cl,useDeferredValue:function(e,i){var n=qe();return Ne===null?Al(n,e,i):mp(n,Ne.memoizedState,e,i)},useTransition:function(){var e=El(pi)[0],i=qe().memoizedState;return[typeof e=="boolean"?e:Ja(e),i]},useSyncExternalStore:qu,useId:Sp,useHostTransitionStatus:zl,useFormState:op,useActionState:op,useOptimistic:function(e,i){var n=qe();return Ne!==null?Ku(n,Ne,e,i):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Sl,useCacheRefresh:jp};Cp.useEffectEvent=dp;function _l(e,i,n,s){i=e.memoizedState,n=n(s,i),n=n==null?i:v({},i,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Fl={enqueueSetState:function(e,i,n){e=e._reactInternals;var s=Rt(),u=Ni(s);u.payload=i,n!=null&&(u.callback=n),i=Ii(e,u,s),i!==null&&(bt(i,e,s),Qa(i,e,s))},enqueueReplaceState:function(e,i,n){e=e._reactInternals;var s=Rt(),u=Ni(s);u.tag=1,u.payload=i,n!=null&&(u.callback=n),i=Ii(e,u,s),i!==null&&(bt(i,e,s),Qa(i,e,s))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var n=Rt(),s=Ni(n);s.tag=2,i!=null&&(s.callback=i),i=Ii(e,s,n),i!==null&&(bt(i,e,n),Qa(i,e,n))}};function Ap(e,i,n,s,u,x,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,x,S):i.prototype&&i.prototype.isPureReactComponent?!Wa(n,s)||!Wa(u,x):!0}function Tp(e,i,n,s){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(n,s),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(n,s),i.state!==e&&Fl.enqueueReplaceState(i,i.state,null)}function gn(e,i){var n=i;if("ref"in i){n={};for(var s in i)s!=="ref"&&(n[s]=i[s])}if(e=e.defaultProps){n===i&&(n=v({},n));for(var u in e)n[u]===void 0&&(n[u]=e[u])}return n}function zp(e){qs(e)}function kp(e){console.error(e)}function Rp(e){qs(e)}function xr(e,i){try{var n=e.onUncaughtError;n(i.value,{componentStack:i.stack})}catch(s){setTimeout(function(){throw s})}}function _p(e,i,n){try{var s=e.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Ml(e,i,n){return n=Ni(n),n.tag=3,n.payload={element:null},n.callback=function(){xr(e,i)},n}function Fp(e){return e=Ni(e),e.tag=3,e}function Mp(e,i,n,s){var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var x=s.value;e.payload=function(){return u(x)},e.callback=function(){_p(i,n,s)}}var S=n.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){_p(i,n,s),typeof u!="function"&&(Pi===null?Pi=new Set([this]):Pi.add(this));var z=s.stack;this.componentDidCatch(s.value,{componentStack:z!==null?z:""})})}function yg(e,i,n,s,u){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(i=n.alternate,i!==null&&Vn(i,n,u,!0),n=At.current,n!==null){switch(n.tag){case 31:case 13:return Ut===null?Cr():n.alternate===null&&$e===0&&($e=3),n.flags&=-257,n.flags|=65536,n.lanes=u,s===ir?n.flags|=16384:(i=n.updateQueue,i===null?n.updateQueue=new Set([s]):i.add(s),rc(e,s,u)),!1;case 22:return n.flags|=65536,s===ir?n.flags|=16384:(i=n.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=i):(n=i.retryQueue,n===null?i.retryQueue=new Set([s]):n.add(s)),rc(e,s,u)),!1}throw Error(a(435,n.tag))}return rc(e,s,u),Cr(),!1}if(Ce)return i=At.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=u,s!==el&&(e=Error(a(422),{cause:s}),$a(Nt(e,n)))):(s!==el&&(i=Error(a(423),{cause:s}),$a(Nt(i,n))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,s=Nt(s,n),u=Ml(e.stateNode,s,u),ul(e,u),$e!==4&&($e=2)),!1;var x=Error(a(520),{cause:s});if(x=Nt(x,n),cs===null?cs=[x]:cs.push(x),$e!==4&&($e=2),i===null)return!0;s=Nt(s,n),n=i;do{switch(n.tag){case 3:return n.flags|=65536,e=u&-u,n.lanes|=e,e=Ml(n.stateNode,s,e),ul(n,e),!1;case 1:if(i=n.type,x=n.stateNode,(n.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Pi===null||!Pi.has(x))))return n.flags|=65536,u&=-u,n.lanes|=u,u=Fp(u),Mp(u,e,n,s),ul(n,u),!1}n=n.return}while(n!==null);return!1}var Nl=Error(a(461)),Qe=!1;function st(e,i,n,s){i.child=e===null?Lu(i,null,n,s):hn(i,e.child,n,s)}function Np(e,i,n,s,u){n=n.render;var x=i.ref;if("ref"in s){var S={};for(var z in s)z!=="ref"&&(S[z]=s[z])}else S=s;return dn(i),s=ml(e,i,n,S,x,u),z=yl(),e!==null&&!Qe?(vl(e,i,u),fi(e,i,u)):(Ce&&z&&Ko(i),i.flags|=1,st(e,i,s,u),i.child)}function Ip(e,i,n,s,u){if(e===null){var x=n.type;return typeof x=="function"&&!Qo(x)&&x.defaultProps===void 0&&n.compare===null?(i.tag=15,i.type=x,Op(e,i,x,s,u)):(e=Xs(n.type,null,s,i,i.mode,u),e.ref=i.ref,e.return=i,i.child=e)}if(x=e.child,!$l(e,u)){var S=x.memoizedProps;if(n=n.compare,n=n!==null?n:Wa,n(S,s)&&e.ref===i.ref)return fi(e,i,u)}return i.flags|=1,e=oi(x,s),e.ref=i.ref,e.return=i,i.child=e}function Op(e,i,n,s,u){if(e!==null){var x=e.memoizedProps;if(Wa(x,s)&&e.ref===i.ref)if(Qe=!1,i.pendingProps=s=x,$l(e,u))(e.flags&131072)!==0&&(Qe=!0);else return i.lanes=e.lanes,fi(e,i,u)}return Il(e,i,n,s,u)}function Lp(e,i,n,s){var u=s.children,x=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((i.flags&128)!==0){if(x=x!==null?x.baseLanes|n:n,e!==null){for(s=i.child=e.child,u=0;s!==null;)u=u|s.lanes|s.childLanes,s=s.sibling;s=u&~x}else s=0,i.child=null;return Up(e,i,x,n,s)}if((n&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&er(i,x!==null?x.cachePool:null),x!==null?Hu(i,x):fl(),Pu(i);else return s=i.lanes=536870912,Up(e,i,x!==null?x.baseLanes|n:n,n,s)}else x!==null?(er(i,x.cachePool),Hu(i,x),Li(),i.memoizedState=null):(e!==null&&er(i,null),fl(),Li());return st(e,i,u,n),i.child}function is(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Up(e,i,n,s,u){var x=ol();return x=x===null?null:{parent:Ye._currentValue,pool:x},i.memoizedState={baseLanes:n,cachePool:x},e!==null&&er(i,null),fl(),Pu(i),e!==null&&Vn(e,i,s,!0),i.childLanes=u,null}function gr(e,i){return i=yr({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function Wp(e,i,n){return hn(i,e.child,null,n),e=gr(i,i.pendingProps),e.flags|=2,Tt(i),i.memoizedState=null,e}function vg(e,i,n){var s=i.pendingProps,u=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Ce){if(s.mode==="hidden")return e=gr(i,s),i.lanes=536870912,is(null,e);if(xl(i),(e=Ue)?(e=eh(e,Lt),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:ki!==null?{id:Zt,overflow:Kt}:null,retryLane:536870912,hydrationErrors:null},n=wu(e),n.return=i,i.child=n,nt=i,Ue=null)):e=null,e===null)throw _i(i);return i.lanes=536870912,null}return gr(i,s)}var x=e.memoizedState;if(x!==null){var S=x.dehydrated;if(xl(i),u)if(i.flags&256)i.flags&=-257,i=Wp(e,i,n);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(a(558));else if(Qe||Vn(e,i,n,!1),u=(n&e.childLanes)!==0,Qe||u){if(s=Le,s!==null&&(S=kd(s,n),S!==0&&S!==x.retryLane))throw x.retryLane=S,rn(e,S),bt(s,e,S),Nl;Cr(),i=Wp(e,i,n)}else e=x.treeContext,Ue=Wt(S.nextSibling),nt=i,Ce=!0,Ri=null,Lt=!1,e!==null&&Cu(i,e),i=gr(i,s),i.flags|=4096;return i}return e=oi(e.child,{mode:s.mode,children:s.children}),e.ref=i.ref,i.child=e,e.return=i,e}function mr(e,i){var n=i.ref;if(n===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(a(284));(e===null||e.ref!==n)&&(i.flags|=4194816)}}function Il(e,i,n,s,u){return dn(i),n=ml(e,i,n,s,void 0,u),s=yl(),e!==null&&!Qe?(vl(e,i,u),fi(e,i,u)):(Ce&&s&&Ko(i),i.flags|=1,st(e,i,n,u),i.child)}function Hp(e,i,n,s,u,x){return dn(i),i.updateQueue=null,n=Gu(i,s,n,u),$u(e),s=yl(),e!==null&&!Qe?(vl(e,i,x),fi(e,i,x)):(Ce&&s&&Ko(i),i.flags|=1,st(e,i,n,x),i.child)}function Pp(e,i,n,s,u){if(dn(i),i.stateNode===null){var x=$n,S=n.contextType;typeof S=="object"&&S!==null&&(x=at(S)),x=new n(s,x),i.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Fl,i.stateNode=x,x._reactInternals=i,x=i.stateNode,x.props=s,x.state=i.memoizedState,x.refs={},cl(i),S=n.contextType,x.context=typeof S=="object"&&S!==null?at(S):$n,x.state=i.memoizedState,S=n.getDerivedStateFromProps,typeof S=="function"&&(_l(i,n,S,s),x.state=i.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(S=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),S!==x.state&&Fl.enqueueReplaceState(x,x.state,null),Za(i,s,x,u),Xa(),x.state=i.memoizedState),typeof x.componentDidMount=="function"&&(i.flags|=4194308),s=!0}else if(e===null){x=i.stateNode;var z=i.memoizedProps,H=gn(n,z);x.props=H;var Z=x.context,ae=n.contextType;S=$n,typeof ae=="object"&&ae!==null&&(S=at(ae));var re=n.getDerivedStateFromProps;ae=typeof re=="function"||typeof x.getSnapshotBeforeUpdate=="function",z=i.pendingProps!==z,ae||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(z||Z!==S)&&Tp(i,x,s,S),Mi=!1;var ee=i.memoizedState;x.state=ee,Za(i,s,x,u),Xa(),Z=i.memoizedState,z||ee!==Z||Mi?(typeof re=="function"&&(_l(i,n,re,s),Z=i.memoizedState),(H=Mi||Ap(i,n,H,s,ee,Z,S))?(ae||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(i.flags|=4194308)):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=s,i.memoizedState=Z),x.props=s,x.state=Z,x.context=S,s=H):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),s=!1)}else{x=i.stateNode,dl(e,i),S=i.memoizedProps,ae=gn(n,S),x.props=ae,re=i.pendingProps,ee=x.context,Z=n.contextType,H=$n,typeof Z=="object"&&Z!==null&&(H=at(Z)),z=n.getDerivedStateFromProps,(Z=typeof z=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(S!==re||ee!==H)&&Tp(i,x,s,H),Mi=!1,ee=i.memoizedState,x.state=ee,Za(i,s,x,u),Xa();var te=i.memoizedState;S!==re||ee!==te||Mi||e!==null&&e.dependencies!==null&&Ks(e.dependencies)?(typeof z=="function"&&(_l(i,n,z,s),te=i.memoizedState),(ae=Mi||Ap(i,n,ae,s,ee,te,H)||e!==null&&e.dependencies!==null&&Ks(e.dependencies))?(Z||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(s,te,H),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(s,te,H)),typeof x.componentDidUpdate=="function"&&(i.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof x.componentDidUpdate!="function"||S===e.memoizedProps&&ee===e.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&ee===e.memoizedState||(i.flags|=1024),i.memoizedProps=s,i.memoizedState=te),x.props=s,x.state=te,x.context=H,s=ae):(typeof x.componentDidUpdate!="function"||S===e.memoizedProps&&ee===e.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&ee===e.memoizedState||(i.flags|=1024),s=!1)}return x=s,mr(e,i),s=(i.flags&128)!==0,x||s?(x=i.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:x.render(),i.flags|=1,e!==null&&s?(i.child=hn(i,e.child,null,u),i.child=hn(i,null,n,u)):st(e,i,n,u),i.memoizedState=x.state,e=i.child):e=fi(e,i,u),e}function $p(e,i,n,s){return ln(),i.flags|=256,st(e,i,n,s),i.child}var Ol={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ll(e){return{baseLanes:e,cachePool:_u()}}function Ul(e,i,n){return e=e!==null?e.childLanes&~n:0,i&&(e|=kt),e}function Gp(e,i,n){var s=i.pendingProps,u=!1,x=(i.flags&128)!==0,S;if((S=x)||(S=e!==null&&e.memoizedState===null?!1:(Ge.current&2)!==0),S&&(u=!0,i.flags&=-129),S=(i.flags&32)!==0,i.flags&=-33,e===null){if(Ce){if(u?Oi(i):Li(),(e=Ue)?(e=eh(e,Lt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:ki!==null?{id:Zt,overflow:Kt}:null,retryLane:536870912,hydrationErrors:null},n=wu(e),n.return=i,i.child=n,nt=i,Ue=null)):e=null,e===null)throw _i(i);return jc(e)?i.lanes=32:i.lanes=536870912,null}var z=s.children;return s=s.fallback,u?(Li(),u=i.mode,z=yr({mode:"hidden",children:z},u),s=on(s,u,n,null),z.return=i,s.return=i,z.sibling=s,i.child=z,s=i.child,s.memoizedState=Ll(n),s.childLanes=Ul(e,S,n),i.memoizedState=Ol,is(null,s)):(Oi(i),Wl(i,z))}var H=e.memoizedState;if(H!==null&&(z=H.dehydrated,z!==null)){if(x)i.flags&256?(Oi(i),i.flags&=-257,i=Hl(e,i,n)):i.memoizedState!==null?(Li(),i.child=e.child,i.flags|=128,i=null):(Li(),z=s.fallback,u=i.mode,s=yr({mode:"visible",children:s.children},u),z=on(z,u,n,null),z.flags|=2,s.return=i,z.return=i,s.sibling=z,i.child=s,hn(i,e.child,null,n),s=i.child,s.memoizedState=Ll(n),s.childLanes=Ul(e,S,n),i.memoizedState=Ol,i=is(null,s));else if(Oi(i),jc(z)){if(S=z.nextSibling&&z.nextSibling.dataset,S)var Z=S.dgst;S=Z,s=Error(a(419)),s.stack="",s.digest=S,$a({value:s,source:null,stack:null}),i=Hl(e,i,n)}else if(Qe||Vn(e,i,n,!1),S=(n&e.childLanes)!==0,Qe||S){if(S=Le,S!==null&&(s=kd(S,n),s!==0&&s!==H.retryLane))throw H.retryLane=s,rn(e,s),bt(S,e,s),Nl;Sc(z)||Cr(),i=Hl(e,i,n)}else Sc(z)?(i.flags|=192,i.child=e.child,i=null):(e=H.treeContext,Ue=Wt(z.nextSibling),nt=i,Ce=!0,Ri=null,Lt=!1,e!==null&&Cu(i,e),i=Wl(i,s.children),i.flags|=4096);return i}return u?(Li(),z=s.fallback,u=i.mode,H=e.child,Z=H.sibling,s=oi(H,{mode:"hidden",children:s.children}),s.subtreeFlags=H.subtreeFlags&65011712,Z!==null?z=oi(Z,z):(z=on(z,u,n,null),z.flags|=2),z.return=i,s.return=i,s.sibling=z,i.child=s,is(null,s),s=i.child,z=e.child.memoizedState,z===null?z=Ll(n):(u=z.cachePool,u!==null?(H=Ye._currentValue,u=u.parent!==H?{parent:H,pool:H}:u):u=_u(),z={baseLanes:z.baseLanes|n,cachePool:u}),s.memoizedState=z,s.childLanes=Ul(e,S,n),i.memoizedState=Ol,is(e.child,s)):(Oi(i),n=e.child,e=n.sibling,n=oi(n,{mode:"visible",children:s.children}),n.return=i,n.sibling=null,e!==null&&(S=i.deletions,S===null?(i.deletions=[e],i.flags|=16):S.push(e)),i.child=n,i.memoizedState=null,n)}function Wl(e,i){return i=yr({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function yr(e,i){return e=Ct(22,e,null,i),e.lanes=0,e}function Hl(e,i,n){return hn(i,e.child,null,n),e=Wl(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function qp(e,i,n){e.lanes|=i;var s=e.alternate;s!==null&&(s.lanes|=i),nl(e.return,i,n)}function Pl(e,i,n,s,u,x){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:u,treeForkCount:x}:(S.isBackwards=i,S.rendering=null,S.renderingStartTime=0,S.last=s,S.tail=n,S.tailMode=u,S.treeForkCount=x)}function Yp(e,i,n){var s=i.pendingProps,u=s.revealOrder,x=s.tail;s=s.children;var S=Ge.current,z=(S&2)!==0;if(z?(S=S&1|2,i.flags|=128):S&=1,ie(Ge,S),st(e,i,s,n),s=Ce?Pa:0,!z&&e!==null&&(e.flags&128)!==0)e:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qp(e,n,i);else if(e.tag===19)qp(e,n,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break e;for(;e.sibling===null;){if(e.return===null||e.return===i)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(n=i.child,u=null;n!==null;)e=n.alternate,e!==null&&rr(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=i.child,i.child=null):(u=n.sibling,n.sibling=null),Pl(i,!1,u,n,x,s);break;case"backwards":case"unstable_legacy-backwards":for(n=null,u=i.child,i.child=null;u!==null;){if(e=u.alternate,e!==null&&rr(e)===null){i.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}Pl(i,!0,n,null,x,s);break;case"together":Pl(i,!1,null,null,void 0,s);break;default:i.memoizedState=null}return i.child}function fi(e,i,n){if(e!==null&&(i.dependencies=e.dependencies),Hi|=i.lanes,(n&i.childLanes)===0)if(e!==null){if(Vn(e,i,n,!1),(n&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(a(153));if(i.child!==null){for(e=i.child,n=oi(e,e.pendingProps),i.child=n,n.return=i;e.sibling!==null;)e=e.sibling,n=n.sibling=oi(e,e.pendingProps),n.return=i;n.sibling=null}return i.child}function $l(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Ks(e)))}function bg(e,i,n){switch(i.tag){case 3:me(i,i.stateNode.containerInfo),Fi(i,Ye,e.memoizedState.cache),ln();break;case 27:case 5:Vt(i);break;case 4:me(i,i.stateNode.containerInfo);break;case 10:Fi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,xl(i),null;break;case 13:var s=i.memoizedState;if(s!==null)return s.dehydrated!==null?(Oi(i),i.flags|=128,null):(n&i.child.childLanes)!==0?Gp(e,i,n):(Oi(i),e=fi(e,i,n),e!==null?e.sibling:null);Oi(i);break;case 19:var u=(e.flags&128)!==0;if(s=(n&i.childLanes)!==0,s||(Vn(e,i,n,!1),s=(n&i.childLanes)!==0),u){if(s)return Yp(e,i,n);i.flags|=128}if(u=i.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),ie(Ge,Ge.current),s)break;return null;case 22:return i.lanes=0,Lp(e,i,n,i.pendingProps);case 24:Fi(i,Ye,e.memoizedState.cache)}return fi(e,i,n)}function Vp(e,i,n){if(e!==null)if(e.memoizedProps!==i.pendingProps)Qe=!0;else{if(!$l(e,n)&&(i.flags&128)===0)return Qe=!1,bg(e,i,n);Qe=(e.flags&131072)!==0}else Qe=!1,Ce&&(i.flags&1048576)!==0&&Du(i,Pa,i.index);switch(i.lanes=0,i.tag){case 16:e:{var s=i.pendingProps;if(e=pn(i.elementType),i.type=e,typeof e=="function")Qo(e)?(s=gn(e,s),i.tag=1,i=Pp(null,i,e,s,n)):(i.tag=0,i=Il(null,i,e,s,n));else{if(e!=null){var u=e.$$typeof;if(u===D){i.tag=11,i=Np(null,i,e,s,n);break e}else if(u===_){i.tag=14,i=Ip(null,i,e,s,n);break e}}throw i=le(e)||e,Error(a(306,i,""))}}return i;case 0:return Il(e,i,i.type,i.pendingProps,n);case 1:return s=i.type,u=gn(s,i.pendingProps),Pp(e,i,s,u,n);case 3:e:{if(me(i,i.stateNode.containerInfo),e===null)throw Error(a(387));s=i.pendingProps;var x=i.memoizedState;u=x.element,dl(e,i),Za(i,s,null,n);var S=i.memoizedState;if(s=S.cache,Fi(i,Ye,s),s!==x.cache&&al(i,[Ye],n,!0),Xa(),s=S.element,x.isDehydrated)if(x={element:s,isDehydrated:!1,cache:S.cache},i.updateQueue.baseState=x,i.memoizedState=x,i.flags&256){i=$p(e,i,s,n);break e}else if(s!==u){u=Nt(Error(a(424)),i),$a(u),i=$p(e,i,s,n);break e}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ue=Wt(e.firstChild),nt=i,Ce=!0,Ri=null,Lt=!0,n=Lu(i,null,s,n),i.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ln(),s===u){i=fi(e,i,n);break e}st(e,i,s,n)}i=i.child}return i;case 26:return mr(e,i),e===null?(n=rh(i.type,null,i.pendingProps,null))?i.memoizedState=n:Ce||(n=i.type,e=i.pendingProps,s=Fr(ue.current).createElement(n),s[it]=i,s[ht]=e,rt(s,n,e),et(s),i.stateNode=s):i.memoizedState=rh(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Vt(i),e===null&&Ce&&(s=i.stateNode=nh(i.type,i.pendingProps,ue.current),nt=i,Lt=!0,u=Ue,Yi(i.type)?(Ec=u,Ue=Wt(s.firstChild)):Ue=u),st(e,i,i.pendingProps.children,n),mr(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Ce&&((u=s=Ue)&&(s=Xg(s,i.type,i.pendingProps,Lt),s!==null?(i.stateNode=s,nt=i,Ue=Wt(s.firstChild),Lt=!1,u=!0):u=!1),u||_i(i)),Vt(i),u=i.type,x=i.pendingProps,S=e!==null?e.memoizedProps:null,s=x.children,yc(u,x)?s=null:S!==null&&yc(u,S)&&(i.flags|=32),i.memoizedState!==null&&(u=ml(e,i,ug,null,null,n),ms._currentValue=u),mr(e,i),st(e,i,s,n),i.child;case 6:return e===null&&Ce&&((e=n=Ue)&&(n=Zg(n,i.pendingProps,Lt),n!==null?(i.stateNode=n,nt=i,Ue=null,e=!0):e=!1),e||_i(i)),null;case 13:return Gp(e,i,n);case 4:return me(i,i.stateNode.containerInfo),s=i.pendingProps,e===null?i.child=hn(i,null,s,n):st(e,i,s,n),i.child;case 11:return Np(e,i,i.type,i.pendingProps,n);case 7:return st(e,i,i.pendingProps,n),i.child;case 8:return st(e,i,i.pendingProps.children,n),i.child;case 12:return st(e,i,i.pendingProps.children,n),i.child;case 10:return s=i.pendingProps,Fi(i,i.type,s.value),st(e,i,s.children,n),i.child;case 9:return u=i.type._context,s=i.pendingProps.children,dn(i),u=at(u),s=s(u),i.flags|=1,st(e,i,s,n),i.child;case 14:return Ip(e,i,i.type,i.pendingProps,n);case 15:return Op(e,i,i.type,i.pendingProps,n);case 19:return Yp(e,i,n);case 31:return vg(e,i,n);case 22:return Lp(e,i,n,i.pendingProps);case 24:return dn(i),s=at(Ye),e===null?(u=ol(),u===null&&(u=Le,x=sl(),u.pooledCache=x,x.refCount++,x!==null&&(u.pooledCacheLanes|=n),u=x),i.memoizedState={parent:s,cache:u},cl(i),Fi(i,Ye,u)):((e.lanes&n)!==0&&(dl(e,i),Za(i,null,null,n),Xa()),u=e.memoizedState,x=i.memoizedState,u.parent!==s?(u={parent:s,cache:s},i.memoizedState=u,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=u),Fi(i,Ye,s)):(s=x.cache,Fi(i,Ye,s),s!==u.cache&&al(i,[Ye],n,!0))),st(e,i,i.pendingProps.children,n),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function hi(e){e.flags|=4}function Gl(e,i,n,s,u){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(jf())e.flags|=8192;else throw fn=ir,ll}else e.flags&=-16777217}function Qp(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!uh(i))if(jf())e.flags|=8192;else throw fn=ir,ll}function vr(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Ad():536870912,e.lanes|=i,ra|=i)}function ns(e,i){if(!Ce)switch(e.tailMode){case"hidden":i=e.tail;for(var n=null;i!==null;)i.alternate!==null&&(n=i),i=i.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function We(e){var i=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(i)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,s|=u.subtreeFlags&65011712,s|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,s|=u.subtreeFlags,s|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=s,e.childLanes=n,i}function Sg(e,i,n){var s=i.pendingProps;switch(Jo(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(i),null;case 1:return We(i),null;case 3:return n=i.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),di(Ye),je(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Yn(i)?hi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,tl())),We(i),null;case 26:var u=i.type,x=i.memoizedState;return e===null?(hi(i),x!==null?(We(i),Qp(i,x)):(We(i),Gl(i,u,null,s,n))):x?x!==e.memoizedState?(hi(i),We(i),Qp(i,x)):(We(i),i.flags&=-16777217):(e=e.memoizedProps,e!==s&&hi(i),We(i),Gl(i,u,e,s,n)),null;case 27:if(Qt(i),n=ue.current,u=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==s&&hi(i);else{if(!s){if(i.stateNode===null)throw Error(a(166));return We(i),null}e=ne.current,Yn(i)?Au(i):(e=nh(u,s,n),i.stateNode=e,hi(i))}return We(i),null;case 5:if(Qt(i),u=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==s&&hi(i);else{if(!s){if(i.stateNode===null)throw Error(a(166));return We(i),null}if(x=ne.current,Yn(i))Au(i);else{var S=Fr(ue.current);switch(x){case 1:x=S.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:x=S.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":x=S.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":x=S.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":x=S.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof s.is=="string"?S.createElement("select",{is:s.is}):S.createElement("select"),s.multiple?x.multiple=!0:s.size&&(x.size=s.size);break;default:x=typeof s.is=="string"?S.createElement(u,{is:s.is}):S.createElement(u)}}x[it]=i,x[ht]=s;e:for(S=i.child;S!==null;){if(S.tag===5||S.tag===6)x.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===i)break e;for(;S.sibling===null;){if(S.return===null||S.return===i)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}i.stateNode=x;e:switch(rt(x,u,s),u){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&hi(i)}}return We(i),Gl(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,n),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==s&&hi(i);else{if(typeof s!="string"&&i.stateNode===null)throw Error(a(166));if(e=ue.current,Yn(i)){if(e=i.stateNode,n=i.memoizedProps,s=null,u=nt,u!==null)switch(u.tag){case 27:case 5:s=u.memoizedProps}e[it]=i,e=!!(e.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||qf(e.nodeValue,n)),e||_i(i,!0)}else e=Fr(e).createTextNode(s),e[it]=i,i.stateNode=e}return We(i),null;case 31:if(n=i.memoizedState,e===null||e.memoizedState!==null){if(s=Yn(i),n!==null){if(e===null){if(!s)throw Error(a(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[it]=i}else ln(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;We(i),e=!1}else n=tl(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return i.flags&256?(Tt(i),i):(Tt(i),null);if((i.flags&128)!==0)throw Error(a(558))}return We(i),null;case 13:if(s=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Yn(i),s!==null&&s.dehydrated!==null){if(e===null){if(!u)throw Error(a(318));if(u=i.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(a(317));u[it]=i}else ln(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;We(i),u=!1}else u=tl(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return i.flags&256?(Tt(i),i):(Tt(i),null)}return Tt(i),(i.flags&128)!==0?(i.lanes=n,i):(n=s!==null,e=e!==null&&e.memoizedState!==null,n&&(s=i.child,u=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(u=s.alternate.memoizedState.cachePool.pool),x=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(x=s.memoizedState.cachePool.pool),x!==u&&(s.flags|=2048)),n!==e&&n&&(i.child.flags|=8192),vr(i,i.updateQueue),We(i),null);case 4:return je(),e===null&&fc(i.stateNode.containerInfo),We(i),null;case 10:return di(i.type),We(i),null;case 19:if($(Ge),s=i.memoizedState,s===null)return We(i),null;if(u=(i.flags&128)!==0,x=s.rendering,x===null)if(u)ns(s,!1);else{if($e!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(x=rr(e),x!==null){for(i.flags|=128,ns(s,!1),e=x.updateQueue,i.updateQueue=e,vr(i,e),i.subtreeFlags=0,e=n,n=i.child;n!==null;)Eu(n,e),n=n.sibling;return ie(Ge,Ge.current&1|2),Ce&&li(i,s.treeForkCount),i.child}e=e.sibling}s.tail!==null&&dt()>wr&&(i.flags|=128,u=!0,ns(s,!1),i.lanes=4194304)}else{if(!u)if(e=rr(x),e!==null){if(i.flags|=128,u=!0,e=e.updateQueue,i.updateQueue=e,vr(i,e),ns(s,!0),s.tail===null&&s.tailMode==="hidden"&&!x.alternate&&!Ce)return We(i),null}else 2*dt()-s.renderingStartTime>wr&&n!==536870912&&(i.flags|=128,u=!0,ns(s,!1),i.lanes=4194304);s.isBackwards?(x.sibling=i.child,i.child=x):(e=s.last,e!==null?e.sibling=x:i.child=x,s.last=x)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=dt(),e.sibling=null,n=Ge.current,ie(Ge,u?n&1|2:n&1),Ce&&li(i,s.treeForkCount),e):(We(i),null);case 22:case 23:return Tt(i),hl(),s=i.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(i.flags|=8192):s&&(i.flags|=8192),s?(n&536870912)!==0&&(i.flags&128)===0&&(We(i),i.subtreeFlags&6&&(i.flags|=8192)):We(i),n=i.updateQueue,n!==null&&vr(i,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==n&&(i.flags|=2048),e!==null&&$(un),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),i.memoizedState.cache!==n&&(i.flags|=2048),di(Ye),We(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function jg(e,i){switch(Jo(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return di(Ye),je(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Qt(i),null;case 31:if(i.memoizedState!==null){if(Tt(i),i.alternate===null)throw Error(a(340));ln()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Tt(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(a(340));ln()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return $(Ge),null;case 4:return je(),null;case 10:return di(i.type),null;case 22:case 23:return Tt(i),hl(),e!==null&&$(un),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return di(Ye),null;case 25:return null;default:return null}}function Xp(e,i){switch(Jo(i),i.tag){case 3:di(Ye),je();break;case 26:case 27:case 5:Qt(i);break;case 4:je();break;case 31:i.memoizedState!==null&&Tt(i);break;case 13:Tt(i);break;case 19:$(Ge);break;case 10:di(i.type);break;case 22:case 23:Tt(i),hl(),e!==null&&$(un);break;case 24:di(Ye)}}function as(e,i){try{var n=i.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var u=s.next;n=u;do{if((n.tag&e)===e){s=void 0;var x=n.create,S=n.inst;s=x(),S.destroy=s}n=n.next}while(n!==u)}}catch(z){Me(i,i.return,z)}}function Ui(e,i,n){try{var s=i.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var x=u.next;s=x;do{if((s.tag&e)===e){var S=s.inst,z=S.destroy;if(z!==void 0){S.destroy=void 0,u=i;var H=n,Z=z;try{Z()}catch(ae){Me(u,H,ae)}}}s=s.next}while(s!==x)}}catch(ae){Me(i,i.return,ae)}}function Zp(e){var i=e.updateQueue;if(i!==null){var n=e.stateNode;try{Wu(i,n)}catch(s){Me(e,e.return,s)}}}function Kp(e,i,n){n.props=gn(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(s){Me(e,i,s)}}function ss(e,i){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof n=="function"?e.refCleanup=n(s):n.current=s}}catch(u){Me(e,i,u)}}function Jt(e,i){var n=e.ref,s=e.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(u){Me(e,i,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(u){Me(e,i,u)}else n.current=null}function Jp(e){var i=e.type,n=e.memoizedProps,s=e.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(u){Me(e,e.return,u)}}function ql(e,i,n){try{var s=e.stateNode;$g(s,e.type,n,i),s[ht]=i}catch(u){Me(e,e.return,u)}}function ef(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Yi(e.type)||e.tag===4}function Yl(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ef(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Yi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vl(e,i,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,i?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,i):(i=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,i.appendChild(e),n=n._reactRootContainer,n!=null||i.onclick!==null||(i.onclick=si));else if(s!==4&&(s===27&&Yi(e.type)&&(n=e.stateNode,i=null),e=e.child,e!==null))for(Vl(e,i,n),e=e.sibling;e!==null;)Vl(e,i,n),e=e.sibling}function br(e,i,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,i?n.insertBefore(e,i):n.appendChild(e);else if(s!==4&&(s===27&&Yi(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(br(e,i,n),e=e.sibling;e!==null;)br(e,i,n),e=e.sibling}function tf(e){var i=e.stateNode,n=e.memoizedProps;try{for(var s=e.type,u=i.attributes;u.length;)i.removeAttributeNode(u[0]);rt(i,s,n),i[it]=e,i[ht]=n}catch(x){Me(e,e.return,x)}}var xi=!1,Xe=!1,Ql=!1,nf=typeof WeakSet=="function"?WeakSet:Set,tt=null;function Eg(e,i){if(e=e.containerInfo,gc=Wr,e=hu(e),Ho(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var u=s.anchorOffset,x=s.focusNode;s=s.focusOffset;try{n.nodeType,x.nodeType}catch{n=null;break e}var S=0,z=-1,H=-1,Z=0,ae=0,re=e,ee=null;t:for(;;){for(var te;re!==n||u!==0&&re.nodeType!==3||(z=S+u),re!==x||s!==0&&re.nodeType!==3||(H=S+s),re.nodeType===3&&(S+=re.nodeValue.length),(te=re.firstChild)!==null;)ee=re,re=te;for(;;){if(re===e)break t;if(ee===n&&++Z===u&&(z=S),ee===x&&++ae===s&&(H=S),(te=re.nextSibling)!==null)break;re=ee,ee=re.parentNode}re=te}n=z===-1||H===-1?null:{start:z,end:H}}else n=null}n=n||{start:0,end:0}}else n=null;for(mc={focusedElem:e,selectionRange:n},Wr=!1,tt=i;tt!==null;)if(i=tt,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,tt=e;else for(;tt!==null;){switch(i=tt,x=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)u=e[n],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&x!==null){e=void 0,n=i,u=x.memoizedProps,x=x.memoizedState,s=n.stateNode;try{var pe=gn(n.type,u);e=s.getSnapshotBeforeUpdate(pe,x),s.__reactInternalSnapshotBeforeUpdate=e}catch(xe){Me(n,n.return,xe)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,n=e.nodeType,n===9)bc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":bc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=i.sibling,e!==null){e.return=i.return,tt=e;break}tt=i.return}}function af(e,i,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:mi(e,n),s&4&&as(5,n);break;case 1:if(mi(e,n),s&4)if(e=n.stateNode,i===null)try{e.componentDidMount()}catch(S){Me(n,n.return,S)}else{var u=gn(n.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(u,i,e.__reactInternalSnapshotBeforeUpdate)}catch(S){Me(n,n.return,S)}}s&64&&Zp(n),s&512&&ss(n,n.return);break;case 3:if(mi(e,n),s&64&&(e=n.updateQueue,e!==null)){if(i=null,n.child!==null)switch(n.child.tag){case 27:case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}try{Wu(e,i)}catch(S){Me(n,n.return,S)}}break;case 27:i===null&&s&4&&tf(n);case 26:case 5:mi(e,n),i===null&&s&4&&Jp(n),s&512&&ss(n,n.return);break;case 12:mi(e,n);break;case 31:mi(e,n),s&4&&of(e,n);break;case 13:mi(e,n),s&4&&lf(e,n),s&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Rg.bind(null,n),Kg(e,n))));break;case 22:if(s=n.memoizedState!==null||xi,!s){i=i!==null&&i.memoizedState!==null||Xe,u=xi;var x=Xe;xi=s,(Xe=i)&&!x?yi(e,n,(n.subtreeFlags&8772)!==0):mi(e,n),xi=u,Xe=x}break;case 30:break;default:mi(e,n)}}function sf(e){var i=e.alternate;i!==null&&(e.alternate=null,sf(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Bo(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,gt=!1;function gi(e,i,n){for(n=n.child;n!==null;)rf(e,i,n),n=n.sibling}function rf(e,i,n){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(Bt,n)}catch{}switch(n.tag){case 26:Xe||Jt(n,i),gi(e,i,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Xe||Jt(n,i);var s=He,u=gt;Yi(n.type)&&(He=n.stateNode,gt=!1),gi(e,i,n),hs(n.stateNode),He=s,gt=u;break;case 5:Xe||Jt(n,i);case 6:if(s=He,u=gt,He=null,gi(e,i,n),He=s,gt=u,He!==null)if(gt)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(n.stateNode)}catch(x){Me(n,i,x)}else try{He.removeChild(n.stateNode)}catch(x){Me(n,i,x)}break;case 18:He!==null&&(gt?(e=He,Kf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ha(e)):Kf(He,n.stateNode));break;case 4:s=He,u=gt,He=n.stateNode.containerInfo,gt=!0,gi(e,i,n),He=s,gt=u;break;case 0:case 11:case 14:case 15:Ui(2,n,i),Xe||Ui(4,n,i),gi(e,i,n);break;case 1:Xe||(Jt(n,i),s=n.stateNode,typeof s.componentWillUnmount=="function"&&Kp(n,i,s)),gi(e,i,n);break;case 21:gi(e,i,n);break;case 22:Xe=(s=Xe)||n.memoizedState!==null,gi(e,i,n),Xe=s;break;default:gi(e,i,n)}}function of(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ha(e)}catch(n){Me(i,i.return,n)}}}function lf(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ha(e)}catch(n){Me(i,i.return,n)}}function wg(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new nf),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new nf),i;default:throw Error(a(435,e.tag))}}function Sr(e,i){var n=wg(e);i.forEach(function(s){if(!n.has(s)){n.add(s);var u=_g.bind(null,e,s);s.then(u,u)}})}function mt(e,i){var n=i.deletions;if(n!==null)for(var s=0;s<n.length;s++){var u=n[s],x=e,S=i,z=S;e:for(;z!==null;){switch(z.tag){case 27:if(Yi(z.type)){He=z.stateNode,gt=!1;break e}break;case 5:He=z.stateNode,gt=!1;break e;case 3:case 4:He=z.stateNode.containerInfo,gt=!0;break e}z=z.return}if(He===null)throw Error(a(160));rf(x,S,u),He=null,gt=!1,x=u.alternate,x!==null&&(x.return=null),u.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)cf(i,e),i=i.sibling}var Gt=null;function cf(e,i){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:mt(i,e),yt(e),s&4&&(Ui(3,e,e.return),as(3,e),Ui(5,e,e.return));break;case 1:mt(i,e),yt(e),s&512&&(Xe||n===null||Jt(n,n.return)),s&64&&xi&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var u=Gt;if(mt(i,e),yt(e),s&512&&(Xe||n===null||Jt(n,n.return)),s&4){var x=n!==null?n.memoizedState:null;if(s=e.memoizedState,n===null)if(s===null)if(e.stateNode===null){e:{s=e.type,n=e.memoizedProps,u=u.ownerDocument||u;t:switch(s){case"title":x=u.getElementsByTagName("title")[0],(!x||x[Ra]||x[it]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=u.createElement(s),u.head.insertBefore(x,u.querySelector("head > title"))),rt(x,s,n),x[it]=e,et(x),s=x;break e;case"link":var S=ch("link","href",u).get(s+(n.href||""));if(S){for(var z=0;z<S.length;z++)if(x=S[z],x.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&x.getAttribute("rel")===(n.rel==null?null:n.rel)&&x.getAttribute("title")===(n.title==null?null:n.title)&&x.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){S.splice(z,1);break t}}x=u.createElement(s),rt(x,s,n),u.head.appendChild(x);break;case"meta":if(S=ch("meta","content",u).get(s+(n.content||""))){for(z=0;z<S.length;z++)if(x=S[z],x.getAttribute("content")===(n.content==null?null:""+n.content)&&x.getAttribute("name")===(n.name==null?null:n.name)&&x.getAttribute("property")===(n.property==null?null:n.property)&&x.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&x.getAttribute("charset")===(n.charSet==null?null:n.charSet)){S.splice(z,1);break t}}x=u.createElement(s),rt(x,s,n),u.head.appendChild(x);break;default:throw Error(a(468,s))}x[it]=e,et(x),s=x}e.stateNode=s}else dh(u,e.type,e.stateNode);else e.stateNode=lh(u,s,e.memoizedProps);else x!==s?(x===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):x.count--,s===null?dh(u,e.type,e.stateNode):lh(u,s,e.memoizedProps)):s===null&&e.stateNode!==null&&ql(e,e.memoizedProps,n.memoizedProps)}break;case 27:mt(i,e),yt(e),s&512&&(Xe||n===null||Jt(n,n.return)),n!==null&&s&4&&ql(e,e.memoizedProps,n.memoizedProps);break;case 5:if(mt(i,e),yt(e),s&512&&(Xe||n===null||Jt(n,n.return)),e.flags&32){u=e.stateNode;try{In(u,"")}catch(pe){Me(e,e.return,pe)}}s&4&&e.stateNode!=null&&(u=e.memoizedProps,ql(e,u,n!==null?n.memoizedProps:u)),s&1024&&(Ql=!0);break;case 6:if(mt(i,e),yt(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,n=e.stateNode;try{n.nodeValue=s}catch(pe){Me(e,e.return,pe)}}break;case 3:if(Ir=null,u=Gt,Gt=Mr(i.containerInfo),mt(i,e),Gt=u,yt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{ha(i.containerInfo)}catch(pe){Me(e,e.return,pe)}Ql&&(Ql=!1,df(e));break;case 4:s=Gt,Gt=Mr(e.stateNode.containerInfo),mt(i,e),yt(e),Gt=s;break;case 12:mt(i,e),yt(e);break;case 31:mt(i,e),yt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Sr(e,s)));break;case 13:mt(i,e),yt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Er=dt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Sr(e,s)));break;case 22:u=e.memoizedState!==null;var H=n!==null&&n.memoizedState!==null,Z=xi,ae=Xe;if(xi=Z||u,Xe=ae||H,mt(i,e),Xe=ae,xi=Z,yt(e),s&8192)e:for(i=e.stateNode,i._visibility=u?i._visibility&-2:i._visibility|1,u&&(n===null||H||xi||Xe||mn(e)),n=null,i=e;;){if(i.tag===5||i.tag===26){if(n===null){H=n=i;try{if(x=H.stateNode,u)S=x.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{z=H.stateNode;var re=H.memoizedProps.style,ee=re!=null&&re.hasOwnProperty("display")?re.display:null;z.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(pe){Me(H,H.return,pe)}}}else if(i.tag===6){if(n===null){H=i;try{H.stateNode.nodeValue=u?"":H.memoizedProps}catch(pe){Me(H,H.return,pe)}}}else if(i.tag===18){if(n===null){H=i;try{var te=H.stateNode;u?Jf(te,!0):Jf(H.stateNode,!1)}catch(pe){Me(H,H.return,pe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;n===i&&(n=null),i=i.return}n===i&&(n=null),i.sibling.return=i.return,i=i.sibling}s&4&&(s=e.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,Sr(e,n))));break;case 19:mt(i,e),yt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Sr(e,s)));break;case 30:break;case 21:break;default:mt(i,e),yt(e)}}function yt(e){var i=e.flags;if(i&2){try{for(var n,s=e.return;s!==null;){if(ef(s)){n=s;break}s=s.return}if(n==null)throw Error(a(160));switch(n.tag){case 27:var u=n.stateNode,x=Yl(e);br(e,x,u);break;case 5:var S=n.stateNode;n.flags&32&&(In(S,""),n.flags&=-33);var z=Yl(e);br(e,z,S);break;case 3:case 4:var H=n.stateNode.containerInfo,Z=Yl(e);Vl(e,Z,H);break;default:throw Error(a(161))}}catch(ae){Me(e,e.return,ae)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function df(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;df(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function mi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)af(e,i.alternate,i),i=i.sibling}function mn(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Ui(4,i,i.return),mn(i);break;case 1:Jt(i,i.return);var n=i.stateNode;typeof n.componentWillUnmount=="function"&&Kp(i,i.return,n),mn(i);break;case 27:hs(i.stateNode);case 26:case 5:Jt(i,i.return),mn(i);break;case 22:i.memoizedState===null&&mn(i);break;case 30:mn(i);break;default:mn(i)}e=e.sibling}}function yi(e,i,n){for(n=n&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var s=i.alternate,u=e,x=i,S=x.flags;switch(x.tag){case 0:case 11:case 15:yi(u,x,n),as(4,x);break;case 1:if(yi(u,x,n),s=x,u=s.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(Z){Me(s,s.return,Z)}if(s=x,u=s.updateQueue,u!==null){var z=s.stateNode;try{var H=u.shared.hiddenCallbacks;if(H!==null)for(u.shared.hiddenCallbacks=null,u=0;u<H.length;u++)Uu(H[u],z)}catch(Z){Me(s,s.return,Z)}}n&&S&64&&Zp(x),ss(x,x.return);break;case 27:tf(x);case 26:case 5:yi(u,x,n),n&&s===null&&S&4&&Jp(x),ss(x,x.return);break;case 12:yi(u,x,n);break;case 31:yi(u,x,n),n&&S&4&&of(u,x);break;case 13:yi(u,x,n),n&&S&4&&lf(u,x);break;case 22:x.memoizedState===null&&yi(u,x,n),ss(x,x.return);break;case 30:break;default:yi(u,x,n)}i=i.sibling}}function Xl(e,i){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Ga(n))}function Zl(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Ga(e))}function qt(e,i,n,s){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)uf(e,i,n,s),i=i.sibling}function uf(e,i,n,s){var u=i.flags;switch(i.tag){case 0:case 11:case 15:qt(e,i,n,s),u&2048&&as(9,i);break;case 1:qt(e,i,n,s);break;case 3:qt(e,i,n,s),u&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Ga(e)));break;case 12:if(u&2048){qt(e,i,n,s),e=i.stateNode;try{var x=i.memoizedProps,S=x.id,z=x.onPostCommit;typeof z=="function"&&z(S,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(H){Me(i,i.return,H)}}else qt(e,i,n,s);break;case 31:qt(e,i,n,s);break;case 13:qt(e,i,n,s);break;case 23:break;case 22:x=i.stateNode,S=i.alternate,i.memoizedState!==null?x._visibility&2?qt(e,i,n,s):rs(e,i):x._visibility&2?qt(e,i,n,s):(x._visibility|=2,na(e,i,n,s,(i.subtreeFlags&10256)!==0||!1)),u&2048&&Xl(S,i);break;case 24:qt(e,i,n,s),u&2048&&Zl(i.alternate,i);break;default:qt(e,i,n,s)}}function na(e,i,n,s,u){for(u=u&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var x=e,S=i,z=n,H=s,Z=S.flags;switch(S.tag){case 0:case 11:case 15:na(x,S,z,H,u),as(8,S);break;case 23:break;case 22:var ae=S.stateNode;S.memoizedState!==null?ae._visibility&2?na(x,S,z,H,u):rs(x,S):(ae._visibility|=2,na(x,S,z,H,u)),u&&Z&2048&&Xl(S.alternate,S);break;case 24:na(x,S,z,H,u),u&&Z&2048&&Zl(S.alternate,S);break;default:na(x,S,z,H,u)}i=i.sibling}}function rs(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var n=e,s=i,u=s.flags;switch(s.tag){case 22:rs(n,s),u&2048&&Xl(s.alternate,s);break;case 24:rs(n,s),u&2048&&Zl(s.alternate,s);break;default:rs(n,s)}i=i.sibling}}var os=8192;function aa(e,i,n){if(e.subtreeFlags&os)for(e=e.child;e!==null;)pf(e,i,n),e=e.sibling}function pf(e,i,n){switch(e.tag){case 26:aa(e,i,n),e.flags&os&&e.memoizedState!==null&&dm(n,Gt,e.memoizedState,e.memoizedProps);break;case 5:aa(e,i,n);break;case 3:case 4:var s=Gt;Gt=Mr(e.stateNode.containerInfo),aa(e,i,n),Gt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=os,os=16777216,aa(e,i,n),os=s):aa(e,i,n));break;default:aa(e,i,n)}}function ff(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function ls(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var n=0;n<i.length;n++){var s=i[n];tt=s,xf(s,e)}ff(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)hf(e),e=e.sibling}function hf(e){switch(e.tag){case 0:case 11:case 15:ls(e),e.flags&2048&&Ui(9,e,e.return);break;case 3:ls(e);break;case 12:ls(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,jr(e)):ls(e);break;default:ls(e)}}function jr(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var n=0;n<i.length;n++){var s=i[n];tt=s,xf(s,e)}ff(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Ui(8,i,i.return),jr(i);break;case 22:n=i.stateNode,n._visibility&2&&(n._visibility&=-3,jr(i));break;default:jr(i)}e=e.sibling}}function xf(e,i){for(;tt!==null;){var n=tt;switch(n.tag){case 0:case 11:case 15:Ui(8,n,i);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Ga(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,tt=s;else e:for(n=e;tt!==null;){s=tt;var u=s.sibling,x=s.return;if(sf(s),s===n){tt=null;break e}if(u!==null){u.return=x,tt=u;break e}tt=x}}}var Bg={getCacheForType:function(e){var i=at(Ye),n=i.data.get(e);return n===void 0&&(n=e(),i.data.set(e,n)),n},cacheSignal:function(){return at(Ye).controller.signal}},Dg=typeof WeakMap=="function"?WeakMap:Map,Re=0,Le=null,Ee=null,Be=0,Fe=0,zt=null,Wi=!1,sa=!1,Kl=!1,vi=0,$e=0,Hi=0,yn=0,Jl=0,kt=0,ra=0,cs=null,vt=null,ec=!1,Er=0,gf=0,wr=1/0,Br=null,Pi=null,Ke=0,$i=null,oa=null,bi=0,tc=0,ic=null,mf=null,ds=0,nc=null;function Rt(){return(Re&2)!==0&&Be!==0?Be&-Be:F.T!==null?cc():Rd()}function yf(){if(kt===0)if((Be&536870912)===0||Ce){var e=_s;_s<<=1,(_s&3932160)===0&&(_s=262144),kt=e}else kt=536870912;return e=At.current,e!==null&&(e.flags|=32),kt}function bt(e,i,n){(e===Le&&(Fe===2||Fe===9)||e.cancelPendingCommit!==null)&&(la(e,0),Gi(e,Be,kt,!1)),ka(e,n),((Re&2)===0||e!==Le)&&(e===Le&&((Re&2)===0&&(yn|=n),$e===4&&Gi(e,Be,kt,!1)),ei(e))}function vf(e,i,n){if((Re&6)!==0)throw Error(a(327));var s=!n&&(i&127)===0&&(i&e.expiredLanes)===0||za(e,i),u=s?Tg(e,i):sc(e,i,!0),x=s;do{if(u===0){sa&&!s&&Gi(e,i,0,!1);break}else{if(n=e.current.alternate,x&&!Cg(n)){u=sc(e,i,!1),x=!1;continue}if(u===2){if(x=i,e.errorRecoveryDisabledLanes&x)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){i=S;e:{var z=e;u=cs;var H=z.current.memoizedState.isDehydrated;if(H&&(la(z,S).flags|=256),S=sc(z,S,!1),S!==2){if(Kl&&!H){z.errorRecoveryDisabledLanes|=x,yn|=x,u=4;break e}x=vt,vt=u,x!==null&&(vt===null?vt=x:vt.push.apply(vt,x))}u=S}if(x=!1,u!==2)continue}}if(u===1){la(e,0),Gi(e,i,0,!0);break}e:{switch(s=e,x=u,x){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Gi(s,i,kt,!Wi);break e;case 2:vt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(u=Er+300-dt(),10<u)){if(Gi(s,i,kt,!Wi),Ms(s,0,!0)!==0)break e;bi=i,s.timeoutHandle=Xf(bf.bind(null,s,n,vt,Br,ec,i,kt,yn,ra,Wi,x,"Throttled",-0,0),u);break e}bf(s,n,vt,Br,ec,i,kt,yn,ra,Wi,x,null,-0,0)}}break}while(!0);ei(e)}function bf(e,i,n,s,u,x,S,z,H,Z,ae,re,ee,te){if(e.timeoutHandle=-1,re=i.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:si},pf(i,x,re);var pe=(x&62914560)===x?Er-dt():(x&4194048)===x?gf-dt():0;if(pe=um(re,pe),pe!==null){bi=x,e.cancelPendingCommit=pe(Af.bind(null,e,i,x,n,s,u,S,z,H,ae,re,null,ee,te)),Gi(e,x,S,!Z);return}}Af(e,i,x,n,s,u,S,z,H)}function Cg(e){for(var i=e;;){var n=i.tag;if((n===0||n===11||n===15)&&i.flags&16384&&(n=i.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var u=n[s],x=u.getSnapshot;u=u.value;try{if(!Dt(x(),u))return!1}catch{return!1}}if(n=i.child,i.subtreeFlags&16384&&n!==null)n.return=i,i=n;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Gi(e,i,n,s){i&=~Jl,i&=~yn,e.suspendedLanes|=i,e.pingedLanes&=~i,s&&(e.warmLanes|=i),s=e.expirationTimes;for(var u=i;0<u;){var x=31-Ae(u),S=1<<x;s[x]=-1,u&=~S}n!==0&&Td(e,n,i)}function Dr(){return(Re&6)===0?(us(0),!1):!0}function ac(){if(Ee!==null){if(Fe===0)var e=Ee.return;else e=Ee,ci=cn=null,bl(e),Kn=null,Ya=0,e=Ee;for(;e!==null;)Xp(e.alternate,e),e=e.return;Ee=null}}function la(e,i){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Yg(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),bi=0,ac(),Le=e,Ee=n=oi(e.current,null),Be=i,Fe=0,zt=null,Wi=!1,sa=za(e,i),Kl=!1,ra=kt=Jl=yn=Hi=$e=0,vt=cs=null,ec=!1,(i&8)!==0&&(i|=i&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=i;0<s;){var u=31-Ae(s),x=1<<u;i|=e[u],s&=~x}return vi=i,Ys(),n}function Sf(e,i){ve=null,F.H=ts,i===Zn||i===tr?(i=Nu(),Fe=3):i===ll?(i=Nu(),Fe=4):Fe=i===Nl?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,zt=i,Ee===null&&($e=1,xr(e,Nt(i,e.current)))}function jf(){var e=At.current;return e===null?!0:(Be&4194048)===Be?Ut===null:(Be&62914560)===Be||(Be&536870912)!==0?e===Ut:!1}function Ef(){var e=F.H;return F.H=ts,e===null?ts:e}function wf(){var e=F.A;return F.A=Bg,e}function Cr(){$e=4,Wi||(Be&4194048)!==Be&&At.current!==null||(sa=!0),(Hi&134217727)===0&&(yn&134217727)===0||Le===null||Gi(Le,Be,kt,!1)}function sc(e,i,n){var s=Re;Re|=2;var u=Ef(),x=wf();(Le!==e||Be!==i)&&(Br=null,la(e,i)),i=!1;var S=$e;e:do try{if(Fe!==0&&Ee!==null){var z=Ee,H=zt;switch(Fe){case 8:ac(),S=6;break e;case 3:case 2:case 9:case 6:At.current===null&&(i=!0);var Z=Fe;if(Fe=0,zt=null,ca(e,z,H,Z),n&&sa){S=0;break e}break;default:Z=Fe,Fe=0,zt=null,ca(e,z,H,Z)}}Ag(),S=$e;break}catch(ae){Sf(e,ae)}while(!0);return i&&e.shellSuspendCounter++,ci=cn=null,Re=s,F.H=u,F.A=x,Ee===null&&(Le=null,Be=0,Ys()),S}function Ag(){for(;Ee!==null;)Bf(Ee)}function Tg(e,i){var n=Re;Re|=2;var s=Ef(),u=wf();Le!==e||Be!==i?(Br=null,wr=dt()+500,la(e,i)):sa=za(e,i);e:do try{if(Fe!==0&&Ee!==null){i=Ee;var x=zt;t:switch(Fe){case 1:Fe=0,zt=null,ca(e,i,x,1);break;case 2:case 9:if(Fu(x)){Fe=0,zt=null,Df(i);break}i=function(){Fe!==2&&Fe!==9||Le!==e||(Fe=7),ei(e)},x.then(i,i);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:Fu(x)?(Fe=0,zt=null,Df(i)):(Fe=0,zt=null,ca(e,i,x,7));break;case 5:var S=null;switch(Ee.tag){case 26:S=Ee.memoizedState;case 5:case 27:var z=Ee;if(S?uh(S):z.stateNode.complete){Fe=0,zt=null;var H=z.sibling;if(H!==null)Ee=H;else{var Z=z.return;Z!==null?(Ee=Z,Ar(Z)):Ee=null}break t}}Fe=0,zt=null,ca(e,i,x,5);break;case 6:Fe=0,zt=null,ca(e,i,x,6);break;case 8:ac(),$e=6;break e;default:throw Error(a(462))}}zg();break}catch(ae){Sf(e,ae)}while(!0);return ci=cn=null,F.H=s,F.A=u,Re=n,Ee!==null?0:(Le=null,Be=0,Ys(),$e)}function zg(){for(;Ee!==null&&!yo();)Bf(Ee)}function Bf(e){var i=Vp(e.alternate,e,vi);e.memoizedProps=e.pendingProps,i===null?Ar(e):Ee=i}function Df(e){var i=e,n=i.alternate;switch(i.tag){case 15:case 0:i=Hp(n,i,i.pendingProps,i.type,void 0,Be);break;case 11:i=Hp(n,i,i.pendingProps,i.type.render,i.ref,Be);break;case 5:bl(i);default:Xp(n,i),i=Ee=Eu(i,vi),i=Vp(n,i,vi)}e.memoizedProps=e.pendingProps,i===null?Ar(e):Ee=i}function ca(e,i,n,s){ci=cn=null,bl(i),Kn=null,Ya=0;var u=i.return;try{if(yg(e,u,i,n,Be)){$e=1,xr(e,Nt(n,e.current)),Ee=null;return}}catch(x){if(u!==null)throw Ee=u,x;$e=1,xr(e,Nt(n,e.current)),Ee=null;return}i.flags&32768?(Ce||s===1?e=!0:sa||(Be&536870912)!==0?e=!1:(Wi=e=!0,(s===2||s===9||s===3||s===6)&&(s=At.current,s!==null&&s.tag===13&&(s.flags|=16384))),Cf(i,e)):Ar(i)}function Ar(e){var i=e;do{if((i.flags&32768)!==0){Cf(i,Wi);return}e=i.return;var n=Sg(i.alternate,i,vi);if(n!==null){Ee=n;return}if(i=i.sibling,i!==null){Ee=i;return}Ee=i=e}while(i!==null);$e===0&&($e=5)}function Cf(e,i){do{var n=jg(e.alternate,e);if(n!==null){n.flags&=32767,Ee=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!i&&(e=e.sibling,e!==null)){Ee=e;return}Ee=e=n}while(e!==null);$e=6,Ee=null}function Af(e,i,n,s,u,x,S,z,H){e.cancelPendingCommit=null;do Tr();while(Ke!==0);if((Re&6)!==0)throw Error(a(327));if(i!==null){if(i===e.current)throw Error(a(177));if(x=i.lanes|i.childLanes,x|=Yo,c0(e,n,x,S,z,H),e===Le&&(Ee=Le=null,Be=0),oa=i,$i=e,bi=n,tc=x,ic=u,mf=s,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Fg(ce,function(){return _f(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||s){s=F.T,F.T=null,u=M.p,M.p=2,S=Re,Re|=4;try{Eg(e,i,n)}finally{Re=S,M.p=u,F.T=s}}Ke=1,Tf(),zf(),kf()}}function Tf(){if(Ke===1){Ke=0;var e=$i,i=oa,n=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||n){n=F.T,F.T=null;var s=M.p;M.p=2;var u=Re;Re|=4;try{cf(i,e);var x=mc,S=hu(e.containerInfo),z=x.focusedElem,H=x.selectionRange;if(S!==z&&z&&z.ownerDocument&&fu(z.ownerDocument.documentElement,z)){if(H!==null&&Ho(z)){var Z=H.start,ae=H.end;if(ae===void 0&&(ae=Z),"selectionStart"in z)z.selectionStart=Z,z.selectionEnd=Math.min(ae,z.value.length);else{var re=z.ownerDocument||document,ee=re&&re.defaultView||window;if(ee.getSelection){var te=ee.getSelection(),pe=z.textContent.length,xe=Math.min(H.start,pe),Oe=H.end===void 0?xe:Math.min(H.end,pe);!te.extend&&xe>Oe&&(S=Oe,Oe=xe,xe=S);var V=pu(z,xe),q=pu(z,Oe);if(V&&q&&(te.rangeCount!==1||te.anchorNode!==V.node||te.anchorOffset!==V.offset||te.focusNode!==q.node||te.focusOffset!==q.offset)){var X=re.createRange();X.setStart(V.node,V.offset),te.removeAllRanges(),xe>Oe?(te.addRange(X),te.extend(q.node,q.offset)):(X.setEnd(q.node,q.offset),te.addRange(X))}}}}for(re=[],te=z;te=te.parentNode;)te.nodeType===1&&re.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<re.length;z++){var se=re[z];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Wr=!!gc,mc=gc=null}finally{Re=u,M.p=s,F.T=n}}e.current=i,Ke=2}}function zf(){if(Ke===2){Ke=0;var e=$i,i=oa,n=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||n){n=F.T,F.T=null;var s=M.p;M.p=2;var u=Re;Re|=4;try{af(e,i.alternate,i)}finally{Re=u,M.p=s,F.T=n}}Ke=3}}function kf(){if(Ke===4||Ke===3){Ke=0,vo();var e=$i,i=oa,n=bi,s=mf;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ke=5:(Ke=0,oa=$i=null,Rf(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Pi=null),Eo(n),i=i.stateNode,ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(Bt,i,void 0,(i.current.flags&128)===128)}catch{}if(s!==null){i=F.T,u=M.p,M.p=2,F.T=null;try{for(var x=e.onRecoverableError,S=0;S<s.length;S++){var z=s[S];x(z.value,{componentStack:z.stack})}}finally{F.T=i,M.p=u}}(bi&3)!==0&&Tr(),ei(e),u=e.pendingLanes,(n&261930)!==0&&(u&42)!==0?e===nc?ds++:(ds=0,nc=e):ds=0,us(0)}}function Rf(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Ga(i)))}function Tr(){return Tf(),zf(),kf(),_f()}function _f(){if(Ke!==5)return!1;var e=$i,i=tc;tc=0;var n=Eo(bi),s=F.T,u=M.p;try{M.p=32>n?32:n,F.T=null,n=ic,ic=null;var x=$i,S=bi;if(Ke=0,oa=$i=null,bi=0,(Re&6)!==0)throw Error(a(331));var z=Re;if(Re|=4,hf(x.current),uf(x,x.current,S,n),Re=z,us(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(Bt,x)}catch{}return!0}finally{M.p=u,F.T=s,Rf(e,i)}}function Ff(e,i,n){i=Nt(n,i),i=Ml(e.stateNode,i,2),e=Ii(e,i,2),e!==null&&(ka(e,2),ei(e))}function Me(e,i,n){if(e.tag===3)Ff(e,e,n);else for(;i!==null;){if(i.tag===3){Ff(i,e,n);break}else if(i.tag===1){var s=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Pi===null||!Pi.has(s))){e=Nt(n,e),n=Fp(2),s=Ii(i,n,2),s!==null&&(Mp(n,s,i,e),ka(s,2),ei(s));break}}i=i.return}}function rc(e,i,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Dg;var u=new Set;s.set(i,u)}else u=s.get(i),u===void 0&&(u=new Set,s.set(i,u));u.has(n)||(Kl=!0,u.add(n),e=kg.bind(null,e,i,n),i.then(e,e))}function kg(e,i,n){var s=e.pingCache;s!==null&&s.delete(i),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Le===e&&(Be&n)===n&&($e===4||$e===3&&(Be&62914560)===Be&&300>dt()-Er?(Re&2)===0&&la(e,0):Jl|=n,ra===Be&&(ra=0)),ei(e)}function Mf(e,i){i===0&&(i=Ad()),e=rn(e,i),e!==null&&(ka(e,i),ei(e))}function Rg(e){var i=e.memoizedState,n=0;i!==null&&(n=i.retryLane),Mf(e,n)}function _g(e,i){var n=0;switch(e.tag){case 31:case 13:var s=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(i),Mf(e,n)}function Fg(e,i){return An(e,i)}var zr=null,da=null,oc=!1,kr=!1,lc=!1,qi=0;function ei(e){e!==da&&e.next===null&&(da===null?zr=da=e:da=da.next=e),kr=!0,oc||(oc=!0,Ng())}function us(e,i){if(!lc&&kr){lc=!0;do for(var n=!1,s=zr;s!==null;){if(e!==0){var u=s.pendingLanes;if(u===0)var x=0;else{var S=s.suspendedLanes,z=s.pingedLanes;x=(1<<31-Ae(42|e)+1)-1,x&=u&~(S&~z),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(n=!0,Lf(s,x))}else x=Be,x=Ms(s,s===Le?x:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(x&3)===0||za(s,x)||(n=!0,Lf(s,x));s=s.next}while(n);lc=!1}}function Mg(){Nf()}function Nf(){kr=oc=!1;var e=0;qi!==0&&qg()&&(e=qi);for(var i=dt(),n=null,s=zr;s!==null;){var u=s.next,x=If(s,i);x===0?(s.next=null,n===null?zr=u:n.next=u,u===null&&(da=n)):(n=s,(e!==0||(x&3)!==0)&&(kr=!0)),s=u}Ke!==0&&Ke!==5||us(e),qi!==0&&(qi=0)}function If(e,i){for(var n=e.suspendedLanes,s=e.pingedLanes,u=e.expirationTimes,x=e.pendingLanes&-62914561;0<x;){var S=31-Ae(x),z=1<<S,H=u[S];H===-1?((z&n)===0||(z&s)!==0)&&(u[S]=l0(z,i)):H<=i&&(e.expiredLanes|=z),x&=~z}if(i=Le,n=Be,n=Ms(e,e===i?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,n===0||e===i&&(Fe===2||Fe===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Ta(s),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||za(e,n)){if(i=n&-n,i===e.callbackPriority)return i;switch(s!==null&&Ta(s),Eo(n)){case 2:case 8:n=Q;break;case 32:n=ce;break;case 268435456:n=Ze;break;default:n=ce}return s=Of.bind(null,e),n=An(n,s),e.callbackPriority=i,e.callbackNode=n,i}return s!==null&&s!==null&&Ta(s),e.callbackPriority=2,e.callbackNode=null,2}function Of(e,i){if(Ke!==0&&Ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Tr()&&e.callbackNode!==n)return null;var s=Be;return s=Ms(e,e===Le?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(vf(e,s,i),If(e,dt()),e.callbackNode!=null&&e.callbackNode===n?Of.bind(null,e):null)}function Lf(e,i){if(Tr())return null;vf(e,i,!0)}function Ng(){Vg(function(){(Re&6)!==0?An(Tn,Mg):Nf()})}function cc(){if(qi===0){var e=Qn;e===0&&(e=Ai,Ai<<=1,(Ai&261888)===0&&(Ai=256)),qi=e}return qi}function Uf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ls(""+e)}function Wf(e,i){var n=i.ownerDocument.createElement("input");return n.name=i.name,n.value=i.value,e.id&&n.setAttribute("form",e.id),i.parentNode.insertBefore(n,i),e=new FormData(e),n.parentNode.removeChild(n),e}function Ig(e,i,n,s,u){if(i==="submit"&&n&&n.stateNode===u){var x=Uf((u[ht]||null).action),S=s.submitter;S&&(i=(i=S[ht]||null)?Uf(i.formAction):S.getAttribute("formAction"),i!==null&&(x=i,S=null));var z=new Ps("action","action",null,s,u);e.push({event:z,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(qi!==0){var H=S?Wf(u,S):new FormData(u);Tl(n,{pending:!0,data:H,method:u.method,action:x},null,H)}}else typeof x=="function"&&(z.preventDefault(),H=S?Wf(u,S):new FormData(u),Tl(n,{pending:!0,data:H,method:u.method,action:x},x,H))},currentTarget:u}]})}}for(var dc=0;dc<qo.length;dc++){var uc=qo[dc],Og=uc.toLowerCase(),Lg=uc[0].toUpperCase()+uc.slice(1);$t(Og,"on"+Lg)}$t(mu,"onAnimationEnd"),$t(yu,"onAnimationIteration"),$t(vu,"onAnimationStart"),$t("dblclick","onDoubleClick"),$t("focusin","onFocus"),$t("focusout","onBlur"),$t(tg,"onTransitionRun"),$t(ig,"onTransitionStart"),$t(ng,"onTransitionCancel"),$t(bu,"onTransitionEnd"),Mn("onMouseEnter",["mouseout","mouseover"]),Mn("onMouseLeave",["mouseout","mouseover"]),Mn("onPointerEnter",["pointerout","pointerover"]),Mn("onPointerLeave",["pointerout","pointerover"]),tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),tn("onBeforeInput",["compositionend","keypress","textInput","paste"]),tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ps="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ug=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ps));function Hf(e,i){i=(i&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],u=s.event;s=s.listeners;e:{var x=void 0;if(i)for(var S=s.length-1;0<=S;S--){var z=s[S],H=z.instance,Z=z.currentTarget;if(z=z.listener,H!==x&&u.isPropagationStopped())break e;x=z,u.currentTarget=Z;try{x(u)}catch(ae){qs(ae)}u.currentTarget=null,x=H}else for(S=0;S<s.length;S++){if(z=s[S],H=z.instance,Z=z.currentTarget,z=z.listener,H!==x&&u.isPropagationStopped())break e;x=z,u.currentTarget=Z;try{x(u)}catch(ae){qs(ae)}u.currentTarget=null,x=H}}}}function we(e,i){var n=i[wo];n===void 0&&(n=i[wo]=new Set);var s=e+"__bubble";n.has(s)||(Pf(i,e,2,!1),n.add(s))}function pc(e,i,n){var s=0;i&&(s|=4),Pf(n,e,s,i)}var Rr="_reactListening"+Math.random().toString(36).slice(2);function fc(e){if(!e[Rr]){e[Rr]=!0,Md.forEach(function(n){n!=="selectionchange"&&(Ug.has(n)||pc(n,!1,e),pc(n,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Rr]||(i[Rr]=!0,pc("selectionchange",!1,i))}}function Pf(e,i,n,s){switch(yh(i)){case 2:var u=hm;break;case 8:u=xm;break;default:u=Ac}n=u.bind(null,i,n,e),u=void 0,!_o||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(u=!0),s?u!==void 0?e.addEventListener(i,n,{capture:!0,passive:u}):e.addEventListener(i,n,!0):u!==void 0?e.addEventListener(i,n,{passive:u}):e.addEventListener(i,n,!1)}function hc(e,i,n,s,u){var x=s;if((i&1)===0&&(i&2)===0&&s!==null)e:for(;;){if(s===null)return;var S=s.tag;if(S===3||S===4){var z=s.stateNode.containerInfo;if(z===u)break;if(S===4)for(S=s.return;S!==null;){var H=S.tag;if((H===3||H===4)&&S.stateNode.containerInfo===u)return;S=S.return}for(;z!==null;){if(S=Rn(z),S===null)return;if(H=S.tag,H===5||H===6||H===26||H===27){s=x=S;continue e}z=z.parentNode}}s=s.return}Yd(function(){var Z=x,ae=ko(n),re=[];e:{var ee=Su.get(e);if(ee!==void 0){var te=Ps,pe=e;switch(e){case"keypress":if(Ws(n)===0)break e;case"keydown":case"keyup":te=_0;break;case"focusin":pe="focus",te=Io;break;case"focusout":pe="blur",te=Io;break;case"beforeblur":case"afterblur":te=Io;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Xd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=S0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=N0;break;case mu:case yu:case vu:te=w0;break;case bu:te=O0;break;case"scroll":case"scrollend":te=v0;break;case"wheel":te=U0;break;case"copy":case"cut":case"paste":te=D0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Kd;break;case"toggle":case"beforetoggle":te=H0}var xe=(i&4)!==0,Oe=!xe&&(e==="scroll"||e==="scrollend"),V=xe?ee!==null?ee+"Capture":null:ee;xe=[];for(var q=Z,X;q!==null;){var se=q;if(X=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||X===null||V===null||(se=Fa(q,V),se!=null&&xe.push(fs(q,se,X))),Oe)break;q=q.return}0<xe.length&&(ee=new te(ee,pe,null,n,ae),re.push({event:ee,listeners:xe}))}}if((i&7)===0){e:{if(ee=e==="mouseover"||e==="pointerover",te=e==="mouseout"||e==="pointerout",ee&&n!==zo&&(pe=n.relatedTarget||n.fromElement)&&(Rn(pe)||pe[kn]))break e;if((te||ee)&&(ee=ae.window===ae?ae:(ee=ae.ownerDocument)?ee.defaultView||ee.parentWindow:window,te?(pe=n.relatedTarget||n.toElement,te=Z,pe=pe?Rn(pe):null,pe!==null&&(Oe=c(pe),xe=pe.tag,pe!==Oe||xe!==5&&xe!==27&&xe!==6)&&(pe=null)):(te=null,pe=Z),te!==pe)){if(xe=Xd,se="onMouseLeave",V="onMouseEnter",q="mouse",(e==="pointerout"||e==="pointerover")&&(xe=Kd,se="onPointerLeave",V="onPointerEnter",q="pointer"),Oe=te==null?ee:_a(te),X=pe==null?ee:_a(pe),ee=new xe(se,q+"leave",te,n,ae),ee.target=Oe,ee.relatedTarget=X,se=null,Rn(ae)===Z&&(xe=new xe(V,q+"enter",pe,n,ae),xe.target=X,xe.relatedTarget=Oe,se=xe),Oe=se,te&&pe)t:{for(xe=Wg,V=te,q=pe,X=0,se=V;se;se=xe(se))X++;se=0;for(var he=q;he;he=xe(he))se++;for(;0<X-se;)V=xe(V),X--;for(;0<se-X;)q=xe(q),se--;for(;X--;){if(V===q||q!==null&&V===q.alternate){xe=V;break t}V=xe(V),q=xe(q)}xe=null}else xe=null;te!==null&&$f(re,ee,te,xe,!1),pe!==null&&Oe!==null&&$f(re,Oe,pe,xe,!0)}}e:{if(ee=Z?_a(Z):window,te=ee.nodeName&&ee.nodeName.toLowerCase(),te==="select"||te==="input"&&ee.type==="file")var Te=ru;else if(au(ee))if(ou)Te=K0;else{Te=X0;var fe=Q0}else te=ee.nodeName,!te||te.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Z&&To(Z.elementType)&&(Te=ru):Te=Z0;if(Te&&(Te=Te(e,Z))){su(re,Te,n,ae);break e}fe&&fe(e,ee,Z),e==="focusout"&&Z&&ee.type==="number"&&Z.memoizedProps.value!=null&&Ao(ee,"number",ee.value)}switch(fe=Z?_a(Z):window,e){case"focusin":(au(fe)||fe.contentEditable==="true")&&(Wn=fe,Po=Z,Ha=null);break;case"focusout":Ha=Po=Wn=null;break;case"mousedown":$o=!0;break;case"contextmenu":case"mouseup":case"dragend":$o=!1,xu(re,n,ae);break;case"selectionchange":if(eg)break;case"keydown":case"keyup":xu(re,n,ae)}var be;if(Lo)e:{switch(e){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else Un?iu(e,n)&&(De="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(De="onCompositionStart");De&&(Jd&&n.locale!=="ko"&&(Un||De!=="onCompositionStart"?De==="onCompositionEnd"&&Un&&(be=Vd()):(zi=ae,Fo="value"in zi?zi.value:zi.textContent,Un=!0)),fe=_r(Z,De),0<fe.length&&(De=new Zd(De,e,null,n,ae),re.push({event:De,listeners:fe}),be?De.data=be:(be=nu(n),be!==null&&(De.data=be)))),(be=$0?G0(e,n):q0(e,n))&&(De=_r(Z,"onBeforeInput"),0<De.length&&(fe=new Zd("onBeforeInput","beforeinput",null,n,ae),re.push({event:fe,listeners:De}),fe.data=be)),Ig(re,e,Z,n,ae)}Hf(re,i)})}function fs(e,i,n){return{instance:e,listener:i,currentTarget:n}}function _r(e,i){for(var n=i+"Capture",s=[];e!==null;){var u=e,x=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||x===null||(u=Fa(e,n),u!=null&&s.unshift(fs(e,u,x)),u=Fa(e,i),u!=null&&s.push(fs(e,u,x))),e.tag===3)return s;e=e.return}return[]}function Wg(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function $f(e,i,n,s,u){for(var x=i._reactName,S=[];n!==null&&n!==s;){var z=n,H=z.alternate,Z=z.stateNode;if(z=z.tag,H!==null&&H===s)break;z!==5&&z!==26&&z!==27||Z===null||(H=Z,u?(Z=Fa(n,x),Z!=null&&S.unshift(fs(n,Z,H))):u||(Z=Fa(n,x),Z!=null&&S.push(fs(n,Z,H)))),n=n.return}S.length!==0&&e.push({event:i,listeners:S})}var Hg=/\r\n?/g,Pg=/\u0000|\uFFFD/g;function Gf(e){return(typeof e=="string"?e:""+e).replace(Hg,`
`).replace(Pg,"")}function qf(e,i){return i=Gf(i),Gf(e)===i}function Ie(e,i,n,s,u,x){switch(n){case"children":typeof s=="string"?i==="body"||i==="textarea"&&s===""||In(e,s):(typeof s=="number"||typeof s=="bigint")&&i!=="body"&&In(e,""+s);break;case"className":Is(e,"class",s);break;case"tabIndex":Is(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Is(e,n,s);break;case"style":Gd(e,s,x);break;case"data":if(i!=="object"){Is(e,"data",s);break}case"src":case"href":if(s===""&&(i!=="a"||n!=="href")){e.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=Ls(""+s),e.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(n==="formAction"?(i!=="input"&&Ie(e,i,"name",u.name,u,null),Ie(e,i,"formEncType",u.formEncType,u,null),Ie(e,i,"formMethod",u.formMethod,u,null),Ie(e,i,"formTarget",u.formTarget,u,null)):(Ie(e,i,"encType",u.encType,u,null),Ie(e,i,"method",u.method,u,null),Ie(e,i,"target",u.target,u,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=Ls(""+s),e.setAttribute(n,s);break;case"onClick":s!=null&&(e.onclick=si);break;case"onScroll":s!=null&&we("scroll",e);break;case"onScrollEnd":s!=null&&we("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(n=s.__html,n!=null){if(u.children!=null)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}n=Ls(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""+s):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":s===!0?e.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,s):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(n,s):e.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(n):e.setAttribute(n,s);break;case"popover":we("beforetoggle",e),we("toggle",e),Ns(e,"popover",s);break;case"xlinkActuate":ai(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":ai(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":ai(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":ai(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":ai(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":ai(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":ai(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":ai(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":ai(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Ns(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=m0.get(n)||n,Ns(e,n,s))}}function xc(e,i,n,s,u,x){switch(n){case"style":Gd(e,s,x);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(n=s.__html,n!=null){if(u.children!=null)throw Error(a(60));e.innerHTML=n}}break;case"children":typeof s=="string"?In(e,s):(typeof s=="number"||typeof s=="bigint")&&In(e,""+s);break;case"onScroll":s!=null&&we("scroll",e);break;case"onScrollEnd":s!=null&&we("scrollend",e);break;case"onClick":s!=null&&(e.onclick=si);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nd.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(u=n.endsWith("Capture"),i=n.slice(2,u?n.length-7:void 0),x=e[ht]||null,x=x!=null?x[n]:null,typeof x=="function"&&e.removeEventListener(i,x,u),typeof s=="function")){typeof x!="function"&&x!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(i,s,u);break e}n in e?e[n]=s:s===!0?e.setAttribute(n,""):Ns(e,n,s)}}}function rt(e,i,n){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":we("error",e),we("load",e);var s=!1,u=!1,x;for(x in n)if(n.hasOwnProperty(x)){var S=n[x];if(S!=null)switch(x){case"src":s=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Ie(e,i,x,S,n,null)}}u&&Ie(e,i,"srcSet",n.srcSet,n,null),s&&Ie(e,i,"src",n.src,n,null);return;case"input":we("invalid",e);var z=x=S=u=null,H=null,Z=null;for(s in n)if(n.hasOwnProperty(s)){var ae=n[s];if(ae!=null)switch(s){case"name":u=ae;break;case"type":S=ae;break;case"checked":H=ae;break;case"defaultChecked":Z=ae;break;case"value":x=ae;break;case"defaultValue":z=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(a(137,i));break;default:Ie(e,i,s,ae,n,null)}}Wd(e,x,z,H,Z,S,u,!1);return;case"select":we("invalid",e),s=S=x=null;for(u in n)if(n.hasOwnProperty(u)&&(z=n[u],z!=null))switch(u){case"value":x=z;break;case"defaultValue":S=z;break;case"multiple":s=z;default:Ie(e,i,u,z,n,null)}i=x,n=S,e.multiple=!!s,i!=null?Nn(e,!!s,i,!1):n!=null&&Nn(e,!!s,n,!0);return;case"textarea":we("invalid",e),x=u=s=null;for(S in n)if(n.hasOwnProperty(S)&&(z=n[S],z!=null))switch(S){case"value":s=z;break;case"defaultValue":u=z;break;case"children":x=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(91));break;default:Ie(e,i,S,z,n,null)}Pd(e,s,u,x);return;case"option":for(H in n)if(n.hasOwnProperty(H)&&(s=n[H],s!=null))switch(H){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ie(e,i,H,s,n,null)}return;case"dialog":we("beforetoggle",e),we("toggle",e),we("cancel",e),we("close",e);break;case"iframe":case"object":we("load",e);break;case"video":case"audio":for(s=0;s<ps.length;s++)we(ps[s],e);break;case"image":we("error",e),we("load",e);break;case"details":we("toggle",e);break;case"embed":case"source":case"link":we("error",e),we("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in n)if(n.hasOwnProperty(Z)&&(s=n[Z],s!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Ie(e,i,Z,s,n,null)}return;default:if(To(i)){for(ae in n)n.hasOwnProperty(ae)&&(s=n[ae],s!==void 0&&xc(e,i,ae,s,n,void 0));return}}for(z in n)n.hasOwnProperty(z)&&(s=n[z],s!=null&&Ie(e,i,z,s,n,null))}function $g(e,i,n,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,x=null,S=null,z=null,H=null,Z=null,ae=null;for(te in n){var re=n[te];if(n.hasOwnProperty(te)&&re!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":H=re;default:s.hasOwnProperty(te)||Ie(e,i,te,null,s,re)}}for(var ee in s){var te=s[ee];if(re=n[ee],s.hasOwnProperty(ee)&&(te!=null||re!=null))switch(ee){case"type":x=te;break;case"name":u=te;break;case"checked":Z=te;break;case"defaultChecked":ae=te;break;case"value":S=te;break;case"defaultValue":z=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(a(137,i));break;default:te!==re&&Ie(e,i,ee,te,s,re)}}Co(e,S,z,H,Z,ae,x,u);return;case"select":te=S=z=ee=null;for(x in n)if(H=n[x],n.hasOwnProperty(x)&&H!=null)switch(x){case"value":break;case"multiple":te=H;default:s.hasOwnProperty(x)||Ie(e,i,x,null,s,H)}for(u in s)if(x=s[u],H=n[u],s.hasOwnProperty(u)&&(x!=null||H!=null))switch(u){case"value":ee=x;break;case"defaultValue":z=x;break;case"multiple":S=x;default:x!==H&&Ie(e,i,u,x,s,H)}i=z,n=S,s=te,ee!=null?Nn(e,!!n,ee,!1):!!s!=!!n&&(i!=null?Nn(e,!!n,i,!0):Nn(e,!!n,n?[]:"",!1));return;case"textarea":te=ee=null;for(z in n)if(u=n[z],n.hasOwnProperty(z)&&u!=null&&!s.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:Ie(e,i,z,null,s,u)}for(S in s)if(u=s[S],x=n[S],s.hasOwnProperty(S)&&(u!=null||x!=null))switch(S){case"value":ee=u;break;case"defaultValue":te=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(a(91));break;default:u!==x&&Ie(e,i,S,u,s,x)}Hd(e,ee,te);return;case"option":for(var pe in n)if(ee=n[pe],n.hasOwnProperty(pe)&&ee!=null&&!s.hasOwnProperty(pe))switch(pe){case"selected":e.selected=!1;break;default:Ie(e,i,pe,null,s,ee)}for(H in s)if(ee=s[H],te=n[H],s.hasOwnProperty(H)&&ee!==te&&(ee!=null||te!=null))switch(H){case"selected":e.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:Ie(e,i,H,ee,s,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in n)ee=n[xe],n.hasOwnProperty(xe)&&ee!=null&&!s.hasOwnProperty(xe)&&Ie(e,i,xe,null,s,ee);for(Z in s)if(ee=s[Z],te=n[Z],s.hasOwnProperty(Z)&&ee!==te&&(ee!=null||te!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(a(137,i));break;default:Ie(e,i,Z,ee,s,te)}return;default:if(To(i)){for(var Oe in n)ee=n[Oe],n.hasOwnProperty(Oe)&&ee!==void 0&&!s.hasOwnProperty(Oe)&&xc(e,i,Oe,void 0,s,ee);for(ae in s)ee=s[ae],te=n[ae],!s.hasOwnProperty(ae)||ee===te||ee===void 0&&te===void 0||xc(e,i,ae,ee,s,te);return}}for(var V in n)ee=n[V],n.hasOwnProperty(V)&&ee!=null&&!s.hasOwnProperty(V)&&Ie(e,i,V,null,s,ee);for(re in s)ee=s[re],te=n[re],!s.hasOwnProperty(re)||ee===te||ee==null&&te==null||Ie(e,i,re,ee,s,te)}function Yf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Gg(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,n=performance.getEntriesByType("resource"),s=0;s<n.length;s++){var u=n[s],x=u.transferSize,S=u.initiatorType,z=u.duration;if(x&&z&&Yf(S)){for(S=0,z=u.responseEnd,s+=1;s<n.length;s++){var H=n[s],Z=H.startTime;if(Z>z)break;var ae=H.transferSize,re=H.initiatorType;ae&&Yf(re)&&(H=H.responseEnd,S+=ae*(H<z?1:(z-Z)/(H-Z)))}if(--s,i+=8*(x+S)/(u.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var gc=null,mc=null;function Fr(e){return e.nodeType===9?e:e.ownerDocument}function Vf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qf(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function yc(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var vc=null;function qg(){var e=window.event;return e&&e.type==="popstate"?e===vc?!1:(vc=e,!0):(vc=null,!1)}var Xf=typeof setTimeout=="function"?setTimeout:void 0,Yg=typeof clearTimeout=="function"?clearTimeout:void 0,Zf=typeof Promise=="function"?Promise:void 0,Vg=typeof queueMicrotask=="function"?queueMicrotask:typeof Zf<"u"?function(e){return Zf.resolve(null).then(e).catch(Qg)}:Xf;function Qg(e){setTimeout(function(){throw e})}function Yi(e){return e==="head"}function Kf(e,i){var n=i,s=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"||n==="/&"){if(s===0){e.removeChild(u),ha(i);return}s--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")s++;else if(n==="html")hs(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,hs(n);for(var x=n.firstChild;x;){var S=x.nextSibling,z=x.nodeName;x[Ra]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&x.rel.toLowerCase()==="stylesheet"||n.removeChild(x),x=S}}else n==="body"&&hs(e.ownerDocument.body);n=u}while(n);ha(i)}function Jf(e,i){var n=e;e=0;do{var s=n.nextSibling;if(n.nodeType===1?i?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(i?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=s}while(n)}function bc(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var n=i;switch(i=i.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":bc(n),Bo(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Xg(e,i,n,s){for(;e.nodeType===1;){var u=n;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Ra])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(x=e.getAttribute("rel"),x==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(x!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(x=e.getAttribute("src"),(x!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&x&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var x=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===x)return e}else return e;if(e=Wt(e.nextSibling),e===null)break}return null}function Zg(e,i,n){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Wt(e.nextSibling),e===null))return null;return e}function eh(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Wt(e.nextSibling),e===null))return null;return e}function Sc(e){return e.data==="$?"||e.data==="$~"}function jc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Kg(e,i){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||n.readyState!=="loading")i();else{var s=function(){i(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Wt(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Ec=null;function th(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(i===0)return Wt(e.nextSibling);i--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||i++}e=e.nextSibling}return null}function ih(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(i===0)return e;i--}else n!=="/$"&&n!=="/&"||i++}e=e.previousSibling}return null}function nh(e,i,n){switch(i=Fr(n),e){case"html":if(e=i.documentElement,!e)throw Error(a(452));return e;case"head":if(e=i.head,!e)throw Error(a(453));return e;case"body":if(e=i.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function hs(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Bo(e)}var Ht=new Map,ah=new Set;function Mr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Si=M.d;M.d={f:Jg,r:em,D:tm,C:im,L:nm,m:am,X:rm,S:sm,M:om};function Jg(){var e=Si.f(),i=Dr();return e||i}function em(e){var i=_n(e);i!==null&&i.tag===5&&i.type==="form"?bp(i):Si.r(e)}var ua=typeof document>"u"?null:document;function sh(e,i,n){var s=ua;if(s&&typeof i=="string"&&i){var u=Ft(i);u='link[rel="'+e+'"][href="'+u+'"]',typeof n=="string"&&(u+='[crossorigin="'+n+'"]'),ah.has(u)||(ah.add(u),e={rel:e,crossOrigin:n,href:i},s.querySelector(u)===null&&(i=s.createElement("link"),rt(i,"link",e),et(i),s.head.appendChild(i)))}}function tm(e){Si.D(e),sh("dns-prefetch",e,null)}function im(e,i){Si.C(e,i),sh("preconnect",e,i)}function nm(e,i,n){Si.L(e,i,n);var s=ua;if(s&&e&&i){var u='link[rel="preload"][as="'+Ft(i)+'"]';i==="image"&&n&&n.imageSrcSet?(u+='[imagesrcset="'+Ft(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(u+='[imagesizes="'+Ft(n.imageSizes)+'"]')):u+='[href="'+Ft(e)+'"]';var x=u;switch(i){case"style":x=pa(e);break;case"script":x=fa(e)}Ht.has(x)||(e=v({rel:"preload",href:i==="image"&&n&&n.imageSrcSet?void 0:e,as:i},n),Ht.set(x,e),s.querySelector(u)!==null||i==="style"&&s.querySelector(xs(x))||i==="script"&&s.querySelector(gs(x))||(i=s.createElement("link"),rt(i,"link",e),et(i),s.head.appendChild(i)))}}function am(e,i){Si.m(e,i);var n=ua;if(n&&e){var s=i&&typeof i.as=="string"?i.as:"script",u='link[rel="modulepreload"][as="'+Ft(s)+'"][href="'+Ft(e)+'"]',x=u;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=fa(e)}if(!Ht.has(x)&&(e=v({rel:"modulepreload",href:e},i),Ht.set(x,e),n.querySelector(u)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(gs(x)))return}s=n.createElement("link"),rt(s,"link",e),et(s),n.head.appendChild(s)}}}function sm(e,i,n){Si.S(e,i,n);var s=ua;if(s&&e){var u=Fn(s).hoistableStyles,x=pa(e);i=i||"default";var S=u.get(x);if(!S){var z={loading:0,preload:null};if(S=s.querySelector(xs(x)))z.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":i},n),(n=Ht.get(x))&&wc(e,n);var H=S=s.createElement("link");et(H),rt(H,"link",e),H._p=new Promise(function(Z,ae){H.onload=Z,H.onerror=ae}),H.addEventListener("load",function(){z.loading|=1}),H.addEventListener("error",function(){z.loading|=2}),z.loading|=4,Nr(S,i,s)}S={type:"stylesheet",instance:S,count:1,state:z},u.set(x,S)}}}function rm(e,i){Si.X(e,i);var n=ua;if(n&&e){var s=Fn(n).hoistableScripts,u=fa(e),x=s.get(u);x||(x=n.querySelector(gs(u)),x||(e=v({src:e,async:!0},i),(i=Ht.get(u))&&Bc(e,i),x=n.createElement("script"),et(x),rt(x,"link",e),n.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},s.set(u,x))}}function om(e,i){Si.M(e,i);var n=ua;if(n&&e){var s=Fn(n).hoistableScripts,u=fa(e),x=s.get(u);x||(x=n.querySelector(gs(u)),x||(e=v({src:e,async:!0,type:"module"},i),(i=Ht.get(u))&&Bc(e,i),x=n.createElement("script"),et(x),rt(x,"link",e),n.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},s.set(u,x))}}function rh(e,i,n,s){var u=(u=ue.current)?Mr(u):null;if(!u)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(i=pa(n.href),n=Fn(u).hoistableStyles,s=n.get(i),s||(s={type:"style",instance:null,count:0,state:null},n.set(i,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=pa(n.href);var x=Fn(u).hoistableStyles,S=x.get(e);if(S||(u=u.ownerDocument||u,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(e,S),(x=u.querySelector(xs(e)))&&!x._p&&(S.instance=x,S.state.loading=5),Ht.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ht.set(e,n),x||lm(u,e,n,S.state))),i&&s===null)throw Error(a(528,""));return S}if(i&&s!==null)throw Error(a(529,""));return null;case"script":return i=n.async,n=n.src,typeof n=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=fa(n),n=Fn(u).hoistableScripts,s=n.get(i),s||(s={type:"script",instance:null,count:0,state:null},n.set(i,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function pa(e){return'href="'+Ft(e)+'"'}function xs(e){return'link[rel="stylesheet"]['+e+"]"}function oh(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function lm(e,i,n,s){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?s.loading=1:(i=e.createElement("link"),s.preload=i,i.addEventListener("load",function(){return s.loading|=1}),i.addEventListener("error",function(){return s.loading|=2}),rt(i,"link",n),et(i),e.head.appendChild(i))}function fa(e){return'[src="'+Ft(e)+'"]'}function gs(e){return"script[async]"+e}function lh(e,i,n){if(i.count++,i.instance===null)switch(i.type){case"style":var s=e.querySelector('style[data-href~="'+Ft(n.href)+'"]');if(s)return i.instance=s,et(s),s;var u=v({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),et(s),rt(s,"style",u),Nr(s,n.precedence,e),i.instance=s;case"stylesheet":u=pa(n.href);var x=e.querySelector(xs(u));if(x)return i.state.loading|=4,i.instance=x,et(x),x;s=oh(n),(u=Ht.get(u))&&wc(s,u),x=(e.ownerDocument||e).createElement("link"),et(x);var S=x;return S._p=new Promise(function(z,H){S.onload=z,S.onerror=H}),rt(x,"link",s),i.state.loading|=4,Nr(x,n.precedence,e),i.instance=x;case"script":return x=fa(n.src),(u=e.querySelector(gs(x)))?(i.instance=u,et(u),u):(s=n,(u=Ht.get(x))&&(s=v({},n),Bc(s,u)),e=e.ownerDocument||e,u=e.createElement("script"),et(u),rt(u,"link",s),e.head.appendChild(u),i.instance=u);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(s=i.instance,i.state.loading|=4,Nr(s,n.precedence,e));return i.instance}function Nr(e,i,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=s.length?s[s.length-1]:null,x=u,S=0;S<s.length;S++){var z=s[S];if(z.dataset.precedence===i)x=z;else if(x!==u)break}x?x.parentNode.insertBefore(e,x.nextSibling):(i=n.nodeType===9?n.head:n,i.insertBefore(e,i.firstChild))}function wc(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Bc(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Ir=null;function ch(e,i,n){if(Ir===null){var s=new Map,u=Ir=new Map;u.set(n,s)}else u=Ir,s=u.get(n),s||(s=new Map,u.set(n,s));if(s.has(e))return s;for(s.set(e,null),n=n.getElementsByTagName(e),u=0;u<n.length;u++){var x=n[u];if(!(x[Ra]||x[it]||e==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var S=x.getAttribute(i)||"";S=e+S;var z=s.get(S);z?z.push(x):s.set(S,[x])}}return s}function dh(e,i,n){e=e.ownerDocument||e,e.head.insertBefore(n,i==="title"?e.querySelector("head > title"):null)}function cm(e,i,n){if(n===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function uh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function dm(e,i,n,s){if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=pa(s.href),x=i.querySelector(xs(u));if(x){i=x._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Or.bind(e),i.then(e,e)),n.state.loading|=4,n.instance=x,et(x);return}x=i.ownerDocument||i,s=oh(s),(u=Ht.get(u))&&wc(s,u),x=x.createElement("link"),et(x);var S=x;S._p=new Promise(function(z,H){S.onload=z,S.onerror=H}),rt(x,"link",s),n.instance=x}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,i),(i=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Or.bind(e),i.addEventListener("load",n),i.addEventListener("error",n))}}var Dc=0;function um(e,i){return e.stylesheets&&e.count===0&&Ur(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var s=setTimeout(function(){if(e.stylesheets&&Ur(e,e.stylesheets),e.unsuspend){var x=e.unsuspend;e.unsuspend=null,x()}},6e4+i);0<e.imgBytes&&Dc===0&&(Dc=62500*Gg());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ur(e,e.stylesheets),e.unsuspend)){var x=e.unsuspend;e.unsuspend=null,x()}},(e.imgBytes>Dc?50:800)+i);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(u)}}:null}function Or(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ur(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Lr=null;function Ur(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Lr=new Map,i.forEach(pm,e),Lr=null,Or.call(e))}function pm(e,i){if(!(i.state.loading&4)){var n=Lr.get(e);if(n)var s=n.get(null);else{n=new Map,Lr.set(e,n);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<u.length;x++){var S=u[x];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(n.set(S.dataset.precedence,S),s=S)}s&&n.set(null,s)}u=i.instance,S=u.getAttribute("data-precedence"),x=n.get(S)||s,x===s&&n.set(null,u),n.set(S,u),this.count++,s=Or.bind(this),u.addEventListener("load",s),u.addEventListener("error",s),x?x.parentNode.insertBefore(u,x.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),i.state.loading|=4}}var ms={$$typeof:C,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function fm(e,i,n,s,u,x,S,z,H){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=So(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=So(0),this.hiddenUpdates=So(null),this.identifierPrefix=s,this.onUncaughtError=u,this.onCaughtError=x,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function ph(e,i,n,s,u,x,S,z,H,Z,ae,re){return e=new fm(e,i,n,S,H,Z,ae,re,z),i=1,x===!0&&(i|=24),x=Ct(3,null,null,i),e.current=x,x.stateNode=e,i=sl(),i.refCount++,e.pooledCache=i,i.refCount++,x.memoizedState={element:s,isDehydrated:n,cache:i},cl(x),e}function fh(e){return e?(e=$n,e):$n}function hh(e,i,n,s,u,x){u=fh(u),s.context===null?s.context=u:s.pendingContext=u,s=Ni(i),s.payload={element:n},x=x===void 0?null:x,x!==null&&(s.callback=x),n=Ii(e,s,i),n!==null&&(bt(n,e,i),Qa(n,e,i))}function xh(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<i?n:i}}function Cc(e,i){xh(e,i),(e=e.alternate)&&xh(e,i)}function gh(e){if(e.tag===13||e.tag===31){var i=rn(e,67108864);i!==null&&bt(i,e,67108864),Cc(e,67108864)}}function mh(e){if(e.tag===13||e.tag===31){var i=Rt();i=jo(i);var n=rn(e,i);n!==null&&bt(n,e,i),Cc(e,i)}}var Wr=!0;function hm(e,i,n,s){var u=F.T;F.T=null;var x=M.p;try{M.p=2,Ac(e,i,n,s)}finally{M.p=x,F.T=u}}function xm(e,i,n,s){var u=F.T;F.T=null;var x=M.p;try{M.p=8,Ac(e,i,n,s)}finally{M.p=x,F.T=u}}function Ac(e,i,n,s){if(Wr){var u=Tc(s);if(u===null)hc(e,i,s,Hr,n),vh(e,s);else if(mm(u,e,i,n,s))s.stopPropagation();else if(vh(e,s),i&4&&-1<gm.indexOf(e)){for(;u!==null;){var x=_n(u);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var S=en(x.pendingLanes);if(S!==0){var z=x;for(z.pendingLanes|=2,z.entangledLanes|=2;S;){var H=1<<31-Ae(S);z.entanglements[1]|=H,S&=~H}ei(x),(Re&6)===0&&(wr=dt()+500,us(0))}}break;case 31:case 13:z=rn(x,2),z!==null&&bt(z,x,2),Dr(),Cc(x,2)}if(x=Tc(s),x===null&&hc(e,i,s,Hr,n),x===u)break;u=x}u!==null&&s.stopPropagation()}else hc(e,i,s,null,n)}}function Tc(e){return e=ko(e),zc(e)}var Hr=null;function zc(e){if(Hr=null,e=Rn(e),e!==null){var i=c(e);if(i===null)e=null;else{var n=i.tag;if(n===13){if(e=p(i),e!==null)return e;e=null}else if(n===31){if(e=f(i),e!==null)return e;e=null}else if(n===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Hr=e,null}function yh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bo()){case Tn:return 2;case Q:return 8;case ce:case ye:return 32;case Ze:return 268435456;default:return 32}default:return 32}}var kc=!1,Vi=null,Qi=null,Xi=null,ys=new Map,vs=new Map,Zi=[],gm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vh(e,i){switch(e){case"focusin":case"focusout":Vi=null;break;case"dragenter":case"dragleave":Qi=null;break;case"mouseover":case"mouseout":Xi=null;break;case"pointerover":case"pointerout":ys.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":vs.delete(i.pointerId)}}function bs(e,i,n,s,u,x){return e===null||e.nativeEvent!==x?(e={blockedOn:i,domEventName:n,eventSystemFlags:s,nativeEvent:x,targetContainers:[u]},i!==null&&(i=_n(i),i!==null&&gh(i)),e):(e.eventSystemFlags|=s,i=e.targetContainers,u!==null&&i.indexOf(u)===-1&&i.push(u),e)}function mm(e,i,n,s,u){switch(i){case"focusin":return Vi=bs(Vi,e,i,n,s,u),!0;case"dragenter":return Qi=bs(Qi,e,i,n,s,u),!0;case"mouseover":return Xi=bs(Xi,e,i,n,s,u),!0;case"pointerover":var x=u.pointerId;return ys.set(x,bs(ys.get(x)||null,e,i,n,s,u)),!0;case"gotpointercapture":return x=u.pointerId,vs.set(x,bs(vs.get(x)||null,e,i,n,s,u)),!0}return!1}function bh(e){var i=Rn(e.target);if(i!==null){var n=c(i);if(n!==null){if(i=n.tag,i===13){if(i=p(n),i!==null){e.blockedOn=i,_d(e.priority,function(){mh(n)});return}}else if(i===31){if(i=f(n),i!==null){e.blockedOn=i,_d(e.priority,function(){mh(n)});return}}else if(i===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pr(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var n=Tc(e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);zo=s,n.target.dispatchEvent(s),zo=null}else return i=_n(n),i!==null&&gh(i),e.blockedOn=n,!1;i.shift()}return!0}function Sh(e,i,n){Pr(e)&&n.delete(i)}function ym(){kc=!1,Vi!==null&&Pr(Vi)&&(Vi=null),Qi!==null&&Pr(Qi)&&(Qi=null),Xi!==null&&Pr(Xi)&&(Xi=null),ys.forEach(Sh),vs.forEach(Sh)}function $r(e,i){e.blockedOn===i&&(e.blockedOn=null,kc||(kc=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,ym)))}var Gr=null;function jh(e){Gr!==e&&(Gr=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){Gr===e&&(Gr=null);for(var i=0;i<e.length;i+=3){var n=e[i],s=e[i+1],u=e[i+2];if(typeof s!="function"){if(zc(s||n)===null)continue;break}var x=_n(n);x!==null&&(e.splice(i,3),i-=3,Tl(x,{pending:!0,data:u,method:n.method,action:s},s,u))}}))}function ha(e){function i(H){return $r(H,e)}Vi!==null&&$r(Vi,e),Qi!==null&&$r(Qi,e),Xi!==null&&$r(Xi,e),ys.forEach(i),vs.forEach(i);for(var n=0;n<Zi.length;n++){var s=Zi[n];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Zi.length&&(n=Zi[0],n.blockedOn===null);)bh(n),n.blockedOn===null&&Zi.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var u=n[s],x=n[s+1],S=u[ht]||null;if(typeof x=="function")S||jh(n);else if(S){var z=null;if(x&&x.hasAttribute("formAction")){if(u=x,S=x[ht]||null)z=S.formAction;else if(zc(u)!==null)continue}else z=S.action;typeof z=="function"?n[s+1]=z:(n.splice(s,3),s-=3),jh(n)}}}function Eh(){function e(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(S){return u=S})},focusReset:"manual",scroll:"manual"})}function i(){u!==null&&(u(),u=null),s||setTimeout(n,20)}function n(){if(!s&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(n,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),u!==null&&(u(),u=null)}}}function Rc(e){this._internalRoot=e}qr.prototype.render=Rc.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(a(409));var n=i.current,s=Rt();hh(n,s,e,i,null,null)},qr.prototype.unmount=Rc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;hh(e.current,2,null,e,null,null),Dr(),i[kn]=null}};function qr(e){this._internalRoot=e}qr.prototype.unstable_scheduleHydration=function(e){if(e){var i=Rd();e={blockedOn:null,target:e,priority:i};for(var n=0;n<Zi.length&&i!==0&&i<Zi[n].priority;n++);Zi.splice(n,0,e),n===0&&bh(e)}};var wh=d.version;if(wh!=="19.2.0")throw Error(a(527,wh,"19.2.0"));M.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=h(i),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var vm={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yr.isDisabled&&Yr.supportsFiber)try{Bt=Yr.inject(vm),ke=Yr}catch{}}return js.createRoot=function(e,i){if(!r(e))throw Error(a(299));var n=!1,s="",u=zp,x=kp,S=Rp;return i!=null&&(i.unstable_strictMode===!0&&(n=!0),i.identifierPrefix!==void 0&&(s=i.identifierPrefix),i.onUncaughtError!==void 0&&(u=i.onUncaughtError),i.onCaughtError!==void 0&&(x=i.onCaughtError),i.onRecoverableError!==void 0&&(S=i.onRecoverableError)),i=ph(e,1,!1,null,null,n,s,null,u,x,S,Eh),e[kn]=i.current,fc(e),new Rc(i)},js.hydrateRoot=function(e,i,n){if(!r(e))throw Error(a(299));var s=!1,u="",x=zp,S=kp,z=Rp,H=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(x=n.onUncaughtError),n.onCaughtError!==void 0&&(S=n.onCaughtError),n.onRecoverableError!==void 0&&(z=n.onRecoverableError),n.formState!==void 0&&(H=n.formState)),i=ph(e,1,!0,i,n??null,s,u,H,x,S,z,Eh),i.context=fh(null),n=i.current,s=Rt(),s=jo(s),u=Ni(s),u.callback=null,Ii(n,u,s),n=s,i.current.lanes=n,ka(i,n),ei(i),e[kn]=i.current,fc(e),new qr(i)},js.version="19.2.0",js}var Fh;function zm(){if(Fh)return Mc.exports;Fh=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(d){console.error(d)}}return o(),Mc.exports=Tm(),Mc.exports}var km=zm();const ot={GITLAB_URL:"gitlab_url",GITLAB_TOKEN:"gitlab_token",PROJECT_ID:"gitlab_project",GROUP_PATH:"gitlab_group_path",FILTER_2025:"gitlab_filter_2025",RISKS:"project_risks",PROJECTS:"portfolio_projects",ACTIVE_PROJECT:"active_project_id"};function Dx(o){localStorage.setItem(ot.GITLAB_URL,o.gitlabUrl||""),localStorage.setItem(ot.GITLAB_TOKEN,o.token||""),localStorage.setItem(ot.PROJECT_ID,o.projectId||""),localStorage.setItem(ot.GROUP_PATH,o.groupPath||""),o.filter2025!==void 0&&localStorage.setItem(ot.FILTER_2025,o.filter2025.toString())}function Ci(){const o=localStorage.getItem(ot.FILTER_2025),d=o!==null?o==="true":!1;return{gitlabUrl:localStorage.getItem(ot.GITLAB_URL)||"https://gitlab.com",token:localStorage.getItem(ot.GITLAB_TOKEN)||"",projectId:localStorage.getItem(ot.PROJECT_ID)||"",groupPath:localStorage.getItem(ot.GROUP_PATH)||"",filter2025:d}}function Di(){const o=Ci();return!!(o.gitlabUrl&&o.token&&o.projectId)}function Mh(){const o=localStorage.getItem(ot.RISKS);return o?JSON.parse(o):[]}function Rm(o){localStorage.setItem(ot.RISKS,JSON.stringify(o))}function Ea(){const o=localStorage.getItem(ot.PROJECTS);return o?JSON.parse(o):[]}function _m(o){const d=Ea(),l=d.findIndex(a=>a.id===o.id);return l>=0?d[l]={...d[l],...o}:d.push({id:o.id||Date.now().toString(),name:o.name,gitlabUrl:o.gitlabUrl,token:o.token,projectId:o.projectId,groupPath:o.groupPath||"",addedAt:new Date().toISOString()}),localStorage.setItem(ot.PROJECTS,JSON.stringify(d)),d}function Fm(o){const l=Ea().filter(a=>a.id!==o);return localStorage.setItem(ot.PROJECTS,JSON.stringify(l)),l}function ba(){return localStorage.getItem(ot.ACTIVE_PROJECT)}function nd(o){localStorage.setItem(ot.ACTIVE_PROJECT,o);const l=Ea().find(a=>a.id===o);l&&Dx({gitlabUrl:l.gitlabUrl,token:l.token,projectId:l.projectId,groupPath:l.groupPath})}const Mm="modulepreload",Nm=function(o,d){return new URL(o,d).href},Nh={},fd=function(d,l,a){let r=Promise.resolve();if(l&&l.length>0){let h=function(y){return Promise.all(y.map(v=>Promise.resolve(v).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};const p=document.getElementsByTagName("link"),f=document.querySelector("meta[property=csp-nonce]"),g=f?.nonce||f?.getAttribute("nonce");r=h(l.map(y=>{if(y=Nm(y,a),y in Nh)return;Nh[y]=!0;const v=y.endsWith(".css"),m=v?'[rel="stylesheet"]':"";if(a)for(let j=p.length-1;j>=0;j--){const E=p[j];if(E.href===y&&(!v||E.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${y}"]${m}`))return;const b=document.createElement("link");if(b.rel=v?"stylesheet":Mm,v||(b.as="script"),b.crossOrigin="",b.href=y,g&&b.setAttribute("nonce",g),document.head.appendChild(b),v)return new Promise((j,E)=>{b.addEventListener("load",j),b.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${y}`)))})}))}function c(p){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=p,window.dispatchEvent(f),!f.defaultPrevented)throw p}return r.then(p=>{for(const f of p||[])f.status==="rejected"&&c(f.reason);return d().catch(c)})};async function Im(o,d,l){const a=encodeURIComponent(d),r=`${o}/api/v4/projects/${a}`;console.log("Validating project access..."),console.log("  URL:",r);const c=await fetch(r,{headers:{"PRIVATE-TOKEN":l}});if(!c.ok){const f=await c.text();throw console.error("Project validation failed:",f),c.status===404?new Error(`Project not found: "${d}"

Possible issues:
- Project ID might be incorrect
- Use either numeric ID (e.g., "12345") or full path (e.g., "namespace/project-name")
- Check if the token has access to this project
- Verify the GitLab URL is correct`):c.status===401?new Error("Authentication failed: Invalid or expired access token"):new Error(`Project validation error: ${c.status} - ${c.statusText}`)}const p=await c.json();return console.log(" Project validated:",p.name),console.log("  Full path:",p.path_with_namespace),console.log("  Numeric ID:",p.id),p}async function Om(o,d,l){const a=encodeURIComponent(d);let r=[],c=1;const p=100;for(console.log("Fetching issues with pagination..."),console.log("  GitLab URL:",o),console.log("  Project ID:",d),console.log("  Encoded Project ID:",a);;){const f=`${o}/api/v4/projects/${a}/issues?per_page=${p}&page=${c}&scope=all&with_iterations=true`;console.log("  API Request URL:",f);const g=await fetch(f,{headers:{"PRIVATE-TOKEN":l}});if(!g.ok){const y=await g.text();throw console.error("API Error Response:",y),new Error(`Issues API Error: ${g.status} - ${g.statusText}
URL: ${f}
Project ID: ${d}
Encoded: ${a}
Response: ${y}`)}const h=await g.json();if(h.length===0||(r=r.concat(h),console.log(`  Fetched page ${c}: ${h.length} issues (total: ${r.length})`),h.length<p))break;c++}if(console.log(` Loaded ${r.length} total issues from ${c} page(s)`),r.length>0){console.log("=== ITERATION DEBUG ===");const f=Math.min(3,r.length);for(let y=0;y<f;y++){const v=r[y];console.log(`Issue #${v.iid} (${v.title}):`),console.log("  - iteration field:",v.iteration),console.log("  - labels:",v.labels)}const g=r.filter(y=>y.iteration).length,h=r.filter(y=>y.labels&&y.labels.some(v=>v.toLowerCase().startsWith("sprint")||v.toLowerCase().startsWith("iteration"))).length;console.log(`Summary: ${g} issues with iteration field, ${h} with iteration/sprint labels`),console.log("======================")}return r}async function Lm(o,d,l){const a=encodeURIComponent(d);let r=[],c=1;const p=100;for(console.log("Fetching milestones with pagination...");;){const f=await fetch(`${o}/api/v4/projects/${a}/milestones?per_page=${p}&page=${c}`,{headers:{"PRIVATE-TOKEN":l}});if(!f.ok)throw new Error(`Milestones API Error: ${f.status}`);const g=await f.json();if(g.length===0||(r=r.concat(g),console.log(`  Fetched page ${c}: ${g.length} milestones (total: ${r.length})`),g.length<p))break;c++}return console.log(` Loaded ${r.length} total milestones from ${c} page(s)`),r}async function Um(o,d,l){if(!d)return[];const a=encodeURIComponent(d);let r=[],c=1;const p=100;console.log("Fetching epics with pagination..."),console.log("  GitLab URL:",o),console.log("  Group Path:",d),console.log("  Encoded Group Path:",a);try{for(;;){const f=`${o}/api/v4/groups/${a}/epics?per_page=${p}&page=${c}`;console.log("  Epic API Request URL:",f);const g=await fetch(f,{headers:{"PRIVATE-TOKEN":l}});if(console.log(`  Epic API Response Status: ${g.status}`),g.status===404)return console.warn("Epics not available (requires Premium/Ultimate)"),[];if(!g.ok){const y=await g.text();throw console.error("Epic API Error Response:",y),new Error(`Epics API Error: ${g.status} - ${y}`)}const h=await g.json();if(console.log(`  Epics returned on page ${c}:`,h.length),h.length===0||(r=r.concat(h),console.log(`  Fetched page ${c}: ${h.length} epics (total: ${r.length})`),h.length<p))break;c++}return console.log(` Loaded ${r.length} total epics from ${c} page(s)`),r}catch(f){return console.error("Epic fetch failed:",f),[]}}async function Wm(o,d,l){const a=encodeURIComponent(d);try{const r=await fetch(`${o}/api/v4/projects/${a}/issues?per_page=1`,{headers:{"PRIVATE-TOKEN":l}});if(!r.ok)return{hasLabelHistory:!1,hasResourceEvents:!1};const c=await r.json();if(c.length===0)return{hasLabelHistory:!1,hasResourceEvents:!1};const p=c[0].iid,f=await fetch(`${o}/api/v4/projects/${a}/issues/${p}/resource_state_events`,{headers:{"PRIVATE-TOKEN":l}});if(f.status===404||f.status===403)return console.log("Resource State Events API not available (requires Premium/Ultimate)"),{hasLabelHistory:!1,hasResourceEvents:!1};const h=(await fetch(`${o}/api/v4/projects/${a}/issues/${p}/resource_label_events`,{headers:{"PRIVATE-TOKEN":l}})).ok,y=f.ok;return console.log("GitLab Premium Features:",{hasLabelHistory:h,hasResourceEvents:y}),{hasLabelHistory:h,hasResourceEvents:y}}catch(r){return console.error("Premium feature check failed:",r),{hasLabelHistory:!1,hasResourceEvents:!1}}}function Lc(o,d){const l=new Date("2025-01-01").getTime();return o.filter(a=>d.some(r=>{const c=a[r];return c?new Date(c).getTime()>=l:!1}))}async function Ih(o){const{gitlabUrl:d,projectId:l,groupPath:a,token:r,filter2025:c}=o;console.log("=== Starting GitLab Data Fetch ==="),console.log("Full config object:",o),console.log("Config values:",{gitlabUrl:d,projectId:l,groupPath:a||"(none)",groupPathType:typeof a,groupPathLength:a?.length}),await Im(d,l,r);const[p,f,g]=await Promise.all([Om(d,l,r),Lm(d,l,r),a?Um(d,a,r):Promise.resolve([])]),h=c!==!1,y=h?Lc(p,["created_at","updated_at","due_date"]):p,v=h?Lc(f,["start_date","due_date","created_at"]):f,m=h?Lc(g,["start_date","end_date","created_at"]):g;console.log(`Filtered data: ${p.length}  ${y.length} issues, ${f.length}  ${v.length} milestones, ${g.length}  ${m.length} epics ${h?"(>= 2025)":"(no filter)"}`);const{linkCrossProjectIssues:b,enhanceEpicsWithCrossProjectData:j,buildEpicHierarchy:E,findOrphanedIssues:A}=await fd(async()=>{const{linkCrossProjectIssues:L,enhanceEpicsWithCrossProjectData:B,buildEpicHierarchy:O,findOrphanedIssues:G}=await Promise.resolve().then(()=>o0);return{linkCrossProjectIssues:L,enhanceEpicsWithCrossProjectData:B,buildEpicHierarchy:O,findOrphanedIssues:G}},void 0,import.meta.url),N=!0,k=b(y,m);k.singleProjectMode=N,k.selectedProjectId=l,k.limitedView=!0;const{rootEpics:C,epicMap:D}=E(m),w=j(m,k),T=A(y),_=w.map(L=>{const B=y.filter(O=>O.epic&&O.epic.id===L.id);return{...L,issues:B}});return console.log(`Loaded ${m.length} epics with ${_.reduce((L,B)=>L+B.issues.length,0)} total issues`),console.log("Cross-project statistics:",k.statistics),T.length>0&&console.log(`Found ${T.length} orphaned issues that might need epic assignment`),{issues:y,milestones:v,epics:_,crossProjectData:{...k,epicHierarchy:{rootEpics:C,epicMap:D},orphanedIssues:T}}}function Hm(){const[o,d]=U.useState({issues:[],milestones:[],epics:[],crossProjectData:null}),[l,a]=U.useState(!1),[r,c]=U.useState(null),[p,f]=U.useState(null);U.useEffect(()=>{const y=Ci();console.log("useGitLabData: Loading config from storage:",y),console.log("  groupPath value:",y.groupPath),console.log("  groupPath type:",typeof y.groupPath),console.log("  groupPath length:",y.groupPath?.length),f(y)},[]);const g=U.useCallback(async()=>{if(ba()==="cross-project"){console.log("useGitLabData: Cross-project mode detected");const v=Ea();if(v.length===0){console.warn("useGitLabData: No projects configured for cross-project view");return}a(!0),c(null);try{console.log(`useGitLabData: Fetching data from ${v.length} projects...`);const m=v.map(async _=>{try{console.log(`  Fetching project: ${_.name}`);const L={gitlabUrl:_.gitlabUrl,token:_.token,projectId:_.projectId,groupPath:_.groupPath,filter2025:Ci().filter2025},B=await Ih(L);return{projectId:_.id,projectName:_.name,issues:B.issues.map(O=>({...O,_projectId:_.id,_projectName:_.name})),milestones:B.milestones.map(O=>({...O,_projectId:_.id,_projectName:_.name})),epics:B.epics.map(O=>({...O,_projectId:_.id,_projectName:_.name}))}}catch(L){return console.error(`  Failed to fetch project ${_.name}:`,L),{projectId:_.id,projectName:_.name,issues:[],milestones:[],epics:[],error:L.message}}}),b=await Promise.all(m),{linkCrossProjectIssues:j,buildEpicHierarchy:E}=await fd(async()=>{const{linkCrossProjectIssues:_,buildEpicHierarchy:L}=await Promise.resolve().then(()=>o0);return{linkCrossProjectIssues:_,buildEpicHierarchy:L}},void 0,import.meta.url),A=b.flatMap(_=>_.issues),N=b.flatMap(_=>_.epics),k=b.flatMap(_=>_.milestones),C=j(A,N),D=E(N);C.singleProjectMode=!1,C.limitedView=!1,C.projectCount=v.length;const w={issues:A,milestones:k,epics:N,crossProjectData:{...C,epicHierarchy:D}};console.log("useGitLabData: Cross-project aggregation complete:"),console.log(`  Total issues: ${w.issues.length}`),console.log(`  Total milestones: ${w.milestones.length}`),console.log(`  Total epics: ${w.epics.length}`);const T=b.filter(_=>_.error);T.length>0&&console.warn(`  Failed projects: ${T.map(_=>_.projectName).join(", ")}`),d(w)}catch(m){console.error("Cross-project data fetch failed:",m),c(m.message)}finally{a(!1)}}else{if(!p||!Di())return;a(!0),c(null);try{const v=await Ih(p);d(v)}catch(v){console.error("GitLab data fetch failed:",v),c(v.message)}finally{a(!1)}}},[p]);U.useEffect(()=>{(ba()==="cross-project"||p&&Di())&&g()},[p,g]);const h=U.useCallback(()=>{const y=Ci();console.log("useGitLabData: Refreshing with fresh config:",y),console.log("  Fresh groupPath:",y.groupPath),f(y)},[]);return{issues:o.issues,milestones:o.milestones,epics:o.epics,crossProjectData:o.crossProjectData,loading:l,error:r,refresh:h,isConfigured:Di()}}const ad={completion:.3,schedule:.25,blockers:.25,risk:.2},sd={schedule:200,blockers:300,risk:200},rd={good:80,warning:60},no={mode:"iteration",days:90},xa={EXECUTIVE:"executive",MANAGER:"manager",TEAM:"team"},od=[{id:"overview",label:"Overview",views:[{id:"executive",label:"Dashboard",roles:["executive","manager","team"]},{id:"insights",label:"Insights",roles:["executive","manager","team"]}]},{id:"planning",label:"Planning",views:[{id:"roadmap",label:"Milestones",roles:["executive","manager","team"]},{id:"epicmanagement",label:"Epics",roles:["manager","team"]},{id:"crossteam",label:"Cross-Team Coordination",roles:["executive","manager"]}]},{id:"execution",label:"Execution",views:[{id:"sprintmanagement",label:"Sprints",roles:["manager","team"]},{id:"resources",label:"Resources",roles:["manager","team"]},{id:"resourceplanning",label:"Resource Planning",roles:["manager","team"]}]},{id:"analysis",label:"Analytics",views:[{id:"velocity",label:"Velocity",roles:["manager","team"]},{id:"cycletime",label:"Cycle Time",roles:["manager","team"]},{id:"compliance",label:"Quality",roles:["manager","team"]}]},{id:"governance",label:"Governance",views:[{id:"riskmanagement",label:"Risks",roles:["executive","manager"]},{id:"stakeholders",label:"Stakeholders",roles:["executive","manager"]},{id:"backup",label:"Backup & Restore",roles:["executive","manager","team"]}]}],Pm=od.flatMap(o=>o.views.map(d=>({id:d.id,label:d.label,group:o.id,groupLabel:o.label,roles:d.roles})));function Cx(o){return o.some(d=>d.toLowerCase().includes("blocker")||d.toLowerCase().includes("blocked"))}function $m(o){const d=o.length,l=o.filter(g=>g.state==="opened").length,a=o.filter(g=>g.state==="closed").length,r=o.filter(g=>Cx(g.labels)).length,c=o.filter(g=>g.due_date&&new Date(g.due_date)<new Date&&g.state==="opened").length,p=o.filter(g=>{if(!g.due_date||g.state==="closed")return!1;const h=Math.floor((new Date(g.due_date)-new Date)/(1e3*60*60*24));return h<=7&&h>=0}).length,f=d>0?Math.round(a/d*100):0;return{total:d,open:l,closed:a,blockers:r,overdue:c,atRisk:p,completionRate:f}}function Gm(){const o=localStorage.getItem("healthScoreConfig");if(o)try{return JSON.parse(o)}catch(d){console.error("Failed to parse health score config:",d)}return{weights:ad,amplifiers:sd,thresholds:rd}}function qm(o){const d=Gm(),{weights:l,amplifiers:a,thresholds:r}=d,c=o.completionRate,p=o.total>0?Math.max(0,100-o.overdue/o.total*a.schedule):100,f=o.total>0?Math.max(0,100-o.blockers/o.total*a.blockers):100,g=o.total>0?Math.max(0,100-o.atRisk/o.total*a.risk):100,h=Math.round(c*l.completion+p*l.schedule+f*l.blockers+g*l.risk);let y="red";return h>=r.good?y="green":h>=r.warning&&(y="amber"),{score:h,status:y,breakdown:{completionScore:c,scheduleScore:p,blockerScore:f,riskScore:g}}}function Ym(o,d){if(!d||d.mode==="all")return o;if(d.mode==="days"){const l=new Date;return l.setDate(l.getDate()-d.days),o.filter(a=>a.state==="opened"?!0:a.closed_at?new Date(a.closed_at)>=l:a.state==="closed"&&a.updated_at?new Date(a.updated_at)>=l:!1)}return o}function Vm(o,d=[]){const l=U.useMemo(()=>{if(!o||o.length===0)return null;const r=localStorage.getItem("healthScoreConfig");let c=no;if(r)try{c=JSON.parse(r).timeframe||no}catch(f){console.error("Failed to load health score timeframe config:",f)}const p=Ym(o,c);return $m(p)},[o,d]),a=U.useMemo(()=>l?qm(l):null,[l]);return{stats:l,healthScore:a,hasData:l!==null}}function hd(){const[o,d]=U.useState([]);U.useEffect(()=>{const y=Mh();d(y)},[]),U.useEffect(()=>{(o.length>0||o.length!==Mh().length)&&Rm(o)},[o]);const l=U.useCallback(y=>{const v={id:Date.now().toString(),title:y.title,description:y.description,probability:y.probability,impact:y.impact,status:y.status||"open",owner:y.owner||"",mitigations:[]};return d(m=>[...m,v]),v},[]),a=U.useCallback((y,v)=>{d(m=>m.map(b=>b.id===y?{...b,...v}:b))},[]),r=U.useCallback(y=>{d(v=>v.filter(m=>m.id!==y))},[]),c=U.useCallback((y,v)=>{const m={id:Date.now().toString(),description:v.description,owner:v.owner||"",deadline:v.deadline||null,status:v.status||"pending",completedDate:null};return d(b=>b.map(j=>j.id===y?{...j,mitigations:[...j.mitigations,m]}:j)),m},[]),p=U.useCallback((y,v,m)=>{d(b=>b.map(j=>j.id===y?{...j,mitigations:j.mitigations.map(E=>E.id===v?{...E,...m}:E)}:j))},[]),f=U.useCallback((y,v)=>{d(m=>m.map(b=>b.id===y?{...b,mitigations:b.mitigations.filter(j=>j.id!==v)}:b))},[]),g=U.useCallback(y=>y.probability*y.impact,[]),h=U.useCallback(()=>({high:o.filter(v=>g(v)>=6&&v.status==="open"),medium:o.filter(v=>g(v)>=3&&g(v)<6&&v.status==="open"),low:o.filter(v=>g(v)<3&&v.status==="open")}),[o,g]);return{risks:o,addRisk:l,updateRisk:a,deleteRisk:r,addMitigation:c,updateMitigation:p,deleteMitigation:f,getRiskScore:g,getRisksBySeverity:h}}function Qm(o,d){if(!o)return null;const l=new Date(o),a=d?new Date(d):null,r=f=>{const g=f.getDate(),h=f.toLocaleString("en",{month:"short"}),y=f.getFullYear();return{day:g,month:h,year:y}},c=r(l);if(!a)return`${c.day} ${c.month} ${c.year}`;const p=r(a);return c.year===p.year?`${c.day} ${c.month}  ${p.day} ${p.month} ${p.year}`:`${c.day} ${c.month} ${c.year}  ${p.day} ${p.month} ${p.year}`}function Bn(o){if(!o)return null;if(typeof o=="string")return o;if(typeof o=="object"){if(o.title)return o.title;if(o.start_date){const d=Qm(o.start_date,o.due_date);if(d)return d}if(o.iid!==void 0)return`Iteration ${o.iid}`;if(o.sequence!==void 0)return`Iteration ${o.sequence}`;if(o.id!==void 0)return`Iteration ${o.id}`}return null}function pt(o,d=null){const l=Bn(d);if(l)return l;if(!o||o.length===0)return null;const a=o.find(r=>{const c=r.toLowerCase();return c.startsWith("sprint")||c.startsWith("iteration")});return a||null}function Xm(o){if(!o||o.length===0)return"Medium";const d=o.find(a=>a.toLowerCase().includes("priority")||a.toLowerCase().includes("p1")||a.toLowerCase().includes("p2")||a.toLowerCase().includes("p3"));if(!d)return"Medium";const l=d.toLowerCase();return l.includes("high")||l.includes("p1")?"High":l.includes("low")||l.includes("p3")?"Low":"Medium"}function ao(o){return!o||o.length===0?!1:o.some(d=>d.toLowerCase().includes("blocker")||d.toLowerCase().includes("blocked"))}const Ax=U.createContext();function Zm({children:o,issues:d}){const[l,a]=U.useState([]),r=U.useMemo(()=>{if(!d||d.length===0)return[];const y=new Map;return d.forEach(v=>{const m=pt(v.labels,v.iteration);if(!m)return;if(!y.has(m)){const j=v.iteration?.start_date,E=v.iteration?.due_date;y.set(m,{name:m,startDate:j||null,dueDate:E||null,issueCount:0})}const b=y.get(m);b.issueCount++}),Array.from(y.values()).sort((v,m)=>v.startDate&&m.startDate?new Date(m.startDate)-new Date(v.startDate):v.startDate&&!m.startDate?-1:!v.startDate&&m.startDate?1:v.name.localeCompare(m.name))},[d]),c=U.useMemo(()=>d?l.length===0?d:d.filter(y=>{const v=pt(y.labels,y.iteration);return v&&l.includes(v)}):[],[d,l]),h={selectedIterations:l,availableIterations:r,filteredIssues:c,toggleIteration:y=>{a(v=>v.includes(y)?v.filter(m=>m!==y):[...v,y])},selectAllIterations:()=>{a([])},clearSelection:()=>{a([])},isFiltered:l.length>0};return t.jsx(Ax.Provider,{value:h,children:o})}function Dn(){const o=U.useContext(Ax);if(!o)throw new Error("useIterationFilter must be used within IterationFilterProvider");return o}function Km({stats:o,healthScore:d,onRefresh:l,onConfigure:a,onChangeRole:r,loading:c}){return t.jsx("div",{className:"header",children:t.jsxs("div",{style:{width:"100%",padding:"16px 20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:t.jsxs("div",{children:[t.jsx("h1",{style:{fontSize:"24px",fontWeight:"600",marginBottom:"4px"},children:"GitHarmony"}),t.jsx("div",{style:{fontSize:"11px",color:"var(--text-secondary)",fontStyle:"italic",marginBottom:"4px"},children:"Teams in Tune"}),t.jsx("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginTop:"4px"},children:o&&t.jsxs(t.Fragment,{children:[o.total," Issues  ",o.open," Open  ",o.closed," Closed",o.blockers>0&&t.jsxs("span",{style:{marginLeft:"12px",color:"var(--danger)"},children:[o.blockers," Blockers"]})]})})]})}),t.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[d&&t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",background:"var(--bg-secondary)",borderRadius:"6px"},children:[t.jsx("span",{style:{fontSize:"11px",fontWeight:"600",textTransform:"uppercase",color:"var(--text-secondary)"},children:"Health Score"}),t.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:"700",color:"white",background:d.status==="green"?"var(--success)":d.status==="amber"?"var(--warning)":"var(--danger)"},children:d.score})]}),t.jsx("button",{className:"btn",onClick:l,disabled:c,style:{opacity:c?.6:1},children:c?"Loading...":"Refresh"}),t.jsx("button",{className:"btn btn-secondary",onClick:r,title:"Change your role to customize navigation",children:"Change Role"}),t.jsx("button",{className:"btn btn-primary",onClick:a,children:"Configure"})]})]})})}function Jm({activeView:o,onViewChange:d}){return t.jsx("div",{className:"tabs",children:Pm.map(l=>t.jsx("button",{className:`tab ${o===l.id?"active":""}`,onClick:()=>d(l.id),children:l.label},l.id))})}const xd={USER_ROLE:"githarmony_user_role",VIEW_PREFERENCE:"githarmony_view_preference"};function gd(){return localStorage.getItem(xd.USER_ROLE)||"manager"}function ey(o){localStorage.setItem(xd.USER_ROLE,o)}function ty(){return localStorage.getItem(xd.VIEW_PREFERENCE)||"grouped"}function iy(o){const d=gd();return o.roles&&o.roles.includes(d)}function Uc(o){const d={executive:{label:"Executive",description:"High-level overview, strategic insights, and stakeholder reporting"},manager:{label:"Manager",description:"Full access to planning, execution, and team analytics"},team:{label:"Team Member",description:"Focus on execution, sprints, and operational metrics"}};return d[o]||d.manager}function ny({onProjectChange:o}){const[d,l]=U.useState([]),[a,r]=U.useState(null),[c,p]=U.useState(!1);U.useEffect(()=>{f()},[]);const f=()=>{const m=Ea();l(m);const b=ba();r(b)},g=m=>{nd(m),r(m),p(!1),o&&o(m),window.location.reload()},h=()=>{nd("cross-project"),r("cross-project"),p(!1),o&&o("cross-project")};if(d.length<=1)return null;const y=d.find(m=>m.id===a),v=a==="cross-project"?"Cross-Project View":y?.name||"Select Project";return t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#6B7280"},children:"Project:"}),t.jsxs("div",{style:{position:"relative",minWidth:"200px"},children:[t.jsxs("button",{onClick:()=>p(!c),style:{width:"100%",padding:"6px 28px 6px 10px",background:"white",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"13px",fontWeight:"500",color:"#1F2937",cursor:"pointer",textAlign:"left",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"all 0.2s"},onMouseEnter:m=>{m.currentTarget.style.background="#F9FAFB",m.currentTarget.style.borderColor="#9CA3AF"},onMouseLeave:m=>{m.currentTarget.style.background="white",m.currentTarget.style.borderColor="#D1D5DB"},children:[t.jsxs("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[a==="cross-project"&&" ",v]}),t.jsx("span",{style:{position:"absolute",right:"12px",fontSize:"12px",color:"#6B7280",transform:c?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"},children:""})]}),c&&t.jsxs(t.Fragment,{children:[t.jsx("div",{onClick:()=>p(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:999}}),t.jsxs("div",{style:{position:"absolute",top:"100%",left:0,right:0,marginTop:"4px",background:"white",border:"1px solid #E5E7EB",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",zIndex:1e3,maxHeight:"400px",overflowY:"auto"},children:[t.jsxs("div",{onClick:h,style:{padding:"12px 16px",cursor:"pointer",background:a==="cross-project"?"#FEF2F2":"white",borderBottom:"1px solid #E5E7EB",transition:"background 0.2s"},onMouseEnter:m=>m.currentTarget.style.background="#FEF2F2",onMouseLeave:m=>{a!=="cross-project"&&(m.currentTarget.style.background="white")},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"14px",fontWeight:"600",color:"#E60000"},children:[t.jsx("span",{style:{fontSize:"16px"},children:""}),"Cross-Project View"]}),t.jsxs("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"2px",marginLeft:"24px"},children:["Aggregate data across all ",d.length," projects"]})]}),t.jsxs("div",{style:{padding:"8px 0"},children:[t.jsxs("div",{style:{padding:"6px 16px",fontSize:"11px",fontWeight:"600",color:"#6B7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:["Projects (",d.length,")"]}),d.map(m=>{const b=m.id===a;return t.jsx("div",{onClick:()=>g(m.id),style:{padding:"10px 16px",cursor:"pointer",background:b?"#FEF2F2":"white",borderLeft:b?"3px solid #E60000":"3px solid transparent",transition:"all 0.2s"},onMouseEnter:j=>j.currentTarget.style.background="#FEF2F2",onMouseLeave:j=>{b||(j.currentTarget.style.background="white")},children:t.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{fontSize:"14px",fontWeight:b?"600":"500",color:"#1F2937",marginBottom:"2px"},children:[m.name,b&&t.jsx("span",{style:{marginLeft:"8px",fontSize:"12px",color:"#E60000",fontWeight:"600"},children:""})]}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280"},children:m.projectId})]})})},m.id)})]}),t.jsx("div",{onClick:()=>{p(!1),o&&o("portfolio-manage")},style:{padding:"12px 16px",cursor:"pointer",background:"#F9FAFB",borderTop:"1px solid #E5E7EB",fontSize:"13px",fontWeight:"500",color:"#E60000",textAlign:"center",transition:"background 0.2s"},onMouseEnter:m=>m.currentTarget.style.background="#F3F4F6",onMouseLeave:m=>m.currentTarget.style.background="#F9FAFB",children:" Manage Portfolio Projects"})]})]})]})]})}function ay({activeView:o,onViewChange:d,onProjectChange:l}){const[a,r]=U.useState(null),c=gd(),p=od.map(m=>({...m,views:m.views.filter(b=>iy(b))})).filter(m=>m.views.length>0),f=m=>{r(a===m?null:m)},g=m=>{d(m),r(null)},h=(m,b,j)=>{if(m.key==="Enter"||m.key===" ")m.preventDefault(),f(b);else if(m.key==="Escape"&&a===b)r(null);else if(m.key==="ArrowDown"&&a===b&&j.length>0){m.preventDefault();const E=m.currentTarget.parentElement.querySelector("[data-dropdown-item]");E&&E.focus()}},y=(m,b,j,E)=>{if(m.key==="Enter"||m.key===" ")m.preventDefault(),g(b);else if(m.key==="Escape")r(null),m.currentTarget.closest("[style]").querySelector("button").focus();else if(m.key==="ArrowDown"){m.preventDefault();const A=Math.min(E+1,j.length-1),N=m.currentTarget.parentElement.querySelectorAll("[data-dropdown-item]");N[A]&&N[A].focus()}else if(m.key==="ArrowUp"){m.preventDefault();const A=Math.max(E-1,0),N=m.currentTarget.parentElement.querySelectorAll("[data-dropdown-item]");N[A]&&N[A].focus()}},v=od.find(m=>m.views.some(b=>b.id===o));return t.jsxs("div",{style:{display:"flex",gap:"4px",borderBottom:"1px solid var(--border-light)",background:"var(--bg-primary)",padding:"0 20px",position:"relative"},children:[p.map(m=>{const b=v?.id===m.id,j=a===m.id;return t.jsxs("div",{style:{position:"relative"},children:[t.jsxs("button",{onClick:()=>f(m.id),onKeyDown:E=>h(E,m.id,m.views),"aria-label":`${m.label} navigation group`,"aria-expanded":j,"aria-haspopup":"true",style:{padding:"12px 20px",fontSize:"14px",fontWeight:"500",color:b?"var(--primary)":"var(--text-secondary)",background:"transparent",border:"none",borderBottom:`2px solid ${b?"var(--primary)":"transparent"}`,cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"8px",outline:"none"},onMouseEnter:E=>{b||(E.target.style.color="var(--text-primary)")},onMouseLeave:E=>{b||(E.target.style.color="var(--text-secondary)")},onFocus:E=>{E.target.style.boxShadow="0 0 0 2px var(--primary)"},onBlur:E=>{E.target.style.boxShadow="none"},children:[t.jsx("span",{children:m.label}),t.jsx("span",{style:{fontSize:"10px",transition:"transform 0.2s",transform:j?"rotate(180deg)":"rotate(0deg)"},children:""})]}),j&&t.jsx("div",{role:"menu","aria-label":`${m.label} views`,style:{position:"absolute",top:"100%",left:0,background:"white",border:"1px solid var(--border-light)",borderRadius:"0 0 6px 6px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",minWidth:"200px",zIndex:1e3,marginTop:"-1px"},children:m.views.map((E,A)=>t.jsx("button",{"data-dropdown-item":!0,role:"menuitem","aria-label":`Navigate to ${E.label} view`,onClick:()=>g(E.id),onKeyDown:N=>y(N,E.id,m.views,A),style:{width:"100%",padding:"12px 20px",fontSize:"14px",fontWeight:E.id===o?"600":"400",color:E.id===o?"var(--primary)":"var(--text-primary)",background:E.id===o?"var(--bg-secondary)":"white",border:"none",textAlign:"left",cursor:"pointer",transition:"all 0.2s",borderBottom:"1px solid var(--border-light)",outline:"none"},onMouseEnter:N=>{E.id!==o&&(N.target.style.background="var(--bg-secondary)")},onMouseLeave:N=>{E.id!==o&&(N.target.style.background="white")},onFocus:N=>{N.target.style.boxShadow="inset 0 0 0 2px var(--primary)"},onBlur:N=>{N.target.style.boxShadow="none"},children:E.label},E.id))})]},m.id)}),t.jsxs("div",{style:{marginLeft:"auto",display:"flex",alignItems:"center",gap:"16px",padding:"12px 0"},children:[l&&t.jsx("div",{style:{marginRight:"8px"},children:t.jsx(ny,{onProjectChange:l})}),t.jsx("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:t.jsxs("span",{style:{background:"var(--bg-tertiary)",padding:"4px 12px",borderRadius:"12px",fontWeight:"600"},children:[c==="executive"&&"Executive",c==="manager"&&"Manager",c==="team"&&"Team"]})})]})]})}function sy({show:o,onClose:d}){const[l,a]=U.useState(gd());if(!o)return null;const r=()=>{ey(l),d(),window.location.reload()},c=[{id:xa.EXECUTIVE,...Uc(xa.EXECUTIVE)},{id:xa.MANAGER,...Uc(xa.MANAGER)},{id:xa.TEAM,...Uc(xa.TEAM)}];return t.jsx("div",{className:"modal-overlay",onClick:d,children:t.jsxs("div",{className:"modal",onClick:p=>p.stopPropagation(),style:{maxWidth:"600px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Select Your Role"}),t.jsx("button",{onClick:d,style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"var(--text-secondary)"},children:""})]}),t.jsxs("div",{className:"modal-body",children:[t.jsx("p",{style:{marginBottom:"24px",color:"var(--text-secondary)"},children:"Choose your role to customize the navigation and features you see. This helps reduce clutter and focuses on the views most relevant to your responsibilities."}),t.jsx("div",{style:{display:"grid",gap:"16px"},children:c.map(p=>t.jsxs("div",{onClick:()=>a(p.id),style:{padding:"20px",border:`2px solid ${l===p.id?"var(--primary)":"var(--border-medium)"}`,borderRadius:"8px",cursor:"pointer",background:l===p.id?"var(--bg-secondary)":"white",transition:"all 0.2s"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[t.jsx("div",{children:t.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"var(--text-primary)"},children:p.label})}),l===p.id&&t.jsx("span",{style:{marginLeft:"auto",color:"var(--primary)",fontSize:"20px"},children:""})]}),t.jsx("div",{style:{fontSize:"13px",color:"var(--text-secondary)"},children:p.description})]},p.id))}),t.jsxs("div",{style:{marginTop:"20px",padding:"16px",background:"var(--bg-tertiary)",borderRadius:"6px",fontSize:"13px",color:"var(--text-secondary)"},children:[t.jsx("strong",{children:"Note:"})," You can change your role anytime from the settings menu in the header."]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{className:"btn btn-secondary",onClick:d,children:"Cancel"}),t.jsx("button",{className:"btn btn-primary",onClick:r,children:"Save Role"})]})]})})}function ry(){const{selectedIterations:o,availableIterations:d,toggleIteration:l,clearSelection:a,isFiltered:r}=Dn(),[c,p]=U.useState(!1),f=U.useRef(null);if(U.useEffect(()=>{function y(v){f.current&&!f.current.contains(v.target)&&p(!1)}if(c)return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[c]),d.length===0)return null;const g=o.length===0?"All Iterations":o.length===1?o[0]:`${o.length} iterations selected`,h=y=>{if(!y.startDate||!y.dueDate)return null;const v=new Date(y.startDate),m=new Date(y.dueDate),b=v.toLocaleDateString("en-US",{month:"short",day:"numeric"}),j=m.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return`${b} - ${j}`};return t.jsxs("div",{ref:f,style:{position:"relative",width:"100%",maxWidth:"500px"},children:[t.jsxs("button",{onClick:()=>p(!c),style:{width:"100%",padding:"8px 36px 8px 12px",background:"white",border:`2px solid ${r?"#3B82F6":"#D1D5DB"}`,borderRadius:"6px",fontSize:"14px",textAlign:"left",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",position:"relative",color:r?"#1F2937":"#6B7280",fontWeight:r?"600":"400"},children:[t.jsx("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:g}),t.jsx("span",{style:{position:"absolute",right:"12px",fontSize:"12px"},children:c?"":""})]}),c&&t.jsxs("div",{style:{position:"absolute",top:"100%",left:0,right:0,marginTop:"4px",background:"white",border:"1px solid #D1D5DB",borderRadius:"6px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",maxHeight:"400px",overflowY:"auto",zIndex:1e3},children:[t.jsxs("div",{onClick:()=>{a(),p(!1)},style:{padding:"10px 12px",cursor:"pointer",background:o.length===0?"#EFF6FF":"white",borderBottom:"1px solid #E5E7EB",display:"flex",alignItems:"center",gap:"8px",fontWeight:"600",fontSize:"13px",color:"#1F2937"},onMouseEnter:y=>{o.length>0&&(y.target.style.background="#F9FAFB")},onMouseLeave:y=>{y.target.style.background=o.length===0?"#EFF6FF":"white"},children:[t.jsx("input",{type:"checkbox",checked:o.length===0,readOnly:!0,style:{cursor:"pointer"}}),t.jsxs("span",{children:["All Iterations (",d.reduce((y,v)=>y+v.issueCount,0)," issues)"]})]}),d.map(y=>{const v=o.includes(y.name),m=h(y);return t.jsxs("div",{onClick:()=>l(y.name),style:{padding:"10px 12px",cursor:"pointer",background:v?"#EFF6FF":"white",borderBottom:"1px solid #E5E7EB",display:"flex",alignItems:"flex-start",gap:"8px"},onMouseEnter:b=>{v||(b.target.style.background="#F9FAFB")},onMouseLeave:b=>{b.target.style.background=v?"#EFF6FF":"white"},children:[t.jsx("input",{type:"checkbox",checked:v,readOnly:!0,style:{marginTop:"2px",cursor:"pointer"}}),t.jsxs("div",{style:{flex:1,minWidth:0},children:[t.jsx("div",{style:{fontSize:"13px",fontWeight:"600",color:"#1F2937",marginBottom:"2px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:y.name}),t.jsxs("div",{style:{fontSize:"11px",color:"#6B7280",display:"flex",gap:"8px"},children:[m&&t.jsx("span",{children:m}),t.jsx("span",{children:""}),t.jsxs("span",{children:[y.issueCount," issue",y.issueCount!==1?"s":""]})]})]})]},y.name)})]})]})}function oy({show:o,onClose:d,onSave:l,onProjectSwitch:a}){const r=Ci(),[c,p]=U.useState("connection"),[f,g]=U.useState(r.gitlabUrl||"https://gitlab.com"),[h,y]=U.useState(r.projectId||""),[v,m]=U.useState(r.groupPath||""),[b,j]=U.useState(r.token||""),[E,A]=U.useState(r.filter2025||!1),[N,k]=U.useState(Ea()),[C,D]=U.useState(!1),[w,T]=U.useState(null),[_,L]=U.useState({name:"",gitlabUrl:"https://gitlab.com",token:"",projectId:"",groupPath:""});if(!o)return null;const B=()=>{Dx({gitlabUrl:f,projectId:h,groupPath:v,token:b,filter2025:E}),l(),d()},O=()=>{if(!_.name||!_.token||!_.projectId){alert("Please fill in all required fields");return}const I=_m(_);k(I),L({name:"",gitlabUrl:"https://gitlab.com",token:"",projectId:"",groupPath:""}),D(!1),T(null)},G=I=>{T(I.id),L({id:I.id,name:I.name,gitlabUrl:I.gitlabUrl,token:I.token,projectId:I.projectId,groupPath:I.groupPath||""}),D(!0)},K=()=>{D(!1),T(null),L({name:"",gitlabUrl:"https://gitlab.com",token:"",projectId:"",groupPath:""})},J=I=>{if(!confirm("Are you sure you want to remove this project?"))return;const F=Fm(I);k(F)},le=I=>{nd(I),a&&a(I),d()};return t.jsx("div",{className:"modal-overlay",onClick:d,children:t.jsxs("div",{className:"modal",onClick:I=>I.stopPropagation(),style:{maxWidth:"800px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:t.jsx("h2",{children:"Configuration"})}),t.jsx("button",{className:"btn",onClick:d,style:{padding:"4px 8px"},children:""})]}),t.jsxs("div",{className:"tabs",style:{borderBottom:"1px solid var(--border-light)",margin:0},children:[t.jsx("button",{className:`tab ${c==="connection"?"active":""}`,onClick:()=>p("connection"),children:"Connection"}),t.jsx("button",{className:`tab ${c==="projects"?"active":""}`,onClick:()=>p("projects"),children:"Projects"})]}),t.jsxs("div",{className:"modal-body",children:[c==="connection"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"GitLab URL"}),t.jsx("input",{type:"text",className:"form-input",value:f,onChange:I=>g(I.target.value),placeholder:"https://gitlab.com"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Project ID"}),t.jsx("input",{type:"text",className:"form-input",value:h,onChange:I=>y(I.target.value),placeholder:"123 or group/project"}),t.jsx("div",{className:"text-small text-muted",style:{marginTop:"4px"},children:"Find this in your GitLab project settings"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Group Path (Optional)"}),t.jsx("input",{type:"text",className:"form-input",value:v,onChange:I=>m(I.target.value),placeholder:"my-group or parent-group/sub-group"}),t.jsx("div",{className:"text-small text-muted",style:{marginTop:"4px"},children:"Required for Epic support (Premium/Ultimate only)"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Access Token"}),t.jsx("input",{type:"password",className:"form-input",value:b,onChange:I=>j(I.target.value),placeholder:"glpat-xxxxxxxxxxxxxxxxxxxx"}),t.jsx("div",{className:"text-small text-muted",style:{marginTop:"4px"},children:"Create a personal access token with 'api' and 'read_api' scopes"})]}),t.jsx("div",{className:"form-group",children:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",background:"#F9FAFB",borderRadius:"8px",border:"1px solid #E5E7EB"},children:[t.jsx("input",{type:"checkbox",id:"filter2025",checked:E,onChange:I=>A(I.target.checked),style:{width:"18px",height:"18px",cursor:"pointer"}}),t.jsxs("label",{htmlFor:"filter2025",style:{cursor:"pointer",flex:1,margin:0},children:[t.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1F2937",marginBottom:"4px"},children:"Filter data by year 2025+"}),t.jsxs("div",{className:"text-small text-muted",children:["When enabled, only shows issues, epics, and milestones with dates ",">="," 2025-01-01"]})]})]})})]}),c==="projects"&&t.jsx(t.Fragment,{children:t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[t.jsxs("div",{children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"4px"},children:"Manage Projects"}),t.jsx("p",{style:{fontSize:"13px",color:"#6B7280"},children:"Add multiple projects and switch between them"})]}),t.jsx("button",{className:"btn btn-primary",onClick:()=>{C?K():D(!0)},children:C?"Cancel":"+ Add Project"})]}),C&&t.jsxs("div",{className:"card",style:{padding:"20px",marginBottom:"20px",background:"#F9FAFB"},children:[t.jsx("h4",{style:{fontSize:"14px",fontWeight:"600",marginBottom:"16px"},children:w?"Edit Project":"Add New Project"}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Project Name"}),t.jsx("input",{type:"text",className:"form-input",value:_.name,onChange:I=>L({..._,name:I.target.value}),placeholder:"My Project"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"GitLab URL"}),t.jsx("input",{type:"text",className:"form-input",value:_.gitlabUrl,onChange:I=>L({..._,gitlabUrl:I.target.value}),placeholder:"https://gitlab.com"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Project ID"}),t.jsx("input",{type:"text",className:"form-input",value:_.projectId,onChange:I=>L({..._,projectId:I.target.value}),placeholder:"123 or group/project"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Group Path (Optional)"}),t.jsx("input",{type:"text",className:"form-input",value:_.groupPath,onChange:I=>L({..._,groupPath:I.target.value}),placeholder:"my-group"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Access Token"}),t.jsx("input",{type:"password",className:"form-input",value:_.token,onChange:I=>L({..._,token:I.target.value}),placeholder:"glpat-xxxxxxxxxxxxxxxxxxxx"})]}),t.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end"},children:[t.jsx("button",{className:"btn",onClick:K,children:"Cancel"}),t.jsxs("button",{className:"btn btn-primary",onClick:O,children:[w?"Update":"Add"," Project"]})]})]}),N.length===0?t.jsxs("div",{className:"card text-center",style:{padding:"40px"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px",opacity:.3},children:""}),t.jsx("h3",{className:"mb-2",children:"No Projects"}),t.jsx("p",{className:"text-muted",children:"Add your first project to get started"})]}):t.jsx("div",{style:{display:"grid",gap:"12px"},children:N.map(I=>t.jsxs("div",{className:"card",style:{padding:"16px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs("div",{children:[t.jsx("h4",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"4px"},children:I.name}),t.jsxs("p",{style:{fontSize:"13px",color:"#6B7280",marginBottom:"4px"},children:[I.projectId,"  ",I.gitlabUrl]})]}),t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsx("button",{className:"btn",onClick:()=>le(I.id),style:{fontSize:"13px"},children:"Switch To"}),t.jsx("button",{className:"btn",onClick:()=>G(I),style:{fontSize:"13px"},children:"Edit"}),t.jsx("button",{className:"btn",onClick:()=>J(I.id),style:{fontSize:"13px",color:"#DC2626"},children:"Remove"})]})]},I.id))})]})})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{className:"btn",onClick:d,children:"Close"}),c==="connection"&&t.jsx("button",{className:"btn btn-primary",onClick:B,disabled:!f||!h||!b,children:"Save Configuration"})]})]})})}function Tx(o,d){const l=new Map;return o.forEach(a=>{const r=a.labels?.find(c=>c.toLowerCase().startsWith("initiative::"));if(r){const c=r.toLowerCase(),p=r.replace(/initiative::/i,"").split("::")[0].replace(/-/g," ").replace(/\b\w/g,f=>f.toUpperCase());l.has(c)||l.set(c,{id:c,name:p,label:r,epics:[],issues:[],dueDate:null,startDate:null}),l.get(c).epics.push(a)}}),l.forEach(a=>{const r=new Set;a.epics.forEach(h=>{d.filter(v=>v.epic?.id===h.id||v.labels?.some(m=>m.toLowerCase()===a.label.toLowerCase())).forEach(v=>r.add(v.id))}),a.issues=Array.from(r).map(h=>d.find(y=>y.id===h)).filter(Boolean);const c=a.epics.filter(h=>h.due_date).map(h=>new Date(h.due_date)),p=a.epics.filter(h=>h.start_date).map(h=>new Date(h.start_date));c.length>0&&(a.dueDate=new Date(Math.max(...c))),p.length>0&&(a.startDate=new Date(Math.min(...p)));const f=a.issues.length,g=a.issues.filter(h=>h.state==="closed").length;a.progress=f>0?Math.round(g/f*100):0,a.totalIssues=f,a.closedIssues=g,a.openIssues=f-g,a.status=ly(a.progress,a.dueDate,a.startDate)}),Array.from(l.values()).sort((a,r)=>a.dueDate&&r.dueDate?new Date(a.dueDate)-new Date(r.dueDate):a.dueDate?-1:r.dueDate?1:a.name.localeCompare(r.name))}function ly(o,d,l){if(!d)return o>=80?"on-track":"at-risk";const a=new Date,r=new Date(d),c=l?new Date(l):new Date(r.getTime()-2160*60*60*1e3),p=r-c,f=a-c,g=Math.max(0,Math.min(100,f/p*100));return a>r&&o<100||o<g-20?"delayed":o<g-10?"at-risk":"on-track"}function cy(o){const d={"on-track":{label:"On Track",icon:"",color:"#059669",background:"#D1FAE5"},"at-risk":{label:"At Risk",icon:"",color:"#D97706",background:"#FEF3C7"},delayed:{label:"Delayed",icon:"",color:"#DC2626",background:"#FEE2E2"}};return d[o]||d["at-risk"]}function dy(o){if(!o)return"No date set";const d=new Date(o),l={month:"short",day:"numeric",year:"numeric"};return d.toLocaleDateString("en-US",l)}function uy(o,d=30){const l=new Date;l.setHours(0,0,0,0);const a=new Date(l.getTime()+d*24*60*60*1e3);return o.filter(r=>{if(!r.due_date)return!1;const c=new Date(r.due_date);return c>=l&&c<=a}).map(r=>({...r,daysUntil:zx(r.due_date),status:py(r)})).sort((r,c)=>r.daysUntil-c.daysUntil)}function zx(o){const d=new Date;d.setHours(0,0,0,0);const a=new Date(o)-d;return Math.round(a/(1e3*60*60*24))}function py(o){const d=zx(o.due_date);if(d<0&&o.state!=="closed")return"overdue";let l=0;return o.stats&&o.stats.total_issues>0&&(l=o.stats.closed_issues/o.stats.total_issues*100),l>=80||d>7?"on-track":"at-risk"}function fy(o){const d={"on-track":{label:"On Track",icon:"",color:"#059669",background:"#D1FAE5"},"at-risk":{label:"At Risk",icon:"",color:"#D97706",background:"#FEF3C7"},overdue:{label:"Overdue",icon:"",color:"#DC2626",background:"#FEE2E2"}};return d[o]||d["at-risk"]}function hy(o){if(o==null)return"";const d=String(o);return d.includes(",")||d.includes('"')||d.includes(`
`)?`"${d.replace(/"/g,'""')}"`:d}function Et(o){return o.map(d=>hy(d)).join(",")}function Oh(o){if(!o||o.length===0)return"No data to export";const d=["Issue ID","Title","URL","State","Labels","Assignees","Epic","Milestone","Due Date","Created","Updated","Author","Priority","Weight","Time Estimate","Time Spent","Description"],l=o.map(r=>{const c=r.labels?.join("; ")||"",p=r.assignees?.map(C=>C.name).join("; ")||"Unassigned",f=r.epic?.title||"",g=r.milestone?.title||"",h=r.due_date||r.dueDate||"",y=r.created_at||r.createdAt?new Date(r.created_at||r.createdAt).toLocaleDateString():"",v=r.updated_at||r.updatedAt?new Date(r.updated_at||r.updatedAt).toLocaleDateString():"",m=r.author?.name||"",b=r.labels?.find(C=>C.toLowerCase().includes("priority"))?.split("::")[1]||"",j=r.weight||"",E=r.time_stats?.human_time_estimate||"",A=r.time_stats?.human_total_time_spent||"",N=r.description?.substring(0,500)||"",k=r.web_url||r.webUrl||"";return[r.iid||r.id,r.title,k,r.state,c,p,f,g,h,y,v,m,b,j,E,A,N]});return[Et(d),...l.map(r=>Et(r))].join(`
`)}function xy(o){if(!o||o.length===0)return"No data to export";const d=["Epic ID","Title","URL","State","Labels","Start Date","Due Date","Total Issues","Open Issues","Closed Issues","Completion %","Health Score","Author","Description"],l=o.map(r=>{const c=r.labels?.join("; ")||"",p=r.start_date||"",f=r.due_date||r.end_date||"",g=r.issues?.length||0,h=r.issues?.filter(A=>A.state==="opened").length||0,y=r.issues?.filter(A=>A.state==="closed").length||0,v=g>0?Math.round(y/g*100):0,m=r.health?.score||"",b=r.author?.name||"",j=r.description?.substring(0,500)||"",E=r.web_url||"";return[r.iid||r.id,r.title,E,r.state,c,p,f,g,h,y,`${v}%`,m,b,j]});return[Et(d),...l.map(r=>Et(r))].join(`
`)}function Yt(o,d){const l=new Blob([o],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");if(navigator.msSaveBlob)navigator.msSaveBlob(l,d);else{const r=URL.createObjectURL(l);a.href=r,a.download=d,a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(r)}}function gy(o){if(!o||o.length===0)return"No data to export";const d=["Sprint","Velocity","Total Issues","Completed Issues","Open Issues","Completion Rate %","Sprint Start","Sprint End"],l=o.map(r=>[`Sprint ${r.sprint}`,r.velocity,r.totalIssues,r.closedIssues,r.openIssues,r.completionRate?`${r.completionRate}%`:"",r.startDate?new Date(r.startDate).toLocaleDateString():"",r.endDate?new Date(r.endDate).toLocaleDateString():""]);return[Et(d),...l.map(r=>Et(r))].join(`
`)}function my(o){if(!o||o.length===0)return"No data to export";const d=["Risk Title","Description","Impact","Probability","Risk Score","Mitigation Strategy","Owner","Status","Created Date"],l=o.map(r=>[r.title,r.description||"",r.impact,r.probability,r.riskScore||"",r.mitigation||"",r.owner||"",r.status||"Open",r.createdAt?new Date(r.createdAt).toLocaleDateString():""]);return[Et(d),...l.map(r=>Et(r))].join(`
`)}function yy(o){const{initiatives:d,healthScore:l,upcomingMilestones:a,topRisks:r,stats:c}=o,p=[];return p.push("HEALTH SCORE"),p.push(`Score,${l?.score||"N/A"}`),p.push(`Status,${l?.status||"N/A"}`),p.push(""),p.push("OVERALL STATISTICS"),p.push(`Total Issues,${c?.totalIssues||0}`),p.push(`Open Issues,${c?.openIssues||0}`),p.push(`Closed Issues,${c?.closedIssues||0}`),p.push(`Total Epics,${c?.totalEpics||0}`),p.push(""),d&&d.length>0&&(p.push("INITIATIVES SUMMARY"),p.push(Et(["Name","Status","Progress %","Epics","Issues","Due Date"])),d.forEach(f=>{p.push(Et([f.name,f.status,`${f.progress}%`,f.epics.length,f.totalIssues,f.dueDate?new Date(f.dueDate).toLocaleDateString():""]))}),p.push("")),a&&a.length>0&&(p.push("UPCOMING MILESTONES (Next 30 Days)"),p.push(Et(["Title","Due Date","Days Until","Status"])),a.forEach(f=>{p.push(Et([f.title,f.due_date?new Date(f.due_date).toLocaleDateString():"",f.daysUntil||"",f.status||""]))}),p.push("")),r&&r.length>0&&(p.push("TOP RISKS"),p.push(Et(["Title","Impact","Probability","Description"])),r.forEach(f=>{p.push(Et([f.title,f.impact,f.probability,f.description||""]))})),p.join(`
`)}function vy({isOpen:o,onClose:d,onSave:l}){const[a,r]=U.useState({weights:{...ad},amplifiers:{...sd},thresholds:{...rd},timeframe:{...no}});U.useEffect(()=>{const h=localStorage.getItem("healthScoreConfig");if(h)try{const y=JSON.parse(h);r(y)}catch(y){console.error("Failed to load health score config:",y)}},[o]);const c=()=>{const h=Object.values(a.weights).reduce((y,v)=>y+v,0);if(Math.abs(h-1)>.01){alert("Weights must sum to 100% (1.0). Current sum: "+(h*100).toFixed(1)+"%");return}localStorage.setItem("healthScoreConfig",JSON.stringify(a)),l(a),d()},p=()=>{const h={weights:{...ad},amplifiers:{...sd},thresholds:{...rd},timeframe:{...no}};r(h),localStorage.setItem("healthScoreConfig",JSON.stringify(h))};if(!o)return null;const f=Object.values(a.weights).reduce((h,y)=>h+y,0),g=Math.abs(f-1)<.01;return t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:t.jsxs("div",{className:"card",style:{width:"90%",maxWidth:"800px",maxHeight:"90vh",overflow:"auto",padding:"24px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[t.jsx("h2",{style:{fontSize:"20px",fontWeight:"600",margin:0},children:"Health Score Configuration"}),t.jsx("button",{onClick:d,style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"var(--text-secondary)"},children:""})]}),t.jsxs("div",{style:{marginBottom:"24px"},children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Dimension Weights"}),t.jsx("p",{style:{fontSize:"13px",color:"var(--text-secondary)",marginBottom:"16px"},children:"Adjust the importance of each health dimension. Total must equal 100%."}),t.jsx("div",{style:{display:"grid",gap:"12px"},children:Object.entries(a.weights).map(([h,y])=>t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"150px 1fr 100px",gap:"12px",alignItems:"center"},children:[t.jsx("label",{style:{fontSize:"14px",fontWeight:"500",textTransform:"capitalize"},children:h}),t.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:y,onChange:v=>r({...a,weights:{...a.weights,[h]:parseFloat(v.target.value)}}),style:{width:"100%"}}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[t.jsx("input",{type:"number",min:"0",max:"100",step:"5",value:(y*100).toFixed(0),onChange:v=>{const m=parseFloat(v.target.value)||0,b=Math.max(0,Math.min(100,m));r({...a,weights:{...a.weights,[h]:b/100}})},style:{width:"60px",padding:"4px 8px",fontSize:"14px",fontWeight:"600",border:"1px solid var(--border-medium)",borderRadius:"4px",textAlign:"right"}}),t.jsx("span",{style:{fontSize:"14px",fontWeight:"600"},children:"%"})]})]},h))}),t.jsxs("div",{style:{marginTop:"12px",padding:"8px 12px",background:g?"#D1FAE5":"#FEE2E2",border:`1px solid ${g?"#10B981":"#EF4444"}`,borderRadius:"6px",fontSize:"13px",color:g?"#065F46":"#991B1B"},children:["Total: ",(f*100).toFixed(1),"% ",g?"":" Must equal 100%"]})]}),t.jsxs("div",{style:{marginBottom:"24px"},children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Penalty Amplifiers"}),t.jsx("p",{style:{fontSize:"13px",color:"var(--text-secondary)",marginBottom:"16px"},children:"Control how severely issues penalize the health score. Higher = more sensitive to problems."}),t.jsx("div",{style:{display:"grid",gap:"12px"},children:Object.entries(a.amplifiers).map(([h,y])=>t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"150px 1fr 100px",gap:"12px",alignItems:"center"},children:[t.jsx("label",{style:{fontSize:"14px",fontWeight:"500",textTransform:"capitalize"},children:h}),t.jsx("input",{type:"range",min:"100",max:"500",step:"50",value:y,onChange:v=>r({...a,amplifiers:{...a.amplifiers,[h]:parseInt(v.target.value)}}),style:{width:"100%"}}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[t.jsx("span",{style:{fontSize:"14px",fontWeight:"600"},children:""}),t.jsx("input",{type:"number",min:"100",max:"500",step:"10",value:y,onChange:v=>{const m=parseInt(v.target.value)||100,b=Math.max(100,Math.min(500,m));r({...a,amplifiers:{...a.amplifiers,[h]:b}})},style:{width:"60px",padding:"4px 8px",fontSize:"14px",fontWeight:"600",border:"1px solid var(--border-medium)",borderRadius:"4px",textAlign:"right"}})]})]},h))}),t.jsxs("div",{style:{marginTop:"16px",padding:"16px",background:"#F0F9FF",border:"1px solid #3B82F6",borderRadius:"8px"},children:[t.jsx("h4",{style:{fontSize:"13px",fontWeight:"600",color:"#1E40AF",marginBottom:"12px"},children:"Impact Analysis"}),Object.entries(a.amplifiers).map(([h,y])=>{const v=(100/y*100).toFixed(1),m=(50/y*100).toFixed(1);(75/y*100).toFixed(1);const b=(100-.05*y).toFixed(0),j=Math.max(0,100-.1*y).toFixed(0);return Math.max(0,100-.2*y).toFixed(0),t.jsxs("div",{style:{marginBottom:h==="risk"?"0":"12px",paddingBottom:h==="risk"?"0":"12px",borderBottom:h==="risk"?"none":"1px solid #BFDBFE"},children:[t.jsxs("div",{style:{fontSize:"12px",fontWeight:"600",color:"#1E40AF",marginBottom:"6px",textTransform:"capitalize"},children:[h," (",y,")"]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",fontSize:"11px",color:"#1E3A8A"},children:[t.jsxs("div",{children:[t.jsxs("strong",{children:[v,"%"]})," ",h," issues  score drops to ",t.jsx("strong",{style:{color:"#DC2626"},children:"0"})]}),t.jsxs("div",{children:[t.jsxs("strong",{children:[m,"%"]})," ",h," issues  score drops to ",t.jsx("strong",{style:{color:"#D97706"},children:"50"})]}),t.jsxs("div",{children:[t.jsx("strong",{children:"5%"})," ",h," issues  score: ",t.jsx("strong",{style:{color:b>=80?"#059669":b>=60?"#D97706":"#DC2626"},children:b})]}),t.jsxs("div",{children:[t.jsx("strong",{children:"10%"})," ",h," issues  score: ",t.jsx("strong",{style:{color:j>=80?"#059669":j>=60?"#D97706":"#DC2626"},children:j})]})]})]},h)}),t.jsxs("div",{style:{marginTop:"12px",padding:"8px",background:"#DBEAFE",borderRadius:"4px",fontSize:"11px",color:"#1E3A8A"},children:[t.jsx("strong",{children:"Tip:"})," Lower amplifiers = more tolerant (need more issues to drop score). Higher amplifiers = stricter (fewer issues cause bigger penalties)."]})]})]}),t.jsxs("div",{style:{marginBottom:"24px"},children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Status Thresholds"}),t.jsx("p",{style:{fontSize:"13px",color:"var(--text-secondary)",marginBottom:"16px"},children:"Set the score boundaries for green/amber/red status indicators."}),t.jsxs("div",{style:{display:"grid",gap:"12px"},children:[t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"150px 1fr 100px",gap:"12px",alignItems:"center"},children:[t.jsx("label",{style:{fontSize:"14px",fontWeight:"500"},children:"Green (Good)"}),t.jsx("input",{type:"range",min:"60",max:"100",step:"5",value:a.thresholds.good,onChange:h=>r({...a,thresholds:{...a.thresholds,good:parseInt(h.target.value)}}),style:{width:"100%"}}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[t.jsx("span",{style:{fontSize:"14px",fontWeight:"600",color:"var(--success)"},children:""}),t.jsx("input",{type:"number",min:"60",max:"100",step:"5",value:a.thresholds.good,onChange:h=>{const y=parseInt(h.target.value)||60,v=Math.max(60,Math.min(100,y));r({...a,thresholds:{...a.thresholds,good:v}})},style:{width:"50px",padding:"4px 8px",fontSize:"14px",fontWeight:"600",border:"1px solid var(--border-medium)",borderRadius:"4px",textAlign:"right",color:"var(--success)"}})]})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"150px 1fr 100px",gap:"12px",alignItems:"center"},children:[t.jsx("label",{style:{fontSize:"14px",fontWeight:"500"},children:"Amber (Warning)"}),t.jsx("input",{type:"range",min:"30",max:a.thresholds.good-5,step:"5",value:a.thresholds.warning,onChange:h=>r({...a,thresholds:{...a.thresholds,warning:parseInt(h.target.value)}}),style:{width:"100%"}}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[t.jsx("span",{style:{fontSize:"14px",fontWeight:"600",color:"var(--warning)"},children:""}),t.jsx("input",{type:"number",min:"30",max:a.thresholds.good-5,step:"5",value:a.thresholds.warning,onChange:h=>{const y=parseInt(h.target.value)||30,v=a.thresholds.good-5,m=Math.max(30,Math.min(v,y));r({...a,thresholds:{...a.thresholds,warning:m}})},style:{width:"50px",padding:"4px 8px",fontSize:"14px",fontWeight:"600",border:"1px solid var(--border-medium)",borderRadius:"4px",textAlign:"right",color:"var(--warning)"}})]})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"150px 1fr 80px",gap:"12px",alignItems:"center"},children:[t.jsx("label",{style:{fontSize:"14px",fontWeight:"500"},children:"Red (Critical)"}),t.jsx("div",{style:{width:"100%",display:"flex",alignItems:"center"},children:t.jsx("div",{style:{flex:1,height:"4px",background:"var(--danger)",borderRadius:"2px"}})}),t.jsxs("span",{style:{fontSize:"14px",fontWeight:"600",color:"var(--danger)"},children:["<",a.thresholds.warning]})]})]})]}),t.jsxs("div",{style:{marginBottom:"24px"},children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Timeframe Mode"}),t.jsx("p",{style:{fontSize:"13px",color:"var(--text-secondary)",marginBottom:"16px"},children:"Choose which issues to include in health score calculation."}),t.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"12px"},children:[t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[t.jsx("input",{type:"radio",name:"timeframe",value:"iteration",checked:a.timeframe.mode==="iteration",onChange:h=>r({...a,timeframe:{...a.timeframe,mode:h.target.value}})}),t.jsx("span",{style:{fontSize:"14px"},children:"Current Iteration/Sprint"})]}),t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[t.jsx("input",{type:"radio",name:"timeframe",value:"days",checked:a.timeframe.mode==="days",onChange:h=>r({...a,timeframe:{...a.timeframe,mode:h.target.value}})}),t.jsx("span",{style:{fontSize:"14px"},children:"Last N Days"})]}),t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[t.jsx("input",{type:"radio",name:"timeframe",value:"all",checked:a.timeframe.mode==="all",onChange:h=>r({...a,timeframe:{...a.timeframe,mode:h.target.value}})}),t.jsx("span",{style:{fontSize:"14px"},children:"All Issues"})]})]}),a.timeframe.mode==="days"&&t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"150px 1fr 100px",gap:"12px",alignItems:"center"},children:[t.jsx("label",{style:{fontSize:"14px",fontWeight:"500"},children:"Days to include"}),t.jsx("input",{type:"range",min:"7",max:"365",step:"7",value:a.timeframe.days,onChange:h=>r({...a,timeframe:{...a.timeframe,days:parseInt(h.target.value)}}),style:{width:"100%"}}),t.jsx("input",{type:"number",min:"7",max:"365",step:"7",value:a.timeframe.days,onChange:h=>{const y=parseInt(h.target.value)||7,v=Math.max(7,Math.min(365,y));r({...a,timeframe:{...a.timeframe,days:v}})},style:{width:"60px",padding:"4px 8px",fontSize:"14px",fontWeight:"600",border:"1px solid var(--border-medium)",borderRadius:"4px",textAlign:"right"}})]})]}),t.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end",paddingTop:"16px",borderTop:"1px solid var(--border-color)"},children:[t.jsx("button",{className:"btn",onClick:p,style:{background:"var(--bg-secondary)"},children:"Reset to Defaults"}),t.jsx("button",{className:"btn",onClick:d,style:{background:"var(--bg-secondary)"},children:"Cancel"}),t.jsx("button",{className:"btn btn-primary",onClick:c,disabled:!g,children:"Save Configuration"})]})]})})}function by({stats:o,healthScore:d,issues:l,milestones:a,epics:r,risks:c}){const[p,f]=U.useState(!1),[g,h]=U.useState(0),[y,v]=U.useState({blockers:!1,overdue:!1,highPriority:!1}),m=w=>{v(T=>({...T,[w]:!T[w]}))},{filteredIssues:b}=Dn(),j=U.useMemo(()=>!r||!b?[]:Tx(r,b),[r,b]),E=U.useMemo(()=>a?uy(a,30):[],[a]),A=U.useMemo(()=>{if(!b||b.length===0)return null;const w=new Date;w.setDate(w.getDate()-28);const _=(b.filter(O=>O.state!=="closed"||!O.closed_at?!1:new Date(O.closed_at)>=w).length/4).toFixed(1),L=new Map;b.filter(O=>O.state==="opened").forEach(O=>{O.assignees?.forEach(G=>{const K=L.get(G.id)||0;L.set(G.id,K+1)})});const B=L.size>0?(b.filter(O=>O.state==="opened"&&O.assignees?.length>0).length/L.size).toFixed(1):0;return{weeklyVelocity:_,activeMembers:L.size,avgIssuesPerPerson:B}},[b]),N=U.useMemo(()=>{if(!o)return null;const w=b.filter(T=>T.state!=="opened"?!1:(T.labels?.map(L=>L.toLowerCase())||[]).some(L=>L.includes("priority::high")||L.includes("critical")||L.includes("urgent"))).length;return{blockers:o.blockers,overdue:o.overdue,highPriority:w,total:o.blockers+o.overdue+w}},[b,o]),k=U.useMemo(()=>c?c.filter(w=>w.impact==="high"||w.impact==="medium"&&w.probability==="high").slice(0,3):[],[c]),C=()=>{const T=yy({initiatives:j,healthScore:d,upcomingMilestones:E,topRisks:k,stats:o}),_=new Date().toISOString().split("T")[0];Yt(T,`executive-summary-${_}.csv`)},D=w=>{h(T=>T+1),window.location.reload()};return t.jsxs("div",{className:"container",children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"30px"},children:[t.jsxs("div",{children:[t.jsx("h2",{style:{fontSize:"24px",fontWeight:"600",marginBottom:"8px"},children:"Executive Overview"}),t.jsx("p",{style:{fontSize:"14px",color:"var(--text-secondary)"},children:"Comprehensive view of all initiatives and key performance indicators"})]}),t.jsxs("div",{style:{display:"flex",gap:"12px"},children:[t.jsxs("button",{className:"btn",onClick:()=>f(!0),style:{display:"flex",alignItems:"center",gap:"8px",background:"var(--bg-secondary)"},title:"Configure health score calculation",children:[t.jsx("span",{children:""}),t.jsx("span",{children:"Health Score Settings"})]}),t.jsx("button",{className:"btn btn-primary",onClick:C,style:{display:"flex",alignItems:"center",gap:"8px"},children:t.jsx("span",{children:"Export Summary CSV"})})]})]}),t.jsx(vy,{isOpen:p,onClose:()=>f(!1),onSave:D}),t.jsxs("div",{className:"grid grid-4",style:{marginBottom:"30px"},children:[t.jsxs("div",{className:"card metric-card",children:[t.jsx("div",{className:"metric-label",children:"Active Initiatives"}),t.jsx("div",{className:"metric-value",style:{color:"var(--info)"},children:j.filter(w=>w.openIssues>0).length}),t.jsxs("div",{style:{fontSize:"11px",color:"var(--text-tertiary)",marginTop:"4px"},children:[j.filter(w=>w.status==="on-track").length," on track, ",j.filter(w=>w.status==="at-risk").length," at risk"]})]}),t.jsxs("div",{className:"card metric-card",children:[t.jsx("div",{className:"metric-label",children:"Health Score"}),t.jsx("div",{className:"metric-value",style:{color:d?.status==="green"?"var(--success)":d?.status==="amber"?"var(--warning)":"var(--danger)"},children:d?.score||0}),t.jsx("div",{style:{fontSize:"11px",color:"var(--text-tertiary)",marginTop:"4px"},children:"Overall project health"})]}),A&&t.jsxs("div",{className:"card metric-card",children:[t.jsx("div",{className:"metric-label",children:"Velocity & Capacity"}),t.jsx("div",{className:"metric-value",style:{color:"var(--primary)"},children:A.weeklyVelocity}),t.jsxs("div",{style:{fontSize:"11px",color:"var(--text-tertiary)",marginTop:"4px"},children:["issues/week  ",A.activeMembers," members  ",A.avgIssuesPerPerson," avg/person"]})]}),N&&t.jsxs("div",{className:"card metric-card",children:[t.jsx("div",{className:"metric-label",children:"Risk Profile"}),t.jsx("div",{className:"metric-value",style:{color:N.total===0?"var(--success)":N.total<=5?"var(--warning)":"var(--danger)"},children:N.total}),t.jsxs("div",{style:{fontSize:"11px",color:"var(--text-tertiary)",marginTop:"4px"},children:[N.blockers," blockers  ",N.overdue," overdue  ",N.highPriority," high priority"]})]})]}),t.jsxs("div",{className:"grid grid-2",style:{gap:"30px",marginBottom:"30px"},children:[t.jsxs("div",{className:"card",children:[t.jsx("h3",{style:{marginBottom:"20px",fontSize:"18px",fontWeight:"600"},children:"Active Initiatives"}),t.jsx("div",{style:{fontSize:"13px",color:"var(--text-secondary)",marginBottom:"16px"},children:"Current status of ongoing strategic projects"}),j.length===0?t.jsxs("div",{style:{padding:"40px",textAlign:"center",background:"var(--bg-secondary)",borderRadius:"8px"},children:[t.jsx("div",{style:{fontSize:"14px",color:"var(--text-secondary)",marginBottom:"8px"},children:"No initiatives found"}),t.jsx("div",{style:{fontSize:"12px",color:"var(--text-tertiary)"},children:'Tag epics with "initiative::name" labels to group them into initiatives'})]}):t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:j.slice(0,4).map(w=>{const T=cy(w.status);return t.jsxs("div",{style:{padding:"16px",background:"var(--bg-secondary)",borderRadius:"8px",border:"1px solid var(--border-light)"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsx("div",{style:{fontSize:"15px",fontWeight:"600",color:"var(--text-primary)",marginBottom:"4px"},children:w.name}),t.jsxs("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:[w.epics.length," epic",w.epics.length!==1?"s":"","  ",w.totalIssues," issue",w.totalIssues!==1?"s":""]})]}),t.jsxs("span",{style:{padding:"4px 12px",borderRadius:"12px",fontSize:"11px",fontWeight:"600",color:T.color,background:T.background,whiteSpace:"nowrap",display:"flex",alignItems:"center",gap:"4px"},children:[t.jsx("span",{children:T.icon}),t.jsx("span",{children:T.label})]})]}),t.jsxs("div",{style:{marginBottom:"8px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"6px"},children:[t.jsx("span",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:"Progress"}),t.jsxs("span",{style:{fontSize:"12px",fontWeight:"600"},children:[w.progress,"%"]})]}),t.jsx("div",{className:"progress-bar",style:{height:"6px"},children:t.jsx("div",{className:"progress-fill",style:{width:`${w.progress}%`,background:w.status==="on-track"?"var(--success)":w.status==="at-risk"?"var(--warning)":"var(--danger)"}})})]}),w.dueDate&&t.jsxs("div",{style:{fontSize:"12px",color:"var(--text-tertiary)"},children:["Due: ",dy(w.dueDate)]})]},w.id)})})]}),t.jsxs("div",{className:"card",children:[t.jsx("h3",{style:{marginBottom:"20px",fontSize:"18px",fontWeight:"600"},children:"Items Requiring Attention"}),t.jsx("div",{style:{fontSize:"13px",color:"var(--text-secondary)",marginBottom:"16px"},children:"Blockers, overdue items, and high-priority issues"}),N&&N.total===0?t.jsxs("div",{style:{padding:"40px",textAlign:"center",background:"var(--bg-secondary)",borderRadius:"8px"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"12px",opacity:.3},children:""}),t.jsx("div",{style:{fontSize:"14px",color:"var(--text-secondary)"},children:"No critical items requiring attention"})]}):t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[N&&N.blockers>0&&(()=>{const w=b.filter(B=>B.state!=="opened"?!1:Cx(B.labels||[])),T=y.blockers,_=T?w:w.slice(0,3),L=w.length>3;return t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 16px",background:"#FEE2E2",borderRadius:"8px 8px 0 0",borderLeft:"4px solid var(--danger)"},children:[t.jsxs("div",{style:{fontSize:"14px",fontWeight:"600",color:"var(--danger)"},children:[N.blockers," Blocker",N.blockers!==1?"s":""]}),t.jsx("div",{style:{marginLeft:"auto",fontSize:"11px",color:"#991B1B",fontWeight:"600"},children:"CRITICAL"})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",padding:"12px",background:"#FEF2F2",borderRadius:"0 0 8px 8px"},children:[_.map(B=>t.jsxs("a",{href:B.web_url,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"12px",padding:"8px 12px",background:"white",borderRadius:"6px",textDecoration:"none",color:"var(--text-primary)",border:"1px solid #FECACA",transition:"all 0.2s"},onMouseEnter:O=>{O.currentTarget.style.borderColor="var(--danger)",O.currentTarget.style.transform="translateX(4px)"},onMouseLeave:O=>{O.currentTarget.style.borderColor="#FECACA",O.currentTarget.style.transform="translateX(0)"},children:[t.jsx("div",{style:{width:"4px",height:"100%",background:"var(--danger)",borderRadius:"2px",marginRight:"8px"}}),t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{fontSize:"13px",fontWeight:"600",marginBottom:"2px"},children:["#",B.iid," ",B.title]}),B.assignees&&B.assignees.length>0&&t.jsxs("div",{style:{fontSize:"11px",color:"var(--text-secondary)"},children:["Assigned to: ",B.assignees[0].name]})]}),t.jsx("div",{style:{fontSize:"11px",color:"var(--danger)",fontWeight:"600"},children:"View "})]},B.id)),L&&t.jsx("button",{onClick:()=>m("blockers"),style:{padding:"8px 12px",background:"white",border:"1px solid #FCA5A5",borderRadius:"6px",fontSize:"12px",fontWeight:"600",color:"#DC2626",cursor:"pointer",transition:"all 0.2s",marginTop:"4px"},onMouseEnter:B=>{B.currentTarget.style.background="#FEE2E2"},onMouseLeave:B=>{B.currentTarget.style.background="white"},children:T?" Show less":` Show all ${N.blockers} blockers`})]})]})})(),N&&N.overdue>0&&(()=>{const w=b.filter(B=>{if(B.state!=="opened"||!B.due_date)return!1;const O=new Date(B.due_date),G=new Date;return G.setHours(0,0,0,0),O<G}),T=y.overdue,_=T?w:w.slice(0,3),L=w.length>3;return t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 16px",background:"#FEF3C7",borderRadius:"8px 8px 0 0",borderLeft:"4px solid var(--warning)"},children:[t.jsxs("div",{style:{fontSize:"14px",fontWeight:"600",color:"#92400E"},children:[N.overdue," Overdue Issue",N.overdue!==1?"s":""]}),t.jsx("div",{style:{marginLeft:"auto",fontSize:"11px",color:"#92400E",fontWeight:"600"},children:"OVERDUE"})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",padding:"12px",background:"#FFFBEB",borderRadius:"0 0 8px 8px"},children:[_.map(B=>{const O=new Date(B.due_date),K=Math.floor((new Date-O)/(1440*60*1e3));return t.jsxs("a",{href:B.web_url,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"12px",padding:"8px 12px",background:"white",borderRadius:"6px",textDecoration:"none",color:"var(--text-primary)",border:"1px solid #FDE68A",transition:"all 0.2s"},onMouseEnter:J=>{J.currentTarget.style.borderColor="var(--warning)",J.currentTarget.style.transform="translateX(4px)"},onMouseLeave:J=>{J.currentTarget.style.borderColor="#FDE68A",J.currentTarget.style.transform="translateX(0)"},children:[t.jsx("div",{style:{width:"4px",height:"100%",background:"var(--warning)",borderRadius:"2px",marginRight:"8px"}}),t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{fontSize:"13px",fontWeight:"600",marginBottom:"2px"},children:["#",B.iid," ",B.title]}),t.jsxs("div",{style:{fontSize:"11px",color:"#92400E"},children:[K," day",K!==1?"s":""," overdue"]})]}),t.jsx("div",{style:{fontSize:"11px",color:"var(--warning)",fontWeight:"600"},children:"View "})]},B.id)}),L&&t.jsx("button",{onClick:()=>m("overdue"),style:{padding:"8px 12px",background:"white",border:"1px solid #FCD34D",borderRadius:"6px",fontSize:"12px",fontWeight:"600",color:"#D97706",cursor:"pointer",transition:"all 0.2s",marginTop:"4px"},onMouseEnter:B=>{B.currentTarget.style.background="#FEF3C7"},onMouseLeave:B=>{B.currentTarget.style.background="white"},children:T?" Show less":` Show all ${N.overdue} overdue issues`})]})]})})(),N&&N.highPriority>0&&(()=>{const w=b.filter(B=>B.state!=="opened"?!1:(B.labels?.map(G=>G.toLowerCase())||[]).some(G=>G.includes("priority::high")||G.includes("critical")||G.includes("urgent"))),T=y.highPriority,_=T?w:w.slice(0,3),L=w.length>3;return t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 16px",background:"#DBEAFE",borderRadius:"8px 8px 0 0",borderLeft:"4px solid var(--info)"},children:[t.jsxs("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1E40AF"},children:[N.highPriority," High Priority Issue",N.highPriority!==1?"s":""]}),t.jsx("div",{style:{marginLeft:"auto",fontSize:"11px",color:"#1E40AF",fontWeight:"600"},children:"HIGH PRIORITY"})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",padding:"12px",background:"#EFF6FF",borderRadius:"0 0 8px 8px"},children:[_.map(B=>t.jsxs("a",{href:B.web_url,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"12px",padding:"8px 12px",background:"white",borderRadius:"6px",textDecoration:"none",color:"var(--text-primary)",border:"1px solid #BFDBFE",transition:"all 0.2s"},onMouseEnter:O=>{O.currentTarget.style.borderColor="var(--info)",O.currentTarget.style.transform="translateX(4px)"},onMouseLeave:O=>{O.currentTarget.style.borderColor="#BFDBFE",O.currentTarget.style.transform="translateX(0)"},children:[t.jsx("div",{style:{width:"4px",height:"100%",background:"var(--info)",borderRadius:"2px",marginRight:"8px"}}),t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{fontSize:"13px",fontWeight:"600",marginBottom:"2px"},children:["#",B.iid," ",B.title]}),B.assignees&&B.assignees.length>0&&t.jsxs("div",{style:{fontSize:"11px",color:"var(--text-secondary)"},children:["Assigned to: ",B.assignees[0].name]})]}),t.jsx("div",{style:{fontSize:"11px",color:"var(--info)",fontWeight:"600"},children:"View "})]},B.id)),L&&t.jsx("button",{onClick:()=>m("highPriority"),style:{padding:"8px 12px",background:"white",border:"1px solid #93C5FD",borderRadius:"6px",fontSize:"12px",fontWeight:"600",color:"#2563EB",cursor:"pointer",transition:"all 0.2s",marginTop:"4px"},onMouseEnter:B=>{B.currentTarget.style.background="#DBEAFE"},onMouseLeave:B=>{B.currentTarget.style.background="white"},children:T?" Show less":` Show all ${N.highPriority} high priority issues`})]})]})})()]})]})]}),t.jsxs("div",{className:"card",children:[t.jsx("h3",{style:{marginBottom:"20px",fontSize:"18px",fontWeight:"600"},children:"Upcoming Milestones"}),t.jsx("div",{style:{fontSize:"13px",color:"var(--text-secondary)",marginBottom:"16px"},children:"Key deliverables and deadlines in the next 30 days"}),E.length===0?t.jsx("div",{style:{padding:"40px",textAlign:"center",background:"var(--bg-secondary)",borderRadius:"8px"},children:t.jsx("div",{style:{fontSize:"14px",color:"var(--text-secondary)"},children:"No upcoming milestones in the next 30 days"})}):t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:E.map(w=>{const T=fy(w.status),_=w.stats&&w.stats.total_issues>0?Math.round(w.stats.closed_issues/w.stats.total_issues*100):0,L=w.stats?w.stats.total_issues-w.stats.closed_issues:0;let B=null;return w.status==="at-risk"?w.daysUntil<=3?B=`Due in ${w.daysUntil} day${w.daysUntil!==1?"s":""} with ${L} open issue${L!==1?"s":""} (${_}% complete)`:_<50&&w.daysUntil<=7?B=`Only ${_}% complete with ${w.daysUntil} days remaining`:L>0&&(B=`${L} open issue${L!==1?"s":""} remaining (${_}% complete)`):w.status==="overdue"&&(B=`Overdue with ${L} open issue${L!==1?"s":""}`),t.jsx("div",{style:{padding:"16px",background:"var(--bg-secondary)",borderRadius:"8px",borderLeft:w.status==="at-risk"||w.status==="overdue"?`4px solid ${T.color}`:"none"},children:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px"},children:[t.jsxs("div",{style:{width:"80px",textAlign:"center",borderRight:"2px solid var(--border-light)",paddingRight:"20px"},children:[t.jsx("div",{style:{fontSize:"20px",fontWeight:"700",color:"var(--primary)"},children:w.daysUntil}),t.jsx("div",{style:{fontSize:"11px",color:"var(--text-secondary)",marginTop:"2px"},children:w.daysUntil===1?"day":"days"})]}),t.jsxs("div",{style:{flex:1},children:[t.jsx("div",{style:{fontSize:"15px",fontWeight:"600",color:"var(--text-primary)",marginBottom:"4px"},children:w.title}),t.jsx("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginBottom:B?"8px":"0"},children:w.description||"No description"}),B&&t.jsxs("div",{style:{padding:"8px 12px",background:w.status==="overdue"?"#FEE2E2":"#FEF3C7",borderRadius:"6px",marginTop:"8px"},children:[t.jsx("div",{style:{fontSize:"11px",fontWeight:"600",color:w.status==="overdue"?"#991B1B":"#92400E",marginBottom:"4px"},children:"Risk Factor:"}),t.jsx("div",{style:{fontSize:"12px",color:w.status==="overdue"?"#DC2626":"#D97706",lineHeight:"1.4"},children:B})]})]}),t.jsxs("span",{style:{padding:"4px 12px",borderRadius:"12px",fontSize:"11px",fontWeight:"600",color:T.color,background:T.background,whiteSpace:"nowrap",display:"flex",alignItems:"center",gap:"4px",alignSelf:"flex-start"},children:[t.jsx("span",{children:T.icon}),t.jsx("span",{children:T.label})]})]})},w.id)})})]})]})}function Sy(o){return o?new Date(o).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):""}function jy({issues:o,milestones:d}){if(d.length===0)return t.jsx("div",{className:"container",children:t.jsxs("div",{className:"card text-center",style:{padding:"60px 20px"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px",opacity:.3},children:""}),t.jsx("h3",{className:"mb-2",children:"No Milestones"}),t.jsx("p",{className:"text-muted",children:"Create milestones in GitLab to see the roadmap view."})]})});const l=[...d].sort((a,r)=>a.due_date?r.due_date?new Date(r.due_date)-new Date(a.due_date):-1:1);return t.jsxs("div",{className:"container-fluid",children:[t.jsx("div",{style:{marginBottom:"20px"},children:t.jsx("h2",{style:{margin:0},children:"Milestones"})}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[l.map(a=>{const r=o.filter(m=>m.milestone?.id===a.id),c=r.filter(m=>m.state==="closed").length,p=r.length,f=p>0?Math.round(c/p*100):0,g=r.filter(m=>ao(m.labels)).length,h=r.filter(m=>Xm(m.labels)==="High").length,y=r.filter(m=>m.due_date&&Math.floor((new Date(m.due_date)-new Date)/(1e3*60*60*24))<=7&&m.state==="opened").length,v=r.filter(m=>m.due_date&&new Date(m.due_date)<new Date&&m.state==="opened").length;return t.jsxs("div",{className:"card",children:[t.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",marginBottom:"16px"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsx("h3",{style:{marginBottom:"8px"},children:a.title}),a.description&&t.jsx("p",{className:"text-muted mb-2",style:{fontSize:"14px"},children:a.description}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",fontSize:"13px"},children:[t.jsx("span",{className:a.state==="active"?"badge badge-success":"badge",children:a.state==="active"?"Active":"Closed"}),a.due_date&&t.jsxs("span",{className:"text-muted",children:[" ",Sy(a.due_date)]}),g>0&&t.jsxs("span",{style:{color:"var(--danger)",fontWeight:"600"},children:[" ",g," Blockers"]})]})]}),t.jsxs("div",{style:{textAlign:"right"},children:[t.jsxs("div",{style:{fontSize:"32px",fontWeight:"700",color:"var(--primary)"},children:[f,"%"]}),t.jsxs("div",{className:"text-small text-muted",children:[c," / ",p]})]})]}),t.jsx("div",{className:"progress-bar mb-3",children:t.jsx("div",{className:"progress-fill",style:{width:`${f}%`}})}),t.jsxs("div",{className:"grid grid-3",style:{gap:"12px"},children:[t.jsxs("div",{className:"card",style:{background:"var(--bg-secondary)",padding:"12px",textAlign:"center"},children:[t.jsx("div",{className:"text-small text-muted mb-1",children:"HIGH PRIORITY"}),t.jsx("div",{style:{fontSize:"24px",fontWeight:"700"},children:h})]}),t.jsxs("div",{className:"card",style:{background:"var(--bg-secondary)",padding:"12px",textAlign:"center"},children:[t.jsx("div",{className:"text-small text-muted mb-1",children:"AT RISK"}),t.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"var(--warning)"},children:y})]}),t.jsxs("div",{className:"card",style:{background:"var(--bg-secondary)",padding:"12px",textAlign:"center"},children:[t.jsx("div",{className:"text-small text-muted mb-1",children:"OVERDUE"}),t.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"var(--danger)"},children:v})]})]}),g>0&&t.jsxs("div",{style:{marginTop:"16px",background:"#FEE2E2",borderLeft:"4px solid var(--danger)",padding:"16px",borderRadius:"4px"},children:[t.jsx("h4",{style:{color:"var(--danger)",marginBottom:"12px",fontWeight:"600"},children:" Blockers"}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:r.filter(m=>ao(m.labels)).map(m=>t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"13px"},children:[t.jsxs("span",{style:{cursor:"pointer",textDecoration:"underline"},onClick:()=>window.open(m.web_url,"_blank"),children:["#",m.iid," ",m.title]}),t.jsx("span",{className:"text-muted",children:m.assignees?.[0]?.name||"Unassigned"})]},m.id))})]})]},a.id)}),o.filter(a=>!a.milestone).length>0&&t.jsxs("div",{className:"card",style:{background:"var(--bg-secondary)"},children:[t.jsx("h3",{className:"mb-2",children:" Backlog"}),t.jsxs("p",{className:"text-muted",children:[o.filter(a=>!a.milestone).length," issues without milestone"]})]})]})]})}function md(o){if(!o||o.length===0)return[];const d=new Map;o.forEach(r=>{const c=pt(r.labels,r.iteration);if(!c)return;d.has(c)||d.set(c,{sprint:c,totalIssues:0,completedIssues:0,openIssues:0,completedAt:[]});const p=d.get(c);p.totalIssues++,r.state==="closed"?(p.completedIssues++,r.closed_at&&p.completedAt.push(new Date(r.closed_at))):p.openIssues++});const l=new Map;return o.forEach(r=>{const c=pt(r.labels,r.iteration);c&&r.iteration?.start_date&&!l.has(c)&&l.set(c,r.iteration.start_date)}),Array.from(d.values()).sort((r,c)=>{const p=l.get(r.sprint),f=l.get(c.sprint);if(p&&f)return new Date(p)-new Date(f);const g=typeof r.sprint=="number"?r.sprint:parseInt(r.sprint,10),h=typeof c.sprint=="number"?c.sprint:parseInt(c.sprint,10);return!isNaN(g)&&!isNaN(h)?g-h:String(r.sprint).localeCompare(String(c.sprint))}).map(r=>({...r,velocity:r.completedIssues,completionRate:r.totalIssues>0?Math.round(r.completedIssues/r.totalIssues*100):0}))}function Ey(o,d=3){if(!o||o.length===0)return 0;const l=o.slice(-d),a=l.reduce((r,c)=>r+c.velocity,0);return Math.round(a/l.length)}function wy(o){if(!o||o.length<2)return 0;const d=o.slice(-3);if(d.length<2)return 0;const l=d.slice(0,Math.floor(d.length/2)).reduce((r,c)=>r+c.velocity,0)/Math.floor(d.length/2),a=d.slice(Math.floor(d.length/2)).reduce((r,c)=>r+c.velocity,0)/Math.ceil(d.length/2);return Math.round((a-l)/l*100)}function By(o,d){if(!o||!d)return{actual:[],ideal:[],total:0};const l=o.filter(L=>pt(L.labels,L.iteration)===d);if(l.length===0)return{actual:[],ideal:[],total:0};let a=null,r=null;const c=l.find(L=>L.iteration?.start_date);if(c&&c.iteration&&(c.iteration.start_date&&(a=new Date(c.iteration.start_date),a.setHours(0,0,0,0)),c.iteration.due_date&&(r=new Date(c.iteration.due_date),r.setHours(23,59,59,999))),!a){const L=l.map(B=>new Date(B.created_at)).filter(B=>!isNaN(B));if(L.length===0)return{actual:[],ideal:[],total:0};a=new Date(Math.min(...L)),a.setHours(0,0,0,0)}r||(r=new Date(a.getTime()+12096e5),r.setHours(23,59,59,999));const p=new Date,f=new Date(p.getFullYear(),p.getMonth(),p.getDate()),g=l.length,h=[],y=(r-a)/(1440*60*1e3),v=Math.round(y);for(let L=0;L<=v;L++){const B=new Date(a.getTime()+L*24*60*60*1e3),O=B.getFullYear(),G=String(B.getMonth()+1).padStart(2,"0"),K=String(B.getDate()).padStart(2,"0"),J=`${O}-${G}-${K}`,le=g-g/v*L;h.push({date:J,remaining:Math.max(0,Math.round(le))})}const m=l.filter(L=>L.state==="closed"&&L.closed_at).map(L=>({date:new Date(L.closed_at),issue:L})).sort((L,B)=>L.date-B.date),b=[];let j=g;const E=new Map;m.forEach(({date:L})=>{const B=new Date(L);B.setHours(0,0,0,0);const O=B.getFullYear(),G=String(B.getMonth()+1).padStart(2,"0"),K=String(B.getDate()).padStart(2,"0"),J=`${O}-${G}-${K}`;E.set(J,(E.get(J)||0)+1)}),console.log("Burndown generation:",{sprintStart:a.toISOString(),sprintEnd:r.toISOString(),today:f.toISOString(),days:v,totalIssues:g});for(let L=0;L<=v;L++){const B=new Date(a.getTime()+L*24*60*60*1e3),O=new Date(B.getFullYear(),B.getMonth(),B.getDate());if(O>f)break;const G=O.getFullYear(),K=String(O.getMonth()+1).padStart(2,"0"),J=String(O.getDate()).padStart(2,"0"),le=`${G}-${K}-${J}`;console.log(`Day ${L}: ${le}, cleanDate > today: ${O>f}, cleanDate: ${O.toISOString()}, today: ${f.toISOString()}`),L>0&&E.has(le)&&(j-=E.get(le)),b.push({date:le,remaining:Math.max(0,j)})}console.log("Actual data points generated:",b.length,"Last date:",b[b.length-1]?.date);const A=a.getFullYear(),N=String(a.getMonth()+1).padStart(2,"0"),k=String(a.getDate()).padStart(2,"0"),C=`${A}-${N}-${k}`,D=r.getFullYear(),w=String(r.getMonth()+1).padStart(2,"0"),T=String(r.getDate()).padStart(2,"0"),_=`${D}-${w}-${T}`;return{actual:b,ideal:h,total:g,sprintStart:C,sprintEnd:_}}function Dy(o,d){if(!o||d===0)return null;const l=o.filter(f=>f.state==="opened").length;if(l===0)return{date:new Date().toISOString().split("T")[0],sprintsRemaining:0,confidence:100};const a=Math.ceil(l/d),r=new Date,c=new Date(r.getTime()+a*14*24*60*60*1e3),p=Math.min(95,60+d*2);return{date:c.toISOString().split("T")[0],sprintsRemaining:a,confidence:Math.round(p),openIssues:l}}function Cy(o){if(!o||o.length===0)return null;const d=new Map;if(o.filter(r=>r.state==="opened").forEach(r=>{const c=pt(r.labels,r.iteration);if(!c)return;const p=r.iteration?.start_date;p&&!d.has(c)&&d.set(c,p)}),d.size===0){const r=o.filter(p=>p.state==="opened").map(p=>pt(p.labels,p.iteration)).filter(p=>p!==null);if(r.length===0)return null;const c=r.map(p=>typeof p=="number"?p:parseInt(p,10)).filter(p=>!isNaN(p));return c.length>0?Math.max(...c):r[0]}let l=null,a=null;return d.forEach((r,c)=>{const p=new Date(r);(!a||p>a)&&(a=p,l=c)}),l}function Ts(o){if(!o||o.length===0)return[];const d=new Set;return o.forEach(l=>{const a=pt(l.labels,l.iteration);a&&d.add(a)}),Array.from(d).sort((l,a)=>{const r=o.find(y=>pt(y.labels,y.iteration)===l),c=o.find(y=>pt(y.labels,y.iteration)===a),p=r?.iteration?.start_date,f=c?.iteration?.start_date;if(p&&f)return new Date(f)-new Date(p);if(p)return-1;if(f)return 1;const g=typeof l=="number"?l:parseInt(l,10),h=typeof a=="number"?a:parseInt(a,10);return!isNaN(g)&&!isNaN(h)?h-g:String(a).localeCompare(String(l))})}function Ay({issues:o}){const{filteredIssues:d,selectedIterations:l,isFiltered:a}=Dn(),r=(A,N,k)=>{if(!A||A.length<2)return{causes:[],actions:[]};const C=[],D=[];A.slice(-3);const w=A[A.length-1],T=A[A.length-2];if(N<-10){const _=Math.abs(N);C.push({severity:"critical",category:"velocity-decline",description:`Velocity declined by ${_}% (from ${T.velocity} to ${w.velocity} issues/sprint)`,impact:`${T.velocity-w.velocity} fewer issues completed per sprint`}),w.completionRate<70&&(C.push({severity:"warning",category:"completion-rate",description:`Low completion rate: ${w.completionRate}% in Sprint ${w.sprint}`,impact:`${w.openIssues} issues not completed`}),D.push({priority:"high",title:"Reduce sprint scope",description:"Team is taking on too much work. Reduce planned issues by 20-30%",estimatedImpact:"Improve completion rate to 80%+"})),w.openIssues>T.openIssues&&(C.push({severity:"warning",category:"wip-increase",description:`Work in progress increased from ${T.openIssues} to ${w.openIssues} issues`,impact:"More started work not being completed"}),D.push({priority:"high",title:"Implement WIP limits",description:"Focus on completing existing work before starting new issues",estimatedImpact:"Increase completion rate"})),D.push({priority:"high",title:"Investigate blockers",description:"Review issues for blockers, dependencies, or scope creep",estimatedImpact:"Identify and remove impediments"})}else N>10?(C.push({severity:"info",category:"velocity-improvement",description:`Velocity improved by ${N}% (from ${T.velocity} to ${w.velocity} issues/sprint)`,impact:`${w.velocity-T.velocity} more issues completed per sprint`}),w.completionRate>90&&(C.push({severity:"info",category:"high-completion",description:`Excellent completion rate: ${w.completionRate}% in Sprint ${w.sprint}`,impact:"Team is efficiently completing planned work"}),D.push({priority:"low",title:"Consider increasing scope",description:"Team may have capacity for more work. Test with 10-15% increase",estimatedImpact:"Optimize team utilization"})),D.push({priority:"low",title:"Document success factors",description:"Capture what worked well this sprint to replicate in future",estimatedImpact:"Maintain improved velocity"})):(C.push({severity:"info",category:"velocity-stable",description:`Velocity stable at ~${k} issues/sprint`,impact:"Predictable delivery rate"}),k<5&&w.totalIssues>10&&(C.push({severity:"warning",category:"low-velocity",description:`Low velocity despite ${w.totalIssues} issues in sprint`,impact:"Team may be overloaded or issues too large"}),D.push({priority:"medium",title:"Break down issues",description:"Split large issues into smaller chunks (aim for 1-3 day issues)",estimatedImpact:"Increase throughput and visibility"})));return{causes:C,actions:D}},c=U.useMemo(()=>{if(!d||d.length===0)return null;const A=md(d),N=Ey(A,3),k=wy(A);let C;a&&l.length===1||a&&l.length>1?C=l[0]:C=Cy(d);const D=By(d,C),w=Dy(d,N);return{velocityData:A,avgVelocity:N,trend:k,currentSprint:C,burndown:D,prediction:w}},[d,l,a]);if(!c||c.velocityData.length===0)return t.jsx("div",{className:"container",children:t.jsxs("div",{className:"card text-center",style:{padding:"60px 20px"},children:[t.jsx("h3",{className:"mb-2",children:"No Velocity Data"}),t.jsx("p",{className:"text-muted",children:'Add "Sprint X" labels to your issues to track velocity and burndown.'})]})});const{velocityData:p,avgVelocity:f,trend:g,currentSprint:h,burndown:y,prediction:v}=c,b=(A=>A>10?{color:"#059669",icon:"",label:"Improving"}:A<-10?{color:"#DC2626",icon:"",label:"Declining"}:{color:"#D97706",icon:"",label:"Stable"})(g),j=Math.max(...p.map(A=>A.velocity),10);y.total;const E=()=>{const A=gy(p),N=new Date().toISOString().split("T")[0];Yt(A,`velocity-data-${N}.csv`)};return t.jsxs("div",{className:"container-fluid",children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"20px"},children:[t.jsxs("div",{children:[t.jsx("h2",{style:{fontSize:"24px",fontWeight:"600",marginBottom:"8px"},children:"Velocity & Burndown Analytics"}),t.jsx("p",{style:{fontSize:"14px",color:"#6B7280"},children:"Sprint velocity, trends, burndown chart, and predictive analytics"})]}),t.jsx("button",{className:"btn btn-primary",onClick:E,style:{display:"flex",alignItems:"center",gap:"8px"},children:t.jsx("span",{children:"Export Velocity CSV"})})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"20px",marginBottom:"30px"},children:[t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Current Sprint"}),t.jsxs("div",{style:{fontSize:"32px",fontWeight:"600",color:"#1F2937"},children:["Sprint ",h||"N/A"]})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Avg. Velocity (Last 3)"}),t.jsxs("div",{style:{fontSize:"32px",fontWeight:"600",color:"#2563EB"},children:[f," ",t.jsx("span",{style:{fontSize:"16px",color:"#6B7280"},children:"issues/sprint"})]})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Velocity Trend"}),t.jsxs("div",{style:{fontSize:"32px",fontWeight:"600",color:b.color,display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("span",{children:b.icon}),t.jsxs("span",{children:[Math.abs(g),"%"]})]}),t.jsx("div",{style:{fontSize:"12px",color:b.color,marginTop:"4px"},children:b.label})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Predicted Completion"}),t.jsx("div",{style:{fontSize:"20px",fontWeight:"600",color:"#059669"},children:v?new Date(v.date).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"}):"N/A"}),v&&t.jsxs("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:[v.sprintsRemaining," sprints (",v.confidence,"% confidence)"]})]})]}),(()=>{const{causes:A,actions:N}=r(p,g,f);return A.length===0?null:t.jsxs("div",{className:"card",style:{marginBottom:"20px",background:"#F9FAFB"},children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"16px"},children:"Velocity Analysis"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1F2937",marginBottom:"12px"},children:"Analysis:"}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:A.map((k,C)=>t.jsxs("div",{style:{padding:"12px",background:"white",borderRadius:"6px",borderLeft:`4px solid ${k.severity==="critical"?"#DC2626":k.severity==="warning"?"#D97706":"#2563EB"}`},children:[t.jsx("div",{style:{fontSize:"13px",fontWeight:"600",color:"#374151",marginBottom:"4px"},children:k.description}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280"},children:k.impact})]},C))})]}),N.length>0&&t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1F2937",marginBottom:"12px"},children:"Recommended Actions:"}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:N.map((k,C)=>t.jsxs("div",{style:{padding:"12px",background:"white",borderRadius:"6px",borderLeft:"4px solid #2563EB"},children:[t.jsx("div",{style:{fontSize:"13px",fontWeight:"600",color:"#374151",marginBottom:"4px"},children:k.title}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:k.description}),t.jsxs("div",{style:{fontSize:"11px",color:"#9CA3AF"},children:["Expected impact: ",k.estimatedImpact]})]},C))})]})]})]})})(),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[t.jsxs("div",{className:"card",children:[t.jsx("h2",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"20px"},children:"Sprint Velocity"}),p.length===0?t.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#6B7280"},children:"No velocity data available"}):t.jsxs("div",{children:[t.jsxs("div",{style:{position:"relative",height:"300px",marginBottom:"20px"},children:[t.jsxs("div",{style:{position:"absolute",left:0,top:0,bottom:40,width:"40px",display:"flex",flexDirection:"column",justifyContent:"space-between",fontSize:"12px",color:"#6B7280",textAlign:"right",paddingRight:"8px"},children:[t.jsx("div",{children:j}),t.jsx("div",{children:Math.round(j*.75)}),t.jsx("div",{children:Math.round(j*.5)}),t.jsx("div",{children:Math.round(j*.25)}),t.jsx("div",{children:"0"})]}),t.jsx("div",{style:{position:"absolute",left:"50px",right:0,top:0,bottom:40,borderLeft:"2px solid #E5E7EB",borderBottom:"2px solid #E5E7EB",display:"flex",alignItems:"flex-end",gap:"8px",padding:"10px"},children:p.map((A,N)=>{const k=A.velocity/j*100,C=N>=p.length-3,w=Math.max(k/100*240,24);return t.jsx("div",{style:{flex:1,height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-end"},children:t.jsx("div",{style:{width:"100%",height:`${w}px`,background:C?"#2563EB":"#93C5FD",borderRadius:"4px 4px 0 0",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"12px",fontWeight:"600"},children:A.velocity})},A.sprint)})}),t.jsx("div",{style:{position:"absolute",left:"50px",right:0,bottom:0,height:"40px",display:"flex",gap:"8px",padding:"0 10px"},children:p.map(A=>t.jsx("div",{style:{flex:1,fontSize:"11px",color:"#6B7280",textAlign:"center",paddingTop:"8px",lineHeight:"1.2"},children:A.sprint},A.sprint))})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"16px",padding:"12px",background:"#F3F4F6",borderRadius:"8px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("div",{style:{width:"20px",height:"3px",background:"#2563EB"}}),t.jsx("span",{style:{fontSize:"12px",color:"#6B7280"},children:"Recent Sprint"})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("div",{style:{width:"20px",height:"3px",background:"#93C5FD"}}),t.jsx("span",{style:{fontSize:"12px",color:"#6B7280"},children:"Previous Sprint"})]})]})]})]}),t.jsxs("div",{className:"card",children:[t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("h2",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"8px"},children:["Sprint ",h," Burndown"]}),t.jsx("p",{style:{fontSize:"13px",color:"#6B7280",marginBottom:"0"},children:"Track daily progress vs. ideal burndown rate"})]}),a&&l.length>1?t.jsxs("div",{style:{textAlign:"center",padding:"60px 20px",background:"#F9FAFB",borderRadius:"8px"},children:[t.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#6B7280",marginBottom:"8px"},children:"Multiple Iterations Selected"}),t.jsx("p",{style:{fontSize:"13px",color:"#9CA3AF"},children:"Burndown chart shows a single sprint. Please select one iteration to view its burndown chart."})]}):y.total===0?t.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#6B7280"},children:"No burndown data for current sprint"}):t.jsxs("div",{children:[t.jsxs("div",{style:{position:"relative",height:"300px",marginBottom:"20px"},children:[t.jsxs("div",{style:{position:"absolute",left:0,top:0,bottom:60,width:"40px",display:"flex",flexDirection:"column",justifyContent:"space-between",fontSize:"12px",color:"#6B7280",textAlign:"right",paddingRight:"8px"},children:[t.jsx("div",{children:y.total}),t.jsx("div",{children:Math.round(y.total*.75)}),t.jsx("div",{children:Math.round(y.total*.5)}),t.jsx("div",{children:Math.round(y.total*.25)}),t.jsx("div",{children:"0"})]}),t.jsx("div",{style:{position:"absolute",left:"50px",right:0,top:0,bottom:60,borderLeft:"2px solid #E5E7EB",borderBottom:"2px solid #E5E7EB"},children:t.jsx("svg",{width:"100%",height:"100%",style:{overflow:"visible"},children:(()=>{const A=new Date(y.sprintStart),N=new Date(y.sprintEnd),k=(N-A)/(1440*60*1e3),C=w=>`${(new Date(w)-A)/(1440*60*1e3)/k*100}%`,D=w=>`${100-w/y.total*100}%`;return t.jsxs(t.Fragment,{children:[y.ideal.length>0&&t.jsxs(t.Fragment,{children:[y.ideal.length>1&&y.ideal.slice(0,-1).map((w,T)=>{const _=y.ideal[T+1],L=C(w.date),B=D(w.remaining),O=C(_.date),G=D(_.remaining);return t.jsx("line",{x1:L,y1:B,x2:O,y2:G,stroke:"#9CA3AF",strokeWidth:"2",strokeDasharray:"4,3",strokeLinecap:"round"},`ideal-line-${T}`)}),y.ideal.map((w,T)=>{const _=C(w.date),L=D(w.remaining);return t.jsx("g",{children:t.jsx("circle",{cx:_,cy:L,r:"3",fill:"white",stroke:"#9CA3AF",strokeWidth:"1.5",style:{pointerEvents:"none"}})},`ideal-${T}`)})]}),y.actual.length>0&&t.jsxs(t.Fragment,{children:[y.actual.length>1&&y.actual.slice(0,-1).map((w,T)=>{const _=y.actual[T+1],L=C(w.date),B=D(w.remaining),O=C(_.date),G=D(_.remaining);return t.jsx("line",{x1:L,y1:B,x2:O,y2:G,stroke:"#DC2626",strokeWidth:"2.5",strokeLinecap:"round"},`actual-line-${T}`)}),y.actual.map((w,T)=>{const _=C(w.date),L=D(w.remaining),B=new Date(w.date),O=B.toLocaleDateString("en-US",{weekday:"long"}),G=y.ideal.find(P=>P.date===w.date),K=G?w.remaining-G.remaining:0,le=((y.total-w.remaining)/y.total*100).toFixed(0),F=((y.total-(G?G.remaining:0))/y.total*100).toFixed(0);let M="";K>0?M=`Behind by ${K} issue${K>1?"s":""}`:K<0?M=`Ahead by ${Math.abs(K)} issue${Math.abs(K)>1?"s":""}`:M="On track";const W=[`${O}, ${B.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})}`,"",`Remaining: ${w.remaining} of ${y.total} issues (${le}% complete)`,`Ideal: ${G?G.remaining:0} remaining (${F}% complete)`,"",`Status: ${M}`].join(`
`);return t.jsxs("g",{children:[t.jsx("title",{children:W}),t.jsx("circle",{cx:_,cy:L,r:"8",fill:"transparent",style:{cursor:"pointer",pointerEvents:"all"}}),t.jsx("circle",{cx:_,cy:L,r:"4",fill:"#DC2626",stroke:"white",strokeWidth:"1",style:{cursor:"pointer",transition:"all 0.2s",pointerEvents:"all"},onMouseEnter:P=>{P.target.setAttribute("r","5"),P.target.setAttribute("stroke-width","1.5")},onMouseLeave:P=>{P.target.setAttribute("r","4"),P.target.setAttribute("stroke-width","1")},children:t.jsx("title",{children:W})})]},`actual-${T}`)})]}),(()=>{const w=[],T=Math.ceil(k);for(let L=0;L<=T;L+=7)if(L>0&&L<T){const B=`${L/k*100}%`;w.push(t.jsx("line",{x1:B,y1:"0%",x2:B,y2:"100%",stroke:"#E5E7EB",strokeWidth:"0.3",strokeDasharray:"1,1",opacity:"0.5",vectorEffect:"non-scaling-stroke"},`week-${L}`))}const _=new Date;if(_.setHours(0,0,0,0),_>=A&&_<=N){const B=`${(_-A)/864e5/k*100}%`;w.push(t.jsxs("g",{children:[t.jsx("line",{x1:B,y1:"-5%",x2:B,y2:"100%",stroke:"#EF4444",strokeWidth:"2",style:{cursor:"default"},children:t.jsx("title",{children:`Today: ${_.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}`})}),t.jsxs("text",{x:B,y:"-1%",textAnchor:"middle",fill:"#EF4444",fontSize:"12",fontWeight:"600",style:{cursor:"default"},children:[t.jsx("title",{children:`Today: ${_.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}`}),"TODAY"]})]},"today-marker"))}return w})()]})})()})}),t.jsx("div",{style:{position:"absolute",left:"50px",right:0,bottom:0,height:"60px"},children:t.jsx("div",{style:{position:"relative",paddingTop:"8px",borderTop:"1px solid #E5E7EB",height:"100%"},children:y.sprintStart&&y.sprintEnd&&(()=>{const A=new Date(y.sprintStart),N=new Date(y.sprintEnd),k=new Date;k.setHours(0,0,0,0);const C=(N-A)/(1440*60*1e3),D=Math.ceil(C),w=[];let T;D<=7?T=1:D<=14?T=2:D<=21?T=3:T=5,w.push(t.jsxs("div",{style:{position:"absolute",left:"0%",fontSize:"11px",color:"#1F2937",textAlign:"left",transform:"translateX(0)",fontWeight:"600"},children:[t.jsx("div",{children:A.toLocaleDateString("en-US",{month:"short",day:"numeric"})}),t.jsx("div",{style:{fontSize:"9px",color:"#9CA3AF",fontWeight:"400"},children:A.toLocaleDateString("en-US",{weekday:"short"})})]},"start"));for(let _=T;_<D;_+=T){const L=new Date(A.getTime()+_*24*60*60*1e3),B=_/C*100,O=k>=A&&k<=N,K=(k-A)/(1440*60*1e3)/C*100;O&&Math.abs(B-K)<5||w.push(t.jsxs("div",{style:{position:"absolute",left:`${B}%`,fontSize:"10px",color:"#6B7280",textAlign:"center",transform:"translateX(-50%)"},children:[t.jsx("div",{children:L.toLocaleDateString("en-US",{month:"short",day:"numeric"})}),t.jsx("div",{style:{fontSize:"8px",color:"#9CA3AF"},children:L.toLocaleDateString("en-US",{weekday:"short"})})]},`day-${_}`))}if(k>=A&&k<=N){const L=(k-A)/864e5/C*100;w.push(t.jsxs("div",{style:{position:"absolute",left:`${L}%`,fontSize:"11px",color:"#EF4444",fontWeight:"700",textAlign:"center",transform:"translateX(-50%)",zIndex:10},children:[t.jsx("div",{children:"Today"}),t.jsx("div",{style:{fontSize:"9px",fontWeight:"600"},children:k.toLocaleDateString("en-US",{weekday:"short"})})]},"today"))}return w.push(t.jsxs("div",{style:{position:"absolute",right:"0%",fontSize:"11px",color:"#1F2937",textAlign:"right",transform:"translateX(0)",fontWeight:"600"},children:[t.jsx("div",{children:N.toLocaleDateString("en-US",{month:"short",day:"numeric"})}),t.jsx("div",{style:{fontSize:"9px",color:"#9CA3AF",fontWeight:"400"},children:N.toLocaleDateString("en-US",{weekday:"short"})})]},"end")),w})()})})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"16px",padding:"12px",background:"#F3F4F6",borderRadius:"8px",marginBottom:"16px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("div",{style:{width:"20px",height:"3px",background:"#DC2626"}}),t.jsx("span",{style:{fontSize:"12px",color:"#6B7280"},children:"Actual Progress"})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("div",{style:{width:"20px",height:"3px",background:"#D1D5DB",borderTop:"2px dashed #D1D5DB"}}),t.jsx("span",{style:{fontSize:"12px",color:"#6B7280"},children:"Ideal Burndown"})]})]}),y.actual.length>0&&(()=>{const A=y.actual[y.actual.length-1],N=y.ideal[y.actual.length-1]||y.ideal[y.ideal.length-1],k=A.remaining,C=N?N.remaining:0,D=k-C,w=(y.total-k)/y.total*100,T=(y.total-C)/y.total*100;return t.jsxs("div",{style:{padding:"16px 20px",background:D>0?"#FEF2F2":D<0?"#ECFDF5":"#F9FAFB",borderRadius:"8px",border:`2px solid ${D>0?"#FEE2E2":D<0?"#D1FAE5":"#E5E7EB"}`,textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"12px",fontWeight:"600",color:"#6B7280",textTransform:"uppercase",marginBottom:"8px"},children:"Current Sprint Status"}),t.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"baseline",gap:"8px",marginBottom:"8px"},children:[t.jsx("span",{style:{fontSize:"32px",fontWeight:"700",color:"#1F2937"},children:k}),t.jsxs("span",{style:{fontSize:"16px",color:"#6B7280"},children:["/ ",y.total," issues remaining"]})]}),t.jsxs("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:[w.toFixed(0),"% complete  Ideal: ",T.toFixed(0),"%"]}),D!==0&&t.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:D>0?"#DC2626":"#059669"},children:D>0?`${D} issue${D!==1?"s":""} behind schedule`:`${Math.abs(D)} issue${Math.abs(D)!==1?"s":""} ahead of schedule`}),D===0&&t.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#059669"},children:"On track"})]})})()]})]})]}),t.jsxs("div",{className:"card",children:[t.jsx("h2",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"20px"},children:"Sprint History"}),t.jsx("div",{style:{overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{borderBottom:"2px solid #E5E7EB"},children:[t.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6B7280"},children:"Sprint"}),t.jsx("th",{style:{padding:"12px",textAlign:"center",fontSize:"12px",fontWeight:"600",color:"#6B7280"},children:"Total Issues"}),t.jsx("th",{style:{padding:"12px",textAlign:"center",fontSize:"12px",fontWeight:"600",color:"#6B7280"},children:"Completed"}),t.jsx("th",{style:{padding:"12px",textAlign:"center",fontSize:"12px",fontWeight:"600",color:"#6B7280"},children:"Open"}),t.jsx("th",{style:{padding:"12px",textAlign:"center",fontSize:"12px",fontWeight:"600",color:"#6B7280"},children:"Velocity"}),t.jsx("th",{style:{padding:"12px",textAlign:"center",fontSize:"12px",fontWeight:"600",color:"#6B7280"},children:"Completion Rate"})]})}),t.jsx("tbody",{children:[...p].reverse().map(A=>t.jsxs("tr",{style:{borderBottom:"1px solid #E5E7EB"},children:[t.jsxs("td",{style:{padding:"12px",fontWeight:"600"},children:["Sprint ",A.sprint]}),t.jsx("td",{style:{padding:"12px",textAlign:"center"},children:A.totalIssues}),t.jsx("td",{style:{padding:"12px",textAlign:"center",color:"#059669"},children:A.completedIssues}),t.jsx("td",{style:{padding:"12px",textAlign:"center",color:"#DC2626"},children:A.openIssues}),t.jsx("td",{style:{padding:"12px",textAlign:"center",fontWeight:"600",color:"#2563EB"},children:A.velocity}),t.jsx("td",{style:{padding:"12px",textAlign:"center"},children:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",justifyContent:"center"},children:[t.jsx("div",{style:{flex:1,maxWidth:"100px",height:"8px",background:"#E5E7EB",borderRadius:"4px",overflow:"hidden"},children:t.jsx("div",{style:{width:`${A.completionRate}%`,height:"100%",background:A.completionRate>=80?"#059669":A.completionRate>=50?"#D97706":"#DC2626"}})}),t.jsxs("span",{style:{fontSize:"14px",fontWeight:"600",minWidth:"40px"},children:[A.completionRate,"%"]})]})})]},A.sprint))})]})})]})]})}const kx="gitlab_team_config",Rx="gitlab_sprint_capacity",_x="gitlab_capacity_settings";function wa(o){const d=ba();return!d||d==="cross-project"?o:`${o}_${d}`}const bn=["Data Engineer","Business Analyst","Scrum Master","SRE","Product Owner","Initiative Manager","Developer","QA Engineer","DevOps Engineer","Custom"],Fx={technical:["Developer","Data Engineer","SRE","DevOps Engineer","QA Engineer"],analysis:["Business Analyst","Product Owner","Initiative Manager"],management:["Scrum Master"]};function Ty(o,d){if(o===d)return!0;if(o==="Custom"||d==="Custom")return!1;for(const l of Object.values(Fx))if(l.includes(o)&&l.includes(d))return!0;return!1}function Lh(o){if(o==="Custom")return[];for(const d of Object.values(Fx))if(d.includes(o))return d.filter(l=>l!==o);return[]}function zy(o){const d=o.filter(p=>p.state==="closed"&&p.weight>0&&p.time_stats?.total_time_spent>0);if(d.length===0)return{hoursPerStoryPoint:8,sampleSize:0,totalHours:0,totalPoints:0,confidence:"low"};const l=d.reduce((p,f)=>p+f.time_stats.total_time_spent/3600,0),a=d.reduce((p,f)=>p+f.weight,0),r=l/a;let c="low";return d.length>=50?c="high":d.length>=20&&(c="medium"),{hoursPerStoryPoint:Math.round(r*100)/100,sampleSize:d.length,totalHours:Math.round(l*10)/10,totalPoints:a,confidence:c}}function jn(o,d,l={}){return l[o.id]?l[o.id]:o.weight&&o.weight>0?o.weight*d.hoursPerStoryPoint:d.defaultHoursPerIssue||4}function wt(){try{const o=wa(kx),d=localStorage.getItem(o);if(d){const l=JSON.parse(d);return console.log(`Loaded team config from ${o}:`,l),console.log(`  Team members: ${l.teamMembers?.length||0}`),l.teamMembers?.forEach(a=>{console.log(`    - ${a.username} (${a.role}): ${a.defaultCapacity}h/week`)}),l}console.log(`No saved team config found for key: ${o}`)}catch(o){console.error("Error loading team config:",o)}return{teamMembers:[],lastUpdated:null}}function yd(o){try{const d=wa(kx),l={...o,lastUpdated:new Date().toISOString()};return localStorage.setItem(d,JSON.stringify(l)),!0}catch(d){return console.error("Error saving team config:",d),!1}}function Uh(o){const d=wt(),l=d.teamMembers.findIndex(r=>r.username===o.username);l>=0?(console.log(`Updating existing team member ${o.username}:`,o),d.teamMembers[l]=o):(console.log(`Adding new team member ${o.username}:`,o),d.teamMembers.push(o));const a=yd(d);return console.log(`Team member ${o.username} saved successfully:`,a),console.log("Updated team config:",d),a}function ky(o){const d=wt();return d.teamMembers=d.teamMembers.filter(l=>l.username!==o),yd(d)}function Sa(){try{const o=wa(Rx),d=localStorage.getItem(o);if(d)return JSON.parse(d)}catch(o){console.error("Error loading sprint capacity:",o)}return{sprints:[]}}function Mx(o){try{const d=wa(Rx);return localStorage.setItem(d,JSON.stringify(o)),!0}catch(d){return console.error("Error saving sprint capacity:",d),!1}}function Ry(o,d,l,a,r=""){const c=Sa();let p=c.sprints.find(g=>g.sprintId===o);p||(p={sprintId:o,sprintName:d,memberCapacity:[]},c.sprints.push(p));let f=p.memberCapacity.find(g=>g.username===l);return f?(f.availableHours=a,f.reason=r):p.memberCapacity.push({username:l,availableHours:a,reason:r}),Mx(c)}function ld(o,d,l=40,a=null){const c=Sa().sprints.find(p=>p.sprintId===o);if(c){const p=c.memberCapacity.find(f=>f.username===d);if(p)return p.availableHours}if(a&&a.startDate&&a.dueDate)try{const f=require("./absenceService.js").calculateSprintCapacityWithAbsences(d,a,l);if(f.hoursLost>0)return f.adjustedCapacity}catch(p){console.warn("Absence service not available:",p)}return l}function lo(){try{const o=wa(_x),d=localStorage.getItem(o);if(d)return JSON.parse(d)}catch(o){console.error("Error loading capacity settings:",o)}return{hoursPerStoryPoint:8,defaultHoursPerIssue:4,defaultWeeklyCapacity:40,lastCalculated:null,historicalData:null}}function Nx(o){try{const d=wa(_x);return localStorage.setItem(d,JSON.stringify(o)),!0}catch(d){return console.error("Error saving capacity settings:",d),!1}}function _y(o){const d=zy(o),l=lo();return l.hoursPerStoryPoint=d.hoursPerStoryPoint,l.lastCalculated=new Date().toISOString(),l.historicalData=d,Nx(l),l}function Fy(o){const d=new Set;return o.forEach(l=>{l.assignees?.forEach(a=>{d.add(JSON.stringify({username:a.username,name:a.name,avatar:a.avatar_url}))})}),Array.from(d).map(l=>JSON.parse(l))}function My({isOpen:o,onClose:d,issues:l}){const[a,r]=U.useState([]),[c,p]=U.useState({}),[f,g]=U.useState(null),[h,y]=U.useState(!1),[v,m]=U.useState(null),[b,j]=U.useState({username:"",name:"",role:bn[0],customRole:"",defaultCapacity:40,email:""}),[E,A]=U.useState("members");U.useEffect(()=>{if(o){const B=wt();r(B.teamMembers||[]);const O=lo();p(O),g(O.historicalData),y(!1),m(null)}},[o]);const N=()=>{y(!0),m(null),j({username:"",name:"",role:bn[0],customRole:"",defaultCapacity:40,email:""})},k=B=>{y(!0),m(B),j({username:B.username,name:B.name,role:B.role,customRole:B.customRole||"",defaultCapacity:B.defaultCapacity,email:B.email||""})},C=()=>{y(!1),m(null),j({username:"",name:"",role:bn[0],customRole:"",defaultCapacity:40,email:""})},D=()=>{const B=b.role==="Custom"?b.customRole:b.role;if(!b.username||!b.name||!B){alert("Username, name, and role are required");return}const O={username:b.username,name:b.name,role:B,customRole:b.role==="Custom"?b.customRole:"",defaultCapacity:b.defaultCapacity,email:b.email};Uh(O);const G=wt();r(G.teamMembers||[]),y(!1),m(null),j({username:"",name:"",role:bn[0],customRole:"",defaultCapacity:40,email:""})},w=B=>{if(confirm(`Remove ${B} from team?`)){ky(B);const O=wt();r(O.teamMembers||[])}},T=()=>{const B=Fy(l);if(B.length===0){alert("No assignees found in issues");return}B.forEach(G=>{if(!a.some(J=>J.username===G.username)){const J={username:G.username,name:G.name,role:"Developer",customRole:"",defaultCapacity:40,email:""};Uh(J)}});const O=wt();r(O.teamMembers||[]),alert(`Imported ${B.length} team members from issues`)},_=()=>{const B=_y(l);p(B),g(B.historicalData),alert(`Updated hours per story point to ${B.hoursPerStoryPoint} (based on ${B.historicalData.sampleSize} completed issues)`)},L=()=>{Nx(c),alert("Capacity settings saved")};return o?t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:t.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",width:"900px",maxHeight:"90vh",overflow:"auto",boxShadow:"0 4px 20px rgba(0,0,0,0.15)"},children:[t.jsxs("div",{style:{padding:"20px 24px",borderBottom:"1px solid #E5E7EB",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("h2",{style:{margin:0,fontSize:"20px",fontWeight:"600"},children:"Team Configuration"}),t.jsx("button",{onClick:d,style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#6B7280"},children:""})]}),t.jsxs("div",{style:{display:"flex",borderBottom:"1px solid #E5E7EB",padding:"0 24px"},children:[t.jsxs("button",{onClick:()=>A("members"),style:{padding:"12px 20px",background:"none",border:"none",borderBottom:E==="members"?"2px solid #2563EB":"2px solid transparent",color:E==="members"?"#2563EB":"#6B7280",fontWeight:E==="members"?"600":"400",cursor:"pointer"},children:["Team Members (",a.length,")"]}),t.jsx("button",{onClick:()=>A("settings"),style:{padding:"12px 20px",background:"none",border:"none",borderBottom:E==="settings"?"2px solid #2563EB":"2px solid transparent",color:E==="settings"?"#2563EB":"#6B7280",fontWeight:E==="settings"?"600":"400",cursor:"pointer"},children:"Capacity Settings"})]}),t.jsxs("div",{style:{padding:"24px"},children:[E==="members"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{marginBottom:"20px",display:"flex",gap:"10px"},children:[t.jsx("button",{onClick:N,style:{padding:"8px 16px",background:"#2563EB",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"+ Add Team Member"}),t.jsx("button",{onClick:T,style:{padding:"8px 16px",background:"#10B981",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Import from Issues"})]}),h&&t.jsxs("div",{style:{border:"2px solid #2563EB",borderRadius:"8px",padding:"16px",marginBottom:"20px",backgroundColor:"#EFF6FF"},children:[t.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"16px"},children:v?"Edit Team Member":"Add New Team Member"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",marginBottom:"4px"},children:"Username *"}),t.jsx("input",{type:"text",value:b.username,onChange:B=>j({...b,username:B.target.value}),disabled:v!==null,style:{width:"100%",padding:"8px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",marginBottom:"4px"},children:"Full Name *"}),t.jsx("input",{type:"text",value:b.name,onChange:B=>j({...b,name:B.target.value}),style:{width:"100%",padding:"8px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",marginBottom:"4px"},children:"Role *"}),t.jsx("select",{value:b.role,onChange:B=>j({...b,role:B.target.value}),style:{width:"100%",padding:"8px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px"},children:bn.map(B=>t.jsx("option",{value:B,children:B},B))})]}),b.role==="Custom"&&t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",marginBottom:"4px"},children:"Custom Role Name *"}),t.jsx("input",{type:"text",value:b.customRole,onChange:B=>j({...b,customRole:B.target.value}),style:{width:"100%",padding:"8px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",marginBottom:"4px"},children:"Default Weekly Capacity (hours)"}),t.jsx("input",{type:"number",value:b.defaultCapacity,onChange:B=>j({...b,defaultCapacity:parseFloat(B.target.value)}),min:"0",max:"80",step:"0.5",style:{width:"100%",padding:"8px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",marginBottom:"4px"},children:"Email"}),t.jsx("input",{type:"email",value:b.email,onChange:B=>j({...b,email:B.target.value}),style:{width:"100%",padding:"8px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px"}})]})]}),t.jsxs("div",{style:{marginTop:"12px",display:"flex",gap:"8px"},children:[t.jsx("button",{onClick:D,style:{padding:"8px 16px",background:"#2563EB",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px"},children:"Save Member"}),t.jsx("button",{onClick:C,style:{padding:"8px 16px",background:"#9CA3AF",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px"},children:"Cancel"})]})]}),a.length===0?t.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#6B7280",fontSize:"14px"},children:'No team members configured. Click "Add Team Member" or "Import from Issues" to get started.'}):t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{backgroundColor:"#F9FAFB",borderBottom:"1px solid #E5E7EB"},children:[t.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6B7280"},children:"Username"}),t.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6B7280"},children:"Name"}),t.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6B7280"},children:"Role"}),t.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6B7280"},children:"Weekly Capacity"}),t.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6B7280"},children:"Actions"})]})}),t.jsx("tbody",{children:a.map(B=>t.jsxs("tr",{style:{borderBottom:"1px solid #E5E7EB"},children:[t.jsx("td",{style:{padding:"12px",fontSize:"14px"},children:B.username}),t.jsx("td",{style:{padding:"12px",fontSize:"14px"},children:B.name}),t.jsx("td",{style:{padding:"12px",fontSize:"14px"},children:t.jsx("span",{style:{padding:"4px 8px",backgroundColor:"#EFF6FF",color:"#2563EB",borderRadius:"4px",fontSize:"12px",fontWeight:"500"},children:B.role})}),t.jsxs("td",{style:{padding:"12px",fontSize:"14px"},children:[B.defaultCapacity,"h"]}),t.jsxs("td",{style:{padding:"12px",fontSize:"14px"},children:[t.jsx("button",{onClick:()=>k(B),style:{marginRight:"8px",padding:"4px 8px",background:"#3B82F6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Edit"}),t.jsx("button",{onClick:()=>w(B.username),style:{padding:"4px 8px",background:"#EF4444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Delete"})]})]},B.username))})]})]}),E==="settings"&&t.jsxs("div",{children:[f&&t.jsxs("div",{style:{padding:"16px",backgroundColor:"#F0F9FF",borderRadius:"8px",marginBottom:"20px",border:"1px solid #BAE6FD"},children:[t.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"16px",color:"#0369A1"},children:"Historical Velocity Data"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"12px",fontSize:"14px"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{color:"#6B7280",fontSize:"12px"},children:"Sample Size"}),t.jsxs("div",{style:{fontWeight:"600",fontSize:"18px",color:"#0369A1"},children:[f.sampleSize," issues"]})]}),t.jsxs("div",{children:[t.jsx("div",{style:{color:"#6B7280",fontSize:"12px"},children:"Total Hours"}),t.jsxs("div",{style:{fontWeight:"600",fontSize:"18px",color:"#0369A1"},children:[f.totalHours,"h"]})]}),t.jsxs("div",{children:[t.jsx("div",{style:{color:"#6B7280",fontSize:"12px"},children:"Total Story Points"}),t.jsx("div",{style:{fontWeight:"600",fontSize:"18px",color:"#0369A1"},children:f.totalPoints})]}),t.jsxs("div",{children:[t.jsx("div",{style:{color:"#6B7280",fontSize:"12px"},children:"Confidence"}),t.jsx("div",{style:{fontWeight:"600",fontSize:"18px",color:f.confidence==="high"?"#059669":f.confidence==="medium"?"#D97706":"#DC2626"},children:f.confidence.toUpperCase()})]})]})]}),t.jsxs("div",{style:{display:"grid",gap:"16px"},children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",marginBottom:"6px"},children:"Hours per Story Point"}),t.jsx("input",{type:"number",value:c.hoursPerStoryPoint||8,onChange:B=>p({...c,hoursPerStoryPoint:parseFloat(B.target.value)}),min:"0.5",max:"40",step:"0.1",style:{width:"100%",padding:"10px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px"}}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:"Used to convert story points to estimated hours for capacity planning"})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",marginBottom:"6px"},children:"Default Hours per Issue (without weight)"}),t.jsx("input",{type:"number",value:c.defaultHoursPerIssue||4,onChange:B=>p({...c,defaultHoursPerIssue:parseFloat(B.target.value)}),min:"0.5",max:"40",step:"0.5",style:{width:"100%",padding:"10px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px"}}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:"Used for issues that don't have story points assigned"})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",marginBottom:"6px"},children:"Default Weekly Capacity"}),t.jsx("input",{type:"number",value:c.defaultWeeklyCapacity||40,onChange:B=>p({...c,defaultWeeklyCapacity:parseFloat(B.target.value)}),min:"1",max:"80",step:"0.5",style:{width:"100%",padding:"10px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px"}}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:"Default hours per week for new team members"})]})]}),t.jsxs("div",{style:{marginTop:"24px",display:"flex",gap:"10px"},children:[t.jsx("button",{onClick:_,style:{padding:"10px 16px",background:"#10B981",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Recalculate from History"}),t.jsx("button",{onClick:L,style:{padding:"10px 16px",background:"#2563EB",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Save Settings"})]}),c.lastCalculated&&t.jsxs("div",{style:{marginTop:"12px",fontSize:"12px",color:"#6B7280"},children:["Last calculated: ",new Date(c.lastCalculated).toLocaleString()]})]})]})]})}):null}function Ny({isOpen:o,onClose:d,issues:l}){const[a,r]=U.useState([]),[c,p]=U.useState(null),[f,g]=U.useState({}),[h,y]=U.useState({}),v=U.useMemo(()=>Ts(l).map(w=>{const T=l.find(_=>Bn(_.iteration)===w);return{name:w,id:T?.iteration?.id||w,startDate:T?.iteration?.start_date,dueDate:T?.iteration?.due_date}}).sort((w,T)=>w.startDate?T.startDate?new Date(T.startDate)-new Date(w.startDate):-1:1),[l]);U.useEffect(()=>{if(o){const D=wt();r(D.teamMembers||[]),v.length>0&&!c&&p(v[0])}},[o,v,c]),U.useEffect(()=>{if(c){const D={};a.forEach(_=>{const L=ld(c.id,_.username,_.defaultCapacity);D[_.username]={hours:L,reason:""}}),g(D);const T=Sa().sprints.find(_=>_.sprintId===c.id);T&&T.memberCapacity.forEach(_=>{D[_.username]&&(D[_.username].reason=_.reason||"")}),g(D)}},[c,a]);const m=D=>{const w=v.find(T=>T.name===D);p(w),y({})},b=D=>{y({...h,[D]:!0})},j=D=>{const w=f[D];Ry(c.id,c.name,D,w.hours,w.reason),y({...h,[D]:!1})},E=(D,w)=>{const T=ld(c.id,D,w.defaultCapacity);g({...f,[D]:{...f[D],hours:T}}),y({...h,[D]:!1})},A=(D,w,T)=>{g({...f,[D]:{hours:parseFloat(w),reason:T}})},N=U.useMemo(()=>Object.values(f).reduce((D,w)=>D+w.hours,0),[f]),k=U.useMemo(()=>a.reduce((D,w)=>D+w.defaultCapacity,0),[a]),C=N-k;return o?t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:t.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",width:"900px",maxHeight:"90vh",overflow:"auto",boxShadow:"0 4px 20px rgba(0,0,0,0.15)"},children:[t.jsxs("div",{style:{padding:"20px 24px",borderBottom:"1px solid #E5E7EB",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("h2",{style:{margin:0,fontSize:"20px",fontWeight:"600"},children:"Sprint Capacity Planning"}),t.jsx("button",{onClick:d,style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#6B7280"},children:""})]}),t.jsx("div",{style:{padding:"24px"},children:a.length===0?t.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#6B7280",fontSize:"14px"},children:"No team members configured. Please configure your team first in Team Configuration."}):v.length===0?t.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#6B7280",fontSize:"14px"},children:"No sprints found. Make sure your issues have iterations assigned."}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",marginBottom:"6px"},children:"Select Sprint"}),t.jsx("select",{value:c?.name||"",onChange:D=>m(D.target.value),style:{width:"100%",padding:"10px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px"},children:v.map(D=>t.jsxs("option",{value:D.name,children:[D.name," ",D.startDate&&`(${new Date(D.startDate).toLocaleDateString()})`]},D.id))})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px",marginBottom:"20px",padding:"16px",backgroundColor:"#F9FAFB",borderRadius:"8px"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280"},children:"Default Capacity"}),t.jsxs("div",{style:{fontSize:"24px",fontWeight:"600",color:"#374151"},children:[k,"h"]})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280"},children:"Adjusted Capacity"}),t.jsxs("div",{style:{fontSize:"24px",fontWeight:"600",color:"#2563EB"},children:[N,"h"]})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280"},children:"Difference"}),t.jsxs("div",{style:{fontSize:"24px",fontWeight:"600",color:C<0?"#DC2626":C>0?"#059669":"#6B7280"},children:[C>0?"+":"",C,"h"]})]})]}),t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{backgroundColor:"#F9FAFB",borderBottom:"1px solid #E5E7EB"},children:[t.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6B7280"},children:"Team Member"}),t.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6B7280"},children:"Role"}),t.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6B7280"},children:"Default"}),t.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6B7280"},children:"Sprint Capacity"}),t.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6B7280"},children:"Reason"}),t.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6B7280"},children:"Actions"})]})}),t.jsx("tbody",{children:a.map(D=>{const w=f[D.username]||{hours:D.defaultCapacity,reason:""},T=h[D.username],_=w.hours!==D.defaultCapacity;return t.jsxs("tr",{style:{borderBottom:"1px solid #E5E7EB"},children:[t.jsxs("td",{style:{padding:"12px",fontSize:"14px"},children:[t.jsx("div",{style:{fontWeight:"500"},children:D.name}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280"},children:D.username})]}),t.jsx("td",{style:{padding:"12px",fontSize:"14px"},children:t.jsx("span",{style:{padding:"4px 8px",backgroundColor:"#EFF6FF",color:"#2563EB",borderRadius:"4px",fontSize:"12px",fontWeight:"500"},children:D.role})}),t.jsxs("td",{style:{padding:"12px",fontSize:"14px",color:"#6B7280"},children:[D.defaultCapacity,"h"]}),t.jsx("td",{style:{padding:"12px",fontSize:"14px"},children:T?t.jsx("input",{type:"number",value:w.hours,onChange:L=>A(D.username,L.target.value,w.reason),min:"0",max:D.defaultCapacity*2,step:"0.5",style:{width:"80px",padding:"6px",border:"1px solid #D1D5DB",borderRadius:"4px",fontSize:"14px"}}):t.jsxs("span",{style:{fontWeight:"600",color:_?w.hours<D.defaultCapacity?"#DC2626":"#059669":"#374151"},children:[w.hours,"h"]})}),t.jsx("td",{style:{padding:"12px",fontSize:"14px"},children:T?t.jsx("input",{type:"text",value:w.reason,onChange:L=>A(D.username,w.hours,L.target.value),placeholder:"Holiday, PTO, training...",style:{width:"100%",padding:"6px",border:"1px solid #D1D5DB",borderRadius:"4px",fontSize:"14px"}}):t.jsx("span",{style:{fontSize:"13px",color:"#6B7280",fontStyle:w.reason?"normal":"italic"},children:w.reason||"Standard capacity"})}),t.jsx("td",{style:{padding:"12px",fontSize:"14px"},children:T?t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>j(D.username),style:{marginRight:"4px",padding:"4px 8px",background:"#10B981",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Save"}),t.jsx("button",{onClick:()=>E(D.username,D),style:{padding:"4px 8px",background:"#9CA3AF",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Cancel"})]}):t.jsx("button",{onClick:()=>b(D.username),style:{padding:"4px 8px",background:"#3B82F6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Edit"})})]},D.username)})})]}),t.jsxs("div",{style:{marginTop:"20px",padding:"12px",backgroundColor:"#FEF3C7",border:"1px solid #FCD34D",borderRadius:"6px",fontSize:"13px",color:"#92400E"},children:[t.jsx("strong",{children:"Tip:"})," Adjust capacity for team members who will be on holiday, PTO, training, or have other commitments during this sprint. The system will use these values for capacity planning calculations."]})]})})]})}):null}const ya={DISCOVERY:{name:"Discovery",order:1,description:"Stakeholder conversations, requirement gathering",primaryRoles:["Product Owner","Business Analyst","Initiative Manager"],supportingRoles:["Scrum Master"],indicators:["requirement","stakeholder","analysis","research","discovery","explore","investigate"]},ANALYSIS:{name:"Analysis",order:2,description:"Technical analysis, data assessment, solution design",primaryRoles:["Business Analyst","Data Engineer","Developer"],supportingRoles:["Product Owner","Initiative Manager"],indicators:["analyze","design","architect","assess","evaluate","data analysis","technical design"]},PLANNING:{name:"Planning",order:3,description:"Sprint planning, task breakdown, estimation",primaryRoles:["Scrum Master","Product Owner","Developer"],supportingRoles:["Business Analyst","Initiative Manager"],indicators:["plan","estimate","breakdown","story point","sprint planning"]},IMPLEMENTATION:{name:"Implementation",order:4,description:"Development, coding, building features",primaryRoles:["Developer","Data Engineer","DevOps Engineer"],supportingRoles:["SRE","QA Engineer"],indicators:["implement","develop","code","build","create","feature","fix","refactor"]},TESTING:{name:"Testing",order:5,description:"Quality assurance, testing, validation",primaryRoles:["QA Engineer","Developer"],supportingRoles:["Business Analyst","Product Owner"],indicators:["test","qa","validate","verify","quality","bug","defect"]},DEPLOYMENT:{name:"Deployment",order:6,description:"Release, deployment, monitoring",primaryRoles:["DevOps Engineer","SRE"],supportingRoles:["Developer","QA Engineer"],indicators:["deploy","release","rollout","production","monitoring","ci/cd"]}},va={Developer:{primary:["IMPLEMENTATION","TESTING"],secondary:["ANALYSIS","PLANNING"],cannotDo:["DISCOVERY"]},"Data Engineer":{primary:["IMPLEMENTATION","ANALYSIS"],secondary:["TESTING","DEPLOYMENT"],cannotDo:["DISCOVERY"]},"Business Analyst":{primary:["DISCOVERY","ANALYSIS"],secondary:["PLANNING","TESTING"],cannotDo:["IMPLEMENTATION","DEPLOYMENT"]},"Product Owner":{primary:["DISCOVERY","PLANNING"],secondary:["ANALYSIS","TESTING"],cannotDo:["IMPLEMENTATION","DEPLOYMENT"]},"Initiative Manager":{primary:["DISCOVERY"],secondary:["ANALYSIS","PLANNING"],cannotDo:["IMPLEMENTATION","TESTING","DEPLOYMENT"]},"Scrum Master":{primary:["PLANNING"],secondary:["DISCOVERY"],cannotDo:["IMPLEMENTATION","ANALYSIS","TESTING","DEPLOYMENT"]},"QA Engineer":{primary:["TESTING"],secondary:["IMPLEMENTATION","DEPLOYMENT"],cannotDo:["DISCOVERY","ANALYSIS"]},"DevOps Engineer":{primary:["DEPLOYMENT","IMPLEMENTATION"],secondary:["TESTING"],cannotDo:["DISCOVERY","ANALYSIS"]},SRE:{primary:["DEPLOYMENT","IMPLEMENTATION"],secondary:["TESTING"],cannotDo:["DISCOVERY","ANALYSIS"]}};function Iy(o){if(!o||o.length===0)return null;const d=o.filter(f=>f.state==="opened"),l=o.filter(f=>f.state==="closed"),a=o.length>0?l.length/o.length*100:0,r={};Object.entries(ya).forEach(([f,g])=>{r[f]=0,d.forEach(h=>{const y=(h.title||"").toLowerCase(),v=(h.description||"").toLowerCase(),m=(h.labels||[]).map(j=>j.toLowerCase()).join(" "),b=`${y} ${v} ${m}`;g.indicators.forEach(j=>{b.includes(j.toLowerCase())&&(r[f]+=1)})})});let c="IMPLEMENTATION",p=0;return Object.entries(r).forEach(([f,g])=>{g>p&&(p=g,c=f)}),a>80?c="TESTING":a>90?c="DEPLOYMENT":a<10&&d.length>0&&d.filter(g=>{const h=(g.labels||[]).map(y=>y.toLowerCase()).join(" ");return h.includes("analysis")||h.includes("discovery")||h.includes("requirement")}).length>d.length*.5&&(c="ANALYSIS"),{current:c,details:ya[c],scores:r,completionPercentage:Math.round(a)}}function Wh(o,d,l){const a=va[d];if(!a)return[];const r=[];return o.forEach(c=>{if(c.state!=="opened"||c.assignees?.length>0)return;const p=(c.title||"").toLowerCase(),f=(c.description||"").toLowerCase(),g=(c.labels||[]).map(v=>v.toLowerCase()).join(" "),h=`${p} ${f} ${g}`;[...a.primary||[],...a.secondary||[]].forEach(v=>{const m=ya[v];if(!m)return;let b=0;m.indicators.forEach(j=>{h.includes(j.toLowerCase())&&(b+=1)}),b>0&&r.push({issue:c,phase:v,matchScore:b,isPrimary:a.primary.includes(v),reason:`Suitable for ${m.name} work`})})}),r.sort((c,p)=>c.isPrimary!==p.isPrimary?c.isPrimary?-1:1:p.matchScore-c.matchScore),r.slice(0,5)}function Oy(o,d,l,a){const r=[],c=o.role||"Developer",p=va[c];if(!p)return r;const f=p.primary.includes(d.current),g=f||p.secondary.includes(d.current);if(!g&&o.capacity.utilization<50){const h=d.details.order+1,y=Object.values(ya).find(v=>v.order===h);y&&p.primary.includes(Object.keys(ya).find(v=>ya[v]===y))&&r.push({type:"PREPARE_NEXT_PHASE",priority:"high",title:`Start ${y.name} for next sprint`,description:`As a ${c}, you can prepare for the upcoming ${y.name} phase while the team completes ${d.details.name}`,impact:"Accelerate next sprint startup",suggestedWork:Wh(l,c).slice(0,3)})}if(g&&o.capacity.utilization<60){const h=Wh(l,c);h.length>0&&r.push({type:"BACKLOG_PICKUP",priority:f?"high":"medium",title:"Pick up aligned backlog items",description:`You have ${100-o.capacity.utilization}% available capacity for additional ${d.details.name} work`,impact:`Increase sprint velocity by ~${Math.round((100-o.capacity.utilization)/20)} story points`,suggestedWork:h.slice(0,3)})}if(o.capacity.utilization<40&&!f){const h=a.filter(y=>y.capacity.utilization>80&&va[y.role]?.primary.includes(d.current));h.length>0&&r.push({type:"CROSS_TRAINING",priority:"low",title:"Cross-training opportunity",description:`Shadow ${h[0].name} to learn ${d.details.name} skills`,impact:"Build team resilience and flexibility",suggestedWork:[]})}return o.capacity.utilization<50&&r.push({type:"KNOWLEDGE_SHARING",priority:"low",title:"Document and share knowledge",description:`Use available capacity to document ${c} best practices or create knowledge base articles`,impact:"Improve team knowledge and onboarding",suggestedWork:[]}),r}function Ly(o,d){let l=0,a=0;return o.forEach(r=>{r.type==="BACKLOG_PICKUP"&&r.suggestedWork&&r.suggestedWork.forEach(c=>{const p=c.issue.weight||0;l+=p,a+=p*(d.hoursPerStoryPoint||8)})}),{storyPoints:l,hours:a,velocityIncrease:l>0?`+${Math.round(l*100/20)}%`:"0%"}}function Uy(o,d,l){const a=d.current,r=d.details,c=o.filter(y=>va[y.role]?.primary.includes(a)),p=o.filter(y=>va[y.role]?.secondary.includes(a)),f=o.filter(y=>va[y.role]?.cannotDo.includes(a)),g=o.length,h=g>0?Math.round((c.length*100+p.length*50)/g):0;return{phase:r.name,efficiencyScore:h,optimal:c.length,suboptimal:p.length,mismatched:f.length,recommendations:Wy(h,c,p,f,r)}}function Wy(o,d,l,a,r){const c=[];return o<50&&c.push({severity:"critical",title:"Phase-Role Mismatch",description:`Only ${d.length} team members are optimally suited for current ${r.name} phase`,action:"Consider phase-appropriate task distribution or timeline adjustment"}),a.length>0&&c.push({severity:"warning",title:"Underutilized Skills",description:`${a.length} team members cannot contribute effectively to ${r.name}`,action:"Assign preparatory work for upcoming phases or cross-training"}),l.length>d.length&&c.push({severity:"info",title:"Suboptimal Resource Allocation",description:`More team members in supporting roles than primary roles for ${r.name}`,action:"Consider skill development or team composition review"}),c}function Hy({issues:o}){const{filteredIssues:d}=Dn(),[l,a]=U.useState(!1),[r,c]=U.useState(!1),[p,f]=U.useState({teamMembers:[]}),[g,h]=U.useState({hoursPerStoryPoint:8,defaultHoursPerIssue:4,defaultWeeklyCapacity:40}),[y,v]=U.useState(null);U.useEffect(()=>{const B=wt(),O=lo();f(B),h(O)},[l,r]);const m=U.useMemo(()=>Ts(d).map(O=>{const G=d.find(K=>Bn(K.iteration)===O);return{name:O,id:G?.iteration?.id||O,startDate:G?.iteration?.start_date,dueDate:G?.iteration?.due_date}}).sort((O,G)=>O.startDate?G.startDate?new Date(G.startDate)-new Date(O.startDate):-1:1),[d]);U.useEffect(()=>{m.length>0&&!y&&v(m[0])},[m,y]);const b=U.useMemo(()=>{if(!d||d.length===0)return{members:[],unassigned:0,totalIssues:0,teamMetrics:null};const B=new Map;let O=0;d.forEach(P=>{const Y=P.assignees||[];if(Y.length===0){O++;return}Y.forEach(R=>{const $=R.username;if(!B.has($)){const ne=p.teamMembers.find(oe=>oe.username===R.username);B.set($,{username:R.username,name:R.name,avatar:R.avatar_url,role:ne?.role||"Unknown",defaultCapacity:ne?.defaultCapacity||g.defaultWeeklyCapacity,openIssues:0,closedIssues:0,totalIssues:0,totalWeight:0,issues:[]})}const ie=B.get($);ie.totalIssues++,ie.issues.push(P),ie.totalWeight+=P.weight||0,P.state==="opened"?ie.openIssues++:ie.closedIssues++})});const G=Array.from(B.values()).map(P=>{const Y=y?ld(y.id,P.username,P.defaultCapacity,y):P.defaultCapacity,R=P.issues.filter(de=>de.state==="opened").reduce((de,me)=>de+jn(me,g),0),$=Y>0?R/Y*100:0,ie=Math.max(0,Y-R),ne=Y>0?Math.ceil(R/Y):0;let oe="Available",ue="#059669";return Y===0?(oe="Not Available",ue="#6B7280"):$>=100?(oe="Overloaded",ue="#DC2626"):$>=80?(oe="At Capacity",ue="#D97706"):$>=60&&(oe="Busy",ue="#2563EB"),{...P,capacity:{weeklyCapacity:Y,allocatedHours:Math.round(R*10)/10,availableHours:Math.round(ie*10)/10,utilization:Math.round($),weeksToComplete:ne,status:oe,statusColor:ue,isSprintAdjusted:Y!==P.defaultCapacity}}}).sort((P,Y)=>Y.capacity.utilization-P.capacity.utilization),K=G.reduce((P,Y)=>P+Y.capacity.weeklyCapacity,0),J=G.reduce((P,Y)=>P+Y.capacity.allocatedHours,0),le=K-J,I=K>0?J/K*100:0,F=G.filter(P=>P.capacity.utilization>=100).length,M=G.filter(P=>P.capacity.utilization>=80&&P.capacity.utilization<100).length,W={totalCapacity:Math.round(K),totalAllocated:Math.round(J*10)/10,totalAvailable:Math.round(le*10)/10,teamUtilization:Math.round(I),overloadedMembers:F,atCapacityMembers:M,avgUtilization:G.length>0?Math.round(G.reduce((P,Y)=>P+Y.capacity.utilization,0)/G.length):0};return{members:G,unassigned:O,totalIssues:d.length,teamMetrics:W}},[d,g,p,y]),{members:j,unassigned:E,teamMetrics:A}=b,N=B=>{const O=[],G=[];if(B.capacity.utilization>=100){const K=B.capacity.allocatedHours-B.capacity.weeklyCapacity,J=new Map;B.issues.filter(F=>F.state==="opened").forEach(F=>{const M=F.epic?.id||"no-epic",W=F.epic?.title||"No Epic";J.has(M)||J.set(M,{title:W,count:0,weight:0});const P=J.get(M);P.count++,P.weight+=F.weight||0});const le=Array.from(J.values()).sort((F,M)=>M.count-F.count);le.length>2&&(O.push({severity:"critical",category:"multi-epic",description:`Assigned to ${le.length} different epics simultaneously`,impact:`Spread across: ${le.slice(0,3).map(F=>`${F.title} (${F.count} issues, ${F.weight} pts)`).join(", ")}`}),G.push({priority:"high",title:"Focus on fewer epics",description:`Reduce to 1-2 epics. Consider moving ${le[le.length-1].title} issues to another team member`,estimatedImpact:"Reduce context switching, improve focus"})),B.openIssues>8&&(O.push({severity:"critical",category:"wip",description:`Too many open issues (${B.openIssues}) - WIP limit exceeded`,impact:`${K.toFixed(1)} hours over capacity`}),G.push({priority:"high",title:"Implement WIP limits",description:`Move ${Math.ceil(B.openIssues*.3)} issues to available team members`,estimatedImpact:`Free up ${(K*.3).toFixed(1)} hours`}));const I=B.issues.filter(F=>F.state==="opened"&&(F.labels?.some(M=>M.toLowerCase().includes("blocked"))||F.labels?.some(M=>M.toLowerCase().includes("waiting"))));if(I.length>0){const F=I.reduce((M,W)=>M+jn(W,g),0);O.push({severity:"warning",category:"blockers",description:`${I.length} blocked or waiting issues`,impact:`${F.toFixed(1)} hours tied up in blocked work`}),G.push({priority:"medium",title:"Resolve blockers",description:`Escalate blocked issues: ${I.slice(0,2).map(M=>M.title).join(", ")}`,estimatedImpact:`Free up ${F.toFixed(1)} hours`})}}else B.capacity.utilization>=80?(O.push({severity:"warning",category:"at-capacity",description:`Operating at ${B.capacity.utilization}% capacity`,impact:`Only ${B.capacity.availableHours} hours available`}),G.push({priority:"medium",title:"Monitor workload closely",description:"Avoid assigning new work until current issues are completed",estimatedImpact:"Prevent overload"})):B.capacity.utilization<50&&(O.push({severity:"info",category:"underutilized",description:`Operating at only ${B.capacity.utilization}% capacity`,impact:`${B.capacity.availableHours} hours available`}),G.push({priority:"low",title:"Assign more work",description:"Can take on additional work",estimatedImpact:"Better team balance"}));return{causes:O,actions:G}},C=(()=>{if(!j||j.length<2)return[];const B=j.filter(K=>K.capacity.utilization>100),O=j.filter(K=>K.capacity.utilization<80&&K.capacity.weeklyCapacity>0),G=[];return B.forEach(K=>{if(O.length===0)return;const J=O.filter(le=>{const I=K.role||"Developer",F=le.role||"Developer";return Ty(I,F)});if(J.sort((le,I)=>le.capacity.utilization-I.capacity.utilization),J.length>0){const le=J[0],I=Math.ceil(K.openIssues*.3),F=K.capacity.allocatedHours*.3,M=K.capacity.utilization,W=Math.round(M-30);G.push({from:K.name,fromRole:K.role||"Developer",to:le.name,toRole:le.role||"Developer",issues:I,hours:Math.round(F*10)/10,impact:`Would reduce ${K.name}'s utilization from ${M}% to ~${W}%`,compatibilityReason:K.role===le.role?"Same role":`Compatible roles (${Lh(K.role||"Developer").join(", ")})`})}else G.push({from:K.name,fromRole:K.role||"Developer",to:null,toRole:null,issues:0,hours:0,impact:`No available team members with compatible role (${K.role||"Developer"})`,warning:!0,compatibilityReason:`Needs: ${Lh(K.role||"Developer").join(", ")||K.role}`})}),G})(),D=U.useMemo(()=>{if(!y||!d||d.length===0)return null;const B=d.filter(O=>Bn(O.iteration)===y.name);return Iy(B)},[d,y]),w=U.useMemo(()=>o?o.filter(B=>{const O=B.iteration&&(B.iteration.title||B.iteration.name||B.iteration.id),G=B.assignees&&B.assignees.length>0;return!O&&!G&&B.state==="opened"}):[],[o]),T=U.useMemo(()=>{if(!j||!D||!w)return[];const B=[];return j.forEach(O=>{if(O.capacity.utilization<60&&O.capacity.weeklyCapacity>0){const G=Oy(O,D,w,j);G.length>0&&B.push({member:O.name,role:O.role,utilization:O.capacity.utilization,recommendations:G})}}),B},[j,D,w]),_=U.useMemo(()=>!j||!D||!d?null:Uy(j,D),[j,D,d]),L=U.useMemo(()=>{if(!T||T.length===0)return null;const B=T.flatMap(O=>O.recommendations);return Ly(B,g)},[T,g]);return t.jsxs("div",{className:"container-fluid",children:[t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("h2",{style:{fontSize:"24px",fontWeight:"600",marginBottom:"8px"},children:"Resource Capacity Planning"}),t.jsx("p",{style:{fontSize:"14px",color:"#6B7280"},children:"Advanced resource management with capacity allocation and forecasting"})]}),t.jsxs("div",{className:"card",style:{marginBottom:"30px",background:"#F0F9FF",borderColor:"#BFDBFE"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs("div",{children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"6px",color:"#1E40AF"},children:"Team Resource Management"}),t.jsx("div",{style:{fontSize:"13px",color:"#1E40AF"},children:"Configure your team, roles, and capacity settings to get accurate resource planning"})]}),t.jsxs("div",{style:{display:"flex",gap:"10px"},children:[t.jsx("button",{onClick:()=>a(!0),style:{padding:"10px 20px",background:"#2563EB",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Team Configuration"}),t.jsx("button",{onClick:()=>c(!0),style:{padding:"10px 20px",background:"#059669",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Sprint Capacity"})]})]}),g.historicalData&&t.jsxs("div",{style:{marginTop:"16px",padding:"12px",background:"white",borderRadius:"6px",fontSize:"13px",display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px"},children:[t.jsxs("div",{children:[t.jsx("span",{style:{color:"#6B7280"},children:"Hours per Story Point:"})," ",t.jsxs("strong",{style:{color:"#1E40AF"},children:[g.hoursPerStoryPoint,"h"]}),t.jsxs("span",{style:{fontSize:"11px",color:"#9CA3AF",marginLeft:"6px"},children:["(based on ",g.historicalData.sampleSize," issues)"]})]}),t.jsxs("div",{children:[t.jsx("span",{style:{color:"#6B7280"},children:"Default Hours per Issue:"})," ",t.jsxs("strong",{style:{color:"#1E40AF"},children:[g.defaultHoursPerIssue,"h"]})]}),t.jsxs("div",{children:[t.jsx("span",{style:{color:"#6B7280"},children:"Team Members:"})," ",t.jsx("strong",{style:{color:"#1E40AF"},children:p.teamMembers.length})]})]})]}),t.jsx(My,{isOpen:l,onClose:()=>a(!1),issues:d}),t.jsx(Ny,{isOpen:r,onClose:()=>c(!1),issues:d}),A&&t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:"30px"},children:[t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Team Utilization"}),t.jsxs("div",{style:{fontSize:"32px",fontWeight:"600",color:A.teamUtilization>=90?"#DC2626":A.teamUtilization>=70?"#D97706":"#059669"},children:[A.teamUtilization,"%"]}),t.jsxs("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:["Avg: ",A.avgUtilization,"%"]})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Total Capacity"}),t.jsxs("div",{style:{fontSize:"32px",fontWeight:"600",color:"#1F2937"},children:[A.totalCapacity,"h"]}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:"per week"})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Allocated"}),t.jsxs("div",{style:{fontSize:"32px",fontWeight:"600",color:"#DC2626"},children:[A.totalAllocated,"h"]}),t.jsxs("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:[A.totalAvailable,"h available"]})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Capacity Issues"}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"600",color:A.overloadedMembers>0?"#DC2626":"#059669"},children:A.overloadedMembers}),t.jsxs("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:[A.atCapacityMembers," at capacity"]})]})]}),C.length>0&&t.jsxs("div",{className:"card",style:{marginBottom:"30px",background:"#FEF3C7",borderColor:"#D97706"},children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#92400E",marginBottom:"8px"},children:" Workload Rebalancing Recommendations"}),t.jsx("p",{style:{fontSize:"13px",color:"#92400E",marginBottom:"16px"},children:"Suggestions respect role compatibility - only team members with compatible skills are considered"}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:C.map((B,O)=>t.jsx("div",{style:{padding:"12px",background:B.warning?"#FEE2E2":"white",borderRadius:"6px",fontSize:"14px",borderLeft:B.warning?"4px solid #DC2626":"4px solid #059669"},children:B.warning?t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{fontWeight:"600",color:"#991B1B",marginBottom:"4px",display:"flex",alignItems:"center",gap:"6px"},children:[t.jsx("span",{children:""}),t.jsxs("span",{children:[B.from," (",B.fromRole,")"]})]}),t.jsx("div",{style:{fontSize:"12px",color:"#991B1B",marginBottom:"4px"},children:B.impact}),t.jsx("div",{style:{fontSize:"11px",color:"#7F1D1D",fontStyle:"italic"},children:B.compatibilityReason})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{fontWeight:"600",color:"#78350F",marginBottom:"4px"},children:["Move ",B.issues," issue",B.issues>1?"s":""," (~",B.hours,"h) from ",B.from,"  ",B.to]}),t.jsx("div",{style:{fontSize:"12px",color:"#92400E",marginBottom:"4px"},children:B.impact}),t.jsxs("div",{style:{fontSize:"11px",color:"#78350F",display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("span",{style:{padding:"2px 6px",background:"#FDE68A",borderRadius:"4px",fontWeight:"500"},children:B.fromRole}),t.jsx("span",{children:""}),t.jsx("span",{style:{padding:"2px 6px",background:"#FDE68A",borderRadius:"4px",fontWeight:"500"},children:B.toRole}),t.jsxs("span",{style:{marginLeft:"8px",fontStyle:"italic"},children:["(",B.compatibilityReason,")"]})]})]})},O))})]}),D&&_&&t.jsxs("div",{className:"card",style:{marginBottom:"30px",background:"#F0F9FF",borderColor:"#2563EB"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[t.jsxs("div",{children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#1E40AF",marginBottom:"8px"},children:" Sprint Workflow Intelligence"}),t.jsxs("p",{style:{fontSize:"13px",color:"#3B82F6",marginBottom:"0"},children:["Current Phase: ",t.jsx("strong",{children:D.details.name})," (",D.completionPercentage,"% complete)"]})]}),t.jsxs("div",{style:{padding:"8px 16px",background:_.efficiencyScore>=70?"#10B981":_.efficiencyScore>=50?"#F59E0B":"#EF4444",color:"white",borderRadius:"20px",fontSize:"14px",fontWeight:"600"},children:["Efficiency: ",_.efficiencyScore,"%"]})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"12px",marginBottom:"16px"},children:[t.jsxs("div",{style:{padding:"12px",background:"white",borderRadius:"6px"},children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:"Optimal for phase"}),t.jsx("div",{style:{fontSize:"20px",fontWeight:"600",color:"#059669"},children:_.optimal}),t.jsx("div",{style:{fontSize:"11px",color:"#6B7280"},children:"team members"})]}),t.jsxs("div",{style:{padding:"12px",background:"white",borderRadius:"6px"},children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:"Can contribute"}),t.jsx("div",{style:{fontSize:"20px",fontWeight:"600",color:"#D97706"},children:_.suboptimal}),t.jsx("div",{style:{fontSize:"11px",color:"#6B7280"},children:"in supporting role"})]}),t.jsxs("div",{style:{padding:"12px",background:"white",borderRadius:"6px"},children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:"Mismatched"}),t.jsx("div",{style:{fontSize:"20px",fontWeight:"600",color:"#DC2626"},children:_.mismatched}),t.jsx("div",{style:{fontSize:"11px",color:"#6B7280"},children:"for current phase"})]})]}),_.recommendations&&_.recommendations.length>0&&t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:_.recommendations.map((B,O)=>t.jsxs("div",{style:{padding:"8px 12px",background:B.severity==="critical"?"#FEE2E2":B.severity==="warning"?"#FEF3C7":"#E0E7FF",borderRadius:"4px",fontSize:"12px",borderLeft:`3px solid ${B.severity==="critical"?"#DC2626":B.severity==="warning"?"#D97706":"#2563EB"}`},children:[t.jsx("div",{style:{fontWeight:"600",marginBottom:"2px"},children:B.title}),t.jsx("div",{style:{marginBottom:"2px"},children:B.description}),t.jsxs("div",{style:{fontStyle:"italic",fontSize:"11px"},children:[" ",B.action]})]},O))})]}),T.length>0&&L&&t.jsxs("div",{className:"card",style:{marginBottom:"30px",background:"#F0FDF4",borderColor:"#10B981"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[t.jsxs("div",{children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#14532D",marginBottom:"8px"},children:" Velocity Optimization Opportunities"}),t.jsx("p",{style:{fontSize:"13px",color:"#166534"},children:"Proactive recommendations for underutilized team members"})]}),L.storyPoints>0&&t.jsxs("div",{style:{padding:"8px 16px",background:"#10B981",color:"white",borderRadius:"20px",fontSize:"14px",fontWeight:"600"},children:["Potential: +",L.storyPoints," SP"]})]}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:T.map((B,O)=>t.jsxs("div",{style:{background:"white",borderRadius:"8px",padding:"16px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[t.jsxs("div",{children:[t.jsx("span",{style:{fontWeight:"600",fontSize:"14px"},children:B.member}),t.jsx("span",{style:{marginLeft:"8px",padding:"2px 8px",background:"#E0F2FE",color:"#0369A1",borderRadius:"12px",fontSize:"12px"},children:B.role})]}),t.jsxs("div",{style:{fontSize:"13px",color:B.utilization<30?"#DC2626":B.utilization<50?"#D97706":"#059669"},children:[B.utilization,"% utilized"]})]}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:B.recommendations.map((G,K)=>t.jsxs("div",{style:{padding:"10px",background:"#F9FAFB",borderRadius:"6px",borderLeft:`3px solid ${G.priority==="high"?"#DC2626":G.priority==="medium"?"#F59E0B":"#3B82F6"}`},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"6px"},children:[t.jsx("div",{style:{fontWeight:"600",fontSize:"13px"},children:G.title}),t.jsx("div",{style:{padding:"2px 6px",background:G.priority==="high"?"#FEE2E2":G.priority==="medium"?"#FEF3C7":"#DBEAFE",color:G.priority==="high"?"#991B1B":G.priority==="medium"?"#92400E":"#1E3A8A",borderRadius:"4px",fontSize:"10px",fontWeight:"600",textTransform:"uppercase"},children:G.priority})]}),t.jsx("div",{style:{fontSize:"12px",color:"#4B5563",marginBottom:"4px"},children:G.description}),t.jsxs("div",{style:{fontSize:"11px",color:"#6B7280",fontStyle:"italic"},children:["Impact: ",G.impact]}),G.suggestedWork&&G.suggestedWork.length>0&&t.jsxs("div",{style:{marginTop:"8px",paddingTop:"8px",borderTop:"1px solid #E5E7EB"},children:[t.jsx("div",{style:{fontSize:"11px",fontWeight:"600",marginBottom:"4px",color:"#374151"},children:"Suggested backlog items:"}),G.suggestedWork.map((J,le)=>t.jsxs("div",{style:{fontSize:"11px",color:"#6B7280",marginLeft:"12px"},children:[" ",J.issue.title," (",J.reason,")"]},le))]})]},K))})]},O))}),L.storyPoints>0&&t.jsxs("div",{style:{marginTop:"16px",padding:"12px",background:"#ECFDF5",borderRadius:"6px",display:"flex",alignItems:"center",gap:"16px"},children:[t.jsx("span",{style:{fontSize:"24px"},children:""}),t.jsxs("div",{children:[t.jsxs("div",{style:{fontSize:"13px",fontWeight:"600",color:"#065F46"},children:["Potential Velocity Increase: ",L.velocityIncrease]}),t.jsxs("div",{style:{fontSize:"12px",color:"#047857"},children:["By implementing these recommendations, the team could add ",L.storyPoints," story points (~",L.hours," hours) to the current sprint"]})]})]})]}),t.jsxs("div",{className:"card",children:[t.jsx("h2",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"20px"},children:"Team Capacity Planning"}),j.length===0?t.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#6B7280"},children:"No team members found. Assign issues to team members to see capacity planning."}):t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:j.map(B=>{const O=B.capacity;return t.jsxs("div",{style:{padding:"16px",background:"#F9FAFB",borderRadius:"8px",border:`2px solid ${O.statusColor}20`},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[B.avatar&&t.jsx("img",{src:B.avatar,alt:B.name,style:{width:"48px",height:"48px",borderRadius:"50%",objectFit:"cover"},onError:G=>{G.target.style.display="none"}}),t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[t.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#1F2937"},children:B.name}),B.role&&B.role!=="Unknown"&&t.jsx("span",{style:{padding:"3px 10px",backgroundColor:"#EFF6FF",color:"#2563EB",borderRadius:"12px",fontSize:"11px",fontWeight:"600"},children:B.role})]}),t.jsxs("div",{style:{fontSize:"14px",color:"#6B7280"},children:["@",B.username]})]}),t.jsx("div",{style:{padding:"6px 16px",background:O.statusColor+"20",color:O.statusColor,borderRadius:"12px",fontSize:"13px",fontWeight:"600"},children:O.status})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:"16px",marginBottom:"16px"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",color:"#6B7280",marginBottom:"4px"},children:"UTILIZATION"}),t.jsxs("div",{style:{fontSize:"24px",fontWeight:"700",color:O.statusColor},children:[O.utilization,"%"]})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",color:"#6B7280",marginBottom:"4px"},children:"ALLOCATED"}),t.jsxs("div",{style:{fontSize:"24px",fontWeight:"700",color:"#DC2626"},children:[O.allocatedHours,"h"]}),t.jsxs("div",{style:{fontSize:"11px",color:"#6B7280",display:"flex",alignItems:"center",gap:"4px"},children:["of ",O.weeklyCapacity,"h/week",O.isSprintAdjusted&&t.jsx("span",{style:{fontSize:"10px",background:"#FEF3C7",color:"#92400E",padding:"2px 6px",borderRadius:"4px",fontWeight:"600"},title:`Default: ${B.defaultCapacity}h/week. Adjusted for this sprint (holidays, PTO, etc.)`,children:""})]})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",color:"#6B7280",marginBottom:"4px"},children:"AVAILABLE"}),t.jsxs("div",{style:{fontSize:"24px",fontWeight:"700",color:"#059669"},children:[O.availableHours,"h"]}),t.jsx("div",{style:{fontSize:"11px",color:"#6B7280"},children:"this week"})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",color:"#6B7280",marginBottom:"4px"},children:"TIME TO COMPLETE"}),t.jsxs("div",{style:{fontSize:"24px",fontWeight:"700",color:"#2563EB"},children:[O.weeksToComplete,"w"]}),t.jsx("div",{style:{fontSize:"11px",color:"#6B7280"},children:"at current rate"})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",color:"#6B7280",marginBottom:"4px"},children:"OPEN ISSUES"}),t.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"#1F2937"},children:B.openIssues})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",color:"#6B7280",marginBottom:"4px"},children:"COMPLETION RATE"}),t.jsxs("div",{style:{fontSize:"24px",fontWeight:"700",color:"#059669"},children:[Math.round(B.closedIssues/B.totalIssues*100),"%"]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"6px"},children:["Capacity Utilization: ",O.allocatedHours,"h / ",O.weeklyCapacity,"h"]}),t.jsxs("div",{style:{width:"100%",height:"12px",background:"#E5E7EB",borderRadius:"6px",overflow:"hidden",position:"relative"},children:[t.jsx("div",{style:{width:`${Math.min(O.utilization,100)}%`,height:"100%",background:O.statusColor,transition:"width 0.3s ease"}}),O.utilization>100&&t.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:`repeating-linear-gradient(45deg, ${O.statusColor}, ${O.statusColor} 10px, ${O.statusColor}dd 10px, ${O.statusColor}dd 20px)`}})]})]}),(()=>{const{causes:G,actions:K}=N(B);return G.length===0?null:t.jsxs("div",{style:{marginTop:"12px",padding:"12px",background:"#F3F4F6",borderRadius:"6px",fontSize:"13px"},children:[t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("div",{style:{fontSize:"12px",fontWeight:"600",color:"#1F2937",marginBottom:"8px"},children:" Root Cause Analysis:"}),G.map((J,le)=>t.jsxs("div",{style:{marginBottom:"8px",paddingLeft:"8px",borderLeft:`3px solid ${J.severity==="critical"?"#DC2626":J.severity==="warning"?"#D97706":"#6B7280"}`},children:[t.jsxs("div",{style:{fontWeight:"600",color:"#374151",marginBottom:"2px"},children:[J.severity==="critical"&&""," ",J.severity==="warning"&&""," ",J.severity==="info"&&""," ",J.description]}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280"},children:J.impact})]},le))]}),K.length>0&&t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"12px",fontWeight:"600",color:"#1F2937",marginBottom:"8px"},children:" Recommended Actions:"}),K.map((J,le)=>t.jsxs("div",{style:{marginBottom:"8px",paddingLeft:"8px",borderLeft:"3px solid #2563EB"},children:[t.jsx("div",{style:{fontWeight:"600",color:"#374151",marginBottom:"2px"},children:J.title}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"2px"},children:J.description}),t.jsxs("div",{style:{fontSize:"11px",color:"#9CA3AF"},children:["Impact: ",J.estimatedImpact]})]},le))]})]})})(),B.openIssues>0&&t.jsxs("div",{style:{marginTop:"16px"},children:[t.jsxs("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1F2937",marginBottom:"12px"},children:["Open Issues (",B.openIssues,") - ",B.totalWeight," story points"]}),t.jsx("div",{style:{overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{backgroundColor:"#F9FAFB",borderBottom:"2px solid #E5E7EB"},children:[t.jsx("th",{style:{padding:"8px 12px",textAlign:"left",fontSize:"11px",fontWeight:"600",color:"#6B7280",whiteSpace:"nowrap"},children:"ID"}),t.jsx("th",{style:{padding:"8px 12px",textAlign:"left",fontSize:"11px",fontWeight:"600",color:"#6B7280"},children:"Title"}),t.jsx("th",{style:{padding:"8px 12px",textAlign:"left",fontSize:"11px",fontWeight:"600",color:"#6B7280"},children:"Epic"}),t.jsx("th",{style:{padding:"8px 12px",textAlign:"center",fontSize:"11px",fontWeight:"600",color:"#6B7280",whiteSpace:"nowrap"},children:"Weight"}),t.jsx("th",{style:{padding:"8px 12px",textAlign:"center",fontSize:"11px",fontWeight:"600",color:"#6B7280",whiteSpace:"nowrap"},children:"Est. Hours"}),t.jsx("th",{style:{padding:"8px 12px",textAlign:"left",fontSize:"11px",fontWeight:"600",color:"#6B7280",whiteSpace:"nowrap"},children:"Due Date"}),t.jsx("th",{style:{padding:"8px 12px",textAlign:"left",fontSize:"11px",fontWeight:"600",color:"#6B7280"},children:"State"})]})}),t.jsx("tbody",{children:B.issues.filter(G=>G.state==="opened").sort((G,K)=>G.due_date&&K.due_date?new Date(G.due_date)-new Date(K.due_date):G.due_date?-1:K.due_date?1:(K.weight||0)-(G.weight||0)).map(G=>{const K=jn(G,g),J=G.due_date&&new Date(G.due_date)<new Date,le=G.due_date&&!J&&new Date(G.due_date)-new Date<10080*60*1e3;return t.jsxs("tr",{style:{borderBottom:"1px solid #E5E7EB"},children:[t.jsxs("td",{style:{padding:"8px 12px",color:"#6B7280"},children:["#",G.iid]}),t.jsx("td",{style:{padding:"8px 12px"},children:t.jsx("div",{style:{maxWidth:"300px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:"#374151"},children:G.title})}),t.jsx("td",{style:{padding:"8px 12px",fontSize:"12px",color:"#6B7280"},children:t.jsx("div",{style:{maxWidth:"150px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:G.epic?.title||"-"})}),t.jsx("td",{style:{padding:"8px 12px",textAlign:"center"},children:G.weight?t.jsx("span",{style:{padding:"3px 8px",background:"#DBEAFE",color:"#1E40AF",borderRadius:"4px",fontSize:"12px",fontWeight:"600"},children:G.weight}):t.jsx("span",{style:{color:"#9CA3AF",fontSize:"12px"},children:"-"})}),t.jsxs("td",{style:{padding:"8px 12px",textAlign:"center",fontWeight:"600",color:"#374151"},children:[K.toFixed(1),"h"]}),t.jsx("td",{style:{padding:"8px 12px",fontSize:"12px"},children:G.due_date?t.jsxs("span",{style:{color:J?"#DC2626":le?"#D97706":"#6B7280",fontWeight:J||le?"600":"400"},children:[new Date(G.due_date).toLocaleDateString(),J&&" "]}):t.jsx("span",{style:{color:"#9CA3AF"},children:"-"})}),t.jsx("td",{style:{padding:"8px 12px",fontSize:"12px"},children:t.jsx("span",{style:{padding:"3px 8px",background:"#FEF3C7",color:"#92400E",borderRadius:"4px",fontSize:"11px",fontWeight:"500"},children:G.state})})]},G.id)})})]})})]})]},B.username)})})]}),E>0&&t.jsx("div",{className:"card",style:{marginTop:"20px",background:"#FEF3C7",borderColor:"#D97706"},children:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("div",{style:{fontSize:"24px"},children:""}),t.jsxs("div",{children:[t.jsxs("div",{style:{fontSize:"16px",fontWeight:"600",color:"#92400E",marginBottom:"4px"},children:[E," Unassigned Issues"]}),t.jsxs("div",{style:{fontSize:"14px",color:"#78350F"},children:["Estimated impact: ",(E*g.defaultHoursPerIssue).toFixed(1)," hours of unallocated work"]})]})]})})]})}const ft={STAKEHOLDERS:"stakeholders",COMMUNICATION_HISTORY:"communication_history",TEMPLATES:"communication_templates",DECISIONS:"decisions",DOCUMENTS:"documents"};function vd(){const o=localStorage.getItem(ft.STAKEHOLDERS);return o?JSON.parse(o):[]}function Py(o){const d=vd(),l=d.findIndex(a=>a.id===o.id);return l>=0?d[l]={...d[l],...o}:d.push({id:o.id||Date.now().toString(),name:o.name,role:o.role,email:o.email,frequency:o.frequency||"weekly",interests:o.interests||[],createdAt:new Date().toISOString()}),localStorage.setItem(ft.STAKEHOLDERS,JSON.stringify(d)),d}function $y(o){const l=vd().filter(a=>a.id!==o);return localStorage.setItem(ft.STAKEHOLDERS,JSON.stringify(l)),l}function En(){const o=localStorage.getItem(ft.COMMUNICATION_HISTORY);return o?JSON.parse(o):[]}function Hh(o){const d=En();d.unshift({id:Date.now().toString(),stakeholderIds:o.stakeholderIds||[],subject:o.subject,content:o.content,type:o.type||"status_update",sentAt:new Date().toISOString()});const l=d.slice(0,100);return localStorage.setItem(ft.COMMUNICATION_HISTORY,JSON.stringify(l)),l}function Gy(o){const l=En().filter(a=>a.id!==o);return localStorage.setItem(ft.COMMUNICATION_HISTORY,JSON.stringify(l)),l}function Ix(){const o=localStorage.getItem(ft.TEMPLATES);return o?JSON.parse(o):[{id:"weekly_status",name:"Weekly Status Update",subject:"Project Status Update - Week of {date}",body:`Hi {stakeholder_name},

Here's your weekly project status update for {project_name}:

**Overall Health:** {health_score}/100 ({health_label})
**Completion:** {completion_rate}%
**Open Issues:** {open_issues}
**Blockers:** {blockers}

{status_summary}

{upcoming_milestones}

Best regards,
{sender_name}`},{id:"milestone_complete",name:"Milestone Achievement",subject:"Milestone Achieved: {milestone_name}",body:`Hi {stakeholder_name},

Great news! We've successfully completed the {milestone_name} milestone.

**Achievement Highlights:**
- {completed_issues} issues completed
- Delivered on {milestone_date}
- {completion_rate}% completion rate

{next_steps}

Best regards,
{sender_name}`},{id:"risk_alert",name:"Risk Alert",subject:"Risk Alert: {risk_description}",body:`Hi {stakeholder_name},

I wanted to bring to your attention a risk that requires management awareness:

**Risk:** {risk_description}
**Probability:** {risk_probability}
**Impact:** {risk_impact}
**Mitigation Plan:** {risk_mitigation}

Please let me know if you'd like to discuss this further.

Best regards,
{sender_name}`},{id:"executive_summary",name:"Executive Summary",subject:"Executive Summary - {project_name}",body:`Hi {stakeholder_name},

Please find below the executive summary for {project_name}:

**Project Health:** {health_score}/100
**Status:** {health_label}

**Key Metrics:**
- Total Issues: {total_issues}
- Completion Rate: {completion_rate}%
- Active Blockers: {blockers}
- Team Utilization: {team_utilization}%

{ai_summary}

**Action Required:**
{action_items}

Best regards,
{sender_name}`}]}function qy(o){const d=Ix(),l=d.findIndex(a=>a.id===o.id);return l>=0?d[l]=o:d.push({...o,id:o.id||Date.now().toString()}),localStorage.setItem(ft.TEMPLATES,JSON.stringify(d)),d}function Wc(o,d){let l=o.body;const a={"{stakeholder_name}":d.stakeholderName||"all","{project_name}":d.projectName||"Project","{date}":new Date().toLocaleDateString(),"{health_score}":d.healthScore?.score||"N/A","{health_label}":d.healthScore?.label||"Unknown","{completion_rate}":d.stats?.completionRate||"0","{open_issues}":d.stats?.openIssues||"0","{total_issues}":d.stats?.totalIssues||"0","{blockers}":d.stats?.blockers||"0","{team_utilization}":d.teamUtilization||"N/A","{status_summary}":d.statusSummary||"","{upcoming_milestones}":d.upcomingMilestones||"","{action_items}":d.actionItems||"","{ai_summary}":d.aiSummary||"","{sender_name}":d.senderName||"Project Manager","{milestone_name}":d.milestoneName||"","{milestone_date}":d.milestoneDate||"","{completed_issues}":d.completedIssues||"0","{next_steps}":d.nextSteps||"","{risk_description}":d.riskDescription||"","{risk_probability}":d.riskProbability||"","{risk_impact}":d.riskImpact||"","{risk_mitigation}":d.riskMitigation||""};return Object.entries(a).forEach(([r,c])=>{l=l.replace(new RegExp(r,"g"),c)}),l}function co(){const o=localStorage.getItem(ft.DECISIONS);return o?JSON.parse(o):[]}function Yy(o){const d=co(),l={id:o.id||Date.now().toString(),title:o.title,description:o.description,decisionDate:o.decisionDate||new Date().toISOString(),stakeholderIds:o.stakeholderIds||[],linkedEpics:o.linkedEpics||[],linkedIssues:o.linkedIssues||[],status:o.status||"active",reversedBy:o.reversedBy||null,reversedDate:o.reversedDate||null,reversedReason:o.reversedReason||null,tags:o.tags||[],approvedBy:o.approvedBy||[],communicationId:o.communicationId||null,createdAt:o.createdAt||new Date().toISOString()},a=d.findIndex(r=>r.id===l.id);return a>=0?d[a]=l:d.unshift(l),localStorage.setItem(ft.DECISIONS,JSON.stringify(d)),d}function Vy(o){const l=co().filter(a=>a.id!==o);return localStorage.setItem(ft.DECISIONS,JSON.stringify(l)),l}function Qy(o,d,l=null){const a=co(),r=a.find(c=>c.id===o);return r&&(r.status=l?"superseded":"reversed",r.reversedDate=new Date().toISOString(),r.reversedReason=d,r.reversedBy=l,localStorage.setItem(ft.DECISIONS,JSON.stringify(a))),a}function cd(){const o=localStorage.getItem(ft.DOCUMENTS);return o?JSON.parse(o):[]}function Xy(o){const l=cd().filter(a=>a.id!==o);return localStorage.setItem(ft.DOCUMENTS,JSON.stringify(l)),l}function Zy(o,d){const l=[],a=[...o.to,...o.cc].map(f=>f.email.toLowerCase());d.forEach(f=>{a.includes(f.email.toLowerCase())&&l.push(f.id)});const r={id:Date.now().toString(),type:"email",source:"imported",from:o.from,to:o.to,cc:o.cc,stakeholderIds:l,subject:o.subject,content:o.body,sentAt:o.date.toISOString(),messageId:o.messageId,tags:o.tags||[],references:o.references||[],linkedEpics:[],linkedIssues:[],attachments:o.attachments||[]},c=En();c.unshift(r);const p=c.slice(0,100);return localStorage.setItem(ft.COMMUNICATION_HISTORY,JSON.stringify(p)),r}function Ky(o){const d=o.split(`
`),l={};let a="",r=!1,c="";for(let f=0;f<d.length;f++){const g=d[f];if(r)a+=g+`
`;else{if(g.trim()===""){r=!0;continue}if(g.match(/^\s/)&&c)l[c]+=" "+g.trim();else{const h=g.match(/^([^:]+):\s*(.*)/);h&&(c=h[1].toLowerCase(),l[c]=h[2].trim())}}}const p=t1(a,l["content-type"]);return{from:Ox(l.from||""),to:Hc(l.to||""),cc:Hc(l.cc||""),bcc:Hc(l.bcc||""),subject:Jy(l.subject||""),date:e1(l.date||""),messageId:l["message-id"]||"",body:p,rawHeaders:l}}function Ox(o){if(!o)return{name:"",email:""};const d=o.match(/(.*)<(.+?)>/);return d?{name:d[1].trim().replace(/^["']|["']$/g,""),email:d[2].trim()}:{name:"",email:o.trim()}}function Hc(o){return o?o.split(",").map(d=>Ox(d.trim())):[]}function Jy(o){return o?o.replace(/=\?([^?]+)\?([QB])\?([^?]+)\?=/gi,(d,l,a,r)=>{try{if(a.toUpperCase()==="Q")return r.replace(/_/g," ").replace(/=([0-9A-F]{2})/g,(c,p)=>String.fromCharCode(parseInt(p,16)));if(a.toUpperCase()==="B")return atob(r)}catch(c){console.warn("Failed to decode header:",c)}return d}):""}function e1(o){if(!o)return new Date;try{const d=o.replace(/\s+/g," ").trim();return new Date(d)}catch{return new Date}}function t1(o,d){if(!o)return"";const l=d?.match(/boundary=["']?([^"'\s;]+)/);if(l){const a=l[1],r=o.split(`--${a}`);for(const c of r)if(c.includes("Content-Type: text/plain")){const p=c.indexOf(`

`);if(p!==-1)return Pc(c.substring(p).trim())}for(const c of r){const p=c.indexOf(`

`);if(p!==-1){const f=c.substring(p).trim();if(f&&!f.startsWith("<"))return Pc(f)}}}return Pc(o)}function Pc(o){if(!o)return"";let d=o.replace(/<[^>]+>/g," ");return d=d.replace(/=([0-9A-F]{2})/g,(l,a)=>{try{return String.fromCharCode(parseInt(a,16))}catch{return l}}),d=d.replace(/=\n/g,""),d=d.replace(/\s+/g," ").trim(),d}function i1(o,d){const l=[],a=`${o} ${d}`.toLowerCase();return a.match(/\b(approve|approved|approval|decision|decided|go ahead|green light)\b/)&&l.push("decision"),a.match(/\b(sign[ -]?off|signed[ -]?off|approved|approval|accept|accepted)\b/)&&l.push("approval"),a.match(/\b(urgent|critical|escalate|escalation|help needed|blocker)\b/)&&l.push("escalation"),a.match(/\b(scope change|change request|additional|requirement|add feature)\b/)&&l.push("scope-change"),a.match(/\b(priority|re-?prioritize|priority change|urgent|high priority)\b/)&&l.push("priority"),a.match(/\b(risk|concern|issue|problem|delay|slippage)\b/)&&l.push("risk"),[...new Set(l)]}function n1(o,d){const l=[],a=`${o} ${d}`,r=a.match(/#(\d+)|issue[- ](\d+)/gi);r&&r.forEach(p=>{const f=p.match(/\d+/);f&&l.push({type:"issue",id:f[0]})});const c=a.match(/epic[- ](\d+)|&(\d+)/gi);return c&&c.forEach(p=>{const f=p.match(/\d+/);f&&l.push({type:"epic",id:f[0]})}),l}var ji={},Es={},Vr={},St={},Ph;function zs(){if(Ph)return St;Ph=1,Object.defineProperty(St,"__esModule",{value:!0}),St.arraysEqual=o,St.uInt2int=d,St.toHexStr=l,St.toHex1=r,St.toHex2=c,St.toHex4=p,St.msftUuidStringify=f,St.emptyToNull=g,St.readSystemTime=y,St.readTransitionSystemTime=v,St.bin2HexUpper=m;function o(b,j){if(b===j)return!0;if(b==null||j==null||b.length!=j.length)return!1;for(var E=0;E<b.length;E++)if(b[E]!==j[E])return!1;return!0}function d(b){for(var j=new Array(b.length),E=0;E<b.length;E++)j[E]=b[E]<<24>>24;return j}function l(b,j){for(var E="";b!=0;)E="0123456789abcdef"[b&15]+E,b>>=4,E="0123456789abcdef"[b&15]+E,b>>=4;for(;E.length<j;)E="0"+E;return E}var a="0123456789abcdef";function r(b){return a[b>>4&15]+a[b&15]}function c(b){return a[b>>12&15]+a[b>>8&15]+a[b>>4&15]+a[b&15]}function p(b){return a[b>>28&15]+a[b>>24&15]+a[b>>20&15]+a[b>>16&15]+a[b>>12&15]+a[b>>8&15]+a[b>>4&15]+a[b&15]}function f(b,j){return""+r(b[j+3])+r(b[j+2])+r(b[j+1])+r(b[j+0])+"-"+r(b[j+5])+r(b[j+4])+"-"+r(b[j+7])+r(b[j+6])+"-"+r(b[j+8])+r(b[j+9])+"-"+r(b[j+10])+r(b[j+11])+r(b[j+12])+r(b[j+13])+r(b[j+14])+r(b[j+15])}function g(b){return b===""?null:b}function h(b,j){return(""+b).padStart(j,"0")}function y(b){var j=b.readUint16(),E=b.readUint16();b.readUint16();var A=b.readUint16(),N=b.readUint16(),k=b.readUint16(),C=b.readUint16();b.readUint16();var D="".concat(h(j,4),"-").concat(h(E,2),"-").concat(h(A,2),"T").concat(h(N,2),":").concat(h(k,2),":").concat(h(C,2),"Z");return D==="0000-00-00T00:00:00Z"?null:new Date(D)}function v(b){var j=b.readUint16(),E=b.readUint16(),A=b.readUint16(),N=b.readUint16(),k=b.readUint16(),C=b.readUint16();return b.readUint16(),b.readUint16(),{year:j,month:E,dayOfWeek:A,day:N,hour:k,minute:C}}function m(b){for(var j="";!b.isEof();)j+=r(b.readUint8());return j.toUpperCase()}return St}var $h;function bd(){if($h)return Vr;$h=1,Object.defineProperty(Vr,"__esModule",{value:!0});var o=zs();return Vr.default={FILE_HEADER:(0,o.uInt2int)([208,207,17,224,161,177,26,225]),MSG:{UNUSED_BLOCK:-1,END_OF_CHAIN:-2,S_BIG_BLOCK_SIZE:512,S_BIG_BLOCK_MARK:9,L_BIG_BLOCK_SIZE:4096,L_BIG_BLOCK_MARK:12,SMALL_BLOCK_SIZE:64,BIG_BLOCK_MIN_DOC_SIZE:4096,HEADER:{PROPERTY_START_OFFSET:48,BAT_START_OFFSET:76,BAT_COUNT_OFFSET:44,SBAT_START_OFFSET:60,SBAT_COUNT_OFFSET:64,XBAT_START_OFFSET:68,XBAT_COUNT_OFFSET:72},PROP:{NO_INDEX:-1,PROPERTY_SIZE:128,NAME_SIZE_OFFSET:64,MAX_NAME_LENGTH:64/2-1,TYPE_OFFSET:66,PREVIOUS_PROPERTY_OFFSET:68,NEXT_PROPERTY_OFFSET:72,CHILD_PROPERTY_OFFSET:76,START_BLOCK_OFFSET:116,SIZE_OFFSET:120,TYPE_ENUM:{DIRECTORY:1,DOCUMENT:2,ROOT:5}},FIELD:{PREFIX:{ATTACHMENT:"__attach_version1.0",RECIPIENT:"__recip_version1.0",DOCUMENT:"__substg1.",NAMEID:"__nameid_version1.0"},NAME_MAPPING:{"001a":"messageClass","0037":"subject","0c1a":"senderName","0c1e":"senderAddressType","0c1f":"senderEmail","5d01":"senderSmtpAddress","5d02":"sentRepresentingSmtpAddress","5d0a":"creatorSMTPAddress","5d0b":"lastModifierSMTPAddress",1e3:"body","007d":"headers",1009:"compressedRtf","3ffa":"lastModifierName","0039":"clientSubmitTime","0e06":"messageDeliveryTime","3fde":"internetCodepage","3ffd":"messageCodepage","3ff1":"messageLocaleId","0e07":"messageFlags",1035:"messageId","3fd9":"preview",3007:"creationTime",3008:"lastModificationTime",3703:"extension",3704:"fileNameShort",3707:"fileName",3712:"pidContentId","7ffe":"attachmentHidden","370e":"attachMimeTag","0c15":"recipType",3001:"name",3002:"addressType",3003:"email","39fe":"smtpAddress","3a18":"departmentName","3a44":"middleName","3a05":"generation","3a11":"surname","3a27":"addressCity","3a16":"companyName","3a24":"businessFaxNumber","3a29":"streetAddress","3a51":"businessHomePage","3a06":"givenName","3a09":"homeTelephoneNumber","3a15":"postalAddress","3a17":"title","3a1c":"mobileTelephoneNumber","3a26":"country","3a28":"stateOrProvince","3a2a":"postalCode","3a45":"displayNamePrefix","0070":"conversationTopic","0e1d":"normalizedSubject","3a08":"businessTelephoneNumber","3a0d":"location"},FULL_NAME_MAPPING:{"1013001f":"bodyHtml",10130102:"html"},PIDLID_MAPPING:{"00062008-0000-0000-c000-000000000046":{34080:{id:"PidLidVerbStream"},34084:{id:"PidLidVerbResponse",dispid:"votingResponse"},34176:{id:"PidLidInternetAccountName",dispid:"inetAcctName"}},"00062002-0000-0000-c000-000000000046":{33293:{id:"PidLidAppointmentStartWhole",dispid:"apptStartWhole"},33294:{id:"PidLidAppointmentEndWhole",dispid:"apptEndWhole"},33333:{id:"PidLidClipStart",dispid:"clipStart"},33334:{id:"PidLidClipEnd",dispid:"clipEnd"},33331:{id:"PidLidTimeZoneStruct",dispid:"timeZoneStruct"},33332:{id:"PidLidTimeZoneDescription",dispid:"timeZoneDesc"},33374:{id:"PidLidAppointmentTimeZoneDefinitionStartDisplay",dispid:"apptTZDefStartDisplay"},33375:{id:"PidLidAppointmentTimeZoneDefinitionEndDisplay",dispid:"apptTZDefEndDisplay"},33376:{id:"PidLidAppointmentTimeZoneDefinitionRecur",dispid:"apptTZDefRecur"},33302:{id:"PidLidAppointmentRecur",dispid:"apptRecur"},33288:{id:"PidLidLocation",dispid:"apptLocation"}},"00062004-0000-0000-c000-000000000046":{32812:{id:"dispidYomiFirstName",dispid:"yomiFirstName"},32899:{id:"dispidEmail1EmailAddress",dispid:"email1EmailAddress"},32814:{id:"dispidYomiCompanyName",dispid:"yomiCompanyName"},32978:{id:"PidLidFax3AddressType",dispid:"fax3AddrType"},32896:{id:"PidLidEmail1DisplayName",dispid:"email1DisplayName"},32900:{id:"PidLidEmail1OriginalDisplayName",dispid:"email1OriginalDisplayName"},32773:{id:"PidLidFileUnder",dispid:"fileUnder"},32813:{id:"PidLidYomiLastName",dispid:"yomiLastName"},32946:{id:"PidLidFax1AddressType",dispid:"fax1AddrType"},32963:{id:"PidLidFax2EmailAddress",dispid:"fax2EmailAddress"},32838:{id:"PidLidWorkAddressCity",dispid:"workAddressCity"},32989:{id:"PidLidAddressCountryCode",dispid:"addressCountryCode"},32962:{id:"PidLidFax2AddressType",dispid:"fax2AddrType"},32964:{id:"PidLidFax2OriginalDisplayName",dispid:"fax2OriginalDisplayName"},32840:{id:"PidLidWorkAddressPostalCode",dispid:"workAddressPostalCode"},32837:{id:"PidLidWorkAddressStreet",dispid:"workAddressStreet"},32839:{id:"PidLidWorkAddressState",dispid:"workAddressState"},32987:{id:"PidLidWorkAddressCountryCode",dispid:"workAddressCountryCode"},32841:{id:"PidLidWorkAddressCountry",dispid:"workAddressCountry"},32811:{id:"PidLidHtml",dispid:"contactHtml"},32795:{id:"PidLidWorkAddress",dispid:"workAddress"},32948:{id:"PidLidFax1OriginalDisplayName",dispid:"fax1OriginalDisplayName"},32866:{id:"PidLidInstantMessagingAddress",dispid:"instMsg"},32784:{id:"PidLidDepartment",dispid:"department"},32947:{id:"PidLidFax1EmailAddress",dispid:"fax1EmailAddress"},32980:{id:"PidLidFax3OriginalDisplayName",dispid:"fax3OriginalDisplayName"},32979:{id:"PidLidFax3EmailAddress",dispid:"fax3EmailAddress"}},"6ed8da90-450b-101b-98da-00aa003f1305":{3:{id:"PidLidGlobalObjectId",dispid:"globalAppointmentID"},40:{id:"PidLidOldLocation",dispid:"apptOldLocation"}}},CLASS_MAPPING:{ATTACHMENT_DATA:"3701"},TYPE_MAPPING:{"001e":"string","001f":"unicode","0040":"time","0102":"binary","0003":"integer","000b":"boolean"},DIR_TYPE:{INNER_MSG:"000d"}}}},Vr}var Qr={},$c={exports:{}};const a1={},s1=Object.freeze(Object.defineProperty({__proto__:null,default:a1},Symbol.toStringTag,{value:"Module"})),Sd=Sm(s1);var Gc,Gh;function Ji(){if(Gh)return Gc;Gh=1;var o=Sd,d=o.Buffer,l={},a;for(a in o)o.hasOwnProperty(a)&&(a==="SlowBuffer"||a==="Buffer"||(l[a]=o[a]));var r=l.Buffer={};for(a in d)d.hasOwnProperty(a)&&(a==="allocUnsafe"||a==="allocUnsafeSlow"||(r[a]=d[a]));if(l.Buffer.prototype=d.prototype,(!r.from||r.from===Uint8Array.from)&&(r.from=function(c,p,f){if(typeof c=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof c);if(c&&typeof c.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c);return d(c,p,f)}),r.alloc||(r.alloc=function(c,p,f){if(typeof c!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof c);if(c<0||c>=2*(1<<30))throw new RangeError('The value "'+c+'" is invalid for option "size"');var g=d(c);return!p||p.length===0?g.fill(0):typeof f=="string"?g.fill(p,f):g.fill(p),g}),!l.kStringMaxLength)try{l.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch{}return l.constants||(l.constants={MAX_LENGTH:l.kMaxLength},l.kStringMaxLength&&(l.constants.MAX_STRING_LENGTH=l.kStringMaxLength)),Gc=l,Gc}var Xr={},qh;function r1(){if(qh)return Xr;qh=1;var o="\uFEFF";Xr.PrependBOM=d;function d(a,r){this.encoder=a,this.addBOM=!0}d.prototype.write=function(a){return this.addBOM&&(a=o+a,this.addBOM=!1),this.encoder.write(a)},d.prototype.end=function(){return this.encoder.end()},Xr.StripBOM=l;function l(a,r){this.decoder=a,this.pass=!1,this.options=r||{}}return l.prototype.write=function(a){var r=this.decoder.write(a);return this.pass||!r||(r[0]===o&&(r=r.slice(1),typeof this.options.stripBOM=="function"&&this.options.stripBOM()),this.pass=!0),r},l.prototype.end=function(){return this.decoder.end()},Xr}var qc={},Yc,Yh;function o1(){if(Yh)return Yc;Yh=1;var o=Ji().Buffer;Yc={utf8:{type:"_internal",bomAware:!0},cesu8:{type:"_internal",bomAware:!0},unicode11utf8:"utf8",ucs2:{type:"_internal",bomAware:!0},utf16le:"ucs2",binary:{type:"_internal"},base64:{type:"_internal"},hex:{type:"_internal"},_internal:d};function d(g,h){this.enc=g.encodingName,this.bomAware=g.bomAware,this.enc==="base64"?this.encoder=c:this.enc==="cesu8"&&(this.enc="utf8",this.encoder=p,o.from("eda0bdedb2a9","hex").toString()!==""&&(this.decoder=f,this.defaultCharUnicode=h.defaultCharUnicode))}d.prototype.encoder=r,d.prototype.decoder=a;var l=Sd.StringDecoder;l.prototype.end||(l.prototype.end=function(){});function a(g,h){this.decoder=new l(h.enc)}a.prototype.write=function(g){return o.isBuffer(g)||(g=o.from(g)),this.decoder.write(g)},a.prototype.end=function(){return this.decoder.end()};function r(g,h){this.enc=h.enc}r.prototype.write=function(g){return o.from(g,this.enc)},r.prototype.end=function(){};function c(g,h){this.prevStr=""}c.prototype.write=function(g){g=this.prevStr+g;var h=g.length-g.length%4;return this.prevStr=g.slice(h),g=g.slice(0,h),o.from(g,"base64")},c.prototype.end=function(){return o.from(this.prevStr,"base64")};function p(g,h){}p.prototype.write=function(g){for(var h=o.alloc(g.length*3),y=0,v=0;v<g.length;v++){var m=g.charCodeAt(v);m<128?h[y++]=m:m<2048?(h[y++]=192+(m>>>6),h[y++]=128+(m&63)):(h[y++]=224+(m>>>12),h[y++]=128+(m>>>6&63),h[y++]=128+(m&63))}return h.slice(0,y)},p.prototype.end=function(){};function f(g,h){this.acc=0,this.contBytes=0,this.accBytes=0,this.defaultCharUnicode=h.defaultCharUnicode}return f.prototype.write=function(g){for(var h=this.acc,y=this.contBytes,v=this.accBytes,m="",b=0;b<g.length;b++){var j=g[b];(j&192)!==128?(y>0&&(m+=this.defaultCharUnicode,y=0),j<128?m+=String.fromCharCode(j):j<224?(h=j&31,y=1,v=1):j<240?(h=j&15,y=2,v=1):m+=this.defaultCharUnicode):y>0?(h=h<<6|j&63,y--,v++,y===0&&(v===2&&h<128&&h>0?m+=this.defaultCharUnicode:v===3&&h<2048?m+=this.defaultCharUnicode:m+=String.fromCharCode(h))):m+=this.defaultCharUnicode}return this.acc=h,this.contBytes=y,this.accBytes=v,m},f.prototype.end=function(){var g=0;return this.contBytes>0&&(g+=this.defaultCharUnicode),g},Yc}var Ei={},Vh;function l1(){if(Vh)return Ei;Vh=1;var o=Ji().Buffer;Ei._utf32=d;function d(h,y){this.iconv=y,this.bomAware=!0,this.isLE=h.isLE}Ei.utf32le={type:"_utf32",isLE:!0},Ei.utf32be={type:"_utf32",isLE:!1},Ei.ucs4le="utf32le",Ei.ucs4be="utf32be",d.prototype.encoder=l,d.prototype.decoder=a;function l(h,y){this.isLE=y.isLE,this.highSurrogate=0}l.prototype.write=function(h){for(var y=o.from(h,"ucs2"),v=o.alloc(y.length*2),m=this.isLE?v.writeUInt32LE:v.writeUInt32BE,b=0,j=0;j<y.length;j+=2){var E=y.readUInt16LE(j),A=55296<=E&&E<56320,N=56320<=E&&E<57344;if(this.highSurrogate)if(A||!N)m.call(v,this.highSurrogate,b),b+=4;else{var k=(this.highSurrogate-55296<<10|E-56320)+65536;m.call(v,k,b),b+=4,this.highSurrogate=0;continue}A?this.highSurrogate=E:(m.call(v,E,b),b+=4,this.highSurrogate=0)}return b<v.length&&(v=v.slice(0,b)),v},l.prototype.end=function(){if(this.highSurrogate){var h=o.alloc(4);return this.isLE?h.writeUInt32LE(this.highSurrogate,0):h.writeUInt32BE(this.highSurrogate,0),this.highSurrogate=0,h}};function a(h,y){this.isLE=y.isLE,this.badChar=y.iconv.defaultCharUnicode.charCodeAt(0),this.overflow=[]}a.prototype.write=function(h){if(h.length===0)return"";var y=0,v=0,m=o.alloc(h.length+4),b=0,j=this.isLE,E=this.overflow,A=this.badChar;if(E.length>0){for(;y<h.length&&E.length<4;y++)E.push(h[y]);E.length===4&&(j?v=E[y]|E[y+1]<<8|E[y+2]<<16|E[y+3]<<24:v=E[y+3]|E[y+2]<<8|E[y+1]<<16|E[y]<<24,E.length=0,b=r(m,b,v,A))}for(;y<h.length-3;y+=4)j?v=h[y]|h[y+1]<<8|h[y+2]<<16|h[y+3]<<24:v=h[y+3]|h[y+2]<<8|h[y+1]<<16|h[y]<<24,b=r(m,b,v,A);for(;y<h.length;y++)E.push(h[y]);return m.slice(0,b).toString("ucs2")};function r(h,y,v,m){if((v<0||v>1114111)&&(v=m),v>=65536){v-=65536;var b=55296|v>>10;h[y++]=b&255,h[y++]=b>>8;var v=56320|v&1023}return h[y++]=v&255,h[y++]=v>>8,y}a.prototype.end=function(){this.overflow.length=0},Ei.utf32=c,Ei.ucs4="utf32";function c(h,y){this.iconv=y}c.prototype.encoder=p,c.prototype.decoder=f;function p(h,y){h=h||{},h.addBOM===void 0&&(h.addBOM=!0),this.encoder=y.iconv.getEncoder(h.defaultEncoding||"utf-32le",h)}p.prototype.write=function(h){return this.encoder.write(h)},p.prototype.end=function(){return this.encoder.end()};function f(h,y){this.decoder=null,this.initialBufs=[],this.initialBufsLen=0,this.options=h||{},this.iconv=y.iconv}f.prototype.write=function(h){if(!this.decoder){if(this.initialBufs.push(h),this.initialBufsLen+=h.length,this.initialBufsLen<32)return"";var y=g(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(y,this.options);for(var v="",m=0;m<this.initialBufs.length;m++)v+=this.decoder.write(this.initialBufs[m]);return this.initialBufs.length=this.initialBufsLen=0,v}return this.decoder.write(h)},f.prototype.end=function(){if(!this.decoder){var h=g(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(h,this.options);for(var y="",v=0;v<this.initialBufs.length;v++)y+=this.decoder.write(this.initialBufs[v]);var m=this.decoder.end();return m&&(y+=m),this.initialBufs.length=this.initialBufsLen=0,y}return this.decoder.end()};function g(h,y){var v=[],m=0,b=0,j=0,E=0,A=0;e:for(var N=0;N<h.length;N++)for(var k=h[N],C=0;C<k.length;C++)if(v.push(k[C]),v.length===4){if(m===0){if(v[0]===255&&v[1]===254&&v[2]===0&&v[3]===0)return"utf-32le";if(v[0]===0&&v[1]===0&&v[2]===254&&v[3]===255)return"utf-32be"}if((v[0]!==0||v[1]>16)&&j++,(v[3]!==0||v[2]>16)&&b++,v[0]===0&&v[1]===0&&(v[2]!==0||v[3]!==0)&&A++,(v[0]!==0||v[1]!==0)&&v[2]===0&&v[3]===0&&E++,v.length=0,m++,m>=100)break e}return A-j>E-b?"utf-32be":A-j<E-b?"utf-32le":y||"utf-32le"}return Ei}var Zr={},Qh;function c1(){if(Qh)return Zr;Qh=1;var o=Ji().Buffer;Zr.utf16be=d;function d(){}d.prototype.encoder=l,d.prototype.decoder=a,d.prototype.bomAware=!0;function l(){}l.prototype.write=function(g){for(var h=o.from(g,"ucs2"),y=0;y<h.length;y+=2){var v=h[y];h[y]=h[y+1],h[y+1]=v}return h},l.prototype.end=function(){};function a(){this.overflowByte=-1}a.prototype.write=function(g){if(g.length==0)return"";var h=o.alloc(g.length+1),y=0,v=0;for(this.overflowByte!==-1&&(h[0]=g[0],h[1]=this.overflowByte,y=1,v=2);y<g.length-1;y+=2,v+=2)h[v]=g[y+1],h[v+1]=g[y];return this.overflowByte=y==g.length-1?g[g.length-1]:-1,h.slice(0,v).toString("ucs2")},a.prototype.end=function(){this.overflowByte=-1},Zr.utf16=r;function r(g,h){this.iconv=h}r.prototype.encoder=c,r.prototype.decoder=p;function c(g,h){g=g||{},g.addBOM===void 0&&(g.addBOM=!0),this.encoder=h.iconv.getEncoder("utf-16le",g)}c.prototype.write=function(g){return this.encoder.write(g)},c.prototype.end=function(){return this.encoder.end()};function p(g,h){this.decoder=null,this.initialBufs=[],this.initialBufsLen=0,this.options=g||{},this.iconv=h.iconv}p.prototype.write=function(g){if(!this.decoder){if(this.initialBufs.push(g),this.initialBufsLen+=g.length,this.initialBufsLen<16)return"";var h=f(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(h,this.options);for(var y="",v=0;v<this.initialBufs.length;v++)y+=this.decoder.write(this.initialBufs[v]);return this.initialBufs.length=this.initialBufsLen=0,y}return this.decoder.write(g)},p.prototype.end=function(){if(!this.decoder){var g=f(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(g,this.options);for(var h="",y=0;y<this.initialBufs.length;y++)h+=this.decoder.write(this.initialBufs[y]);var v=this.decoder.end();return v&&(h+=v),this.initialBufs.length=this.initialBufsLen=0,h}return this.decoder.end()};function f(g,h){var y=[],v=0,m=0,b=0;e:for(var j=0;j<g.length;j++)for(var E=g[j],A=0;A<E.length;A++)if(y.push(E[A]),y.length===2){if(v===0){if(y[0]===255&&y[1]===254)return"utf-16le";if(y[0]===254&&y[1]===255)return"utf-16be"}if(y[0]===0&&y[1]!==0&&b++,y[0]!==0&&y[1]===0&&m++,y.length=0,v++,v>=100)break e}return b>m?"utf-16be":b<m?"utf-16le":h||"utf-16le"}return Zr}var ws={},Xh;function d1(){if(Xh)return ws;Xh=1;var o=Ji().Buffer;ws.utf7=d,ws.unicode11utf7="utf7";function d(E,A){this.iconv=A}d.prototype.encoder=a,d.prototype.decoder=r,d.prototype.bomAware=!0;var l=/[^A-Za-z0-9'\(\),-\.\/:\? \n\r\t]+/g;function a(E,A){this.iconv=A.iconv}a.prototype.write=function(E){return o.from(E.replace(l,function(A){return"+"+(A==="+"?"":this.iconv.encode(A,"utf16-be").toString("base64").replace(/=+$/,""))+"-"}.bind(this)))},a.prototype.end=function(){};function r(E,A){this.iconv=A.iconv,this.inBase64=!1,this.base64Accum=""}for(var c=/[A-Za-z0-9\/+]/,p=[],f=0;f<256;f++)p[f]=c.test(String.fromCharCode(f));var g=43,h=45,y=38;r.prototype.write=function(E){for(var A="",N=0,k=this.inBase64,C=this.base64Accum,D=0;D<E.length;D++)if(!k)E[D]==g&&(A+=this.iconv.decode(E.slice(N,D),"ascii"),N=D+1,k=!0);else if(!p[E[D]]){if(D==N&&E[D]==h)A+="+";else{var w=C+this.iconv.decode(E.slice(N,D),"ascii");A+=this.iconv.decode(o.from(w,"base64"),"utf16-be")}E[D]!=h&&D--,N=D+1,k=!1,C=""}if(!k)A+=this.iconv.decode(E.slice(N),"ascii");else{var w=C+this.iconv.decode(E.slice(N),"ascii"),T=w.length-w.length%8;C=w.slice(T),w=w.slice(0,T),A+=this.iconv.decode(o.from(w,"base64"),"utf16-be")}return this.inBase64=k,this.base64Accum=C,A},r.prototype.end=function(){var E="";return this.inBase64&&this.base64Accum.length>0&&(E=this.iconv.decode(o.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",E},ws.utf7imap=v;function v(E,A){this.iconv=A}v.prototype.encoder=m,v.prototype.decoder=b,v.prototype.bomAware=!0;function m(E,A){this.iconv=A.iconv,this.inBase64=!1,this.base64Accum=o.alloc(6),this.base64AccumIdx=0}m.prototype.write=function(E){for(var A=this.inBase64,N=this.base64Accum,k=this.base64AccumIdx,C=o.alloc(E.length*5+10),D=0,w=0;w<E.length;w++){var T=E.charCodeAt(w);32<=T&&T<=126?(A&&(k>0&&(D+=C.write(N.slice(0,k).toString("base64").replace(/\//g,",").replace(/=+$/,""),D),k=0),C[D++]=h,A=!1),A||(C[D++]=T,T===y&&(C[D++]=h))):(A||(C[D++]=y,A=!0),A&&(N[k++]=T>>8,N[k++]=T&255,k==N.length&&(D+=C.write(N.toString("base64").replace(/\//g,","),D),k=0)))}return this.inBase64=A,this.base64AccumIdx=k,C.slice(0,D)},m.prototype.end=function(){var E=o.alloc(10),A=0;return this.inBase64&&(this.base64AccumIdx>0&&(A+=E.write(this.base64Accum.slice(0,this.base64AccumIdx).toString("base64").replace(/\//g,",").replace(/=+$/,""),A),this.base64AccumIdx=0),E[A++]=h,this.inBase64=!1),E.slice(0,A)};function b(E,A){this.iconv=A.iconv,this.inBase64=!1,this.base64Accum=""}var j=p.slice();return j[44]=!0,b.prototype.write=function(E){for(var A="",N=0,k=this.inBase64,C=this.base64Accum,D=0;D<E.length;D++)if(!k)E[D]==y&&(A+=this.iconv.decode(E.slice(N,D),"ascii"),N=D+1,k=!0);else if(!j[E[D]]){if(D==N&&E[D]==h)A+="&";else{var w=C+this.iconv.decode(E.slice(N,D),"ascii").replace(/,/g,"/");A+=this.iconv.decode(o.from(w,"base64"),"utf16-be")}E[D]!=h&&D--,N=D+1,k=!1,C=""}if(!k)A+=this.iconv.decode(E.slice(N),"ascii");else{var w=C+this.iconv.decode(E.slice(N),"ascii").replace(/,/g,"/"),T=w.length-w.length%8;C=w.slice(T),w=w.slice(0,T),A+=this.iconv.decode(o.from(w,"base64"),"utf16-be")}return this.inBase64=k,this.base64Accum=C,A},b.prototype.end=function(){var E="";return this.inBase64&&this.base64Accum.length>0&&(E=this.iconv.decode(o.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",E},ws}var Vc={},Zh;function u1(){if(Zh)return Vc;Zh=1;var o=Ji().Buffer;Vc._sbcs=d;function d(r,c){if(!r)throw new Error("SBCS codec is called without the data.");if(!r.chars||r.chars.length!==128&&r.chars.length!==256)throw new Error("Encoding '"+r.type+"' has incorrect 'chars' (must be of len 128 or 256)");if(r.chars.length===128){for(var p="",f=0;f<128;f++)p+=String.fromCharCode(f);r.chars=p+r.chars}this.decodeBuf=o.from(r.chars,"ucs2");for(var g=o.alloc(65536,c.defaultCharSingleByte.charCodeAt(0)),f=0;f<r.chars.length;f++)g[r.chars.charCodeAt(f)]=f;this.encodeBuf=g}d.prototype.encoder=l,d.prototype.decoder=a;function l(r,c){this.encodeBuf=c.encodeBuf}l.prototype.write=function(r){for(var c=o.alloc(r.length),p=0;p<r.length;p++)c[p]=this.encodeBuf[r.charCodeAt(p)];return c},l.prototype.end=function(){};function a(r,c){this.decodeBuf=c.decodeBuf}return a.prototype.write=function(r){for(var c=this.decodeBuf,p=o.alloc(r.length*2),f=0,g=0,h=0;h<r.length;h++)f=r[h]*2,g=h*2,p[g]=c[f],p[g+1]=c[f+1];return p.toString("ucs2")},a.prototype.end=function(){},Vc}var Qc,Kh;function p1(){return Kh||(Kh=1,Qc={10029:"maccenteuro",maccenteuro:{type:"_sbcs",chars:""},808:"cp808",ibm808:"cp808",cp808:{type:"_sbcs",chars:""},mik:{type:"_sbcs",chars:""},cp720:{type:"_sbcs",chars:""},ascii8bit:"ascii",usascii:"ascii",ansix34:"ascii",ansix341968:"ascii",ansix341986:"ascii",csascii:"ascii",cp367:"ascii",ibm367:"ascii",isoir6:"ascii",iso646us:"ascii",iso646irv:"ascii",us:"ascii",latin1:"iso88591",latin2:"iso88592",latin3:"iso88593",latin4:"iso88594",latin5:"iso88599",latin6:"iso885910",latin7:"iso885913",latin8:"iso885914",latin9:"iso885915",latin10:"iso885916",csisolatin1:"iso88591",csisolatin2:"iso88592",csisolatin3:"iso88593",csisolatin4:"iso88594",csisolatincyrillic:"iso88595",csisolatinarabic:"iso88596",csisolatingreek:"iso88597",csisolatinhebrew:"iso88598",csisolatin5:"iso88599",csisolatin6:"iso885910",l1:"iso88591",l2:"iso88592",l3:"iso88593",l4:"iso88594",l5:"iso88599",l6:"iso885910",l7:"iso885913",l8:"iso885914",l9:"iso885915",l10:"iso885916",isoir14:"iso646jp",isoir57:"iso646cn",isoir100:"iso88591",isoir101:"iso88592",isoir109:"iso88593",isoir110:"iso88594",isoir144:"iso88595",isoir127:"iso88596",isoir126:"iso88597",isoir138:"iso88598",isoir148:"iso88599",isoir157:"iso885910",isoir166:"tis620",isoir179:"iso885913",isoir199:"iso885914",isoir203:"iso885915",isoir226:"iso885916",cp819:"iso88591",ibm819:"iso88591",cyrillic:"iso88595",arabic:"iso88596",arabic8:"iso88596",ecma114:"iso88596",asmo708:"iso88596",greek:"iso88597",greek8:"iso88597",ecma118:"iso88597",elot928:"iso88597",hebrew:"iso88598",hebrew8:"iso88598",turkish:"iso88599",turkish8:"iso88599",thai:"iso885911",thai8:"iso885911",celtic:"iso885914",celtic8:"iso885914",isoceltic:"iso885914",tis6200:"tis620",tis62025291:"tis620",tis62025330:"tis620",1e4:"macroman",10006:"macgreek",10007:"maccyrillic",10079:"maciceland",10081:"macturkish",cspc8codepage437:"cp437",cspc775baltic:"cp775",cspc850multilingual:"cp850",cspcp852:"cp852",cspc862latinhebrew:"cp862",cpgr:"cp869",msee:"cp1250",mscyrl:"cp1251",msansi:"cp1252",msgreek:"cp1253",msturk:"cp1254",mshebr:"cp1255",msarab:"cp1256",winbaltrim:"cp1257",cp20866:"koi8r",20866:"koi8r",ibm878:"koi8r",cskoi8r:"koi8r",cp21866:"koi8u",21866:"koi8u",ibm1168:"koi8u",strk10482002:"rk1048",tcvn5712:"tcvn",tcvn57121:"tcvn",gb198880:"iso646cn",cn:"iso646cn",csiso14jisc6220ro:"iso646jp",jisc62201969ro:"iso646jp",jp:"iso646jp",cshproman8:"hproman8",r8:"hproman8",roman8:"hproman8",xroman8:"hproman8",ibm1051:"hproman8",mac:"macintosh",csmacintosh:"macintosh"}),Qc}var Xc,Jh;function f1(){return Jh||(Jh=1,Xc={437:"cp437",737:"cp737",775:"cp775",850:"cp850",852:"cp852",855:"cp855",856:"cp856",857:"cp857",858:"cp858",860:"cp860",861:"cp861",862:"cp862",863:"cp863",864:"cp864",865:"cp865",866:"cp866",869:"cp869",874:"windows874",922:"cp922",1046:"cp1046",1124:"cp1124",1125:"cp1125",1129:"cp1129",1133:"cp1133",1161:"cp1161",1162:"cp1162",1163:"cp1163",1250:"windows1250",1251:"windows1251",1252:"windows1252",1253:"windows1253",1254:"windows1254",1255:"windows1255",1256:"windows1256",1257:"windows1257",1258:"windows1258",28591:"iso88591",28592:"iso88592",28593:"iso88593",28594:"iso88594",28595:"iso88595",28596:"iso88596",28597:"iso88597",28598:"iso88598",28599:"iso88599",28600:"iso885910",28601:"iso885911",28603:"iso885913",28604:"iso885914",28605:"iso885915",28606:"iso885916",windows874:{type:"_sbcs",chars:""},win874:"windows874",cp874:"windows874",windows1250:{type:"_sbcs",chars:""},win1250:"windows1250",cp1250:"windows1250",windows1251:{type:"_sbcs",chars:""},win1251:"windows1251",cp1251:"windows1251",windows1252:{type:"_sbcs",chars:""},win1252:"windows1252",cp1252:"windows1252",windows1253:{type:"_sbcs",chars:""},win1253:"windows1253",cp1253:"windows1253",windows1254:{type:"_sbcs",chars:""},win1254:"windows1254",cp1254:"windows1254",windows1255:{type:"_sbcs",chars:""},win1255:"windows1255",cp1255:"windows1255",windows1256:{type:"_sbcs",chars:""},win1256:"windows1256",cp1256:"windows1256",windows1257:{type:"_sbcs",chars:""},win1257:"windows1257",cp1257:"windows1257",windows1258:{type:"_sbcs",chars:""},win1258:"windows1258",cp1258:"windows1258",iso88591:{type:"_sbcs",chars:""},cp28591:"iso88591",iso88592:{type:"_sbcs",chars:""},cp28592:"iso88592",iso88593:{type:"_sbcs",chars:""},cp28593:"iso88593",iso88594:{type:"_sbcs",chars:""},cp28594:"iso88594",iso88595:{type:"_sbcs",chars:""},cp28595:"iso88595",iso88596:{type:"_sbcs",chars:""},cp28596:"iso88596",iso88597:{type:"_sbcs",chars:""},cp28597:"iso88597",iso88598:{type:"_sbcs",chars:""},cp28598:"iso88598",iso88599:{type:"_sbcs",chars:""},cp28599:"iso88599",iso885910:{type:"_sbcs",chars:""},cp28600:"iso885910",iso885911:{type:"_sbcs",chars:""},cp28601:"iso885911",iso885913:{type:"_sbcs",chars:""},cp28603:"iso885913",iso885914:{type:"_sbcs",chars:""},cp28604:"iso885914",iso885915:{type:"_sbcs",chars:""},cp28605:"iso885915",iso885916:{type:"_sbcs",chars:""},cp28606:"iso885916",cp437:{type:"_sbcs",chars:""},ibm437:"cp437",csibm437:"cp437",cp737:{type:"_sbcs",chars:""},ibm737:"cp737",csibm737:"cp737",cp775:{type:"_sbcs",chars:""},ibm775:"cp775",csibm775:"cp775",cp850:{type:"_sbcs",chars:""},ibm850:"cp850",csibm850:"cp850",cp852:{type:"_sbcs",chars:""},ibm852:"cp852",csibm852:"cp852",cp855:{type:"_sbcs",chars:""},ibm855:"cp855",csibm855:"cp855",cp856:{type:"_sbcs",chars:""},ibm856:"cp856",csibm856:"cp856",cp857:{type:"_sbcs",chars:""},ibm857:"cp857",csibm857:"cp857",cp858:{type:"_sbcs",chars:""},ibm858:"cp858",csibm858:"cp858",cp860:{type:"_sbcs",chars:""},ibm860:"cp860",csibm860:"cp860",cp861:{type:"_sbcs",chars:""},ibm861:"cp861",csibm861:"cp861",cp862:{type:"_sbcs",chars:""},ibm862:"cp862",csibm862:"cp862",cp863:{type:"_sbcs",chars:""},ibm863:"cp863",csibm863:"cp863",cp864:{type:"_sbcs",chars:`\0\x07\b	
\v\f\r\x1B !"#$&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`},ibm864:"cp864",csibm864:"cp864",cp865:{type:"_sbcs",chars:""},ibm865:"cp865",csibm865:"cp865",cp866:{type:"_sbcs",chars:""},ibm866:"cp866",csibm866:"cp866",cp869:{type:"_sbcs",chars:""},ibm869:"cp869",csibm869:"cp869",cp922:{type:"_sbcs",chars:""},ibm922:"cp922",csibm922:"cp922",cp1046:{type:"_sbcs",chars:""},ibm1046:"cp1046",csibm1046:"cp1046",cp1124:{type:"_sbcs",chars:""},ibm1124:"cp1124",csibm1124:"cp1124",cp1125:{type:"_sbcs",chars:""},ibm1125:"cp1125",csibm1125:"cp1125",cp1129:{type:"_sbcs",chars:""},ibm1129:"cp1129",csibm1129:"cp1129",cp1133:{type:"_sbcs",chars:""},ibm1133:"cp1133",csibm1133:"cp1133",cp1161:{type:"_sbcs",chars:""},ibm1161:"cp1161",csibm1161:"cp1161",cp1162:{type:"_sbcs",chars:""},ibm1162:"cp1162",csibm1162:"cp1162",cp1163:{type:"_sbcs",chars:""},ibm1163:"cp1163",csibm1163:"cp1163",maccroatian:{type:"_sbcs",chars:""},maccyrillic:{type:"_sbcs",chars:""},macgreek:{type:"_sbcs",chars:""},maciceland:{type:"_sbcs",chars:""},macroman:{type:"_sbcs",chars:""},macromania:{type:"_sbcs",chars:""},macthai:{type:"_sbcs",chars:"\uFEFF"},macturkish:{type:"_sbcs",chars:""},macukraine:{type:"_sbcs",chars:""},koi8r:{type:"_sbcs",chars:""},koi8u:{type:"_sbcs",chars:""},koi8ru:{type:"_sbcs",chars:""},koi8t:{type:"_sbcs",chars:""},armscii8:{type:"_sbcs",chars:")(.,-"},rk1048:{type:"_sbcs",chars:""},tcvn:{type:"_sbcs",chars:`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`},georgianacademy:{type:"_sbcs",chars:""},georgianps:{type:"_sbcs",chars:""},pt154:{type:"_sbcs",chars:""},viscii:{type:"_sbcs",chars:`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}~`},iso646cn:{type:"_sbcs",chars:`\0\x07\b	
\v\f\r\x1B !"#%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_\`abcdefghijklmnopqrstuvwxyz{|}`},iso646jp:{type:"_sbcs",chars:`\0\x07\b	
\v\f\r\x1B !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_\`abcdefghijklmnopqrstuvwxyz{|}`},hproman8:{type:"_sbcs",chars:""},macintosh:{type:"_sbcs",chars:""},ascii:{type:"_sbcs",chars:""},tis620:{type:"_sbcs",chars:""}}),Xc}var Zc={},ex;function h1(){if(ex)return Zc;ex=1;var o=Ji().Buffer;Zc._dbcs=g;for(var d=-1,l=-2,a=-10,r=-1e3,c=new Array(256),p=-1,f=0;f<256;f++)c[f]=d;function g(m,b){if(this.encodingName=m.encodingName,!m)throw new Error("DBCS codec is called without the data.");if(!m.table)throw new Error("Encoding '"+this.encodingName+"' has no data.");var j=m.table();this.decodeTables=[],this.decodeTables[0]=c.slice(0),this.decodeTableSeq=[];for(var E=0;E<j.length;E++)this._addDecodeChunk(j[E]);if(typeof m.gb18030=="function"){this.gb18030=m.gb18030();var A=this.decodeTables.length;this.decodeTables.push(c.slice(0));var N=this.decodeTables.length;this.decodeTables.push(c.slice(0));for(var k=this.decodeTables[0],E=129;E<=254;E++)for(var C=this.decodeTables[r-k[E]],D=48;D<=57;D++){if(C[D]===d)C[D]=r-A;else if(C[D]>r)throw new Error("gb18030 decode tables conflict at byte 2");for(var w=this.decodeTables[r-C[D]],T=129;T<=254;T++){if(w[T]===d)w[T]=r-N;else{if(w[T]===r-N)continue;if(w[T]>r)throw new Error("gb18030 decode tables conflict at byte 3")}for(var _=this.decodeTables[r-w[T]],L=48;L<=57;L++)_[L]===d&&(_[L]=l)}}}this.defaultCharUnicode=b.defaultCharUnicode,this.encodeTable=[],this.encodeTableSeq=[];var B={};if(m.encodeSkipVals)for(var E=0;E<m.encodeSkipVals.length;E++){var O=m.encodeSkipVals[E];if(typeof O=="number")B[O]=!0;else for(var D=O.from;D<=O.to;D++)B[D]=!0}if(this._fillEncodeTable(0,0,B),m.encodeAdd)for(var G in m.encodeAdd)Object.prototype.hasOwnProperty.call(m.encodeAdd,G)&&this._setEncodeChar(G.charCodeAt(0),m.encodeAdd[G]);this.defCharSB=this.encodeTable[0][b.defaultCharSingleByte.charCodeAt(0)],this.defCharSB===d&&(this.defCharSB=this.encodeTable[0]["?"]),this.defCharSB===d&&(this.defCharSB=63)}g.prototype.encoder=h,g.prototype.decoder=y,g.prototype._getDecodeTrieNode=function(m){for(var b=[];m>0;m>>>=8)b.push(m&255);b.length==0&&b.push(0);for(var j=this.decodeTables[0],E=b.length-1;E>0;E--){var A=j[b[E]];if(A==d)j[b[E]]=r-this.decodeTables.length,this.decodeTables.push(j=c.slice(0));else if(A<=r)j=this.decodeTables[r-A];else throw new Error("Overwrite byte in "+this.encodingName+", addr: "+m.toString(16))}return j},g.prototype._addDecodeChunk=function(m){var b=parseInt(m[0],16),j=this._getDecodeTrieNode(b);b=b&255;for(var E=1;E<m.length;E++){var A=m[E];if(typeof A=="string")for(var N=0;N<A.length;){var k=A.charCodeAt(N++);if(55296<=k&&k<56320){var C=A.charCodeAt(N++);if(56320<=C&&C<57344)j[b++]=65536+(k-55296)*1024+(C-56320);else throw new Error("Incorrect surrogate pair in "+this.encodingName+" at chunk "+m[0])}else if(4080<k&&k<=4095){for(var D=4095-k+2,w=[],T=0;T<D;T++)w.push(A.charCodeAt(N++));j[b++]=a-this.decodeTableSeq.length,this.decodeTableSeq.push(w)}else j[b++]=k}else if(typeof A=="number")for(var _=j[b-1]+1,N=0;N<A;N++)j[b++]=_++;else throw new Error("Incorrect type '"+typeof A+"' given in "+this.encodingName+" at chunk "+m[0])}if(b>255)throw new Error("Incorrect chunk in "+this.encodingName+" at addr "+m[0]+": too long"+b)},g.prototype._getEncodeBucket=function(m){var b=m>>8;return this.encodeTable[b]===void 0&&(this.encodeTable[b]=c.slice(0)),this.encodeTable[b]},g.prototype._setEncodeChar=function(m,b){var j=this._getEncodeBucket(m),E=m&255;j[E]<=a?this.encodeTableSeq[a-j[E]][p]=b:j[E]==d&&(j[E]=b)},g.prototype._setEncodeSequence=function(m,b){var j=m[0],E=this._getEncodeBucket(j),A=j&255,N;E[A]<=a?N=this.encodeTableSeq[a-E[A]]:(N={},E[A]!==d&&(N[p]=E[A]),E[A]=a-this.encodeTableSeq.length,this.encodeTableSeq.push(N));for(var k=1;k<m.length-1;k++){var C=N[j];typeof C=="object"?N=C:(N=N[j]={},C!==void 0&&(N[p]=C))}j=m[m.length-1],N[j]=b},g.prototype._fillEncodeTable=function(m,b,j){for(var E=this.decodeTables[m],A=!1,N={},k=0;k<256;k++){var C=E[k],D=b+k;if(!j[D])if(C>=0)this._setEncodeChar(C,D),A=!0;else if(C<=r){var w=r-C;if(!N[w]){var T=D<<8>>>0;this._fillEncodeTable(w,T,j)?A=!0:N[w]=!0}}else C<=a&&(this._setEncodeSequence(this.decodeTableSeq[a-C],D),A=!0)}return A};function h(m,b){this.leadSurrogate=-1,this.seqObj=void 0,this.encodeTable=b.encodeTable,this.encodeTableSeq=b.encodeTableSeq,this.defaultCharSingleByte=b.defCharSB,this.gb18030=b.gb18030}h.prototype.write=function(m){for(var b=o.alloc(m.length*(this.gb18030?4:3)),j=this.leadSurrogate,E=this.seqObj,A=-1,N=0,k=0;;){if(A===-1){if(N==m.length)break;var C=m.charCodeAt(N++)}else{var C=A;A=-1}if(55296<=C&&C<57344)if(C<56320)if(j===-1){j=C;continue}else j=C,C=d;else j!==-1?(C=65536+(j-55296)*1024+(C-56320),j=-1):C=d;else j!==-1&&(A=C,C=d,j=-1);var D=d;if(E!==void 0&&C!=d){var w=E[C];if(typeof w=="object"){E=w;continue}else typeof w=="number"?D=w:w==null&&(w=E[p],w!==void 0&&(D=w,A=C));E=void 0}else if(C>=0){var T=this.encodeTable[C>>8];if(T!==void 0&&(D=T[C&255]),D<=a){E=this.encodeTableSeq[a-D];continue}if(D==d&&this.gb18030){var _=v(this.gb18030.uChars,C);if(_!=-1){var D=this.gb18030.gbChars[_]+(C-this.gb18030.uChars[_]);b[k++]=129+Math.floor(D/12600),D=D%12600,b[k++]=48+Math.floor(D/1260),D=D%1260,b[k++]=129+Math.floor(D/10),D=D%10,b[k++]=48+D;continue}}}D===d&&(D=this.defaultCharSingleByte),D<256?b[k++]=D:D<65536?(b[k++]=D>>8,b[k++]=D&255):D<16777216?(b[k++]=D>>16,b[k++]=D>>8&255,b[k++]=D&255):(b[k++]=D>>>24,b[k++]=D>>>16&255,b[k++]=D>>>8&255,b[k++]=D&255)}return this.seqObj=E,this.leadSurrogate=j,b.slice(0,k)},h.prototype.end=function(){if(!(this.leadSurrogate===-1&&this.seqObj===void 0)){var m=o.alloc(10),b=0;if(this.seqObj){var j=this.seqObj[p];j!==void 0&&(j<256?m[b++]=j:(m[b++]=j>>8,m[b++]=j&255)),this.seqObj=void 0}return this.leadSurrogate!==-1&&(m[b++]=this.defaultCharSingleByte,this.leadSurrogate=-1),m.slice(0,b)}},h.prototype.findIdx=v;function y(m,b){this.nodeIdx=0,this.prevBytes=[],this.decodeTables=b.decodeTables,this.decodeTableSeq=b.decodeTableSeq,this.defaultCharUnicode=b.defaultCharUnicode,this.gb18030=b.gb18030}y.prototype.write=function(m){for(var b=o.alloc(m.length*2),j=this.nodeIdx,E=this.prevBytes,A=this.prevBytes.length,N=-this.prevBytes.length,k,C=0,D=0;C<m.length;C++){var w=C>=0?m[C]:E[C+A],k=this.decodeTables[j][w];if(!(k>=0))if(k===d)k=this.defaultCharUnicode.charCodeAt(0),C=N;else if(k===l){if(C>=3)var T=(m[C-3]-129)*12600+(m[C-2]-48)*1260+(m[C-1]-129)*10+(w-48);else var T=(E[C-3+A]-129)*12600+((C-2>=0?m[C-2]:E[C-2+A])-48)*1260+((C-1>=0?m[C-1]:E[C-1+A])-129)*10+(w-48);var _=v(this.gb18030.gbChars,T);k=this.gb18030.uChars[_]+T-this.gb18030.gbChars[_]}else if(k<=r){j=r-k;continue}else if(k<=a){for(var L=this.decodeTableSeq[a-k],B=0;B<L.length-1;B++)k=L[B],b[D++]=k&255,b[D++]=k>>8;k=L[L.length-1]}else throw new Error("iconv-lite internal error: invalid decoding table value "+k+" at "+j+"/"+w);if(k>=65536){k-=65536;var O=55296|k>>10;b[D++]=O&255,b[D++]=O>>8,k=56320|k&1023}b[D++]=k&255,b[D++]=k>>8,j=0,N=C+1}return this.nodeIdx=j,this.prevBytes=N>=0?Array.prototype.slice.call(m,N):E.slice(N+A).concat(Array.prototype.slice.call(m)),b.slice(0,D).toString("ucs2")},y.prototype.end=function(){for(var m="";this.prevBytes.length>0;){m+=this.defaultCharUnicode;var b=this.prevBytes.slice(1);this.prevBytes=[],this.nodeIdx=0,b.length>0&&(m+=this.write(b))}return this.prevBytes=[],this.nodeIdx=0,m};function v(m,b){if(m[0]>b)return-1;for(var j=0,E=m.length;j<E-1;){var A=j+(E-j+1>>1);m[A]<=b?j=A:E=A}return j}return Zc}const x1=[["0","\0",128],["a1","",62],["8140","",9,""],["8180",""],["81b8",""],["81c8",""],["81da",""],["81f0",""],["81fc",""],["824f","",9],["8260","",25],["8281","",25],["829f","",82],["8340","",62],["8380","",22],["839f","",16,"",6],["83bf","",16,"",6],["8440","",5,"",25],["8470","",5,"",7],["8480","",17],["849f",""],["8740","",19,"",9],["875f",""],["877e",""],["8780","",4,""],["889f",""],["8940",""],["8980",""],["8a40",""],["8a80",""],["8b40",""],["8b80",""],["8c40",""],["8c80",""],["8d40",""],["8d80",""],["8e40",""],["8e80",""],["8f40",""],["8f80",""],["9040",""],["9080",""],["9140",""],["9180",""],["9240",""],["9280",""],["9340",""],["9380",""],["9440",""],["9480",""],["9540",""],["9580",""],["9640",""],["9680",""],["9740",""],["9780",""],["9840",""],["989f",""],["9940",""],["9980",""],["9a40",""],["9a80",""],["9b40",""],["9b80",""],["9c40",""],["9c80",""],["9d40",""],["9d80",""],["9e40",""],["9e80",""],["9f40",""],["9f80",""],["e040",""],["e080",""],["e140",""],["e180",""],["e240",""],["e280",""],["e340",""],["e380",""],["e440",""],["e480",""],["e540",""],["e580",""],["e640",""],["e680",""],["e740",""],["e780",""],["e840",""],["e880",""],["e940",""],["e980",""],["ea40",""],["ea80",""],["ed40",""],["ed80",""],["ee40",""],["ee80",""],["eeef","",9,""],["f040","",62],["f080","",124],["f140","",62],["f180","",124],["f240","",62],["f280","",124],["f340","",62],["f380","",124],["f440","",62],["f480","",124],["f540","",62],["f580","",124],["f640","",62],["f680","",124],["f740","",62],["f780","",124],["f840","",62],["f880","",124],["f940",""],["fa40","",9,"",9,""],["fa80",""],["fb40",""],["fb80",""],["fc40",""]],g1=JSON.parse('[["0","\\u0000",127],["8ea1","",62],["a1a1","",9,""],["a2a1",""],["a2ba",""],["a2ca",""],["a2dc",""],["a2f2",""],["a2fe",""],["a3b0","",9],["a3c1","",25],["a3e1","",25],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a7a1","",5,"",25],["a7d1","",5,"",25],["a8a1",""],["ada1","",19,"",9],["adc0",""],["addf","",4,""],["b0a1",""],["b1a1",""],["b2a1",""],["b3a1",""],["b4a1",""],["b5a1",""],["b6a1",""],["b7a1",""],["b8a1",""],["b9a1",""],["baa1",""],["bba1",""],["bca1",""],["bda1",""],["bea1",""],["bfa1",""],["c0a1",""],["c1a1",""],["c2a1",""],["c3a1",""],["c4a1",""],["c5a1",""],["c6a1",""],["c7a1",""],["c8a1",""],["c9a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1",""],["d2a1",""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fcf1","",9,""],["8fa2af",""],["8fa2c2",""],["8fa2eb",""],["8fa6e1",""],["8fa6e7",""],["8fa6e9",""],["8fa6ec",""],["8fa6f1",""],["8fa7c2","",10,""],["8fa7f2","",10,""],["8fa9a1",""],["8fa9a4",""],["8fa9a6",""],["8fa9a8",""],["8fa9ab",""],["8fa9af",""],["8fa9c1",""],["8faaa1",""],["8faaba",""],["8faba1",""],["8fabbd",""],["8fabc5",""],["8fb0a1",""],["8fb1a1",""],["8fb2a1","",4,""],["8fb3a1",""],["8fb4a1",""],["8fb5a1",""],["8fb6a1","",5,"",4,""],["8fb7a1","",4,""],["8fb8a1",""],["8fb9a1",""],["8fbaa1","",4,""],["8fbba1",""],["8fbca1","",4,""],["8fbda1","",4,""],["8fbea1","",4,""],["8fbfa1",""],["8fc0a1",""],["8fc1a1",""],["8fc2a1",""],["8fc3a1","",4,""],["8fc4a1",""],["8fc5a1",""],["8fc6a1",""],["8fc7a1",""],["8fc8a1",""],["8fc9a1","",4,"",4,""],["8fcaa1",""],["8fcba1",""],["8fcca1","",9,""],["8fcda1","",5,""],["8fcea1","",6,""],["8fcfa1",""],["8fd0a1",""],["8fd1a1",""],["8fd2a1","",5],["8fd3a1",""],["8fd4a1","",4,""],["8fd5a1",""],["8fd6a1",""],["8fd7a1",""],["8fd8a1",""],["8fd9a1","",4,"",6,""],["8fdaa1","",4,""],["8fdba1","",6,""],["8fdca1","",4,""],["8fdda1","",4,""],["8fdea1","",4,""],["8fdfa1",""],["8fe0a1",""],["8fe1a1","",4,""],["8fe2a1",""],["8fe3a1","",5,"",4,""],["8fe4a1","",4,""],["8fe5a1","",4,""],["8fe6a1",""],["8fe7a1",""],["8fe8a1","",4,""],["8fe9a1","",4],["8feaa1","",4,""],["8feba1","",4,""],["8feca1",""],["8feda1","",4,"",4,""]]'),Kc=JSON.parse('[["0","\\u0000",127,""],["8140","",5,"",9,"",6,""],["8180","",6,"",4,"",4,"",5,""],["8240","",4,"",8,"",4,"",11],["8280","",10,"",4,"",7,"",5,"",8,"",20,"",4,"",6,""],["8340","",17,"",5,"",10,"",4,"",9,""],["8380","",5,"",13,"",28,"",4,"",4,"",5],["8440","",5,"",5,""],["8480","",9,"",4,"",6,"",6,"",9,"",5,"",10,"",7,""],["8540","",9,""],["8580","",4,"",6,"",4,"",4,"",7,""],["8640","",4,"",5,"",4,"",5,""],["8680","",4,"",4,"",5,"",6,"",8,"",4,"",4,"",4,""],["8740","",7,"",11,"",4,"",4],["8780","",7,"",6,"",14,"",10,"",6,"",12,"",8,"",5,"",6],["8840","",9,"",4,"",4,""],["8880","",4,"",6,"",8,"",6,"",7,"",4,"",4,"",7],["8940","",5,"",6,"",4,"",5,"",4,"",16,""],["8980","",4,"",4,"",7,"",17,"",10,"",13,"",5,"",7,"",4,""],["8a40","",4,"",12,""],["8a80","",5,"",6,"",4,"",11,"",6,"",4,"",4,"",9,"",5],["8b40","",8,"",17,"",6,"",13,""],["8b80","",4,"",4,"",5,"",4,"",4,"",22,"",11,"",25,"",7,"",6],["8c40","",7,""],["8c80","",8,"",4,"",6,"",6,"",6,"",4,"",4,"",4],["8d40","",5,"",5,"",5,"",6,"",9,"",4],["8d80","",5,"",4,"",4,"",4,"",7,"",7,"",10,"",10,"",12,"",21,""],["8e40","",21,"",12,"",6,"",12,""],["8e80","",4,"",7,"",4,"",4,"",5,"",6,"",4,"",14,"",4,"",4,"",6],["8f40","",5,"",11,"",8,""],["8f80","",6,"",14,"",5,"",5,"",4,""],["9040","",4,"",4,"",6,""],["9080","",7,"",4,"",4,"",4,"",4,"",18,"",6],["9140","",6,"",6,"",18,"",4,""],["9180","",6,"",8,"",9,"",5,"",4,"",4,"",16,"",13,"",8,"",5,"",4,""],["9240","",6,"",5,""],["9280","",5,"",7,"",6,""],["9340","",6,"",4,"",4,"",5,""],["9380","",5,"",4,"",6,"",4,"",7,"",9,"",6,"",8,"",4,"",6,""],["9440","",24,"",7,"",7,"",4,"",8],["9480","",4,"",4,"",14,"",7,"",7,""],["9540","",4,"",4,"",6,""],["9580","",4,"",4,"",8,"",4,"",4,"",25,"",7,"",5,""],["9640","",5,"",4,""],["9680","",7,"",9,"",7,"",4,"",6,"",6,"",5],["9740","",7,"",8,"",7,"",9,""],["9780","",6,"",5,"",4,"",9,"",4,"",11,"",7,"",16,""],["9840","",4,"",5,"",9,""],["9880","",7,"",5,"",11,"",9,"",9,"",11,"",5,"",5,"",6,"",4,"",7,"",6,""],["9940","",4,"",10,"",6,"",8,"",4,"",7,"",5],["9980","",114,"",6],["9a40","",11,"",7,"",13,""],["9a80","",4,"",7,"",7,"",6,"",4,"",4,"",7,"",6,"",4,"",4,""],["9b40","",4,""],["9b80","",5,"",4,"",4,"",5,""],["9c40","",7,""],["9c80","",7,"",7,"",10,"",14,"",4,"",6,"",5],["9d40","",7,"",4,"",9,"",6,""],["9d80","",9,"",5,"",6,"",12,"",4,"",10,"",5,"",5,"",6,"",10,""],["9e40","",7,"",32,"",7,"",6,"",6],["9e80","",9,"",17,"",13,"",11,"",12,"",12,""],["9f40","",6,"",10,"",4,"",10,"",7,""],["9f80","",13,"",12,"",4,"",4,"",5,"",4,"",4,"",6,"",5,"",8,"",9,"",4],["a040","",9,"",5,"",9,"",11,"",19],["a080","",9,"",6,"",4,"",11,"",11,"",6,""],["a1a1","",7,""],["a2a1","",9],["a2b1","",19,"",19,"",9],["a2e5","",9],["a2f1","",11],["a3a1","",88,""],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a6e0",""],["a6ee",""],["a6f4",""],["a7a1","",5,"",25],["a7d1","",5,"",25],["a840","",35,"",6],["a880","",7,""],["a8a1",""],["a8bd",""],["a8c0",""],["a8c5","",36],["a940","",8,""],["a959",""],["a95c",""],["a960","",9,"",8],["a980","",4,""],["a996",""],["a9a4","",75],["aa40","",5,"",5,"",8],["aa80","",7,"",10,""],["ab40","",11,"",4,"",5,"",4],["ab80","",6,"",4],["ac40","",10,"",8,"",5,"",4,"",11],["ac80","",6,"",12,"",4,""],["ad40","",10,"",7,"",15,"",12],["ad80","",9,"",8,"",6,""],["ae40","",6,"",7,"",4,""],["ae80","",7,"",6,"",4,""],["af40","",4,""],["af80",""],["b040","",6,"",5,"",4,"",6,"",7,""],["b080","",7,"",8,"",9,""],["b140","",4,"",7,"",10,""],["b180","",4,"",7,"",7,""],["b240","",11,"",5,"",11,"",4],["b280","",12,"",8,"",4,""],["b340","",5,""],["b380","",11,"",7,"",6,""],["b440","",7,"",9],["b480","",4,"",5,"",6,""],["b540","",5,"",9,"",4,"",14,"",4,"",8,""],["b580","",6,"",4,""],["b640","",6,"",11,"",10,"",4,"",5,""],["b680","",6,"",4,""],["b740","",14,"",5,"",9,"",4,"",16],["b780","",6,""],["b840","",4,"",10,"",10,"",9,"",5,""],["b880","",4,""],["b940","",5,"",10,"",6,""],["b980","",7,""],["ba40","",4,"",4,"",7,"",5,""],["ba80","",4,"",5,"",12,"",5,""],["bb40","",9,"",36,"",5,"",9],["bb80","",6,"",4,""],["bc40","",6,"",6,"",5,"",7,"",13,"",5],["bc80","",14,"",6,""],["bd40","",54,"",7],["bd80","",32,""],["be40","",12,"",6,"",42],["be80","",32,""],["bf40","",62],["bf80","",4,"",4,"",21,""],["c040","",35,"",23,""],["c080","",6,"",9,""],["c140","",4,"",7,"",4,"",4,"",6,""],["c180","",4,"",4,"",5,""],["c240","",6,"",5,""],["c280","",13,"",5,"",11,""],["c340","",5,"",4,"",6,""],["c380","",12,"",4,""],["c440","",5,"",4,"",4,"",5,"",4,""],["c480","",7,"",5,"",6,""],["c540","",14,"",4,"",5,"",4,"",5,""],["c580","",7,"",7,""],["c640",""],["c680","",4,"",9,""],["c740","",4,"",4,"",6,"",6,"",6,""],["c780",""],["c840","",4,"",5,"",5,"",7,"",5,"",7,""],["c880","",6,"",4,"",4,""],["c940","",4,"",7,"",12,""],["c980","",4,"",4,"",10,""],["ca40","",8,"",8,"",9,"",4,"",10],["ca80","",4,"",8,""],["cb40","",6,"",10,"",6,"",5,"",6,"",6,"",4,""],["cb80","",5,"",6,"",14,""],["cc40","",4,"",10,"",15,"",13,""],["cc80","",11,"",4,"",7,""],["cd40","",6,"",6,"",4,"",5,"",4,"",4,""],["cd80",""],["ce40","",6,"",5,"",7,""],["ce80","",4,"",6,"",4,""],["cf40","",4,"",4,"",6,"",9],["cf80","",5,"",7,"",4,""],["d040","",13,"",5,"",5,"",5,"",6,""],["d080","",4,"",4,"",5,""],["d140","",4,"",4,"",6,"",5],["d180","",4,"",4,"",4,""],["d240","",8,"",24,"",5,"",19,""],["d280","",26,""],["d340","",30,"",6],["d380","",4,"",5,"",21,""],["d440","",31,"",8,"",21],["d480","",25,"",6,""],["d540","",7,"",7,"",46],["d580","",32,""],["d640","",34,"",27],["d680","",30,""],["d740","",31,"",4,"",25],["d780","",24,""],["d840","",8,"",7,"",5,"",6,"",6,"",6,""],["d880","",6,"",20,""],["d940","",62],["d980","",32,""],["da40","",14,"",8,"",4,"",9,""],["da80","",12,""],["db40","",6,"",7,"",4,""],["db80","",4,"",5,"",11,""],["dc40","",4,"",6,"",6,"",11,"",6,"",7],["dc80","",10,"",21,""],["dd40","",62],["dd80","",32,""],["de40","",32,""],["de80","",4,""],["df40","",5,"",4,"",4,"",5,"",4,"",6,""],["df80","",4,""],["e040","",19,""],["e080","",10,"",6,"",8,""],["e140","",4,"",6,"",5,"",5,""],["e180","",10,"",9,"",8,""],["e240","",62],["e280","",32,"",5,""],["e340","",45,"",16],["e380","",7,"",24,""],["e440","",5,"",24,"",31],["e480","",32,""],["e540","",51,"",10],["e580","",31,""],["e640","",34,"",27],["e680","",29,""],["e740","",7,"",54],["e780","",32,"",6,"",4,""],["e840","",14,"",43,""],["e880","",20,""],["e940","",7,"",42],["e980","",32,""],["ea40","",27,"",6,""],["ea80","",4,"",12,""],["eb40","",9,"",7,"",9,"",6,""],["eb80","",4,""],["ec40","",8,"",4,"",18,"",7],["ec80","",4,"",7,"",4,"",4,""],["ed40","",6,"",46],["ed80","",4,"",23,""],["ee40","",62],["ee80","",32,"",4,"",6,""],["ef40","",5,"",37,"",4],["ef80","",30,"",4,"",8,""],["f040","",4,"",28,"",26],["f080","",9,"",12,"",4,"",6,""],["f140","",10,"",47],["f180","",32,""],["f240","",62],["f280","",32,""],["f340","",17,"",6,"",4,""],["f380","",8,"",6,""],["f440","",5,"",10,"",10,"",7,"",5],["f480","",32,""],["f540","",62],["f580","",32,""],["f640","",62],["f680","",32,"",5,"",5,"",4,"",7,""],["f740","",62],["f780","",4,"",4,""],["f840","",62],["f880","",32],["f940","",62],["f980","",32],["fa40","",62],["fa80","",32],["fb40","",27,"",9,""],["fb80","",5,"",8,"",5,""],["fc40","",8,"",4,"",8,"",6],["fc80","",4,"",5,"",8,""],["fd40","",4,"",4,"",10,"",38],["fd80","",5,"",11,"",4,""],["fe40",""]]'),tx=[["a140","",62],["a180","",32],["a240","",62],["a280","",32],["a2ab","",5],["a2e3",""],["a2ef",""],["a2fd",""],["a340","",62],["a380","",31,""],["a440","",62],["a480","",32],["a4f4","",10],["a540","",62],["a580","",32],["a5f7","",7],["a640","",62],["a680","",32],["a6b9","",7],["a6d9","",6],["a6ec",""],["a6f3",""],["a6f6","",8],["a740","",62],["a780","",32],["a7c2","",14],["a7f2","",12],["a896","",10],["a8bc",""],["a8bf",""],["a8c1",""],["a8ea","",20],["a958",""],["a95b",""],["a95d",""],["a989","",11],["a997","",12],["a9f0","",14],["aaa1","",93],["aba1","",93],["aca1","",93],["ada1","",93],["aea1","",93],["afa1","",93],["d7fa","",4],["f8a1","",93],["f9a1","",93],["faa1","",93],["fba1","",93],["fca1","",93],["fda1","",93],["fe50",""],["fe80","",6,"",93],["8135f437",""]],m1=[128,165,169,178,184,216,226,235,238,244,248,251,253,258,276,284,300,325,329,334,364,463,465,467,469,471,473,475,477,506,594,610,712,716,730,930,938,962,970,1026,1104,1106,8209,8215,8218,8222,8231,8241,8244,8246,8252,8365,8452,8454,8458,8471,8482,8556,8570,8596,8602,8713,8720,8722,8726,8731,8737,8740,8742,8748,8751,8760,8766,8777,8781,8787,8802,8808,8816,8854,8858,8870,8896,8979,9322,9372,9548,9588,9616,9622,9634,9652,9662,9672,9676,9680,9702,9735,9738,9793,9795,11906,11909,11913,11917,11928,11944,11947,11951,11956,11960,11964,11979,12284,12292,12312,12319,12330,12351,12436,12447,12535,12543,12586,12842,12850,12964,13200,13215,13218,13253,13263,13267,13270,13384,13428,13727,13839,13851,14617,14703,14801,14816,14964,15183,15471,15585,16471,16736,17208,17325,17330,17374,17623,17997,18018,18212,18218,18301,18318,18760,18811,18814,18820,18823,18844,18848,18872,19576,19620,19738,19887,40870,59244,59336,59367,59413,59417,59423,59431,59437,59443,59452,59460,59478,59493,63789,63866,63894,63976,63986,64016,64018,64021,64025,64034,64037,64042,65074,65093,65107,65112,65127,65132,65375,65510,65536],y1=[0,36,38,45,50,81,89,95,96,100,103,104,105,109,126,133,148,172,175,179,208,306,307,308,309,310,311,312,313,341,428,443,544,545,558,741,742,749,750,805,819,820,7922,7924,7925,7927,7934,7943,7944,7945,7950,8062,8148,8149,8152,8164,8174,8236,8240,8262,8264,8374,8380,8381,8384,8388,8390,8392,8393,8394,8396,8401,8406,8416,8419,8424,8437,8439,8445,8482,8485,8496,8521,8603,8936,8946,9046,9050,9063,9066,9076,9092,9100,9108,9111,9113,9131,9162,9164,9218,9219,11329,11331,11334,11336,11346,11361,11363,11366,11370,11372,11375,11389,11682,11686,11687,11692,11694,11714,11716,11723,11725,11730,11736,11982,11989,12102,12336,12348,12350,12384,12393,12395,12397,12510,12553,12851,12962,12973,13738,13823,13919,13933,14080,14298,14585,14698,15583,15847,16318,16434,16438,16481,16729,17102,17122,17315,17320,17402,17418,17859,17909,17911,17915,17916,17936,17939,17961,18664,18703,18814,18962,19043,33469,33470,33471,33484,33485,33490,33497,33501,33505,33513,33520,33536,33550,37845,37921,37948,38029,38038,38064,38065,38066,38069,38075,38076,38078,39108,39109,39113,39114,39115,39116,39265,39394,189e3],v1={uChars:m1,gbChars:y1},b1=JSON.parse('[["0","\\u0000",127],["8141","",4,"",6,""],["8161","",9,"",5,""],["8181","",18,"",4,"",6,"",5,"",6,"",7,"",7,"",4,"",4,""],["8241","",7,"",5],["8261","",6,"",5,""],["8281","",7,"",7,"",4,"",10,"",5,"",17,"",7,"",6,"",7,"",18],["8341","",5,"",5,"",7],["8361","",18,""],["8381","",4,"",6,"",5,"",5,"",46,"",6,"",5,"",8],["8441","",5,"",8],["8461","",18],["8481","",7,"",6,"",5,"",10,"",5,"",18,"",5,"",6,"",5,"",26,""],["8541","",5,"",4,"",6,"",4],["8561","",5,"",5,"",6,""],["8581","",6,"",6,"",9,"",26,"",29,"",6,"",5,""],["8641","",6,"",5,""],["8661","",6,"",10],["8681","",22,"",4,"",6,"",5,"",6,"",22,"",4,""],["8741","",9,"",15],["8761","",18,""],["8781","",5,"",7,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",4],["8841","",4,"",5,"",6,"",4],["8861","",4,""],["8881","",15,"",4,"",6,"",5,"",54,""],["8941","",6,"",5,""],["8961","",10,"",5,""],["8981","",21,"",18,"",18,"",6,"",6,"",7,"",15],["8a41","",10,"",6,""],["8a61","",4,"",18,""],["8a81","",4,"",19,"",5,"",7,"",5,"",6,"",5,"",4,"",5,"",26,""],["8b41","",5,"",4,"",6,""],["8b61","",6,"",8],["8b81","",52,"",4,"",6,"",5,"",18,"",18],["8c41","",15,"",4],["8c61","",6,"",5,"",6,"",5],["8c81","",12,"",26,"",50,"",5,"",16],["8d41","",16,"",8],["8d61","",17,""],["8d81","",4,"",33,"",6,"",7,"",6,"",9,"",6,"",5,"",6,""],["8e41","",6,"",5,"",8],["8e61","",4,"",19],["8e81","",13,"",6,"",4,"",6,"",5,"",6,"",5,"",11,"",7,"",6,"",5,"",7],["8f41","",7,"",17],["8f61","",7,"",6,"",4],["8f81","",5,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",5],["9041","",6,"",5,""],["9061","",5,"",15],["9081","",12,"",6,"",5,"",4,"",6,"",4,"",5,"",11,"",33,""],["9141","",6,"",5],["9161","",9,"",5],["9181","",20,"",4,"",5,"",14,"",33,"",7,"",5,"",6],["9241","",7,"",4,""],["9261","",7,"",7,"",4],["9281","",21,"",18,"",6,"",7,"",6,"",35,""],["9341","",4,""],["9361","",6,"",8],["9381","",37,"",4,"",4,"",6,"",5,"",7,"",22,""],["9441","",5,"",5,"",8],["9461","",5,"",6,"",12],["9481","",5,"",6,"",6,"",9,"",22,"",4,"",6,"",10,"",6,"",24],["9541","",11,"",5,""],["9561","",6,"",5,""],["9581","",6,"",35,"",4,"",4,"",4,"",6,"",5,"",13,"",14],["9641","",23,""],["9661","",6,"",5,"",8],["9681","",10,"",5,"",13,"",33,"",6,"",44],["9741","",16,"",8],["9761","",17,"",7],["9781","",11,"",5,"",6,"",89,""],["9841","",16,"",5,""],["9861","",6,"",15],["9881","",21,"",6,"",5,"",4,"",6,"",5,"",6,"",5,"",6,"",5,""],["9941","",6,"",5,""],["9961","",6,"",5,""],["9981","",8,"",5,"",4,"",11,"",5,"",6,"",6,"",6,"",7,"",6,"",5,""],["9a41","",16],["9a61","",6,"",6,""],["9a81","",4,"",6,"",5,"",5,"",6,"",5,"",5,"",33,"",5,"",6,""],["9b41","",6,"",8],["9b61","",17,"",7],["9b81","",25,"",4,"",5,"",50,"",22,""],["9c41","",4,"",5,"",5],["9c61","",8,"",6,"",9],["9c81","",8,"",6,"",6,"",9,"",26,"",6,"",5,"",18,"",6,"",12],["9d41","",13,"",8],["9d61","",25],["9d81","",8,"",5,"",9,"",6,"",10,"",6,"",5,"",6,"",5,""],["9e41","",7,"",9,""],["9e61","",4,"",6,""],["9e81","",6,"",6,"",6,"",5,"",10,"",5,"",6,"",5,"",6,""],["9f41","",5,"",4,"",5,""],["9f61","",6,"",5,""],["9f81","",4,"",5,"",6,"",5,"",6,"",4,"",6,"",7,"",4,"",4,""],["a041","",5,"",6,""],["a061","",5,"",13],["a081","",4,"",4,"",4,"",6,"",5,"",6,"",5,"",26,"",4,"",5,"",7,""],["a141","",18,""],["a161","",6,"",5,""],["a181","",14,"",5,"",4,"",9,""],["a241","",5,"",18],["a261","",6,"",18],["a281","",7,"",6,"",7,""],["a341","",6,"",10,""],["a361","",6,"",16],["a381","",16,"",4,"",58,"",32,""],["a441","",5,""],["a461","",5,"",12],["a481","",28,"",93],["a541","",4,"",6,"",5,""],["a561","",17,"",5,""],["a581","",16,"",14,"",9],["a5b0","",9],["a5c1","",16,"",6],["a5e1","",16,"",6],["a641","",19,""],["a661","",5,"",5,"",6],["a681","",6,"",18,"",7],["a741","",4,"",6,"",7],["a761","",22,""],["a781","",6,"",5,"",7,"",9,"",9,"",4,"",5,"",4,""],["a841","",10,"",14],["a861","",18,"",6],["a881","",19,"",11,""],["a8a6",""],["a8a8",""],["a8b1","",27,"",25,"",14,""],["a941","",14,"",10],["a961","",18],["a981","",14,"",6,"",27,"",25,"",14,""],["aa41","",6,"",4,""],["aa61","",4,"",5,"",6,""],["aa81","",29,"",82],["ab41","",6,"",5,""],["ab61","",6,"",5,"",5],["ab81","",8,"",6,"",12,"",85],["ac41","",5,"",6,""],["ac61","",11,"",4],["ac81","",28,"",5,"",25],["acd1","",5,"",25],["ad41","",6,"",5,"",7],["ad61","",6,"",10,""],["ad81","",5,"",18,""],["ae41","",5,"",16],["ae61","",5,"",6,"",4],["ae81","",6,"",5,""],["af41","",19],["af61","",13,"",5,""],["af81","",5,"",6,"",5,""],["b041","",5,"",5,"",12],["b061","",5,"",19],["b081","",13,"",6,"",5,"",7,"",4,""],["b141","",6,"",5,""],["b161","",6,"",5,"",11],["b181","",14,"",6,""],["b241","",6,"",5,""],["b261","",18,"",5,""],["b281","",5,"",18,"",6,""],["b341","",19,""],["b361","",5,"",5,"",5],["b381","",5,"",5,"",19,"",4,""],["b441","",5,"",6,"",5],["b461","",6,"",10,""],["b481","",6,"",18,"",4,"",4,""],["b541","",14,"",5],["b561","",5,"",5,"",4],["b581","",6,"",5,"",11,""],["b641","",7,"",17],["b661","",15,""],["b681","",5,"",6,"",5,""],["b741","",13,"",6,""],["b761","",20,""],["b781","",6,"",14,""],["b841","",7,"",17],["b861","",8,"",13],["b881","",5,"",24,"",4,""],["b941","",6,"",5,""],["b961","",14,"",6,""],["b981","",22,"",4,"",4,""],["ba41","",5,"",6,""],["ba61","",5,"",4,"",5],["ba81","",6,"",9,""],["bb41","",4,"",5,"",4,""],["bb61","",6,"",5,""],["bb81","",31,""],["bc41","",17,""],["bc61","",5,"",6,""],["bc81","",4,"",6,"",5,"",5,"",4,""],["bd41","",7,"",7,""],["bd61","",5,"",13],["bd81","",5,"",25,""],["be41","",7,"",14],["be61","",7,"",7,""],["be81","",4,"",4,"",5,"",8,"",6,""],["bf41","",10,"",14],["bf61","",18,""],["bf81","",5,"",7,"",6,"",5,""],["c041","",5,"",6,"",5],["c061","",25],["c081","",6,"",5,"",7,""],["c141","",5,"",6,""],["c161","",19,""],["c181","",31,""],["c241","",4,"",5,""],["c261","",4,"",5,"",6,""],["c281","",5,"",7,"",9,""],["c341","",4],["c361","",4,"",5,"",11],["c381","",5,"",7,"",5,""],["c441","",7,"",7,""],["c461","",5,"",4],["c481","",5,"",11,""],["c541","",6,"",5,""],["c561","",6,"",5,"",4],["c581","",6,"",5,""],["c641","",6,"",5],["c6a1",""],["c7a1",""],["c8a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1","",5,"",4,""],["d2a1","",4,"",5,"",10,"",7,"",5,""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f5a1",""],["f6a1",""],["f7a1",""],["f8a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fda1",""]]'),ix=JSON.parse('[["0","\\u0000",127],["a140",""],["a1a1","",4,""],["a240","",7,""],["a2a1","",9,"",9,"",8,"",25,"",21],["a340","",16,"",6,"",16,"",6,"",10],["a3a1","",25,""],["a3e1",""],["a440",""],["a4a1",""],["a540",""],["a5a1",""],["a640",""],["a6a1",""],["a740",""],["a7a1",""],["a840",""],["a8a1",""],["a940",""],["a9a1",""],["aa40",""],["aaa1",""],["ab40",""],["aba1",""],["ac40",""],["aca1",""],["ad40",""],["ada1",""],["ae40",""],["aea1",""],["af40",""],["afa1",""],["b040",""],["b0a1",""],["b140",""],["b1a1",""],["b240",""],["b2a1",""],["b340",""],["b3a1",""],["b440",""],["b4a1",""],["b540",""],["b5a1",""],["b640",""],["b6a1",""],["b740",""],["b7a1",""],["b840",""],["b8a1",""],["b940",""],["b9a1",""],["ba40",""],["baa1",""],["bb40",""],["bba1",""],["bc40",""],["bca1",""],["bd40",""],["bda1",""],["be40",""],["bea1",""],["bf40",""],["bfa1",""],["c040",""],["c0a1",""],["c140",""],["c1a1",""],["c240",""],["c2a1",""],["c340",""],["c3a1",""],["c440",""],["c4a1",""],["c540",""],["c5a1",""],["c640",""],["c940",""],["c9a1",""],["ca40",""],["caa1",""],["cb40",""],["cba1",""],["cc40",""],["cca1",""],["cd40",""],["cda1",""],["ce40",""],["cea1",""],["cf40",""],["cfa1",""],["d040",""],["d0a1",""],["d140",""],["d1a1",""],["d240",""],["d2a1",""],["d340",""],["d3a1",""],["d440",""],["d4a1",""],["d540",""],["d5a1",""],["d640",""],["d6a1",""],["d740",""],["d7a1",""],["d840",""],["d8a1",""],["d940",""],["d9a1",""],["da40",""],["daa1",""],["db40",""],["dba1",""],["dc40",""],["dca1",""],["dd40",""],["dda1",""],["de40",""],["dea1",""],["df40",""],["dfa1",""],["e040",""],["e0a1",""],["e140",""],["e1a1",""],["e240",""],["e2a1",""],["e340",""],["e3a1",""],["e440",""],["e4a1",""],["e540",""],["e5a1",""],["e640",""],["e6a1",""],["e740",""],["e7a1",""],["e840",""],["e8a1",""],["e940",""],["e9a1",""],["ea40",""],["eaa1",""],["eb40",""],["eba1",""],["ec40",""],["eca1",""],["ed40",""],["eda1",""],["ee40",""],["eea1",""],["ef40",""],["efa1",""],["f040",""],["f0a1",""],["f140",""],["f1a1",""],["f240",""],["f2a1",""],["f340",""],["f3a1",""],["f440",""],["f4a1",""],["f540",""],["f5a1",""],["f640",""],["f6a1",""],["f740",""],["f7a1",""],["f840",""],["f8a1",""],["f940",""],["f9a1",""]]'),S1=[["8740",""],["8767",""],["87a1",""],["8840","",4,""],["88a1",""],["8940",""],["8943",""],["8946",""],["894c",""],["89a1",""],["89ab",""],["89b0",""],["89b5",""],["89c1",""],["89c5",""],["8a40",""],["8a43",""],["8a64",""],["8a76",""],["8aa1",""],["8aac",""],["8ab2",""],["8abb",""],["8ac9",""],["8ace",""],["8adf",""],["8af6",""],["8b40",""],["8b55",""],["8ba1",""],["8bde",""],["8c40",""],["8ca1",""],["8ca7",""],["8cc9",""],["8cce",""],["8ce6",""],["8d40",""],["8d42",""],["8da1",""],["8e40",""],["8ea1",""],["8f40",""],["8fa1",""],["9040",""],["90a1",""],["9140",""],["91a1",""],["9240",""],["92a1",""],["9340",""],["93a1",""],["9440",""],["94a1",""],["9540",""],["95a1",""],["9640",""],["96a1",""],["9740",""],["97a1",""],["9840",""],["98a1",""],["9940",""],["99a1",""],["9a40",""],["9aa1",""],["9b40",""],["9b62",""],["9ba1",""],["9c40",""],["9ca1",""],["9d40",""],["9da1",""],["9e40",""],["9ea1",""],["9ead",""],["9ec5",""],["9ef5",""],["9f40",""],["9f4f",""],["9fa1",""],["9fae",""],["9fb2",""],["9fc1",""],["9fc9",""],["9fdb",""],["9fe7",""],["9feb",""],["9ff0",""],["a040",""],["a055",""],["a058",""],["a05b",""],["a063",""],["a073",""],["a0a1",""],["a0a6",""],["a0ae",""],["a0b0",""],["a0d4",""],["a0e2",""],["a3c0","",31,""],["c6a1","",9,"",9,"",9,"",23],["c740","",58,""],["c7a1","",81,"",5,"",4],["c840","",26,"",25,""],["c8a1",""],["c8cd",""],["c8f5",""],["f9fe",""],["fa40",""],["faa1",""],["fb40",""],["fba1",""],["fc40",""],["fca1",""],["fd40",""],["fda1",""],["fe40",""],["fea1",""]];var Jc,nx;function j1(){return nx||(nx=1,Jc={shiftjis:{type:"_dbcs",table:function(){return x1},encodeAdd:{"":92,"":126},encodeSkipVals:[{from:60736,to:63808}]},csshiftjis:"shiftjis",mskanji:"shiftjis",sjis:"shiftjis",windows31j:"shiftjis",ms31j:"shiftjis",xsjis:"shiftjis",windows932:"shiftjis",ms932:"shiftjis",932:"shiftjis",cp932:"shiftjis",eucjp:{type:"_dbcs",table:function(){return g1},encodeAdd:{"":92,"":126}},gb2312:"cp936",gb231280:"cp936",gb23121980:"cp936",csgb2312:"cp936",csiso58gb231280:"cp936",euccn:"cp936",windows936:"cp936",ms936:"cp936",936:"cp936",cp936:{type:"_dbcs",table:function(){return Kc}},gbk:{type:"_dbcs",table:function(){return Kc.concat(tx)}},xgbk:"gbk",isoir58:"gbk",gb18030:{type:"_dbcs",table:function(){return Kc.concat(tx)},gb18030:function(){return v1},encodeSkipVals:[128],encodeAdd:{"":41699}},chinese:"gb18030",windows949:"cp949",ms949:"cp949",949:"cp949",cp949:{type:"_dbcs",table:function(){return b1}},cseuckr:"cp949",csksc56011987:"cp949",euckr:"cp949",isoir149:"cp949",korean:"cp949",ksc56011987:"cp949",ksc56011989:"cp949",ksc5601:"cp949",windows950:"cp950",ms950:"cp950",950:"cp950",cp950:{type:"_dbcs",table:function(){return ix}},big5:"big5hkscs",big5hkscs:{type:"_dbcs",table:function(){return ix.concat(S1)},encodeSkipVals:[36457,36463,36478,36523,36532,36557,36560,36695,36713,36718,36811,36862,36973,36986,37060,37084,37105,37311,37551,37552,37553,37554,37585,37959,38090,38361,38652,39285,39798,39800,39803,39878,39902,39916,39926,40002,40019,40034,40040,40043,40055,40124,40125,40144,40279,40282,40388,40431,40443,40617,40687,40701,40800,40907,41079,41180,41183,36812,37576,38468,38637,41636,41637,41639,41638,41676,41678]},cnbig5:"big5hkscs",csbig5:"big5hkscs",xxbig5:"big5hkscs"}),Jc}var ax;function E1(){return ax||(ax=1,(function(o){for(var d=[o1(),l1(),c1(),d1(),u1(),p1(),f1(),h1(),j1()],l=0;l<d.length;l++){var a=d[l];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(o[r]=a[r])}})(qc)),qc}var ed,sx;function w1(){if(sx)return ed;sx=1;var o=Ji().Buffer;return ed=function(d){var l=d.Transform;function a(c,p){this.conv=c,p=p||{},p.decodeStrings=!1,l.call(this,p)}a.prototype=Object.create(l.prototype,{constructor:{value:a}}),a.prototype._transform=function(c,p,f){if(typeof c!="string")return f(new Error("Iconv encoding stream needs strings as its input."));try{var g=this.conv.write(c);g&&g.length&&this.push(g),f()}catch(h){f(h)}},a.prototype._flush=function(c){try{var p=this.conv.end();p&&p.length&&this.push(p),c()}catch(f){c(f)}},a.prototype.collect=function(c){var p=[];return this.on("error",c),this.on("data",function(f){p.push(f)}),this.on("end",function(){c(null,o.concat(p))}),this};function r(c,p){this.conv=c,p=p||{},p.encoding=this.encoding="utf8",l.call(this,p)}return r.prototype=Object.create(l.prototype,{constructor:{value:r}}),r.prototype._transform=function(c,p,f){if(!o.isBuffer(c)&&!(c instanceof Uint8Array))return f(new Error("Iconv decoding stream needs buffers as its input."));try{var g=this.conv.write(c);g&&g.length&&this.push(g,this.encoding),f()}catch(h){f(h)}},r.prototype._flush=function(c){try{var p=this.conv.end();p&&p.length&&this.push(p,this.encoding),c()}catch(f){c(f)}},r.prototype.collect=function(c){var p="";return this.on("error",c),this.on("data",function(f){p+=f}),this.on("end",function(){c(null,p)}),this},{IconvLiteEncoderStream:a,IconvLiteDecoderStream:r}},ed}var rx;function B1(){return rx||(rx=1,(function(o){var d=Ji().Buffer,l=r1(),a=o.exports;a.encodings=null,a.defaultCharUnicode="",a.defaultCharSingleByte="?",a.encode=function(p,f,g){p=""+(p||"");var h=a.getEncoder(f,g),y=h.write(p),v=h.end();return v&&v.length>0?d.concat([y,v]):y},a.decode=function(p,f,g){typeof p=="string"&&(a.skipDecodeWarning||(console.error("Iconv-lite warning: decode()-ing strings is deprecated. Refer to https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding"),a.skipDecodeWarning=!0),p=d.from(""+(p||""),"binary"));var h=a.getDecoder(f,g),y=h.write(p),v=h.end();return v?y+v:y},a.encodingExists=function(p){try{return a.getCodec(p),!0}catch{return!1}},a.toEncoding=a.encode,a.fromEncoding=a.decode,a._codecDataCache={},a.getCodec=function(p){a.encodings||(a.encodings=E1());for(var f=a._canonicalizeEncoding(p),g={};;){var h=a._codecDataCache[f];if(h)return h;var y=a.encodings[f];switch(typeof y){case"string":f=y;break;case"object":for(var v in y)g[v]=y[v];g.encodingName||(g.encodingName=f),f=y.type;break;case"function":return g.encodingName||(g.encodingName=f),h=new y(g,a),a._codecDataCache[g.encodingName]=h,h;default:throw new Error("Encoding not recognized: '"+p+"' (searched as: '"+f+"')")}}},a._canonicalizeEncoding=function(c){return(""+c).toLowerCase().replace(/:\d{4}$|[^0-9a-z]/g,"")},a.getEncoder=function(p,f){var g=a.getCodec(p),h=new g.encoder(f,g);return g.bomAware&&f&&f.addBOM&&(h=new l.PrependBOM(h,f)),h},a.getDecoder=function(p,f){var g=a.getCodec(p),h=new g.decoder(f,g);return g.bomAware&&!(f&&f.stripBOM===!1)&&(h=new l.StripBOM(h,f)),h},a.enableStreamingAPI=function(p){if(!a.supportsStreams){var f=w1()(p);a.IconvLiteEncoderStream=f.IconvLiteEncoderStream,a.IconvLiteDecoderStream=f.IconvLiteDecoderStream,a.encodeStream=function(h,y){return new a.IconvLiteEncoderStream(a.getEncoder(h,y),y)},a.decodeStream=function(h,y){return new a.IconvLiteDecoderStream(a.getDecoder(h,y),y)},a.supportsStreams=!0}};var r;try{r=Sd}catch{}r&&r.Transform?a.enableStreamingAPI(r):a.encodeStream=a.decodeStream=function(){throw new Error("iconv-lite Streaming API is not enabled. Use iconv.enableStreamingAPI(require('stream')); to enable it.")}})($c)),$c.exports}var ox;function uo(){if(ox)return Qr;ox=1,Object.defineProperty(Qr,"__esModule",{value:!0});var o=B1(),d=(function(){function l(a,r,c){if(this._dynamicSize=!0,this._byteLength=0,this.failurePosition=0,this._byteOffset=r||0,a instanceof ArrayBuffer)this.buffer=a;else if(a instanceof DataView)this.dataView=a;else if(a&&a.buffer instanceof ArrayBuffer)this._byteOffset+=a.byteOffset,this._buffer=a.buffer,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._dataView.byteLength+this._byteOffset;else throw new Error("Unknown arrayBuffer");this.position=0,this.endianness=c??l.LITTLE_ENDIAN}return l.prototype.save=function(a){var r=new Blob([this.buffer]),c=window.webkitURL||window.URL;if(c&&c.createObjectURL){var p=c.createObjectURL(r),f=document.createElement("a");f.setAttribute("href",p),f.setAttribute("download",a),f.click(),c.revokeObjectURL(p)}else throw"DataStream.save: Can't create object URL."},Object.defineProperty(l.prototype,"dynamicSize",{get:function(){return this._dynamicSize},set:function(a){a||this._trimAlloc(),this._dynamicSize=a},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"byteLength",{get:function(){return this._byteLength-this._byteOffset},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"buffer",{get:function(){return this._trimAlloc(),this._buffer},set:function(a){this._buffer=a,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"byteOffset",{get:function(){return this._byteOffset},set:function(a){this._byteOffset=a,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"dataView",{get:function(){return this._dataView},set:function(a){this._byteOffset=a.byteOffset,this._buffer=a.buffer,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._byteOffset+a.byteLength},enumerable:!1,configurable:!0}),l.prototype._realloc=function(a){if(this._dynamicSize){var r=this._byteOffset+this.position+a,c=this._buffer.byteLength;if(r<=c){r>this._byteLength&&(this._byteLength=r);return}for(c<1&&(c=1);r>c;)c*=2;var p=new ArrayBuffer(c),f=new Uint8Array(this._buffer),g=new Uint8Array(p,0,f.length);g.set(f),this.buffer=p,this._byteLength=r}},l.prototype._trimAlloc=function(){if(this._byteLength!=this._buffer.byteLength){var a=new ArrayBuffer(this._byteLength),r=new Uint8Array(a),c=new Uint8Array(this._buffer,0,r.length);r.set(c),this.buffer=a}},l.prototype.seek=function(a){var r=Math.max(0,Math.min(this.byteLength,a));this.position=isNaN(r)||!isFinite(r)?0:r},l.prototype.isEof=function(){return this.position>=this.byteLength},l.prototype.mapInt32Array=function(a,r){this._realloc(a*4);var c=new Int32Array(this._buffer,this.byteOffset+this.position,a);return l.arrayToNative(c,r??this.endianness),this.position+=a*4,c},l.prototype.mapInt16Array=function(a,r){this._realloc(a*2);var c=new Int16Array(this._buffer,this.byteOffset+this.position,a);return l.arrayToNative(c,r??this.endianness),this.position+=a*2,c},l.prototype.mapInt8Array=function(a){this._realloc(a*1);var r=new Int8Array(this._buffer,this.byteOffset+this.position,a);return this.position+=a*1,r},l.prototype.mapUint32Array=function(a,r){this._realloc(a*4);var c=new Uint32Array(this._buffer,this.byteOffset+this.position,a);return l.arrayToNative(c,r??this.endianness),this.position+=a*4,c},l.prototype.mapUint16Array=function(a,r){this._realloc(a*2);var c=new Uint16Array(this._buffer,this.byteOffset+this.position,a);return l.arrayToNative(c,r??this.endianness),this.position+=a*2,c},l.prototype.mapUint8Array=function(a){this._realloc(a*1);var r=new Uint8Array(this._buffer,this.byteOffset+this.position,a);return this.position+=a*1,r},l.prototype.mapFloat64Array=function(a,r){this._realloc(a*8);var c=new Float64Array(this._buffer,this.byteOffset+this.position,a);return l.arrayToNative(c,r??this.endianness),this.position+=a*8,c},l.prototype.mapFloat32Array=function(a,r){this._realloc(a*4);var c=new Float32Array(this._buffer,this.byteOffset+this.position,a);return l.arrayToNative(c,r??this.endianness),this.position+=a*4,c},l.prototype.readInt32Array=function(a,r){a=a??(this.byteLength-this.position)/4;var c=new Int32Array(a);return l.memcpy(c.buffer,0,this.buffer,this.byteOffset+this.position,a*c.BYTES_PER_ELEMENT),l.arrayToNative(c,r??this.endianness),this.position+=c.byteLength,c},l.prototype.readInt16Array=function(a,r){a=a??(this.byteLength-this.position)/2;var c=new Int16Array(a);return l.memcpy(c.buffer,0,this.buffer,this.byteOffset+this.position,a*c.BYTES_PER_ELEMENT),l.arrayToNative(c,r??this.endianness),this.position+=c.byteLength,c},l.prototype.readInt8Array=function(a){a=a??this.byteLength-this.position;var r=new Int8Array(a);return l.memcpy(r.buffer,0,this.buffer,this.byteOffset+this.position,a*r.BYTES_PER_ELEMENT),this.position+=r.byteLength,r},l.prototype.readUint32Array=function(a,r){a=a??(this.byteLength-this.position)/4;var c=new Uint32Array(a);return l.memcpy(c.buffer,0,this.buffer,this.byteOffset+this.position,a*c.BYTES_PER_ELEMENT),l.arrayToNative(c,r??this.endianness),this.position+=c.byteLength,c},l.prototype.readUint16Array=function(a,r){a=a??(this.byteLength-this.position)/2;var c=new Uint16Array(a);return l.memcpy(c.buffer,0,this.buffer,this.byteOffset+this.position,a*c.BYTES_PER_ELEMENT),l.arrayToNative(c,r??this.endianness),this.position+=c.byteLength,c},l.prototype.readUint8Array=function(a){a=a??this.byteLength-this.position;var r=new Uint8Array(a);return l.memcpy(r.buffer,0,this.buffer,this.byteOffset+this.position,a*r.BYTES_PER_ELEMENT),this.position+=r.byteLength,r},l.prototype.readToUint8Array=function(a,r,c){a=a??this.byteLength-this.position,l.memcpy(r.buffer,c,this.buffer,this.byteOffset+this.position,a*r.BYTES_PER_ELEMENT),this.position+=r.byteLength},l.prototype.readFloat64Array=function(a,r){a=a??(this.byteLength-this.position)/8;var c=new Float64Array(a);return l.memcpy(c.buffer,0,this.buffer,this.byteOffset+this.position,a*c.BYTES_PER_ELEMENT),l.arrayToNative(c,r??this.endianness),this.position+=c.byteLength,c},l.prototype.readFloat32Array=function(a,r){a=a??(this.byteLength-this.position)/4;var c=new Float32Array(a);return l.memcpy(c.buffer,0,this.buffer,this.byteOffset+this.position,a*c.BYTES_PER_ELEMENT),l.arrayToNative(c,r??this.endianness),this.position+=c.byteLength,c},l.prototype.writeInt32Array=function(a,r){if(this._realloc(a.length*4),a instanceof Int32Array&&this.byteOffset+this.position%a.BYTES_PER_ELEMENT==0)l.memcpy(this._buffer,this.byteOffset+this.position,a.buffer,0,a.byteLength),this.mapInt32Array(a.length,r);else for(var c=0;c<a.length;c++)this.writeInt32(a[c],r)},l.prototype.writeInt16Array=function(a,r){if(this._realloc(a.length*2),a instanceof Int16Array&&this.byteOffset+this.position%a.BYTES_PER_ELEMENT==0)l.memcpy(this._buffer,this.byteOffset+this.position,a.buffer,0,a.byteLength),this.mapInt16Array(a.length,r);else for(var c=0;c<a.length;c++)this.writeInt16(a[c],r)},l.prototype.writeInt8Array=function(a){if(this._realloc(a.length*1),a instanceof Int8Array&&this.byteOffset+this.position%a.BYTES_PER_ELEMENT==0)l.memcpy(this._buffer,this.byteOffset+this.position,a.buffer,0,a.byteLength),this.mapInt8Array(a.length);else for(var r=0;r<a.length;r++)this.writeInt8(a[r])},l.prototype.writeUint32Array=function(a,r){if(this._realloc(a.length*4),a instanceof Uint32Array&&this.byteOffset+this.position%a.BYTES_PER_ELEMENT==0)l.memcpy(this._buffer,this.byteOffset+this.position,a.buffer,0,a.byteLength),this.mapUint32Array(a.length,r);else for(var c=0;c<a.length;c++)this.writeUint32(a[c],r)},l.prototype.writeUint16Array=function(a,r){if(this._realloc(a.length*2),a instanceof Uint16Array&&this.byteOffset+this.position%a.BYTES_PER_ELEMENT==0)l.memcpy(this._buffer,this.byteOffset+this.position,a.buffer,0,a.byteLength),this.mapUint16Array(a.length,r);else for(var c=0;c<a.length;c++)this.writeUint16(a[c],r)},l.prototype.writeUint8Array=function(a){if(this._realloc(a.length*1),a instanceof Uint8Array&&this.byteOffset+this.position%a.BYTES_PER_ELEMENT==0)l.memcpy(this._buffer,this.byteOffset+this.position,a.buffer,0,a.byteLength),this.mapUint8Array(a.length);else for(var r=0;r<a.length;r++)this.writeUint8(a[r])},l.prototype.writeFloat64Array=function(a,r){if(this._realloc(a.length*8),a instanceof Float64Array&&this.byteOffset+this.position%a.BYTES_PER_ELEMENT==0)l.memcpy(this._buffer,this.byteOffset+this.position,a.buffer,0,a.byteLength),this.mapFloat64Array(a.length,r);else for(var c=0;c<a.length;c++)this.writeFloat64(a[c],r)},l.prototype.writeFloat32Array=function(a,r){if(this._realloc(a.length*4),a instanceof Float32Array&&this.byteOffset+this.position%a.BYTES_PER_ELEMENT==0)l.memcpy(this._buffer,this.byteOffset+this.position,a.buffer,0,a.byteLength),this.mapFloat32Array(a.length,r);else for(var c=0;c<a.length;c++)this.writeFloat32(a[c],r)},l.prototype.readInt32=function(a){var r=this._dataView.getInt32(this.position,a??this.endianness);return this.position+=4,r},l.prototype.readInt=function(a){return this.seek(a),this.readInt32()},l.prototype.readInt16=function(a){var r=this._dataView.getInt16(this.position,a??this.endianness);return this.position+=2,r},l.prototype.readShort=function(a){return this.seek(a),this.readInt16()},l.prototype.readInt8=function(){var a=this._dataView.getInt8(this.position);return this.position+=1,a},l.prototype.readByte=function(a){return this.seek(a),this.readInt8()},l.prototype.readUint32=function(a){var r=this._dataView.getUint32(this.position,a??this.endianness);return this.position+=4,r},l.prototype.readUint16=function(a){var r=this._dataView.getUint16(this.position,a??this.endianness);return this.position+=2,r},l.prototype.readUint8=function(){var a=this._dataView.getUint8(this.position);return this.position+=1,a},l.prototype.readFloat32=function(a){var r=this._dataView.getFloat32(this.position,a??this.endianness);return this.position+=4,r},l.prototype.readFloat64=function(a){var r=this._dataView.getFloat64(this.position,a??this.endianness);return this.position+=8,r},l.prototype.writeInt32=function(a,r){this._realloc(4),this._dataView.setInt32(this.position,a,r??this.endianness),this.position+=4},l.prototype.writeInt16=function(a,r){this._realloc(2),this._dataView.setInt16(this.position,a,r??this.endianness),this.position+=2},l.prototype.writeInt8=function(a){this._realloc(1),this._dataView.setInt8(this.position,a),this.position+=1},l.prototype.writeUint32=function(a,r){this._realloc(4),this._dataView.setUint32(this.position,a,r??this.endianness),this.position+=4},l.prototype.writeUint16=function(a,r){this._realloc(2),this._dataView.setUint16(this.position,a,r??this.endianness),this.position+=2},l.prototype.writeUint8=function(a){this._realloc(1),this._dataView.setUint8(this.position,a),this.position+=1},l.prototype.writeFloat32=function(a,r){this._realloc(4),this._dataView.setFloat32(this.position,a,r??this.endianness),this.position+=4},l.prototype.writeFloat64=function(a,r){this._realloc(8),this._dataView.setFloat64(this.position,a,r??this.endianness),this.position+=8},l.memcpy=function(a,r,c,p,f){var g=new Uint8Array(a,r,f),h=new Uint8Array(c,p,f);g.set(h)},l.arrayToNative=function(a,r){return r==this.endianness?a:this.flipArrayEndianness(a)},l.nativeToEndian=function(a,r){return this.endianness==r?a:this.flipArrayEndianness(a)},l.flipArrayEndianness=function(a){for(var r=new Uint8Array(a.buffer,a.byteOffset,a.byteLength),c=0;c<a.byteLength;c+=a.BYTES_PER_ELEMENT)for(var p=c+a.BYTES_PER_ELEMENT-1,f=c;p>f;p--,f++){var g=r[f];r[f]=r[p],r[p]=g}return a},l.createStringFromArray=function(a){for(var r="",c=0;c<a.length;c++)r+=String.fromCharCode(a[c]);return r},l.prototype.readStruct=function(a){for(var r={},c,p,f=this.position,g=0;g<a.length;g+=2){if(c=a[g+1],p=this.readType(c,r),p==null)return this.failurePosition==0&&(this.failurePosition=this.position),this.position=f,null;r[a[g]]=p}return r},l.prototype.readUCS2String=function(a,r){return l.createStringFromArray(this.readUint16Array(a,r))},l.prototype.readStringAt=function(a,r){return this.seek(a),this.readUCS2String(r)},l.prototype.writeUCS2String=function(a,r,c){c==null&&(c=a.length);for(var p=0;p<a.length&&p<c;p++)this.writeUint16(a.charCodeAt(p),r);for(;p<c;p++)this.writeUint16(0,r)},l.prototype.readString=function(a,r){return r==null||r=="ASCII"?l.createStringFromArray(this.mapUint8Array(a??this.byteLength-this.position)):o.decode(this.mapUint8Array(a),r)},l.prototype.writeString=function(a,r,c){if(r==null||r=="ASCII")if(c!=null){var p=0,f=Math.min(a.length,c);for(p=0;p<f;p++)this.writeUint8(a.charCodeAt(p));for(;p<c;p++)this.writeUint8(0)}else for(var p=0;p<a.length;p++)this.writeUint8(a.charCodeAt(p));else this.writeUint8Array(o.encode(a.substring(0,c),r))},l.prototype.readCString=function(a){var r=this.byteLength-this.position,c=new Uint8Array(this._buffer,this._byteOffset+this.position),p=r;a!=null&&(p=Math.min(a,r));for(var f=0;f<p&&c[f]!=0;f++);var g=l.createStringFromArray(this.mapUint8Array(f));return a!=null?this.position+=p-f:f!=r&&(this.position+=1),g},l.prototype.writeCString=function(a,r){if(r!=null){var c=0,p=Math.min(a.length,r);for(c=0;c<p;c++)this.writeUint8(a.charCodeAt(c));for(;c<r;c++)this.writeUint8(0)}else{for(var c=0;c<a.length;c++)this.writeUint8(a.charCodeAt(c));this.writeUint8(0)}},l.prototype.readType=function(a,r){if(typeof a=="function")return a(this,r);if(typeof a=="object"&&!(a instanceof Array))return a.get(this,r);if(a instanceof Array&&a.length!=3)return this.readStruct(a);var c=null,p=null,f="ASCII",g=this.position,h;if(typeof a=="string"&&/:/.test(a)){var y=a.split(":");a=y[0],h=y[1],r[h]!=null?p=parseInt(r[h]):p=parseInt(y[1])}if(typeof a=="string"&&/,/.test(a)){var y=a.split(",");a=y[0],f=parseInt(y[1]).toString()}switch(a){case"uint8":c=this.readUint8();break;case"int8":c=this.readInt8();break;case"uint16":c=this.readUint16(this.endianness);break;case"int16":c=this.readInt16(this.endianness);break;case"uint32":c=this.readUint32(this.endianness);break;case"int32":c=this.readInt32(this.endianness);break;case"float32":c=this.readFloat32(this.endianness);break;case"float64":c=this.readFloat64(this.endianness);break;case"uint16be":c=this.readUint16(l.BIG_ENDIAN);break;case"int16be":c=this.readInt16(l.BIG_ENDIAN);break;case"uint32be":c=this.readUint32(l.BIG_ENDIAN);break;case"int32be":c=this.readInt32(l.BIG_ENDIAN);break;case"float32be":c=this.readFloat32(l.BIG_ENDIAN);break;case"float64be":c=this.readFloat64(l.BIG_ENDIAN);break;case"uint16le":c=this.readUint16(l.LITTLE_ENDIAN);break;case"int16le":c=this.readInt16(l.LITTLE_ENDIAN);break;case"uint32le":c=this.readUint32(l.LITTLE_ENDIAN);break;case"int32le":c=this.readInt32(l.LITTLE_ENDIAN);break;case"float32le":c=this.readFloat32(l.LITTLE_ENDIAN);break;case"float64le":c=this.readFloat64(l.LITTLE_ENDIAN);break;case"cstring":c=this.readCString(p);break;case"string":c=this.readString(p,f);break;case"u16string":c=this.readUCS2String(p,this.endianness);break;case"u16stringle":c=this.readUCS2String(p,l.LITTLE_ENDIAN);break;case"u16stringbe":c=this.readUCS2String(p,l.BIG_ENDIAN);break;default:if(a.length==3){var v=a[1],h=a[2],m=0;if(typeof h=="function"?m=h(r,this,a):typeof h=="string"&&r[h]!=null?m=parseInt(r[h]):m=parseInt(h),typeof v=="string"){var b=v.replace(/(le|be)$/,""),j=null;switch(/le$/.test(v)?j=l.LITTLE_ENDIAN:/be$/.test(v)&&(j=l.BIG_ENDIAN),h=="*"&&(m=null),b){case"uint8":c=this.readUint8Array(m);break;case"uint16":c=this.readUint16Array(m,j);break;case"uint32":c=this.readUint32Array(m,j);break;case"int8":c=this.readInt8Array(m);break;case"int16":c=this.readInt16Array(m,j);break;case"int32":c=this.readInt32Array(m,j);break;case"float32":c=this.readFloat32Array(m,j);break;case"float64":c=this.readFloat64Array(m,j);break;case"cstring":case"utf16string":case"string":if(m==null)for(c=[];!this.isEof();){var E=this.readType(v,r);if(E==null)break;c.push(E)}else{c=new Array(m);for(var A=0;A<m;A++)c[A]=this.readType(v,r)}break}}else if(h=="*")for(c=[],this.buffer;;){var N=this.position;try{var k=this.readType(v,r);if(k==null){this.position=N;break}c.push(k)}catch{this.position=N;break}}else{c=new Array(m);for(var A=0;A<m;A++){var E=this.readType(v,r);if(E==null)return null;c[A]=E}}break}}return p!=null&&(this.position=g+p),c},l.prototype.writeStruct=function(a,r){for(var c=0;c<a.length;c+=2){var p=a[c+1];this.writeType(p,r[a[c]],r)}},l.prototype.writeType=function(a,r,c){if(typeof a=="function")return a(this,r);if(typeof a=="object"&&!(a instanceof Array))return a.set(this,r,c);var p=null,f="ASCII",g=this.position;if(typeof a=="string"&&/:/.test(a)){var h=a.split(":");a=h[0],p=parseInt(h[1])}if(typeof a=="string"&&/,/.test(a)){var h=a.split(",");a=h[0],f=parseInt(h[1]).toString()}switch(a){case"uint8":this.writeUint8(r);break;case"int8":this.writeInt8(r);break;case"uint16":this.writeUint16(r,this.endianness);break;case"int16":this.writeInt16(r,this.endianness);break;case"uint32":this.writeUint32(r,this.endianness);break;case"int32":this.writeInt32(r,this.endianness);break;case"float32":this.writeFloat32(r,this.endianness);break;case"float64":this.writeFloat64(r,this.endianness);break;case"uint16be":this.writeUint16(r,l.BIG_ENDIAN);break;case"int16be":this.writeInt16(r,l.BIG_ENDIAN);break;case"uint32be":this.writeUint32(r,l.BIG_ENDIAN);break;case"int32be":this.writeInt32(r,l.BIG_ENDIAN);break;case"float32be":this.writeFloat32(r,l.BIG_ENDIAN);break;case"float64be":this.writeFloat64(r,l.BIG_ENDIAN);break;case"uint16le":this.writeUint16(r,l.LITTLE_ENDIAN);break;case"int16le":this.writeInt16(r,l.LITTLE_ENDIAN);break;case"uint32le":this.writeUint32(r,l.LITTLE_ENDIAN);break;case"int32le":this.writeInt32(r,l.LITTLE_ENDIAN);break;case"float32le":this.writeFloat32(r,l.LITTLE_ENDIAN);break;case"float64le":this.writeFloat64(r,l.LITTLE_ENDIAN);break;case"cstring":this.writeCString(r,p);break;case"string":this.writeString(r,f,p);break;case"u16string":this.writeUCS2String(r,this.endianness,p);break;case"u16stringle":this.writeUCS2String(r,l.LITTLE_ENDIAN,p);break;case"u16stringbe":this.writeUCS2String(r,l.BIG_ENDIAN,p);break;default:if(a.length==3){for(var y=a[1],v=0;v<r.length;v++)this.writeType(y,r[v],a[2]);break}else{this.writeStruct(a,r);break}}p!=null&&(this.position=g,this._realloc(p),this.position=g+p)},l.BIG_ENDIAN=!1,l.LITTLE_ENDIAN=!0,l.endianness=new Int8Array(new Int16Array([1]).buffer)[0]>0,l})();return Qr.default=d,Uint8Array.prototype.BYTES_PER_ELEMENT===void 0&&(Object.defineProperties(Uint8Array.prototype,{BYTES_PER_ELEMENT:{value:Uint8Array.BYTES_PER_ELEMENT}}),Object.defineProperties(Int8Array.prototype,{BYTES_PER_ELEMENT:{value:Int8Array.BYTES_PER_ELEMENT}}),Object.defineProperties(Uint8ClampedArray.prototype,{BYTES_PER_ELEMENT:{value:Uint8ClampedArray.BYTES_PER_ELEMENT}}),Object.defineProperties(Uint16Array.prototype,{BYTES_PER_ELEMENT:{value:Uint16Array.BYTES_PER_ELEMENT}}),Object.defineProperties(Int16Array.prototype,{BYTES_PER_ELEMENT:{value:Int16Array.BYTES_PER_ELEMENT}}),Object.defineProperties(Uint32Array.prototype,{BYTES_PER_ELEMENT:{value:Uint32Array.BYTES_PER_ELEMENT}}),Object.defineProperties(Int32Array.prototype,{BYTES_PER_ELEMENT:{value:Int32Array.BYTES_PER_ELEMENT}}),Object.defineProperties(Float64Array.prototype,{BYTES_PER_ELEMENT:{value:Float64Array.BYTES_PER_ELEMENT}})),Qr}var wi={},lx;function Lx(){if(lx)return wi;lx=1;var o=wi&&wi.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(wi,"__esModule",{value:!0}),wi.Reader=wi.TypeEnum=void 0;var d=o(uo()),l=zs(),a=o(bd()),r;(function(p){p[p.DIRECTORY=1]="DIRECTORY",p[p.DOCUMENT=2]="DOCUMENT",p[p.ROOT=5]="ROOT"})(r||(wi.TypeEnum=r={}));var c=(function(){function p(f){this.ds=new d.default(f,0,d.default.LITTLE_ENDIAN)}return p.prototype.isMSGFile=function(){return this.ds.seek(0),(0,l.arraysEqual)(a.default.FILE_HEADER,this.ds.readInt8Array(a.default.FILE_HEADER.length))},p.prototype.headerData=function(){this.bigBlockSize=this.ds.readByte(30)==a.default.MSG.L_BIG_BLOCK_MARK?a.default.MSG.L_BIG_BLOCK_SIZE:a.default.MSG.S_BIG_BLOCK_SIZE,this.bigBlockLength=this.bigBlockSize/4,this.xBlockLength=this.bigBlockLength-1,this.batCount=this.ds.readInt(a.default.MSG.HEADER.BAT_COUNT_OFFSET),this.propertyStart=this.ds.readInt(a.default.MSG.HEADER.PROPERTY_START_OFFSET),this.sbatStart=this.ds.readInt(a.default.MSG.HEADER.SBAT_START_OFFSET),this.sbatCount=this.ds.readInt(a.default.MSG.HEADER.SBAT_COUNT_OFFSET),this.xbatStart=this.ds.readInt(a.default.MSG.HEADER.XBAT_START_OFFSET),this.xbatCount=this.ds.readInt(a.default.MSG.HEADER.XBAT_COUNT_OFFSET)},p.prototype.convertName=function(f){var g=this.ds.readShort(f+a.default.MSG.PROP.NAME_SIZE_OFFSET);return g<1?"":this.ds.readStringAt(f,g/2).split("\0")[0]},p.prototype.convertProperty=function(f){return{type:this.ds.readByte(f+a.default.MSG.PROP.TYPE_OFFSET),name:this.convertName(f),previousProperty:this.ds.readInt(f+a.default.MSG.PROP.PREVIOUS_PROPERTY_OFFSET),nextProperty:this.ds.readInt(f+a.default.MSG.PROP.NEXT_PROPERTY_OFFSET),childProperty:this.ds.readInt(f+a.default.MSG.PROP.CHILD_PROPERTY_OFFSET),startBlock:this.ds.readInt(f+a.default.MSG.PROP.START_BLOCK_OFFSET),sizeBlock:this.ds.readInt(f+a.default.MSG.PROP.SIZE_OFFSET)}},p.prototype.convertBlockToProperties=function(f,g){for(var h=this.bigBlockSize/a.default.MSG.PROP.PROPERTY_SIZE,y=this.getBlockOffsetAt(f),v=0;v<h&&!(this.ds.byteLength<y+a.default.MSG.PROP.TYPE_OFFSET);v++){var m=this.ds.readByte(y+a.default.MSG.PROP.TYPE_OFFSET);switch(m){case a.default.MSG.PROP.TYPE_ENUM.ROOT:case a.default.MSG.PROP.TYPE_ENUM.DIRECTORY:case a.default.MSG.PROP.TYPE_ENUM.DOCUMENT:g.push(this.convertProperty(y));break}y+=a.default.MSG.PROP.PROPERTY_SIZE}},p.prototype.createPropertyHierarchy=function(f,g){if(!(!g||g.childProperty==a.default.MSG.PROP.NO_INDEX)){g.children=[];for(var h=[{currentMode:"walk",currentIndex:g.childProperty}];h.length!=0;){var y=h.pop(),v=y.currentMode,m=y.currentIndex,b=f[m];v==="push"?g.children.push(m):(b.type==a.default.MSG.PROP.TYPE_ENUM.DIRECTORY&&this.createPropertyHierarchy(f,b),b.nextProperty!=a.default.MSG.PROP.NO_INDEX&&h.push({currentMode:"walk",currentIndex:b.nextProperty}),h.push({currentMode:"push",currentIndex:m}),b.previousProperty!=a.default.MSG.PROP.NO_INDEX&&h.push({currentMode:"walk",currentIndex:b.previousProperty}))}}},p.prototype.propertyDataReader=function(f){for(var g=[],h=f;h!=a.default.MSG.END_OF_CHAIN;)this.convertBlockToProperties(h,g),h=this.getNextBlock(h);return this.createPropertyHierarchy(g,g[0]),g},p.prototype.parse=function(){this.headerData(),this.batData=this.batDataReader(),this.xbatCount>0&&this.xbatDataReader(),this.sbatData=this.sbatDataReader(),this.propertyData=this.propertyDataReader(this.propertyStart),this.bigBlockTable=this.readBigBlockTable()},p.prototype.batCountInHeader=function(){var f=(a.default.MSG.S_BIG_BLOCK_SIZE-a.default.MSG.HEADER.BAT_START_OFFSET)/4;return Math.min(this.batCount,f)},p.prototype.batDataReader=function(){var f=new Array(this.batCountInHeader());this.ds.seek(a.default.MSG.HEADER.BAT_START_OFFSET);for(var g=0;g<f.length;g++)f[g]=this.ds.readInt32();return f},p.prototype.getBlockOffsetAt=function(f){return(f+1)*this.bigBlockSize},p.prototype.getBlockAt=function(f){var g=this.getBlockOffsetAt(f);return this.ds.seek(g),this.ds.readInt32Array(this.bigBlockLength)},p.prototype.getBlockValueAt=function(f,g){var h=this.getBlockOffsetAt(f);return this.ds.seek(h+4*g),this.ds.readInt32()},p.prototype.getNextBlockInner=function(f,g){var h=Math.floor(f/this.bigBlockLength),y=f%this.bigBlockLength,v=g[h];return typeof v>"u"?a.default.MSG.END_OF_CHAIN:this.getBlockValueAt(v,y)},p.prototype.getNextBlock=function(f){return this.getNextBlockInner(f,this.batData)},p.prototype.sbatDataReader=function(){for(var f=[],g=this.sbatStart,h=0;h<this.sbatCount&&g&&g!=a.default.MSG.END_OF_CHAIN;h++)f.push(g),g=this.getNextBlock(g);return f},p.prototype.xbatDataReader=function(){for(var f=this.batCountInHeader(),g=this.batCount,h=g-f,y=this.xbatStart,v=0;v<this.xbatCount;v++){for(var m=this.getBlockAt(y),b=Math.min(h,this.xBlockLength),j=0;j<b;j++){var E=m[j];if(E==a.default.MSG.UNUSED_BLOCK||E==a.default.MSG.END_OF_CHAIN)break;this.batData.push(E)}if(h-=b,y=m[this.xBlockLength],y==a.default.MSG.UNUSED_BLOCK||y==a.default.MSG.END_OF_CHAIN)break}},p.prototype.getNextBlockSmall=function(f){return this.getNextBlockInner(f,this.sbatData)},p.prototype.getChainByBlockSmall=function(f){for(var g=[],h=f.startBlock;h!=a.default.MSG.END_OF_CHAIN;)g.push(h),h=this.getNextBlockSmall(h);return g},p.prototype.readBigBlockTable=function(){for(var f=this.propertyData[0],g=[],h=f.startBlock,y=0;h!=a.default.MSG.END_OF_CHAIN;y++)g.push(h),h=this.getNextBlock(h);return g},p.prototype.readDataByBlockSmall=function(f,g,h,y){var v=f*a.default.MSG.SMALL_BLOCK_SIZE,m=Math.floor(v/this.bigBlockSize),b=v%this.bigBlockSize,j=this.bigBlockTable[m],E=this.getBlockOffsetAt(j);return this.ds.seek(E+b),this.ds.readToUint8Array(g,h,y)},p.prototype.readChainDataByBlockSmall=function(f,g){for(var h=new Uint8Array(f.sizeBlock),y=0,v=0;y<g.length;y++){var m=h.length<v+a.default.MSG.SMALL_BLOCK_SIZE?h.length-v:a.default.MSG.SMALL_BLOCK_SIZE;this.readDataByBlockSmall(g[y],m,h,v),v+=m}return h},p.prototype.readProperty=function(f){if(f.sizeBlock)if(f.sizeBlock<a.default.MSG.BIG_BLOCK_MIN_DOC_SIZE){var g=this.getChainByBlockSmall(f);if(g.length==1){var h=new Uint8Array(f.sizeBlock);return this.readDataByBlockSmall(f.startBlock,f.sizeBlock,h,0),h}else if(g.length>1)return this.readChainDataByBlockSmall(f,g);return new Uint8Array(0)}else{for(var y=f.startBlock,v=f.sizeBlock,m=0,h=new Uint8Array(f.sizeBlock);1<=v;){var b=this.getBlockOffsetAt(y);this.ds.seek(b);var j=Math.min(v,this.bigBlockSize),E=this.ds.readUint8Array(j);h.set(E,m),m+=j,v-=j,y=this.getNextBlock(y)}return h}else return new Uint8Array(0)},p.prototype.readFileOf=function(f){return this.readProperty(this.propertyData[f])},p.prototype.folderOf=function(f){var g=this,h=this.propertyData;if(!h)return null;var y=h[f];return{dataId:f,name:y.name,fileNames:function(){var v=y.children;return v?v.map(function(m){return h[m]}).filter(function(m){return m.type===r.DOCUMENT}).map(function(m){return m.name}):[]},fileNameSets:function(){var v=y.children;return v?v.map(function(m){return{subIndex:m,entry:h[m]}}).filter(function(m){return m.entry.type===r.DOCUMENT}).map(function(m){return{name:m.entry.name,length:m.entry.sizeBlock,dataId:m.subIndex,provider:function(){return g.readProperty(m.entry)}}}):[]},subFolders:function(){var v=y.children;return v?v.filter(function(m){return h[m].type==r.DIRECTORY}).map(function(m){return g.folderOf(m)}):[]},readFile:function(v){var m=y.children;if(m)for(var b=0,j=m;b<j.length;b++){var E=j[b],A=h[E];if(A&&A.type===r.DOCUMENT&&A.name===v)return g.readProperty(A)}return null}}},p.prototype.rootFolder=function(){return this.folderOf(0)},p})();return wi.Reader=c,wi}var ga={},cx;function D1(){if(cx)return ga;cx=1;var o=ga&&ga.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(ga,"__esModule",{value:!0}),ga.burn=g;var d=Lx(),l=o(uo()),a=o(bd());function r(h){return h+511&-512}function c(h){return h+63&-64}var p=(function(){function h(y){this.sectors=y}return h.prototype.allocate=function(y){for(var v=this.sectors.length,m=0;m<y;m++){var b=m+1===y?-2:v+m+1;this.sectors.push(b)}return v},h.prototype.allocateAs=function(y,v){for(var m=this.sectors.length,b=0;b<y;b++)this.sectors.push(v);return m},h.prototype.finalize=function(y,v){for(var m=(y-this.sectors.length%y)%y;m>=1;m-=1)this.sectors.push(v);return this},h.prototype.count=function(){return this.sectors.length},h})(),f=(function(){function h(y){this.fat=new p([]),this.miniFat=new p([]),this.liteEnts=y.map(function(oe){return{entry:oe,left:-1,right:-1,child:-1,firstSector:0,isMini:oe.length<4096,isRed:!1}}),this.buildTree(0);for(var v=this.fat.allocate(r(128*this.liteEnts.length)/512),m=0,b=this.liteEnts.filter(function(oe){return oe.entry.type==d.TypeEnum.DOCUMENT&&oe.isMini===!1});m<b.length;m++){var j=b[m];j.firstSector=j.entry.length===0?-2:this.fat.allocate(r(j.entry.length)/512)}for(var E=0,A=this.liteEnts.filter(function(oe){return oe.entry.type==d.TypeEnum.DOCUMENT&&oe.isMini===!0});E<A.length;E++){var j=A[E];j.firstSector=j.entry.length===0?-2:this.miniFat.allocate(c(j.entry.length)/64)}var N=r(4*this.miniFat.count())/512,k=N!==0?this.fat.allocate(N):-2,C=64*this.miniFat.count(),D=this.fat.allocate(r(C)/512);this.liteEnts[0].firstSector=D;var w=this.fat.allocateAs(r(4*(this.fat.count()+this.fat.count()/128+this.fat.count()/13952))/512,-3),T=this.fat.count()-w,_=T>109?r(4*Math.floor((T-109)/127*128))/512:0,L=_!==0?this.fat.allocateAs(_,-4):-2,B=new ArrayBuffer(512*(1+this.fat.count())),O=new l.default(B,0,l.default.LITTLE_ENDIAN);O.dynamicSize=!1,this.miniFat.finalize(512/4,-1);var G=[],K=[];{for(var J=0;J<109&&J<T;J++)G.push(w+J);for(var le=L+1;J<T;J++){K.push(w+J);var I=K.length&127;I===127&&(K.push(le),le++)}for(;;){var I=K.length&127;if(I===0)break;K.push(I===127?-2:-1)}}{O.seek(0),O.writeUint8Array(a.default.FILE_HEADER),O.seek(24),O.writeUint16(62),O.writeUint16(3),O.writeUint16(65534),O.writeUint16(9),O.writeUint16(6),O.seek(44),O.writeInt32(T),O.writeInt32(v),O.seek(56),O.writeInt32(4096),O.writeInt32(k),O.writeInt32(N),O.writeInt32(L),O.writeInt32(_);for(var J=0;J<G.length;J++)O.writeInt32(G[J]);for(;J<109;J++)O.writeInt32(-1)}for(var J=0;J<this.liteEnts.length;J++){var j=this.liteEnts[J],F=512*(1+v)+128*J;O.seek(F),O.writeUCS2String(j.entry.name,null,null);var M=O.position-F;O.seek(F+64),O.writeUint16(Math.min(64,M+2)),O.writeUint8(j.entry.type),O.writeUint8(j.isRed?0:1),O.writeInt32(j.left),O.writeInt32(j.right),O.writeInt32(j.child),J===0&&(O.seek(F+80),O.writeUint8Array([11,13,2,0,0,0,0,0,192,0,0,0,0,0,0,70]));var W=J===0?C:j.entry.length,P=W!==0?j.firstSector:j.entry.type===d.TypeEnum.DIRECTORY?0:-2;O.seek(F+116),O.writeInt32(P),O.writeInt32(W)}for(var Y=0,R=this.liteEnts.filter(function(oe){return oe.entry.type==d.TypeEnum.DOCUMENT&&oe.isMini===!1});Y<R.length;Y++){var j=R[Y],$=j.entry.binaryProvider();O.seek(512*(1+j.firstSector)),O.writeUint8Array($)}for(var ie=0,ne=this.liteEnts.filter(function(oe){return oe.entry.type==d.TypeEnum.DOCUMENT&&oe.isMini===!0});ie<ne.length;ie++){var j=ne[ie],$=j.entry.binaryProvider();O.seek(512*(1+D)+64*j.firstSector),O.writeUint8Array($)}O.seek(512*(1+k)),O.writeInt32Array(this.miniFat.sectors),this.fat.finalize(512/4,-1),O.seek(512*(1+w)),O.writeInt32Array(this.fat.sectors),_>=1&&(O.seek(512*(1+L)),O.writeInt32Array(K)),this.array=B}return h.prototype.compareName=function(y,v){var m=y.length-v.length;if(m===0){var b=y.toUpperCase(),j=v.toUpperCase();b>j?m=1:b<j&&(m=-1)}return m},h.prototype.buildTree=function(y){var v=this,m=this.liteEnts,b=m[y];if(b.entry.type===d.TypeEnum.DOCUMENT)throw new Error("It must be a storage!");var j=b.entry.children.concat();if(1<=j.length){j.sort(function(D,w){return v.compareName(m[D].entry.name,m[w].entry.name)});var E=function(D,w,T){if(D<w){var _=Math.floor((D+w)/2),L=j[_],B=m[L];return B.isRed=T,B.left=E(D,_,!T),B.right=E(_+1,w,!T),L}else return-1},A=function(){var D=Math.floor(j.length/2),w=j[D],T=m[w];return T.isRed=!1,T.left=E(0,D,!0),T.right=E(D+1,j.length,!0),w};b.child=A();for(var N=0,k=j.filter(function(D){return m[D].entry.type===d.TypeEnum.DIRECTORY});N<k.length;N++){var C=k[N];this.buildTree(C)}}},h})();function g(h){return new Uint8Array(new f(h).array)}return ga}var ma={},dx;function C1(){if(dx)return ma;dx=1;var o=ma&&ma.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ma,"__esModule",{value:!0}),ma.parse=l;var d=o(uo());function l(a){for(var r=new d.default(a,0,d.default.LITTLE_ENDIAN),c=[];!r.isEof();){var p=r.readUint32(),f=r.readUint16(),g=r.readUint16();c.push({key:p,isStringProperty:(f&1)!=0,guidIndex:f>>1&32767,propertyIndex:g})}return c}return ma}var Kr={},ux;function A1(){if(ux)return Kr;ux=1,Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.parse=o;function o(d){for(var l=[],a=0;!d.isEof();){var r=d.readUint16();if(r===258){a=d.readUint16(),d.readUint16();for(var c=0;c<a;c+=1){var p=d.readInt32(),f=d.readUint8(),g=d.readString(f),h=d.readUint8();d.readString(h);var y=d.readUint8();d.readString(y);var v=d.readUint8();d.readString(v),d.readInt32(),d.readUint8(),d.readInt32(),d.readInt32(),d.readInt32(),d.readInt32(),d.readInt32(),d.readInt32(),l.push({VerbType:p,DisplayName:g})}}else if(r===260)for(var c=0;c<a;c+=1){var f=d.readUint8(),g=d.readUCS2String(f),v=d.readUint8();d.readUCS2String(v),l[c].DisplayName=g}}return l.filter(function(m){return m.VerbType===4}).map(function(m){return m.DisplayName}).join(";")}return Kr}var Jr={},px;function T1(){if(px)return Jr;px=1,Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.parse=a;var o=zs(),d=1,l=2;function a(r){var c={rules:[]};if(!r.isEof()){var p=r.readUint8();if(p!==2)throw new Error("TZDEFINITION major version not supported");if(r.readUint8(),p<1)throw new Error("TZDEFINITION minor version not supported");var f=r.readUint16(),g=r.readUint16();if(g&d&&(r.readInt32(),r.readInt32(),r.readInt32(),r.readInt32()),g&l){var h=r.readUint16();c.keyName=r.readUCS2String(h)}var y=r.readUint16();r.seek(4+f);for(var v=0;v<y;v++){var m=r.readUint8();if(m!==2||(r.readUint8(),m<1))break;var b=r.readUint16(),j=r.position,E=r.readUint16(),A=(0,o.readSystemTime)(r),N=r.readInt32(),k=r.readInt32(),C=r.readInt32(),D=(0,o.readTransitionSystemTime)(r),w=(0,o.readTransitionSystemTime)(r),T=Object.assign({},{flags:E,start:A?.toUTCString()||null,bias:N,standardBias:k,daylightBias:C,standardDate:D,daylightDate:w});c.rules.push(T),r.seek(j+b)}}return c}return Jr}var eo={},fx;function z1(){if(fx)return eo;fx=1,Object.defineProperty(eo,"__esModule",{value:!0}),eo.parse=d;var o=zs();function d(l){if(!l.isEof()){var a=l.readInt32(),r=l.readInt32(),c=l.readInt32(),p=l.readUint16(),f=(0,o.readTransitionSystemTime)(l),g=l.readUint16(),h=(0,o.readTransitionSystemTime)(l);return Object.assign({},{bias:a,standardBias:r,daylightBias:c,standardYear:p,standardDate:f,daylightYear:g,daylightDate:h})}return null}return eo}var jt={},hx;function xx(){if(hx)return jt;hx=1,Object.defineProperty(jt,"__esModule",{value:!0}),jt.OverrideFlags=jt.EndType=jt.CalendarType=jt.PatternType=jt.RecurFrequency=void 0,jt.parse=p;var o;(function(f){f[f.Daily=8202]="Daily",f[f.Weekly=8203]="Weekly",f[f.Monthly=8204]="Monthly",f[f.Yearly=8205]="Yearly"})(o||(jt.RecurFrequency=o={}));var d;(function(f){f[f.Day=0]="Day",f[f.Week=1]="Week",f[f.Month=2]="Month",f[f.MonthEnd=4]="MonthEnd",f[f.MonthNth=3]="MonthNth",f[f.HjMonth=10]="HjMonth",f[f.HjMonthNth=11]="HjMonthNth",f[f.HjMonthEnd=12]="HjMonthEnd"})(d||(jt.PatternType=d={}));var l;(function(f){f[f.Default=0]="Default",f[f.CAL_GREGORIAN=1]="CAL_GREGORIAN",f[f.CAL_GREGORIAN_US=2]="CAL_GREGORIAN_US",f[f.CAL_JAPAN=3]="CAL_JAPAN",f[f.CAL_TAIWAN=4]="CAL_TAIWAN",f[f.CAL_KOREA=5]="CAL_KOREA",f[f.CAL_HIJRI=6]="CAL_HIJRI",f[f.CAL_THAI=7]="CAL_THAI",f[f.CAL_HEBREW=8]="CAL_HEBREW",f[f.CAL_GREGORIAN_ME_FRENCH=9]="CAL_GREGORIAN_ME_FRENCH",f[f.CAL_GREGORIAN_ARABIC=10]="CAL_GREGORIAN_ARABIC",f[f.CAL_GREGORIAN_XLIT_ENGLISH=11]="CAL_GREGORIAN_XLIT_ENGLISH",f[f.CAL_GREGORIAN_XLIT_FRENCH=12]="CAL_GREGORIAN_XLIT_FRENCH",f[f.CAL_LUNAR_JAPANESE=14]="CAL_LUNAR_JAPANESE",f[f.CAL_CHINESE_LUNAR=15]="CAL_CHINESE_LUNAR",f[f.CAL_SAKA=16]="CAL_SAKA",f[f.CAL_LUNAR_ETO_CHN=17]="CAL_LUNAR_ETO_CHN",f[f.CAL_LUNAR_ETO_KOR=18]="CAL_LUNAR_ETO_KOR",f[f.CAL_LUNAR_ROKUYOU=19]="CAL_LUNAR_ROKUYOU",f[f.CAL_LUNAR_KOREAN=20]="CAL_LUNAR_KOREAN",f[f.CAL_UMALQURA=23]="CAL_UMALQURA"})(l||(jt.CalendarType=l={}));var a;(function(f){f[f.EndAfterDate=8225]="EndAfterDate",f[f.EndAfterNOccurrences=8226]="EndAfterNOccurrences",f[f.NeverEnd=8227]="NeverEnd",f[f.NeverEnd2=4294967295]="NeverEnd2"})(a||(jt.EndType=a={}));var r;(function(f){f[f.ARO_SUBJECT=1]="ARO_SUBJECT",f[f.ARO_MEETINGTYPE=2]="ARO_MEETINGTYPE",f[f.ARO_REMINDERDELTA=4]="ARO_REMINDERDELTA",f[f.ARO_REMINDER=8]="ARO_REMINDER",f[f.ARO_LOCATION=16]="ARO_LOCATION",f[f.ARO_BUSYSTATUS=32]="ARO_BUSYSTATUS",f[f.ARO_ATTACHMENT=64]="ARO_ATTACHMENT",f[f.ARO_SUBTYPE=128]="ARO_SUBTYPE",f[f.ARO_APPTCOLOR=256]="ARO_APPTCOLOR",f[f.ARO_EXCEPTIONAL_BODY=512]="ARO_EXCEPTIONAL_BODY"})(r||(jt.OverrideFlags=r={}));function c(f){var g=f.readUint16();if(g!==12292)throw new Error("ReaderVersion not supported");var h=f.readUint16();if(h!==12292)throw new Error("WriterVersion not supported");var y=f.readUint16(),v=f.readUint16(),m=f.readUint16(),b=f.readUint32(),j=f.readUint32(),E=f.readUint32(),A=void 0,N=void 0,k=void 0;v===d.Week?A={dayOfWeekBits:f.readUint32()}:v===d.Month||v===d.MonthEnd||v===d.HjMonth||v===d.HjMonthEnd?N={day:f.readUint32()}:(v===d.MonthNth||v===d.HjMonthNth)&&(k={dayOfWeekBits:f.readUint32(),n:f.readUint32()});var C=f.readUint32(),D=f.readUint32(),w=f.readUint32(),T=f.readUint32(),_=Array.from(f.readUint32Array(T)),L=f.readUint32(),B=Array.from(f.readUint32Array(L)),O=f.readUint32(),G=f.readUint32();return Object.assign({recurFrequency:y,patternType:v,calendarType:m,firstDateTime:b,period:j,slidingFlag:E,endType:C,occurrenceCount:D,firstDOW:w,deletedInstanceDates:_,modifiedInstanceDates:B,startDate:O,endDate:G},A?{patternTypeWeek:A}:{},N?{patternTypeMonth:N}:{},k?{patternTypeMonthNth:k}:{})}function p(f,g){var h=c(f),y=f.readUint32();if(y!==12294)throw new Error("ReaderVersion2 not supported");var v=f.readUint32();if(v<12294)throw new Error("WriterVersion2 not supported");for(var m=f.readUint32(),b=f.readUint32(),j=f.readUint16(),E=[],A=0;A<j;A++){var N=f.readUint32(),k=f.readUint32(),C=f.readUint32(),D=f.readUint16(),w=void 0;if(D&r.ARO_SUBJECT){var T=f.readUint16(),_=f.readUint16();if(T-1!==_)throw new Error("subjectLength ".concat(T," and subjectLength2 ").concat(_," are not close!"));w=f.readString(_,g)}var L=void 0;D&r.ARO_MEETINGTYPE&&(L=f.readUint32());var B=void 0;D&r.ARO_REMINDERDELTA&&(B=f.readUint32());var O=void 0;D&r.ARO_REMINDER&&(O=f.readUint32());var G=void 0;if(D&r.ARO_LOCATION){var K=f.readUint16(),J=f.readUint16();if(K-1!==J)throw new Error("locationLength ".concat(K," and locationLength2 ").concat(J," are not close!"));G=f.readString(J,g)}var le=void 0;D&r.ARO_BUSYSTATUS&&(le=f.readUint32());var I=void 0;D&r.ARO_ATTACHMENT&&(I=f.readUint32());var F=void 0;D&r.ARO_SUBTYPE&&(F=f.readUint32());var M=void 0;D&r.ARO_APPTCOLOR&&(M=f.readUint32()),E.push(Object.assign({startDateTime:N,endDateTime:k,originalStartTime:C,overrideFlags:D},w?{subject:w}:{},L?{meetingType:L}:{},B?{reminderDelta:B}:{},O?{reminderSet:O}:{},G?{location:G}:{},le?{busyStatus:le}:{},I?{attachment:I}:{},F?{subType:F}:{},M?{appointmentColor:M}:{}))}var W=f.readUint32();if(W!==0)throw new Error("reservedBlock1Size ".concat(W," is not zero, AppointmentRecur is broken"));for(var A=0;A<j;A++){var P=E[A];if(12297<=v){var Y=f.readUint32();P.changeHighlight=f.readUint32(),f.position+=Y-4}var R=f.readUint32();if(R!==0)throw new Error("reservedBlockEE1Size ".concat(R," is not zero, AppointmentRecur is broken"));if(P.overrideFlags&(r.ARO_SUBJECT|r.ARO_LOCATION)){var N=f.readUint32(),k=f.readUint32();if(f.readUint32(),P.overrideFlags&r.ARO_SUBJECT){var $=f.readUint16();P.subject=f.readUCS2String($)}if(P.overrideFlags&r.ARO_LOCATION){var ie=f.readUint16();P.location=f.readUCS2String(ie)}var ne=f.readUint32();if(ne!==0)throw new Error("reservedBlockEE2Size ".concat(ne," is not zero, AppointmentRecur is broken"))}}var oe=f.readUint32();if(oe!==0)throw new Error("reservedBlock2Size ".concat(oe," is not zero, AppointmentRecur is broken"));return{recurrencePattern:h,startTimeOffset:m,endTimeOffset:b,exceptionInfo:E}}return jt}var gx;function mx(){return gx||(gx=1,(function(o){var d=Es&&Es.__importDefault||function(k){return k&&k.__esModule?k:{default:k}};Object.defineProperty(o,"__esModule",{value:!0}),o.OverrideFlags=o.EndType=o.CalendarType=o.PatternType=o.RecurFrequency=void 0;var l=d(bd()),a=d(uo()),r=Lx(),c=D1(),p=zs(),f=C1(),g=A1(),h=T1(),y=z1(),v=xx(),m=xx();Object.defineProperty(o,"RecurFrequency",{enumerable:!0,get:function(){return m.RecurFrequency}}),Object.defineProperty(o,"PatternType",{enumerable:!0,get:function(){return m.PatternType}}),Object.defineProperty(o,"CalendarType",{enumerable:!0,get:function(){return m.CalendarType}}),Object.defineProperty(o,"EndType",{enumerable:!0,get:function(){return m.EndType}}),Object.defineProperty(o,"OverrideFlags",{enumerable:!0,get:function(){return m.OverrideFlags}});var b;(function(k){k[k.DIRECTORY=1]="DIRECTORY",k[k.DOCUMENT=2]="DOCUMENT",k[k.ROOT=5]="ROOT"})(b||(b={}));var j;(function(k){k[k.root=0]="root",k[k.toSub=1]="toSub",k[k.named=2]="named"})(j||(j={}));function E(k){return(k-116444736e9)/1e4}function A(k){var C=k.indexOf("\0");return C!==-1?k.substring(0,C):k}var N=(function(){function k(C){this.reader=new r.Reader(C)}return k.prototype.decodeField=function(C,D,w,T,_){var L=w(),B=new a.default(L,0,a.default.LITTLE_ENDIAN),O=l.default.MSG.FIELD.FULL_NAME_MAPPING["".concat(C).concat(D)]||l.default.MSG.FIELD.NAME_MAPPING[C],G=j.root,K=void 0,J=void 0,le=parseInt("0x".concat(C));if(le>=32768){var I=this.privatePidToKeyed[le];if(I)if(I.useName)O=I.name,G=j.named;else{K=I.propertySet,J=(0,p.toHex4)(I.propertyLid);var F=l.default.MSG.FIELD.PIDLID_MAPPING[I.propertySet];if(F!==void 0){var M=F[I.propertyLid];M!==void 0&&(M.dispid!==void 0?(O=M.dispid,G=j.root):(O=M.id,G=j.toSub))}}}var W=L,P=!1,Y=l.default.MSG.FIELD.TYPE_MAPPING[D];if(Y==="string")W=A(B.readString(L.length,T)),P=_;else if(Y==="unicode")W=A(B.readUCS2String(L.length/2)),P=_;else if(Y==="binary")P=_;else if(Y==="integer")W=B.readUint32();else if(Y==="boolean")W=!!B.readUint16();else if(Y==="time"){var R=B.readUint32(),$=R+4294967296*B.readUint32();W=new Date(E($)).toUTCString()}if(P&&(O=void 0),O==="PidLidVerbStream")O="votingOptions",G=j.root,W=(0,g.parse)(B);else if(O==="apptTZDefStartDisplay"||O==="apptTZDefEndDisplay"||O==="apptTZDefRecur")G=j.root,W=(0,h.parse)(B);else if(O==="timeZoneStruct")W=(0,y.parse)(B);else if(O==="apptRecur")try{W=(0,v.parse)(B,T)}catch(de){console.debug(de),O=void 0}else if(O==="recipType"){var ie=1,ne=2,oe=3;W===ie?W="to":W===ne?W="cc":W===oe&&(W="bcc")}else O==="globalAppointmentID"&&(W=(0,p.bin2HexUpper)(B));var ue="".concat(C).concat(D);return{key:O,keyType:G,value:W,notForRawProp:P,propertyTag:ue,propertySet:K,propertyLid:J}},k.prototype.fieldsDataDocument=function(C,D,w){var T=D.name.substring(12).toLowerCase(),_=T.substring(0,4),L=T.substring(4,8);C.propertyObserver&&C.propertyObserver(w,parseInt(T.substring(0,8),16),D.provider()),_==l.default.MSG.FIELD.CLASS_MAPPING.ATTACHMENT_DATA?(w.dataId=D.dataId,w.contentLength=D.length):this.setDecodedFieldTo(C,w,this.decodeField(_,L,D.provider,C.ansiEncoding,!1))},k.prototype.setDecodedFieldTo=function(C,D,w){var T=w.key,_=w.keyType,L=w.value;T!==void 0&&_===j.root&&(D[T]=L),C.includeRawProps===!0&&(D.rawProps=D.rawProps||[],w.notForRawProp||D.rawProps.push({propertyTag:w.propertyTag,propertySet:w.propertySet,propertyLid:w.propertyLid,propertyName:w.keyType===j.named?w.key:void 0,value:L}))},k.prototype.getFieldType=function(C){var D=C.name.substring(12).toLowerCase();return D.substring(4,8)},k.prototype.fieldsDataDirInner=function(C,D,w,T){var _=this;if(D.name.indexOf(l.default.MSG.FIELD.PREFIX.ATTACHMENT)==0){var L={dataType:"attachment"};T.attachments.push(L),this.fieldsDataDir(C,D,w,L,"attachment")}else if(D.name.indexOf(l.default.MSG.FIELD.PREFIX.RECIPIENT)==0){var B={dataType:"recipient"};T.recipients.push(B),this.fieldsDataDir(C,D,w,B,"recip")}else if(D.name.indexOf(l.default.MSG.FIELD.PREFIX.NAMEID)==0)this.fieldsNameIdDir(C,D,w,T);else{var O=this.getFieldType(D);if(O==l.default.MSG.FIELD.DIR_TYPE.INNER_MSG){var G={dataType:"msg",attachments:[],recipients:[]};this.fieldsDataDir(C,D,w,G,"sub"),T.innerMsgContentFields=G,T.innerMsgContent=!0,T.folderId=D.dataId,this.innerMsgBurners[D.dataId]=function(){return _.burnMsg(D,w)}}}},k.prototype.burnMsg=function(C,D){var w=[{name:"Root Entry",type:b.ROOT,children:[],length:0}];return this.registerFolder(w,0,C,D,0),(0,c.burn)(w)},k.prototype.registerFolder=function(C,D,w,T,_){for(var L=function(Y){var R=Y.provider,$=Y.length;if(_===0&&Y.name==="__properties_version1.0"){var ie=R(),ne=new Uint8Array(ie.length+8);ne.set(ie.subarray(0,24),0),ne.set(ie.subarray(24),32),R=function(){return ne},$=ne.length}var oe=C.length;C[D].children.push(oe),C.push({name:Y.name,type:b.DOCUMENT,binaryProvider:R,length:$})},B=0,O=w.fileNameSets();B<O.length;B++){var G=O[B];L(G)}if(_===0)for(var K=T.subFolders().filter(function(Y){return Y.name===l.default.MSG.FIELD.PREFIX.NAMEID}),J=0,le=K;J<le.length;J++){var I=le[J],F=C.length;C[D].children.push(F),C.push({name:I.name,type:b.DIRECTORY,children:[],length:0}),this.registerFolder(C,F,I,T,_+1)}for(var M=0,W=w.subFolders();M<W.length;M++){var P=W[M],F=C.length;C[D].children.push(F),C.push({name:P.name,type:b.DIRECTORY,children:[],length:0}),this.registerFolder(C,F,P,T,_+1)}},k.prototype.fieldsRecipAndAttachmentProperties=function(C,D,w){var T=D.provider(),_=new a.default(T,8,a.default.LITTLE_ENDIAN);this.importPropertiesFromFile(C,_,w)},k.prototype.importPropertiesFromFile=function(C,D,w){for(var T=function(){var B=D.readUint32();if(B===0)return"break";D.readUint32();var O=D.readUint8Array(8);C.propertyObserver(w,B,O);var G=(0,p.toHex2)(B/65536&65535),K=(0,p.toHex2)(B&65535);_.setDecodedFieldTo(C,w,_.decodeField(G,K,function(){return O},C.ansiEncoding,!0))},_=this;!D.isEof();){var L=T();if(L==="break")break}},k.prototype.fieldsRootProperties=function(C,D,w){var T=D.provider(),_=new a.default(T,32,a.default.LITTLE_ENDIAN);this.importPropertiesFromFile(C,_,w)},k.prototype.fieldsDataDir=function(C,D,w,T,_){for(var L=0,B=D.subFolders();L<B.length;L++){var O=B[L];this.fieldsDataDirInner(C,O,w,T)}for(var G=0,K=D.fileNameSets();G<K.length;G++){var J=K[G];J.name.indexOf(l.default.MSG.FIELD.PREFIX.DOCUMENT)==0?this.fieldsDataDocument(C,J,T):J.name==="__properties_version1.0"&&(_==="recip"||_==="attachment"||_==="sub"?this.fieldsRecipAndAttachmentProperties(C,J,T):_==="root"&&this.fieldsRootProperties(C,J,T))}},k.prototype.fieldsNameIdDir=function(C,D,w,T){for(var _=void 0,L=void 0,B=void 0,O=0,G=D.fileNameSets();O<G.length;O++){var K=G[O];if(K.name.indexOf(l.default.MSG.FIELD.PREFIX.DOCUMENT)==0){var J=K.name.substring(12).toLowerCase(),le=J.substring(0,4),I=J.substring(4,8);le==="0002"&&I==="0102"?_=K.provider():le==="0003"&&I==="0102"?B=K.provider():le==="0004"&&I==="0102"&&(L=K.provider())}}if(_!==void 0&&L!==void 0&&B!==void 0)for(var F=(0,f.parse)(B),M=new a.default(L,0,a.default.LITTLE_ENDIAN),W=0,P=F;W<P.length;W++){var Y=P[W];if(Y.isStringProperty){M.seek(Y.key);var R=M.readUint32();this.privatePidToKeyed[32768|Y.propertyIndex]={useName:!0,name:M.readUCS2String(R/2)}}else this.privatePidToKeyed[32768|Y.propertyIndex]={useName:!1,propertySet:Y.guidIndex===1?"00020328-00000-0000-C000-00000000046":Y.guidIndex===2?"00020329-00000-0000-C000-00000000046":(0,p.msftUuidStringify)(_,16*(Y.guidIndex-3)),propertyLid:Y.key}}},k.prototype.fieldsDataReader=function(C){var D={dataType:"msg",attachments:[],recipients:[]};return this.fieldsDataDir(C,this.reader.rootFolder(),this.reader.rootFolder(),D,"root"),D},k.prototype.parseMsgData=function(C){return this.reader.parse(),this.fieldsDataReader(C)},k.prototype.getFileData=function(){var C,D,w;if(this.fieldsData===void 0){if(!this.reader.isMSGFile())return{dataType:null,error:"Unsupported file type!"};this.innerMsgBurners={},this.privatePidToKeyed={},this.fieldsData=this.parseMsgData({propertyObserver:((C=this.parserConfig)===null||C===void 0?void 0:C.propertyObserver)||(function(){}),includeRawProps:!!(!((D=this.parserConfig)===null||D===void 0)&&D.includeRawProps),ansiEncoding:(0,p.emptyToNull)((w=this.parserConfig)===null||w===void 0?void 0:w.ansiEncoding)})}return this.fieldsData},k.prototype.getAttachment=function(C){var D=typeof C=="number"?this.fieldsData.attachments[C]:C;if(D.innerMsgContent===!0&&typeof D.folderId=="number")return{fileName:D.name+".msg",content:this.innerMsgBurners[D.folderId]()};var w=this.reader.readFileOf(D.dataId);return{fileName:D.fileName,content:w}},k})();o.default=N})(Es)),Es}var yx;function k1(){return yx||(yx=1,(function(o){var d=ji&&ji.__createBinding||(Object.create?(function(c,p,f,g){g===void 0&&(g=f);var h=Object.getOwnPropertyDescriptor(p,f);(!h||("get"in h?!p.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return p[f]}}),Object.defineProperty(c,g,h)}):(function(c,p,f,g){g===void 0&&(g=f),c[g]=p[f]})),l=ji&&ji.__exportStar||function(c,p){for(var f in c)f!=="default"&&!Object.prototype.hasOwnProperty.call(p,f)&&d(p,c,f)},a=ji&&ji.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(o,"__esModule",{value:!0});var r=a(mx());l(mx(),o),o.default=r.default})(ji)),ji}var R1=k1();const _1=wx(R1);async function F1(o){try{const d=Buffer.from(o),a=new _1(d).getFileData(),r={from:{name:"",email:""},to:[],cc:[],bcc:[],subject:a.subject||"",date:a.creationTime?new Date(a.creationTime):new Date,messageId:a.messageId||"",body:a.body||a.bodyHTML||"",rawHeaders:a.headers||{},attachments:[]};return(a.senderName||a.senderEmail)&&(r.from={name:a.senderName||"",email:a.senderEmail||a.senderSmtpAddress||""}),a.recipients&&Array.isArray(a.recipients)&&a.recipients.forEach(c=>{const p={name:c.name||"",email:c.email||c.smtpAddress||""};c.recipType===1||c.recipientType==="to"?r.to.push(p):c.recipType===2||c.recipientType==="cc"?r.cc.push(p):c.recipType===3||c.recipientType==="bcc"?r.bcc.push(p):r.to.push(p)}),a.attachments&&Array.isArray(a.attachments)&&(r.attachments=a.attachments.map(c=>({filename:c.fileName||c.name||"attachment",contentType:c.mimeType||c.extension||"application/octet-stream",size:c.dataSize||0,data:c.content||null}))),!r.body&&a.bodyHTML&&(r.body=M1(a.bodyHTML)),r.body=Ux(r.body),r}catch(d){return console.error("Error parsing MSG file with msgreader:",d),N1(o)}}function M1(o){if(!o)return"";let d=o.replace(/<[^>]*>/g," ");return d=d.replace(/&nbsp;/g," ").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'"),d=d.replace(/\s+/g," ").trim(),d}function Ux(o){return o?o.replace(/\x00/g,"").replace(/[\x01-\x08\x0B-\x0C\x0E-\x1F]/g," ").replace(/\s+/g," ").trim().substring(0,5e4):""}function N1(o){try{const l=new TextDecoder("utf-8",{fatal:!1}).decode(o),a={from:{name:"",email:""},to:[],cc:[],bcc:[],subject:"",date:new Date,messageId:"",body:"",rawHeaders:{},attachments:[]},r=l.match(/Subject[:\s]+([^\x00\r\n]+)/i);r&&(a.subject=to(r[1]));const c=l.match(/From[:\s]+([^\x00\r\n]+)/i);if(c){const v=to(c[1]);a.from=Wx(v)}let p=l.match(/To[:\s]+([^\x00\r\n]+)/i);if(p||(p=l.match(/To[:\s]*([^\x00]+?(?:@[^\x00;,\s]+[;,\s]?)+)/i)),p){const v=to(p[1]);a.to=I1(v)}if(a.to.length===0){const v=/([a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,})/g,m=l.match(v);if(m&&m.length>0){const b=[...new Set(m)];a.to=b.slice(0,5).map(j=>({name:"",email:to(j)}))}}const f=l.match(/[\x00-\xFF]{0,1000}([a-zA-Z0-9\s.,!?;:'"()\-]{200,})/g),g=l.split(/Subject.*?\n/i).slice(1).join(`
`),h=l.match(/([a-zA-Z0-9\s.,!?;:'"()\-\n]{100,})/g);let y="";return f&&f.length>0&&(y=f.reduce((v,m)=>v.length>m.length?v:m,"")),(!y||y.length<50)&&g&&g.length>50&&(y=g),(!y||y.length<50)&&h&&h.length>0&&(y=h.reduce((v,m)=>v.length>m.length?v:m,"")),a.body=Ux(y),a}catch(d){throw console.error("Error in fallback MSG parsing:",d),new Error("Failed to parse MSG file: "+d.message)}}function to(o){return o?o.replace(/\x00/g,"").replace(/[\x01-\x08\x0B-\x0C\x0E-\x1F]/g,"").trim():""}function Wx(o){if(!o)return{name:"",email:""};const d=o.match(/(.*)<(.+?)>/);if(d)return{name:d[1].trim().replace(/^["']|["']$/g,""),email:d[2].trim()};const l=o.match(/([a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,})/);return l?{name:"",email:l[1].trim()}:{name:"",email:o.trim()}}function I1(o){return o?o.split(/[;,]/).map(d=>Wx(d.trim())).filter(d=>d.email):[]}function O1({stats:o,healthScore:d}){const[l,a]=U.useState(vd()),[r,c]=U.useState(En()),[p,f]=U.useState(Ix()),[g,h]=U.useState(co()),[y,v]=U.useState(cd()),[m,b]=U.useState("email-upload"),[j,E]=U.useState(!1),[A,N]=U.useState(!1),[k,C]=U.useState(null),[D,w]=U.useState([]),[T,_]=U.useState(null),[L,B]=U.useState({subject:"",body:""}),[O,G]=U.useState(!1),[K,J]=U.useState(null),[le,I]=U.useState(!1),[F,M]=U.useState(!1),[W,P]=U.useState(""),[Y,R]=U.useState("list"),[$,ie]=U.useState(null),[ne,oe]=U.useState(!1),[ue,de]=U.useState({name:"",role:"",email:"",frequency:"weekly",interests:[]}),[me,je]=U.useState({title:"",description:"",stakeholderIds:[],linkedEpics:[],linkedIssues:[],tags:[],approvedBy:[]}),Vt=()=>{const Q=Py(ue);a(Q),de({name:"",role:"",email:"",frequency:"weekly",interests:[]}),E(!1)},Qt=Q=>{if(confirm("Remove this stakeholder?")){const ce=$y(Q);a(ce)}},ti=Q=>{C(Q),B({subject:Q.subject,body:Q.body}),_(null),N(!0)},ks=()=>{if(D.length===0){alert("Please select at least one stakeholder");return}const Q=Ci();let ce="all";if(D.length===1){const Ze=l.find(Je=>Je.id===D[0]);Ze&&Ze.name&&(ce=Ze.name.split(" ")[0])}const ye=Wc(k,{stakeholderName:ce,projectName:Q.projectId||"Project",healthScore:d,stats:o,statusSummary:"Project is progressing as planned.",senderName:"Project Manager"});Hh({stakeholderIds:D,subject:k.subject,content:ye,type:k.id}),c(En()),N(!1),w([]),alert("Communication logged!")},ii=Q=>{if(confirm("Delete this communication from history?")){const ce=Gy(Q);c(ce)}},Da=Q=>{_(Q.id),B({subject:Q.subject,body:Q.body})},Ca=Q=>{const ce=p.find(Ze=>Ze.id===Q),ye=qy({...ce,subject:L.subject,body:L.body});f(ye),_(null)},mo=()=>{if(D.length===0){alert("Please select at least one stakeholder");return}const Q=Ci();let ce="all";if(D.length===1){const ke=l.find(lt=>lt.id===D[0]);ke&&ke.name&&(ce=ke.name.split(" ")[0])}const ye=Wc({...k,subject:L.subject,body:L.body},{stakeholderName:ce,projectName:Q.projectId||"Project",healthScore:d,stats:o,statusSummary:"Project is progressing as planned.",senderName:"Project Manager"}),Ze=l.filter(ke=>D.includes(ke.id)).map(ke=>ke.email).join(","),Je=encodeURIComponent(L.subject),Xt=encodeURIComponent(ye),Bt=`mailto:${Ze}?subject=${Je}&body=${Xt}`;window.location.href=Bt,Hh({stakeholderIds:D,subject:L.subject,content:ye,type:k.id}),c(En()),N(!1),w([])},Rs=Q=>{Q.preventDefault(),M(!1);const ce=Q.dataTransfer.files[0];ce&&(ce.name.endsWith(".eml")||ce.name.endsWith(".msg"))?An(ce):alert("Please drop a .eml or .msg file")},Aa=Q=>{const ce=Q.target.files[0];ce&&An(ce)},An=Q=>{const ce=Q.name.endsWith(".msg"),ye=new FileReader;ye.onload=async Ze=>{try{let Je;if(ce){const ke=Ze.target.result;Je=await F1(ke)}else{const ke=Ze.target.result;Je=Ky(ke)}const Xt=i1(Je.subject,Je.body),Bt=n1(Je.subject,Je.body);J({...Je,tags:Xt,references:Bt,attachments:[]}),G(!0)}catch(Je){console.error("Error parsing email file:",Je),alert("Failed to parse email file: "+Je.message)}},ye.onerror=()=>{alert("Failed to read email file")},ce?ye.readAsArrayBuffer(Q):ye.readAsText(Q)},Ta=()=>{Zy(K,l),c(En()),v(cd()),G(!1),J(null),alert("Email imported successfully!")},yo=()=>{const Q=Yy(me);h(Q),je({title:"",description:"",stakeholderIds:[],linkedEpics:[],linkedIssues:[],tags:[],approvedBy:[]}),I(!1)},vo=Q=>{if(confirm("Delete this decision?")){const ce=Vy(Q);h(ce)}},dt=Q=>{const ce=prompt("Reason for reversing this decision:");if(ce){const ye=Qy(Q,ce);h(ye)}},bo=Q=>{if(confirm("Delete this document?")){const ce=Xy(Q);v(ce)}},Tn=()=>{const Q=[];return r.forEach(ce=>{let ye="Unknown";ce.from&&(typeof ce.from=="object"?ye=ce.from.name||ce.from.email||"Unknown":ye=ce.from),Q.push({type:"communication",date:new Date(ce.sentAt),title:ce.subject,description:ce.content?.substring(0,150),creator:ye,data:ce})}),g.forEach(ce=>{Q.push({type:"decision",date:new Date(ce.decisionDate),title:ce.title,description:ce.description?.substring(0,150),data:ce})}),y.forEach(ce=>{Q.push({type:"document",date:new Date(ce.uploadDate),title:ce.filename,description:ce.description,data:ce})}),Q.sort((ce,ye)=>ye.date-ce.date)};return t.jsxs("div",{className:"container-fluid",children:[t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("h2",{style:{fontSize:"24px",fontWeight:"600",marginBottom:"8px"},children:"Communication Hub"}),t.jsx("p",{style:{fontSize:"14px",color:"#6B7280"},children:"Manage stakeholders and communication templates"})]}),t.jsx("div",{style:{borderBottom:"2px solid #E5E7EB",marginBottom:"30px"},children:t.jsx("div",{style:{display:"flex",gap:"24px",flexWrap:"wrap"},children:[{id:"email-upload",label:"Email Upload"},{id:"timeline",label:"Timeline"},{id:"decisions",label:"Decisions"},{id:"documents",label:"Documents"},{id:"stakeholders",label:"Stakeholders"},{id:"templates",label:"Templates"}].map(Q=>t.jsx("button",{onClick:()=>b(Q.id),style:{padding:"12px 0",background:"none",border:"none",borderBottom:m===Q.id?"2px solid #E60000":"2px solid transparent",fontSize:"14px",fontWeight:"600",color:m===Q.id?"#E60000":"#6B7280",cursor:"pointer"},children:Q.label},Q.id))})}),m==="stakeholders"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"20px"},children:[t.jsx("h2",{style:{fontSize:"20px",fontWeight:"600"},children:"Stakeholder Registry"}),t.jsx("button",{className:"btn btn-primary",onClick:()=>E(!j),children:j?"Cancel":"+ Add Stakeholder"})]}),j&&t.jsxs("div",{className:"card",style:{marginBottom:"20px",background:"#F9FAFB"},children:[t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[t.jsx("input",{type:"text",placeholder:"Name *",value:ue.name,onChange:Q=>de({...ue,name:Q.target.value}),style:{padding:"8px 12px",border:"1px solid #D1D5DB",borderRadius:"6px"}}),t.jsx("input",{type:"text",placeholder:"Role *",value:ue.role,onChange:Q=>de({...ue,role:Q.target.value}),style:{padding:"8px 12px",border:"1px solid #D1D5DB",borderRadius:"6px"}}),t.jsx("input",{type:"email",placeholder:"Email *",value:ue.email,onChange:Q=>de({...ue,email:Q.target.value}),style:{padding:"8px 12px",border:"1px solid #D1D5DB",borderRadius:"6px"}}),t.jsxs("select",{value:ue.frequency,onChange:Q=>de({...ue,frequency:Q.target.value}),style:{padding:"8px 12px",border:"1px solid #D1D5DB",borderRadius:"6px"},children:[t.jsx("option",{value:"daily",children:"Daily Updates"}),t.jsx("option",{value:"weekly",children:"Weekly Updates"}),t.jsx("option",{value:"biweekly",children:"Bi-weekly Updates"}),t.jsx("option",{value:"monthly",children:"Monthly Updates"})]})]}),t.jsx("button",{className:"btn btn-primary",onClick:Vt,style:{marginTop:"16px"},children:"Add Stakeholder"})]}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:l.map(Q=>t.jsxs("div",{className:"card",children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[t.jsxs("div",{children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"4px"},children:Q.name}),t.jsx("div",{style:{fontSize:"13px",color:"#6B7280"},children:Q.role})]}),t.jsx("button",{className:"btn btn-secondary",onClick:()=>Qt(Q.id),style:{padding:"4px 8px",fontSize:"12px"},children:"Remove"})]}),t.jsxs("div",{style:{fontSize:"13px",color:"#6B7280",marginBottom:"8px"},children:[" ",Q.email]}),t.jsxs("div",{style:{fontSize:"12px",color:"#6B7280"},children:["Frequency: ",Q.frequency]})]},Q.id))}),l.length===0&&!j&&t.jsxs("div",{className:"card text-center",style:{padding:"40px"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px",opacity:.3},children:""}),t.jsx("h3",{children:"No Stakeholders Yet"}),t.jsx("p",{className:"text-muted",children:"Add stakeholders to track communications"})]})]}),m==="templates"&&t.jsxs(t.Fragment,{children:[t.jsx("h2",{style:{fontSize:"20px",fontWeight:"600",marginBottom:"20px"},children:"Communication Templates"}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"20px"},children:p.map(Q=>t.jsxs("div",{className:"card",children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"8px"},children:Q.name}),T===Q.id?t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6B7280",display:"block",marginBottom:"4px"},children:"Subject:"}),t.jsx("input",{type:"text",value:L.subject,onChange:ce=>B({...L,subject:ce.target.value}),style:{width:"100%",padding:"6px 8px",border:"1px solid #D1D5DB",borderRadius:"4px",fontSize:"12px"}})]}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6B7280",display:"block",marginBottom:"4px"},children:"Body:"}),t.jsx("textarea",{value:L.body,onChange:ce=>B({...L,body:ce.target.value}),rows:10,style:{width:"100%",padding:"8px",border:"1px solid #D1D5DB",borderRadius:"4px",fontSize:"12px",fontFamily:"monospace"}})]}),t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsx("button",{className:"btn btn-primary",onClick:()=>Ca(Q.id),style:{flex:1},children:"Save"}),t.jsx("button",{className:"btn btn-secondary",onClick:()=>_(null),style:{flex:1},children:"Cancel"})]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"12px"},children:["Subject: ",Q.subject]}),t.jsxs("div",{style:{fontSize:"12px",color:"#6B7280",background:"#F3F4F6",padding:"12px",borderRadius:"6px",fontFamily:"monospace",maxHeight:"120px",overflow:"hidden",marginBottom:"12px"},children:[Q.body.substring(0,150),"..."]}),t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsx("button",{className:"btn btn-primary",onClick:()=>ti(Q),style:{flex:1},children:"Use Template"}),t.jsx("button",{className:"btn btn-secondary",onClick:()=>Da(Q),style:{flex:1},children:"Edit"})]})]})]},Q.id))})]}),m==="email-upload"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{marginBottom:"20px"},children:t.jsx("h2",{style:{fontSize:"20px",fontWeight:"600"},children:"Email Communication Upload"})}),t.jsxs("label",{onDragOver:Q=>{Q.preventDefault(),M(!0)},onDragLeave:()=>M(!1),onDrop:Rs,style:{display:"block",border:F?"3px solid #3B82F6":"3px dashed #3B82F6",borderRadius:"8px",padding:"32px",textAlign:"center",marginBottom:"20px",background:F?"#EFF6FF":"#F9FAFB",transition:"all 0.2s",animation:F?"none":"pulse 2s ease-in-out infinite",cursor:"pointer"},children:[t.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"#374151"},children:"Drag & drop email files here"}),t.jsx("input",{type:"file",accept:".eml,.msg",onChange:Aa,style:{display:"none"}})]}),r.length===0?t.jsxs("div",{className:"card text-center",style:{padding:"40px"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px",opacity:.3},children:""}),t.jsx("h3",{children:"No Communications Yet"}),t.jsx("p",{className:"text-muted",children:"Start using templates or import emails to track communications"})]}):t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:r.slice(0,20).map(Q=>t.jsxs("div",{className:"card",style:{background:"#F9FAFB"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",marginBottom:"4px"},children:[t.jsx("div",{style:{fontSize:"14px",fontWeight:"600"},children:Q.subject}),Q.source==="imported"&&t.jsx("span",{style:{fontSize:"10px",background:"#DBEAFE",color:"#1E40AF",padding:"2px 6px",borderRadius:"4px"},children:"IMPORTED"})]}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280"},children:new Date(Q.sentAt).toLocaleString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}),Q.tags&&Q.tags.length>0&&t.jsx("div",{style:{display:"flex",gap:"4px",marginTop:"4px"},children:Q.tags.map(ce=>t.jsx("span",{style:{fontSize:"10px",background:"#FEF3C7",color:"#92400E",padding:"2px 6px",borderRadius:"4px"},children:ce},ce))})]}),t.jsx("button",{onClick:()=>ii(Q.id),style:{padding:"4px 8px",background:"#FEE2E2",color:"#DC2626",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer",fontWeight:"500"},children:"Delete"})]}),t.jsxs("div",{style:{fontSize:"13px",color:"#6B7280",maxHeight:"100px",overflow:"hidden"},children:[Q.content.substring(0,200),"..."]})]},Q.id))})]}),m==="decisions"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"20px"},children:[t.jsx("h2",{style:{fontSize:"20px",fontWeight:"600"},children:"Decision Log"}),t.jsx("button",{className:"btn btn-primary",onClick:()=>I(!le),children:le?"Cancel":"+ Add Decision"})]}),le&&t.jsxs("div",{className:"card",style:{marginBottom:"20px",background:"#F9FAFB"},children:[t.jsx("div",{style:{marginBottom:"12px"},children:t.jsx("input",{type:"text",placeholder:"Decision Title *",value:me.title,onChange:Q=>je({...me,title:Q.target.value}),style:{width:"100%",padding:"8px 12px",border:"1px solid #D1D5DB",borderRadius:"6px"}})}),t.jsx("div",{style:{marginBottom:"12px"},children:t.jsx("textarea",{placeholder:"Description *",value:me.description,onChange:Q=>je({...me,description:Q.target.value}),rows:4,style:{width:"100%",padding:"8px 12px",border:"1px solid #D1D5DB",borderRadius:"6px"}})}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6B7280",display:"block",marginBottom:"4px"},children:"Stakeholders Involved:"}),l.map(Q=>t.jsxs("label",{style:{display:"block",marginBottom:"4px",cursor:"pointer"},children:[t.jsx("input",{type:"checkbox",checked:me.stakeholderIds.includes(Q.id),onChange:ce=>{ce.target.checked?je({...me,stakeholderIds:[...me.stakeholderIds,Q.id]}):je({...me,stakeholderIds:me.stakeholderIds.filter(ye=>ye!==Q.id)})},style:{marginRight:"8px"}}),t.jsx("span",{style:{fontSize:"13px"},children:Q.name})]},Q.id))]}),t.jsx("button",{className:"btn btn-primary",onClick:yo,children:"Add Decision"})]}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:g.length===0?t.jsxs("div",{className:"card text-center",style:{padding:"40px"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px",opacity:.3},children:""}),t.jsx("h3",{children:"No Decisions Yet"}),t.jsx("p",{className:"text-muted",children:"Track important project decisions and sign-offs"})]}):g.map(Q=>t.jsx("div",{className:"card",style:{background:Q.status!=="active"?"#FEF2F2":"#F9FAFB"},children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",marginBottom:"4px"},children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",margin:0},children:Q.title}),t.jsx("span",{style:{fontSize:"10px",background:Q.status==="active"?"#D1FAE5":"#FEE2E2",color:Q.status==="active"?"#065F46":"#991B1B",padding:"2px 6px",borderRadius:"4px",textTransform:"uppercase"},children:Q.status})]}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"8px"},children:new Date(Q.decisionDate).toLocaleString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}),t.jsx("div",{style:{fontSize:"13px",color:"#374151",marginBottom:"8px"},children:Q.description}),Q.status!=="active"&&Q.reversedReason&&t.jsxs("div",{style:{fontSize:"12px",color:"#DC2626",marginTop:"8px",padding:"8px",background:"#FEE2E2",borderRadius:"4px"},children:[t.jsx("strong",{children:"Reversed:"})," ",Q.reversedReason]})]}),t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[Q.status==="active"&&t.jsx("button",{onClick:()=>dt(Q.id),style:{padding:"4px 8px",background:"#FEF3C7",color:"#92400E",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer",fontWeight:"500"},children:"Reverse"}),t.jsx("button",{onClick:()=>vo(Q.id),style:{padding:"4px 8px",background:"#FEE2E2",color:"#DC2626",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer",fontWeight:"500"},children:"Delete"})]})]})},Q.id))})]}),m==="documents"&&t.jsxs(t.Fragment,{children:[t.jsx("h2",{style:{fontSize:"20px",fontWeight:"600",marginBottom:"20px"},children:"Document Archive"}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:y.length===0?t.jsxs("div",{className:"card text-center",style:{padding:"40px"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px",opacity:.3},children:""}),t.jsx("h3",{children:"No Documents Yet"}),t.jsx("p",{className:"text-muted",children:"Documents from imported emails will appear here"})]}):y.map(Q=>t.jsx("div",{className:"card",style:{background:"#F9FAFB"},children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",marginBottom:"4px"},children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",margin:0},children:Q.filename}),t.jsx("span",{style:{fontSize:"10px",background:"#DBEAFE",color:"#1E40AF",padding:"2px 6px",borderRadius:"4px"},children:Q.fileType})]}),t.jsxs("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:["Uploaded: ",new Date(Q.uploadDate).toLocaleString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),Q.description&&t.jsx("div",{style:{fontSize:"13px",color:"#374151"},children:Q.description})]}),t.jsx("button",{onClick:()=>bo(Q.id),style:{padding:"4px 8px",background:"#FEE2E2",color:"#DC2626",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer",fontWeight:"500"},children:"Delete"})]})},Q.id))})]}),m==="timeline"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[t.jsx("h2",{style:{fontSize:"20px",fontWeight:"600"},children:"Timeline"}),t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsx("button",{onClick:()=>R("list"),style:{padding:"8px 16px",background:Y==="list"?"#3B82F6":"white",color:Y==="list"?"white":"#374151",border:Y==="list"?"none":"1px solid #D1D5DB",borderRadius:"6px",fontSize:"13px",fontWeight:Y==="list"?"600":"500",cursor:"pointer",transition:"all 0.15s"},children:" List View"}),t.jsx("button",{onClick:()=>R("gantt"),style:{padding:"8px 16px",background:Y==="gantt"?"#3B82F6":"white",color:Y==="gantt"?"white":"#374151",border:Y==="gantt"?"none":"1px solid #D1D5DB",borderRadius:"6px",fontSize:"13px",fontWeight:Y==="gantt"?"600":"500",cursor:"pointer",transition:"all 0.15s"},children:" Gantt View"})]})]}),Tn().length===0?t.jsxs("div",{className:"card text-center",style:{padding:"40px"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px",opacity:.3},children:""}),t.jsx("h3",{children:"No Activity Yet"}),t.jsx("p",{className:"text-muted",children:"Timeline will show all communications, decisions, and documents"})]}):Y==="list"?t.jsxs("div",{style:{position:"relative"},children:[t.jsx("div",{style:{position:"absolute",left:"20px",top:"0",bottom:"0",width:"2px",background:"#E5E7EB"}}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:Tn().map((Q,ce)=>t.jsxs("div",{style:{position:"relative",paddingLeft:"50px"},children:[t.jsx("div",{style:{position:"absolute",left:"12px",top:"8px",width:"18px",height:"18px",borderRadius:"50%",background:Q.type==="communication"?"#3B82F6":Q.type==="decision"?"#10B981":"#F59E0B",border:"3px solid white",boxShadow:"0 0 0 2px #E5E7EB"}}),t.jsxs("div",{className:"card",style:{background:"#F9FAFB",cursor:"pointer",transition:"all 0.2s"},onClick:()=>{ie(Q),oe(!0)},onMouseEnter:ye=>ye.currentTarget.style.background="#EEF2FF",onMouseLeave:ye=>ye.currentTarget.style.background="#F9FAFB",children:[t.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",marginBottom:"4px"},children:[t.jsx("span",{style:{fontSize:"10px",background:Q.type==="communication"?"#DBEAFE":Q.type==="decision"?"#D1FAE5":"#FEF3C7",color:Q.type==="communication"?"#1E40AF":Q.type==="decision"?"#065F46":"#92400E",padding:"2px 6px",borderRadius:"4px",textTransform:"uppercase"},children:Q.type}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280"},children:Q.date.toLocaleString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),t.jsx("h3",{style:{fontSize:"15px",fontWeight:"600",marginBottom:"4px"},children:Q.title}),t.jsxs("div",{style:{fontSize:"13px",color:"#6B7280"},children:[Q.description,"..."]})]})]},`${Q.type}-${Q.data.id}`))})]}):(()=>{const Q=Tn(),ce=new Date;ce.setHours(0,0,0,0);const ye=new Date(ce);ye.setDate(ye.getDate()-90);const Ze=new Date(ce);Ze.setDate(Ze.getDate()+30);const Je=(Ze-ye)/(1e3*60*60*24),Xt=Ae=>{const Pt=new Date(Ae);return Pt.setHours(0,0,0,0),(Pt-ye)/(1e3*60*60*24)/Je*100},Bt=Xt(ce),ke=[];let lt=new Date(ye);for(lt.setDate(1);lt<Ze;)ke.push(new Date(lt)),lt.setMonth(lt.getMonth()+1);return t.jsxs("div",{className:"card",style:{padding:"16px",position:"relative",overflow:"visible"},children:[t.jsxs("div",{style:{display:"flex",borderBottom:"2px solid #E5E7EB",paddingBottom:"8px",marginBottom:"16px"},children:[t.jsx("div",{style:{width:"250px",fontWeight:"600",fontSize:"12px",color:"#6B7280",textTransform:"uppercase"},children:"Activity"}),t.jsx("div",{style:{flex:1,position:"relative",minHeight:"40px"},children:t.jsx("div",{style:{display:"flex",fontSize:"11px",color:"#6B7280",fontWeight:"600",marginBottom:"4px",position:"relative"},children:ke.map((Ae,Pt)=>{const ni=Xt(Ae),zn=Pt<ke.length-1?ke[Pt+1]:Ze,Ai=Xt(zn)-ni;return t.jsx("div",{style:{position:"absolute",left:`${ni}%`,width:`${Ai}%`,textAlign:"center",borderRight:Pt<ke.length-1?"1px solid #E5E7EB":"none",paddingTop:"4px"},children:Ae.toLocaleDateString("en-US",{month:"short",year:"numeric"})},Pt)})})})]}),Bt>=0&&Bt<=100&&t.jsx("div",{style:{position:"absolute",left:`calc(250px + (100% - 250px - 32px) * ${Bt/100})`,top:"60px",bottom:"0",width:"2px",background:"#EF4444",zIndex:5},title:`Today: ${ce.toLocaleDateString()}`,children:t.jsx("div",{style:{position:"absolute",top:"0",left:"-18px",fontSize:"10px",color:"#EF4444",fontWeight:"600",whiteSpace:"nowrap",background:"white",padding:"2px 4px",borderRadius:"3px",border:"1px solid #EF4444"},children:"TODAY"})}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:Q.map((Ae,Pt)=>{const ni=Xt(Ae.date),zn=Ae.type==="communication"?"#3B82F6":Ae.type==="decision"?"#10B981":"#F59E0B",Ai=Ae.type==="communication"?"#DBEAFE":Ae.type==="decision"?"#D1FAE5":"#FEF3C7";return t.jsxs("div",{style:{display:"flex",alignItems:"center",minHeight:"40px",borderBottom:Pt<Q.length-1?"1px solid #F3F4F6":"none",paddingBottom:"12px"},children:[t.jsxs("div",{style:{width:"250px",paddingRight:"16px"},children:[t.jsx("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"2px"},children:t.jsx("span",{style:{fontSize:"9px",background:Ai,color:Ae.type==="communication"?"#1E40AF":Ae.type==="decision"?"#065F46":"#92400E",padding:"2px 6px",borderRadius:"3px",textTransform:"uppercase",fontWeight:"600"},children:Ae.type})}),t.jsx("div",{style:{fontSize:"13px",fontWeight:"600",color:"#1F2937",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Ae.title}),t.jsx("div",{style:{fontSize:"11px",color:"#6B7280"},children:Ae.date.toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"})})]}),t.jsx("div",{style:{flex:1,position:"relative",height:"32px"},children:ni>=0&&ni<=100&&t.jsx("div",{style:{position:"absolute",left:`${ni}%`,width:"12px",height:"12px",borderRadius:"50%",background:zn,border:"2px solid white",boxShadow:"0 0 0 2px "+zn+"40",cursor:"pointer",transform:"translateX(-50%)",top:"10px",zIndex:10},title:`${Ae.title}
${Ae.date.toLocaleString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}`})})]},`${Ae.type}-${Ae.data.id}`)})})]})})()]}),A&&k&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:t.jsxs("div",{style:{background:"white",borderRadius:"12px",maxWidth:"700px",width:"100%",maxHeight:"80vh",display:"flex",flexDirection:"column",boxShadow:"0 20px 25px -5px rgba(0,0,0,0.1)"},children:[t.jsx("div",{style:{padding:"24px",borderBottom:"1px solid #E5E7EB"},children:t.jsxs("h2",{style:{fontSize:"18px",fontWeight:"600"},children:["Compose: ",k.name]})}),t.jsxs("div",{style:{flex:1,padding:"24px",overflowY:"auto"},children:[t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{fontSize:"14px",fontWeight:"600",marginBottom:"8px",display:"block"},children:"Recipients"}),l.map(Q=>t.jsxs("label",{style:{display:"block",marginBottom:"8px",cursor:"pointer"},children:[t.jsx("input",{type:"checkbox",checked:D.includes(Q.id),onChange:ce=>{ce.target.checked?w([...D,Q.id]):w(D.filter(ye=>ye!==Q.id))},style:{marginRight:"8px"}}),Q.name," (",Q.email,")"]},Q.id))]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{fontSize:"14px",fontWeight:"600",marginBottom:"8px",display:"block"},children:"Subject"}),t.jsx("input",{type:"text",value:L.subject,onChange:Q=>B({...L,subject:Q.target.value}),style:{width:"100%",padding:"8px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px"}})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{fontSize:"14px",fontWeight:"600",marginBottom:"8px",display:"block"},children:"Message Body"}),t.jsx("textarea",{value:Wc({...k,subject:L.subject,body:L.body},{stakeholderName:D.length===1&&l.find(Q=>Q.id===D[0])?.name.split(" ")[0]||"all",projectName:Ci().projectId||"Project",healthScore:d,stats:o,statusSummary:"Project progressing as planned.",senderName:"Project Manager"}),onChange:Q=>{B({...L,body:Q.target.value})},rows:15,style:{width:"100%",padding:"12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"13px",fontFamily:"monospace",whiteSpace:"pre-wrap"}})]})]}),t.jsxs("div",{style:{padding:"16px 24px",borderTop:"1px solid #E5E7EB",display:"flex",gap:"12px",justifyContent:"flex-end"},children:[t.jsx("button",{className:"btn btn-secondary",onClick:()=>{N(!1),w([])},children:"Cancel"}),t.jsx("button",{className:"btn",onClick:mo,style:{background:"#10B981",color:"white",border:"none"},children:" Open in Email"}),t.jsx("button",{className:"btn btn-primary",onClick:ks,children:"Log Communication"})]})]})}),O&&K&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:t.jsxs("div",{style:{background:"white",borderRadius:"12px",maxWidth:"700px",width:"100%",maxHeight:"80vh",display:"flex",flexDirection:"column",boxShadow:"0 20px 25px -5px rgba(0,0,0,0.1)"},children:[t.jsx("div",{style:{padding:"24px",borderBottom:"1px solid #E5E7EB"},children:t.jsx("h2",{style:{fontSize:"18px",fontWeight:"600"},children:"Import Email"})}),t.jsxs("div",{style:{flex:1,padding:"24px",overflowY:"auto"},children:[t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6B7280",display:"block",marginBottom:"4px"},children:"From:"}),t.jsx("div",{style:{fontSize:"14px"},children:K.from.name?`${K.from.name} <${K.from.email}>`:K.from.email})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6B7280",display:"block",marginBottom:"4px"},children:"To:"}),t.jsx("div",{style:{fontSize:"14px"},children:K.to.map(Q=>Q.email).join(", ")})]}),K.cc&&K.cc.length>0&&t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6B7280",display:"block",marginBottom:"4px"},children:"CC:"}),t.jsx("div",{style:{fontSize:"14px"},children:K.cc.map(Q=>Q.email).join(", ")})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6B7280",display:"block",marginBottom:"4px"},children:"Subject:"}),t.jsx("div",{style:{fontSize:"14px",fontWeight:"600"},children:K.subject})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6B7280",display:"block",marginBottom:"4px"},children:"Date:"}),t.jsx("div",{style:{fontSize:"14px"},children:K.date.toLocaleString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),K.tags&&K.tags.length>0&&t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6B7280",display:"block",marginBottom:"4px"},children:"Auto-detected Tags:"}),t.jsx("div",{style:{display:"flex",gap:"4px",flexWrap:"wrap"},children:K.tags.map(Q=>t.jsx("span",{style:{fontSize:"11px",background:"#FEF3C7",color:"#92400E",padding:"4px 8px",borderRadius:"4px"},children:Q},Q))})]}),K.references&&K.references.length>0&&t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6B7280",display:"block",marginBottom:"4px"},children:"Detected References:"}),t.jsx("div",{style:{display:"flex",gap:"4px",flexWrap:"wrap"},children:K.references.map((Q,ce)=>t.jsxs("span",{style:{fontSize:"11px",background:"#DBEAFE",color:"#1E40AF",padding:"4px 8px",borderRadius:"4px"},children:[Q.type," #",Q.id]},ce))})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6B7280",display:"block",marginBottom:"4px"},children:"Body Preview:"}),t.jsxs("div",{style:{fontSize:"13px",background:"#F3F4F6",padding:"12px",borderRadius:"6px",maxHeight:"200px",overflowY:"auto",whiteSpace:"pre-wrap"},children:[K.body.substring(0,500),"..."]})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6B7280",display:"block",marginBottom:"8px"},children:"Matched Stakeholders:"}),t.jsx("div",{style:{fontSize:"13px",color:"#374151"},children:(()=>{const Q=[...K.to,...K.cc].map(ye=>ye.email.toLowerCase()),ce=l.filter(ye=>Q.includes(ye.email.toLowerCase()));return ce.length>0?t.jsx("ul",{style:{margin:0,paddingLeft:"20px"},children:ce.map(ye=>t.jsxs("li",{children:[ye.name," (",ye.email,")"]},ye.id))}):t.jsx("div",{style:{color:"#6B7280",fontStyle:"italic"},children:"No stakeholders matched"})})()})]})]}),t.jsxs("div",{style:{padding:"16px 24px",borderTop:"1px solid #E5E7EB",display:"flex",gap:"12px",justifyContent:"flex-end"},children:[t.jsx("button",{className:"btn btn-secondary",onClick:()=>{G(!1),J(null)},children:"Cancel"}),t.jsx("button",{className:"btn btn-primary",onClick:Ta,children:"Import Email"})]})]})}),ne&&$&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>oe(!1),children:t.jsxs("div",{style:{background:"white",borderRadius:"8px",maxWidth:"600px",width:"90%",maxHeight:"80vh",overflow:"auto",boxShadow:"0 20px 25px -5px rgba(0,0,0,0.1)"},onClick:Q=>Q.stopPropagation(),children:[t.jsx("div",{style:{padding:"24px",borderBottom:"1px solid #E5E7EB"},children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"8px"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",marginBottom:"8px"},children:[t.jsx("span",{style:{fontSize:"11px",background:$.type==="communication"?"#DBEAFE":$.type==="decision"?"#D1FAE5":"#FEF3C7",color:$.type==="communication"?"#1E40AF":$.type==="decision"?"#065F46":"#92400E",padding:"3px 8px",borderRadius:"4px",textTransform:"uppercase",fontWeight:"600"},children:$.type}),t.jsx("span",{style:{fontSize:"13px",color:"#6B7280"},children:$.date.toLocaleString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),t.jsx("h2",{style:{fontSize:"20px",fontWeight:"600",marginBottom:"4px"},children:$.title})]}),t.jsx("button",{onClick:()=>oe(!1),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#6B7280",padding:"0",marginLeft:"16px"},children:""})]})}),t.jsxs("div",{style:{padding:"24px"},children:[$.type==="communication"&&t.jsxs(t.Fragment,{children:[$.data.from&&t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6B7280",display:"block",marginBottom:"4px"},children:"From:"}),t.jsx("div",{style:{fontSize:"14px"},children:typeof $.data.from=="object"?`${$.data.from.name||""} <${$.data.from.email||""}>`:$.data.from})]}),$.data.to&&$.data.to.length>0&&t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6B7280",display:"block",marginBottom:"4px"},children:"To:"}),t.jsx("div",{style:{fontSize:"14px"},children:$.data.to.map((Q,ce)=>t.jsx("div",{children:typeof Q=="object"?`${Q.name||""} <${Q.email||""}>`:Q},ce))})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6B7280",display:"block",marginBottom:"4px"},children:"Content:"}),t.jsx("div",{style:{fontSize:"14px",whiteSpace:"pre-wrap",lineHeight:"1.6"},children:$.data.content})]})]}),$.type==="decision"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6B7280",display:"block",marginBottom:"4px"},children:"Status:"}),t.jsx("span",{style:{fontSize:"12px",background:$.data.status==="active"?"#D1FAE5":"#FEE2E2",color:$.data.status==="active"?"#065F46":"#991B1B",padding:"4px 8px",borderRadius:"4px",textTransform:"uppercase"},children:$.data.status})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6B7280",display:"block",marginBottom:"4px"},children:"Description:"}),t.jsx("div",{style:{fontSize:"14px",whiteSpace:"pre-wrap",lineHeight:"1.6"},children:$.data.description})]}),$.data.tags&&$.data.tags.length>0&&t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6B7280",display:"block",marginBottom:"4px"},children:"Tags:"}),t.jsx("div",{style:{display:"flex",gap:"4px",flexWrap:"wrap"},children:$.data.tags.map((Q,ce)=>t.jsx("span",{style:{fontSize:"11px",background:"#F3F4F6",color:"#374151",padding:"3px 8px",borderRadius:"4px"},children:Q},ce))})]})]}),$.type==="document"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6B7280",display:"block",marginBottom:"4px"},children:"File Type:"}),t.jsx("div",{style:{fontSize:"14px"},children:$.data.fileType})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6B7280",display:"block",marginBottom:"4px"},children:"File Size:"}),t.jsxs("div",{style:{fontSize:"14px"},children:[($.data.fileSize/1024).toFixed(2)," KB"]})]}),$.data.description&&t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6B7280",display:"block",marginBottom:"4px"},children:"Description:"}),t.jsx("div",{style:{fontSize:"14px"},children:$.data.description})]})]})]})]})})]})}function L1({issues:o,milestones:d,epics:l,stats:a,healthScore:r,risks:c}){const p=[],f=U1(o);p.push(...f);const g=W1(o);p.push(...g);const h=H1(o);p.push(...h);const y=P1(o,d);p.push(...y);const v=$1(l);p.push(...v);const m=G1(c);p.push(...m);const b=q1(o,a);p.push(...b);const j=Y1(o);p.push(...j);const E={critical:0,warning:1,info:2,success:3};return p.sort((A,N)=>E[A.type]-E[N.type])}function U1(o){const d=[],l=md(o);if(l.length<2)return d;const a=l.slice(-3),r=a.reduce((y,v)=>y+v.velocity,0)/a.length,c=l.slice(-6,-3);if(c.length>0){const y=c.reduce((m,b)=>m+b.velocity,0)/c.length,v=(r-y)/y*100;v<-20?d.push({type:"critical",category:"Velocity",title:"Significant Velocity Decline",description:`Team velocity has dropped by ${Math.abs(Math.round(v))}% over the last 3 sprints (${Math.round(r)} vs ${Math.round(y)} issues/sprint).`,impact:"High - Delivery timeline at risk",recommendation:"Conduct retrospective to identify blockers. Review team capacity and workload distribution.",confidence:"High"}):v<-10?d.push({type:"warning",category:"Velocity",title:"Velocity Declining",description:`Team velocity decreased by ${Math.abs(Math.round(v))}% in recent sprints.`,impact:"Medium - Monitor closely",recommendation:"Review sprint planning and identify potential bottlenecks.",confidence:"Medium"}):v>20&&d.push({type:"success",category:"Velocity",title:"Velocity Improvement",description:`Team velocity increased by ${Math.round(v)}% - excellent progress!`,impact:"Positive - Ahead of schedule",recommendation:"Document what is working well to maintain momentum.",confidence:"High"})}const p=l.map(y=>y.velocity),f=V1(p),g=p.reduce((y,v)=>y+v,0)/p.length,h=f/g*100;return h>40&&d.push({type:"warning",category:"Velocity",title:"Inconsistent Velocity",description:`Velocity varies significantly between sprints (CV: ${Math.round(h)}%).`,impact:"Medium - Unpredictable delivery",recommendation:"Standardize sprint planning process. Ensure consistent team capacity.",confidence:"Medium"}),d}function W1(o){const d=[],l=o.filter(f=>f.state==="opened"),a=l.filter(f=>f.labels.some(g=>g.toLowerCase().includes("blocker")||g.toLowerCase().includes("blocked"))),r=a.length/l.length*100;r>20?d.push({type:"critical",category:"Bottlenecks",title:"High Blocker Rate",description:`${a.length} issues blocked (${Math.round(r)}% of open issues).`,impact:"Critical - Team productivity severely impacted",recommendation:"Immediate blocker resolution session required. Escalate to leadership if needed.",confidence:"High"}):r>10&&d.push({type:"warning",category:"Bottlenecks",title:"Elevated Blocker Count",description:`${a.length} issues are blocked.`,impact:"Medium - Productivity impact",recommendation:"Schedule daily blocker review. Assign owners to resolve each blocker.",confidence:"High"});const c=new Date;c.setDate(c.getDate()-30);const p=l.filter(f=>new Date(f.created_at)<c);return p.length>l.length*.3&&d.push({type:"warning",category:"Bottlenecks",title:"High Number of Stale Issues",description:`${p.length} issues open for >30 days (${Math.round(p.length/l.length*100)}%).`,impact:"Medium - Work in progress accumulation",recommendation:"Review and close or update stale issues. Consider breaking down large issues.",confidence:"Medium"}),d}function H1(o){const d=[],l=new Map;o.forEach(c=>{if(c.state!=="opened")return;(c.assignees||[]).forEach(f=>{const g=l.get(f.username)||0;l.set(f.username,g+1)})});const a=Array.from(l.entries()).filter(([c,p])=>p>8).sort((c,p)=>p[1]-c[1]);a.length>0&&d.push({type:"warning",category:"Resources",title:"Team Members Overloaded",description:`${a.length} team member(s) have >8 open issues. Most loaded: ${a[0][1]} issues.`,impact:"High - Risk of burnout and delays",recommendation:`Rebalance workload. Redistribute ${Math.ceil(a[0][1]*.3)} issues from most loaded member.`,confidence:"High"});const r=o.filter(c=>c.state==="opened"&&(!c.assignees||c.assignees.length===0));return r.length>10&&d.push({type:"warning",category:"Resources",title:"Many Unassigned Issues",description:`${r.length} issues are unassigned.`,impact:"Medium - Unclear ownership",recommendation:"Assign all issues to team members. Consider capacity planning.",confidence:"High"}),d}function P1(o,d){const l=[];return d.filter(r=>r.state==="active").forEach(r=>{const c=o.filter(g=>g.milestone?.id===r.id),p=c.filter(g=>g.state==="opened"),f=(c.length-p.length)/c.length*100;if(r.due_date){const g=new Date(r.due_date),y=Math.ceil((g-new Date)/(1e3*60*60*24));f<50&&y<14&&y>0&&l.push({type:"critical",category:"Milestones",title:`Milestone At Risk: ${r.title}`,description:`Only ${Math.round(f)}% complete with ${y} days remaining.`,impact:"Critical - Milestone deadline at risk",recommendation:`Escalate. Reduce scope or extend deadline. ${p.length} issues need completion.`,confidence:"High"}),y<0&&p.length>0&&l.push({type:"critical",category:"Milestones",title:`Milestone Overdue: ${r.title}`,description:`${Math.abs(y)} days overdue with ${p.length} open issues.`,impact:"Critical - Milestone missed",recommendation:"Immediate action required. Update timeline or close incomplete work.",confidence:"High"})}}),l}function $1(o){const d=[];return!o||o.length===0||o.forEach(l=>{const a=l.issues||[],r=a.filter(p=>p.state==="opened"),c=(a.length-r.length)/a.length*100;l.state==="opened"&&c<20&&a.length>5&&d.push({type:"info",category:"Epics",title:`Epic Needs Attention: ${l.title}`,description:`Only ${Math.round(c)}% complete with ${r.length} open issues.`,impact:"Medium - Epic progress slow",recommendation:"Review epic scope and prioritization. Consider breaking into smaller epics.",confidence:"Medium"})}),d}function G1(o){const d=[];if(!o||o.length===0)return d;const a=o.filter(r=>r.status==="active").filter(r=>r.probability==="high"&&r.impact==="high");return a.length>3&&d.push({type:"critical",category:"Risks",title:"Multiple High-Priority Risks",description:`${a.length} active high-probability, high-impact risks.`,impact:"Critical - Project success threatened",recommendation:"Executive risk review required. Implement mitigation plans immediately.",confidence:"High"}),d}function q1(o,d){const l=[],a=md(o);if(a.length<2)return l;const r=a.slice(-3).reduce((p,f)=>p+f.velocity,0)/Math.min(3,a.length),c=d.openIssues;if(r>0){const p=Math.ceil(c/(r/2)),f=new Date;f.setDate(f.getDate()+p*14),p>12?l.push({type:"warning",category:"Forecast",title:"Extended Completion Timeline",description:`At current velocity (${Math.round(r)} issues/sprint), ${p} weeks to complete.`,impact:"Medium - Long delivery timeline",recommendation:"Consider scope reduction or team augmentation.",confidence:"Medium"}):p<4&&l.push({type:"success",category:"Forecast",title:"On Track for Completion",description:`Estimated ${p} weeks to complete at current velocity.`,impact:"Positive - Delivery on schedule",recommendation:"Maintain current pace. Prepare for release activities.",confidence:"Medium"})}return l}function Y1(o){const d=[];o.filter(r=>r.state==="closed");const l=o.filter(r=>r.labels.some(c=>c.toLowerCase().includes("bug"))),a=l.length/o.length*100;return a>30&&d.push({type:"warning",category:"Quality",title:"High Bug Rate",description:`${Math.round(a)}% of issues are bugs (${l.length} total).`,impact:"Medium - Quality concerns",recommendation:"Review testing processes. Consider adding automated tests.",confidence:"Medium"}),d}function V1(o){const d=o.reduce((a,r)=>a+r,0)/o.length,l=o.reduce((a,r)=>a+Math.pow(r-d,2),0)/o.length;return Math.sqrt(l)}function Q1(o){return{total:o.length,critical:o.filter(d=>d.type==="critical").length,warning:o.filter(d=>d.type==="warning").length,info:o.filter(d=>d.type==="info").length,success:o.filter(d=>d.type==="success").length}}function X1(o){if(!o)return[];const d=[];return[/depends on #(\d+)/gi,/blocked by #(\d+)/gi,/requires #(\d+)/gi,/needs #(\d+)/gi,/waiting for #(\d+)/gi,/blocks? #(\d+)/gi,/dependency:? #(\d+)/gi,/(?:^|\s)#(\d+)(?:\s|$)/g].forEach(a=>{let r;for(;(r=a.exec(o))!==null;){const c=parseInt(r[1],10);c&&!d.includes(c)&&d.push(c)}}),d}function Z1(o){return[]}function po(o){const d=new Map,l=new Map;return o.forEach(a=>{d.set(a.iid,a)}),o.forEach(a=>{const r=`${a.title} ${a.description||""}`,c=X1(r),p=Z1(),f=[...new Set([...c,...p])];if(f.length>0){const g=f.map(h=>d.get(h)).filter(h=>h!==void 0);g.length>0&&l.set(a.iid,{issue:a,dependencies:g,dependencyCount:g.length,openDependencies:g.filter(h=>h.state==="opened"),closedDependencies:g.filter(h=>h.state==="closed")})}}),l}function Hx(o){const d=po(o),l=[];return d.forEach((a,r)=>{if(a.openDependencies.length>0){const c=a.openDependencies.length;let p="low";c>=3?p="high":c>=1&&(p="medium");const f=[];d.forEach((g,h)=>{h!==r&&g.dependencies.some(v=>v.iid===r)&&f.push(g.issue)}),l.push({...a,severity:p,blocksCount:f.length,blocksIssues:f,impact:K1(c,f.length)})}}),l.sort((a,r)=>{const c={high:3,medium:2,low:1};return c[a.severity]!==c[r.severity]?c[r.severity]-c[a.severity]:r.impact-a.impact}),l}function K1(o,d){return o*10+d*20}function J1(o){const d=Hx(o),l=po(o),a=l.size,r=d.length,c=d.filter(g=>g.severity==="high").length,p=d.filter(g=>g.severity==="medium").length;let f=0;return l.forEach(g=>{f+=g.openDependencies.length}),{totalIssuesWithDependencies:a,totalBlockedIssues:r,highSeverityBlocked:c,mediumSeverityBlocked:p,totalOpenDependencies:f,hasBlockers:r>0}}function Px(o){const d=[];return o.severity==="high"&&d.push({priority:"urgent",action:"Escalate to leadership",details:`This issue is blocked by ${o.openDependencies.length} open dependencies. Consider daily standup focus.`}),o.blocksCount>0&&d.push({priority:"high",action:"Prioritize unblocking",details:`Unblocking this will unblock ${o.blocksCount} other issue(s).`}),o.openDependencies.forEach(l=>{l.state==="opened"&&!l.assignees?.length&&d.push({priority:"medium",action:`Assign dependency #${l.iid}`,details:`"${l.title}" has no assignee. Assign to accelerate unblocking.`})}),d.length===0&&d.push({priority:"low",action:"Monitor dependencies",details:"Track progress on open dependencies in daily standups."}),d}function ev(o){const d=po(o),l=[];d.forEach((r,c)=>{r.dependencies.forEach(p=>{const f=d.get(p.iid);f&&f.dependencies.some(h=>h.iid===c)&&l.push({issue1:r.issue,issue2:p,type:"circular"})})});const a=[];return l.forEach(r=>{a.some(p=>p.issue1.iid===r.issue1.iid&&p.issue2.iid===r.issue2.iid||p.issue1.iid===r.issue2.iid&&p.issue2.iid===r.issue1.iid)||a.push(r)}),a}function tv(o){const d=["Issue ID","Title","State","Severity","Open Dependencies","Blocks Other Issues","Impact Score","Dependency Issues","Recommended Action","URL"],l=o.map(r=>{const c=r.openDependencies.map(g=>`#${g.iid}: ${g.title}`).join("; "),f=Px(r)[0]?.action||"Monitor";return[r.issue.iid,`"${r.issue.title.replace(/"/g,'""')}"`,r.issue.state,r.severity,r.openDependencies.length,r.blocksCount,r.impact,`"${c}"`,`"${f}"`,r.issue.web_url]});return[d.join(","),...l.map(r=>r.join(","))].join(`
`)}function iv(o,d="dependency-blockers.csv"){const l=new Blob([o],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),r=URL.createObjectURL(l);a.setAttribute("href",r),a.setAttribute("download",d),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)}function nv({issues:o}){const[d,l]=U.useState(null),a=Hx(o),r=J1(o),c=ev(o),p=()=>{const h=tv(a);iv(h)};if(!r.hasBlockers&&c.length===0)return t.jsxs("div",{className:"card",style:{marginBottom:"24px"},children:[t.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"12px"},children:" Dependency Blockers"}),t.jsxs("div",{style:{padding:"24px",background:"#F0FDF4",border:"1px solid #86EFAC",borderRadius:"8px",textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"24px",marginBottom:"8px"},children:""}),t.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#166534",marginBottom:"4px"},children:"No Dependency Blockers"}),t.jsx("div",{style:{fontSize:"14px",color:"#15803D"},children:"All issues are unblocked and ready to work on"})]})]});const f=h=>{switch(h){case"high":return"#EF4444";case"medium":return"#F59E0B";case"low":return"#10B981";default:return"#6B7280"}},g=h=>{const y=f(h);return t.jsx("span",{style:{display:"inline-block",padding:"4px 12px",background:`${y}15`,color:y,borderRadius:"12px",fontSize:"12px",fontWeight:"600",textTransform:"uppercase"},children:h})};return t.jsxs("div",{className:"card",style:{marginBottom:"24px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[t.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",margin:0},children:" Dependency Blockers"}),a.length>0&&t.jsx("button",{onClick:p,style:{padding:"6px 12px",background:"#E60000",color:"white",border:"none",borderRadius:"6px",fontSize:"13px",fontWeight:"500",cursor:"pointer"},children:"Export CSV"})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px",marginBottom:"20px"},children:[t.jsxs("div",{style:{padding:"12px",background:"#F9FAFB",borderRadius:"8px",textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"#EF4444"},children:r.totalBlockedIssues}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280"},children:"Blocked Issues"})]}),t.jsxs("div",{style:{padding:"12px",background:"#F9FAFB",borderRadius:"8px",textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"#F59E0B"},children:r.totalOpenDependencies}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280"},children:"Open Dependencies"})]}),t.jsxs("div",{style:{padding:"12px",background:"#F9FAFB",borderRadius:"8px",textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"#EF4444"},children:r.highSeverityBlocked}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280"},children:"High Severity"})]}),t.jsxs("div",{style:{padding:"12px",background:"#F9FAFB",borderRadius:"8px",textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"#A855F7"},children:c.length}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280"},children:"Circular Deps"})]})]}),c.length>0&&t.jsxs("div",{style:{padding:"12px",background:"#FEF3C7",border:"1px solid #F59E0B",borderRadius:"8px",marginBottom:"20px"},children:[t.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"#D97706",marginBottom:"8px"},children:" Circular Dependencies Detected"}),c.map((h,y)=>t.jsxs("div",{style:{fontSize:"13px",color:"#92400E",marginBottom:"4px"},children:["#",h.issue1.iid,"  #",h.issue2.iid,': "',h.issue1.title,'" and "',h.issue2.title,'"']},y))]}),a.length>0&&t.jsxs("div",{children:[t.jsxs("h4",{style:{fontSize:"14px",fontWeight:"600",color:"#4B5563",marginBottom:"12px"},children:["Blocked Issues (",a.length,")"]}),a.map(h=>{const y=d===h.issue.iid,v=Px(h);return t.jsxs("div",{style:{border:`2px solid ${f(h.severity)}`,borderRadius:"8px",marginBottom:"12px",overflow:"hidden"},children:[t.jsxs("div",{onClick:()=>l(y?null:h.issue.iid),style:{padding:"12px 16px",background:"#F9FAFB",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[t.jsxs("span",{style:{fontSize:"14px",fontWeight:"600",color:"#1F2937"},children:["#",h.issue.iid]}),g(h.severity),h.blocksCount>0&&t.jsxs("span",{style:{fontSize:"12px",color:"#DC2626",fontWeight:"500"},children:[" Blocks ",h.blocksCount," issue",h.blocksCount>1?"s":""]})]}),t.jsx("div",{style:{fontSize:"13px",color:"#4B5563"},children:h.issue.title})]}),t.jsx("div",{style:{fontSize:"20px",color:"#6B7280",transform:y?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"},children:""})]}),y&&t.jsxs("div",{style:{padding:"16px",background:"white"},children:[t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("div",{style:{fontSize:"13px",fontWeight:"600",color:"#4B5563",marginBottom:"8px"},children:["Open Dependencies (",h.openDependencies.length,"):"]}),h.openDependencies.map(m=>t.jsxs("div",{style:{padding:"8px 12px",background:"#FEF2F2",border:"1px solid #FCA5A5",borderRadius:"6px",marginBottom:"6px",fontSize:"13px"},children:[t.jsxs("div",{style:{fontWeight:"600",color:"#DC2626",marginBottom:"2px"},children:["#",m.iid,": ",m.title]}),t.jsx("div",{style:{fontSize:"12px",color:"#991B1B"},children:m.assignees&&m.assignees.length>0?`Assigned to: ${m.assignees.map(b=>b.name).join(", ")}`:" No assignee"})]},m.iid))]}),h.closedDependencies.length>0&&t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("div",{style:{fontSize:"13px",fontWeight:"600",color:"#4B5563",marginBottom:"8px"},children:["Resolved Dependencies (",h.closedDependencies.length,"):"]}),h.closedDependencies.map(m=>t.jsxs("div",{style:{padding:"6px 12px",background:"#F0FDF4",border:"1px solid #86EFAC",borderRadius:"6px",marginBottom:"4px",fontSize:"12px",color:"#166534"},children:[" #",m.iid,": ",m.title]},m.iid))]}),h.blocksCount>0&&t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("div",{style:{fontSize:"13px",fontWeight:"600",color:"#4B5563",marginBottom:"8px"},children:[" Blocks These Issues (",h.blocksCount,"):"]}),h.blocksIssues.map(m=>t.jsxs("div",{style:{padding:"6px 12px",background:"#FEF3C7",border:"1px solid #FCD34D",borderRadius:"6px",marginBottom:"4px",fontSize:"12px",color:"#92400E"},children:["#",m.iid,": ",m.title]},m.iid))]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"13px",fontWeight:"600",color:"#4B5563",marginBottom:"8px"},children:" Recommended Actions:"}),v.map((m,b)=>t.jsxs("div",{style:{padding:"8px 12px",background:m.priority==="urgent"?"#FEE2E2":"#EFF6FF",border:`1px solid ${m.priority==="urgent"?"#DC2626":"#3B82F6"}`,borderRadius:"6px",marginBottom:"6px"},children:[t.jsx("div",{style:{fontSize:"13px",fontWeight:"600",color:m.priority==="urgent"?"#DC2626":"#1E40AF",marginBottom:"2px"},children:m.action}),t.jsx("div",{style:{fontSize:"12px",color:m.priority==="urgent"?"#991B1B":"#1E3A8A"},children:m.details})]},b))]}),t.jsx("div",{style:{marginTop:"12px"},children:t.jsx("a",{href:h.issue.web_url,target:"_blank",rel:"noopener noreferrer",style:{fontSize:"13px",color:"#E60000",textDecoration:"none",fontWeight:"500"},children:"View Issue in GitLab "})})]})]},h.issue.iid)})]})]})}function av({issues:o,milestones:d,epics:l,stats:a,healthScore:r,risks:c}){const p=U.useMemo(()=>!o||o.length===0?[]:L1({issues:o,milestones:d,epics:l,stats:a,healthScore:r,risks:c}),[o,d,l,a,r,c]),f=Q1(p),g=v=>{switch(v){case"critical":return"#DC2626";case"warning":return"#D97706";case"info":return"#2563EB";case"success":return"#059669";default:return"#6B7280"}},h=v=>{switch(v){case"critical":return"CRITICAL";case"warning":return"WARNING";case"info":return"INFO";case"success":return"SUCCESS";default:return"INSIGHT"}},y=v=>v;return t.jsxs("div",{className:"container-fluid",children:[t.jsxs("div",{style:{marginBottom:"30px"},children:[t.jsx("h2",{style:{fontSize:"24px",fontWeight:"600",marginBottom:"8px"},children:"Insights"}),t.jsx("p",{style:{fontSize:"14px",color:"#6B7280"},children:"Intelligent pattern detection and recommendations"})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"20px",marginBottom:"30px"},children:[t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Total Insights"}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"600",color:"#1F2937"},children:f.total})]}),t.jsxs("div",{className:"card",style:{borderLeft:"4px solid #DC2626"},children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Critical"}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"600",color:"#DC2626"},children:f.critical})]}),t.jsxs("div",{className:"card",style:{borderLeft:"4px solid #D97706"},children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Warnings"}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"600",color:"#D97706"},children:f.warning})]}),t.jsxs("div",{className:"card",style:{borderLeft:"4px solid #059669"},children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Success"}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"600",color:"#059669"},children:f.success})]})]}),t.jsx(nv,{issues:o}),p.length===0?t.jsxs("div",{className:"card text-center",style:{padding:"60px 20px"},children:[t.jsx("h3",{className:"mb-2",children:"No Insights Available"}),t.jsxs("p",{className:"text-muted",children:["The AI engine needs more project data to generate insights.",t.jsx("br",{}),"Add more issues, milestones, and sprint data to see recommendations."]})]}):t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:p.map((v,m)=>t.jsx("div",{className:"card",style:{borderLeft:`4px solid ${g(v.type)}`,background:v.type==="critical"?"#FEF2F2":v.type==="warning"?"#FFFBEB":v.type==="success"?"#F0FDF4":"white"},children:t.jsx("div",{style:{display:"flex",alignItems:"flex-start",gap:"16px",marginBottom:"16px"},children:t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[t.jsx("span",{style:{padding:"4px 12px",background:g(v.type),color:"white",borderRadius:"4px",fontSize:"11px",fontWeight:"700",textTransform:"uppercase",letterSpacing:"0.5px"},children:h(v.type)}),t.jsx("span",{style:{padding:"4px 12px",background:"#F3F4F6",color:"#6B7280",borderRadius:"4px",fontSize:"11px",fontWeight:"600"},children:y(v.category)})]}),t.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#1F2937",marginBottom:"8px"},children:v.title}),t.jsx("p",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"12px",lineHeight:"1.6"},children:v.description}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("span",{style:{fontSize:"12px",fontWeight:"600",color:"#1F2937"},children:"Impact: "}),t.jsx("span",{style:{fontSize:"12px",color:"#6B7280"},children:v.impact})]}),t.jsxs("div",{style:{padding:"12px 16px",background:"#F9FAFB",borderLeft:"3px solid "+g(v.type),borderRadius:"6px"},children:[t.jsx("div",{style:{fontSize:"12px",fontWeight:"600",color:"#1F2937",marginBottom:"4px"},children:" Recommended Action"}),t.jsx("div",{style:{fontSize:"13px",color:"#374151",lineHeight:"1.5"},children:v.recommendation})]})]})})},m))})]})}const jd="gitlab-pm-quality-criteria-config",io={staleThresholds:{warning:30,critical:60},criteria:{assignee:{name:"Assignee",description:"Issue must be assigned to a team member",enabled:!0,severity:"high"},weight:{name:"Weight/Estimation",description:"Issue must have story points or time estimate",enabled:!0,severity:"high"},epic:{name:"Epic Assignment",description:"Issue must be assigned to an epic",enabled:!0,severity:"medium"},description:{name:"Description",description:"Issue must have a meaningful description",enabled:!0,severity:"high",threshold:20},labels:{name:"Type Label",description:"Issue must have a type label (Bug, Feature, etc.)",enabled:!0,severity:"high"},milestone:{name:"Milestone",description:"Issue should be assigned to a milestone",enabled:!0,severity:"medium"},dueDate:{name:"Due Date",description:"Issue should have a due date (for tracking)",enabled:!0,severity:"low"},priority:{name:"Priority",description:"Issue should have a priority label",enabled:!0,severity:"medium"},stale:{name:"Stale Issue",description:"Issue has been open too long",enabled:!0,severity:"low"}}};function so(){try{const o=localStorage.getItem(jd);if(!o)return io;const d=JSON.parse(o);return{staleThresholds:{...io.staleThresholds,...d.staleThresholds||{}},criteria:{...io.criteria,...d.criteria||{}}}}catch(o){return console.error("Error loading criteria config:",o),io}}function sv(o){try{return localStorage.setItem(jd,JSON.stringify(o)),!0}catch(d){return console.error("Error saving criteria config:",d),!1}}function rv(){try{return localStorage.removeItem(jd),!0}catch(o){return console.error("Error resetting criteria config:",o),!1}}function ov(){const o=so(),d={};return Object.entries(o.criteria).forEach(([l,a])=>{a.enabled&&(d[l]={name:a.name,description:a.description,severity:a.severity,threshold:a.threshold})}),d}function lv(){return so().staleThresholds}function Ed(){return lv()}Ed();function cv(o){const d=new Date(o.created_at),a=Math.abs(new Date-d);return Math.ceil(a/(1e3*60*60*24))}function fo(o){if(o.state!=="opened")return{isStale:!1,daysOpen:0,severity:null};const d=cv(o),l=Ed();return d>=l.critical?{isStale:!0,daysOpen:d,severity:"critical"}:d>=l.warning?{isStale:!0,daysOpen:d,severity:"warning"}:{isStale:!1,daysOpen:d,severity:null}}const dv={assignee:o=>o.assignees&&o.assignees.length>0,weight:o=>o.weight!==null&&o.weight!==void 0&&o.weight>0,epic:o=>o.epic!==null&&o.epic!==void 0,description:(o,d)=>{const l=d?.threshold||20;return o.description&&o.description.trim().length>=l},labels:o=>!o.labels||o.labels.length===0?!1:o.labels.some(l=>l.toLowerCase().includes("bug")||l.toLowerCase().includes("feature")||l.toLowerCase().includes("enhancement")||l.toLowerCase().includes("type::")),milestone:o=>o.milestone!==null&&o.milestone!==void 0,dueDate:o=>o.due_date!==null&&o.due_date!==void 0,priority:o=>!o.labels||o.labels.length===0?!1:o.labels.some(d=>d.toLowerCase().includes("priority")||d.toLowerCase().includes("p1")||d.toLowerCase().includes("p2")||d.toLowerCase().includes("p3")),stale:o=>!fo(o).isStale},vx={stale:o=>{const d=fo(o);return d.severity==="critical"?"high":d.severity==="warning"?"medium":"low"}};function uv(){const o=ov(),d=Ed(),l={};return Object.entries(o).forEach(([a,r])=>{l[a]={name:r.name,description:r.description,severity:r.severity,validate:c=>{const p=dv[a];return p?p(c,r):!0},...vx[a]&&{getDynamicSeverity:vx[a]}}}),l.stale&&(l.stale.description=`Issue has been open too long (Warning: ${d.warning} days, Critical: ${d.critical} days)`),l}const ro=uv();function $x(o){const d=[],l=[],a=fo(o);return Object.entries(ro).forEach(([r,c])=>{if(c.validate(o))l.push(r);else{const f=c.getDynamicSeverity?c.getDynamicSeverity(o):c.severity;d.push({criterion:r,name:c.name,description:c.description,severity:f,...r==="stale"&&{daysOpen:a.daysOpen}})}}),{issueId:o.id,iid:o.iid,title:o.title,state:o.state,violations:d,passed:l,complianceScore:Math.round(l.length/Object.keys(ro).length*100),isCompliant:d.length===0,staleStatus:a}}function pv(o){return o.map(a=>({...$x(a),createdAt:a.created_at,updatedAt:a.updated_at,author:a.author,assignees:a.assignees||[],labels:a.labels||[],milestone:a.milestone,epic:a.epic,weight:a.weight,description:a.description,dueDate:a.due_date,webUrl:a.web_url})).filter(a=>!a.isCompliant).sort((a,r)=>a.complianceScore!==r.complianceScore?a.complianceScore-r.complianceScore:(r.staleStatus?.daysOpen||0)-(a.staleStatus?.daysOpen||0))}function Gx(o){return o.filter(d=>d.state==="opened").map(d=>{const l=fo(d);return{...d,staleStatus:l}}).filter(d=>d.staleStatus.isStale).sort((d,l)=>l.staleStatus.daysOpen-d.staleStatus.daysOpen)}function fv(o){const d=o.map($x),l=d.length,a=d.filter(b=>b.isCompliant).length,r=l-a,c=l>0?Math.round(a/l*100):0,p={};Object.keys(ro).forEach(b=>{p[b]=0}),d.forEach(b=>{b.violations.forEach(j=>{p[j.criterion]++})});const f=d.filter(b=>b.violations.some(j=>j.severity==="high")).length,g=d.filter(b=>b.violations.some(j=>j.severity==="medium")&&!b.violations.some(j=>j.severity==="high")).length,h=d.filter(b=>b.violations.some(j=>j.severity==="low")&&!b.violations.some(j=>j.severity==="high"||j.severity==="medium")).length,y=Gx(o),v=y.filter(b=>b.staleStatus.severity==="warning").length,m=y.filter(b=>b.staleStatus.severity==="critical").length;return{total:l,compliant:a,nonCompliant:r,complianceRate:c,violationsByCriterion:p,highSeverity:f,mediumSeverity:g,lowSeverity:h,staleIssues:{total:y.length,warning:v,critical:m}}}function qx(){return Object.entries(ro).map(([o,d])=>({key:o,...d}))}function wd({value:o,onChange:d,placeholder:l="Search...",onClear:a}){return t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsxs("div",{style:{position:"relative",maxWidth:"600px"},children:[t.jsx("input",{type:"text",value:o,onChange:r=>d(r.target.value),placeholder:l,style:{width:"100%",padding:"12px 45px 12px 45px",fontSize:"14px",border:"2px solid #D1D5DB",borderRadius:"8px",outline:"none",transition:"border-color 0.2s"},onFocus:r=>r.target.style.borderColor="#2563EB",onBlur:r=>r.target.style.borderColor="#D1D5DB"}),t.jsx("div",{style:{position:"absolute",left:"15px",top:"50%",transform:"translateY(-50%)",color:"#6B7280",fontSize:"18px"},children:""}),o&&t.jsx("button",{onClick:()=>{d(""),a&&a()},style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"#F3F4F6",border:"none",borderRadius:"50%",width:"28px",height:"28px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"center",color:"#6B7280",transition:"background 0.2s"},onMouseEnter:r=>r.target.style.background="#E5E7EB",onMouseLeave:r=>r.target.style.background="#F3F4F6",children:""})]}),o&&t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"8px",marginLeft:"4px"},children:" Searching: title, labels, assignees, epic, milestone, description, ID"})]})}function Yx(o,d){if(!d||d.trim()==="")return o;const l=d.toLowerCase().trim();return o.filter(a=>!!(a.title?.toLowerCase().includes(l)||a.description?.toLowerCase().includes(l)||a.labels?.some(r=>r.toLowerCase().includes(l))||a.assignees?.some(r=>r.name?.toLowerCase().includes(l)||r.username?.toLowerCase().includes(l))||a.epic?.title?.toLowerCase().includes(l)||a.milestone?.title?.toLowerCase().includes(l)||a.author?.name?.toLowerCase().includes(l)||a.author?.username?.toLowerCase().includes(l)||a.iid?.toString().includes(l)||a.id?.toString().includes(l)||a.references?.short?.toLowerCase().includes(l)))}function hv(o,d){if(!d||d.trim()==="")return o;const l=d.toLowerCase().trim();return o.filter(a=>!!(a.title?.toLowerCase().includes(l)||a.description?.toLowerCase().includes(l)||a.labels?.some(r=>r.toLowerCase().includes(l))||a.author?.name?.toLowerCase().includes(l)||a.author?.username?.toLowerCase().includes(l)||a.iid?.toString().includes(l)||a.id?.toString().includes(l)))}function xv({isOpen:o,onClose:d}){const[l,a]=U.useState(()=>so()),[r,c]=U.useState(!1);if(!o)return null;const p=E=>{const A={...l,criteria:{...l.criteria,[E]:{...l.criteria[E],enabled:!l.criteria[E].enabled}}};a(A),c(!0)},f=(E,A)=>{const N={...l,criteria:{...l.criteria,[E]:{...l.criteria[E],severity:A}}};a(N),c(!0)},g=(E,A)=>{const N={...l,criteria:{...l.criteria,[E]:{...l.criteria[E],threshold:parseInt(A,10)}}};a(N),c(!0)},h=(E,A)=>{const N={...l,staleThresholds:{...l.staleThresholds,[E]:parseInt(A,10)}};a(N),c(!0)},y=()=>{sv(l),c(!1),d(),window.location.reload()},v=()=>{window.confirm("Reset to default quality criteria? This will remove all customizations.")&&(rv(),a(so()),c(!0))},m=E=>{switch(E){case"high":return"#DC2626";case"medium":return"#F59E0B";case"low":return"#6B7280";default:return"#6B7280"}},b=Object.entries(l.criteria).map(([E,A])=>({key:E,...A})),j=b.filter(E=>E.enabled).length;return t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:t.jsxs("div",{style:{background:"white",borderRadius:"12px",maxWidth:"900px",width:"100%",maxHeight:"90vh",display:"flex",flexDirection:"column",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[t.jsxs("div",{style:{padding:"24px",borderBottom:"1px solid #E5E7EB",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs("div",{children:[t.jsx("h2",{style:{fontSize:"20px",fontWeight:"600",marginBottom:"4px"},children:"Quality Criteria Configuration"}),t.jsx("p",{style:{fontSize:"14px",color:"#6B7280"},children:"Enable/disable criteria and adjust severity levels"})]}),t.jsx("button",{onClick:d,style:{padding:"8px",background:"transparent",border:"none",fontSize:"24px",cursor:"pointer",color:"#6B7280",lineHeight:1},children:""})]}),t.jsxs("div",{style:{padding:"16px 24px",background:"#F9FAFB",borderBottom:"1px solid #E5E7EB",display:"flex",gap:"24px"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"2px"},children:"Active Criteria"}),t.jsxs("div",{style:{fontSize:"20px",fontWeight:"600",color:"#1F2937"},children:[j," / ",b.length]})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"2px"},children:"Stale Warning"}),t.jsxs("div",{style:{fontSize:"20px",fontWeight:"600",color:"#F59E0B"},children:[l.staleThresholds.warning,"d"]})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"2px"},children:"Stale Critical"}),t.jsxs("div",{style:{fontSize:"20px",fontWeight:"600",color:"#DC2626"},children:[l.staleThresholds.critical,"d"]})]})]}),t.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"24px"},children:[t.jsxs("div",{style:{marginBottom:"32px"},children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"16px",color:"#1F2937"},children:"Stale Issue Thresholds"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",marginBottom:"6px",color:"#374151"},children:"Warning (days)"}),t.jsx("input",{type:"number",value:l.staleThresholds.warning,onChange:E=>h("warning",E.target.value),min:"1",max:"365",style:{width:"100%",padding:"8px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px"}}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:"Issues open longer than this are marked as warnings"})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",marginBottom:"6px",color:"#374151"},children:"Critical (days)"}),t.jsx("input",{type:"number",value:l.staleThresholds.critical,onChange:E=>h("critical",E.target.value),min:"1",max:"365",style:{width:"100%",padding:"8px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px"}}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:"Issues open longer than this are marked as critical"})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"16px",color:"#1F2937"},children:"Quality Criteria"}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:b.map(E=>t.jsx("div",{style:{padding:"16px",background:E.enabled?"white":"#F9FAFB",border:"1px solid #E5E7EB",borderRadius:"8px",opacity:E.enabled?1:.6,transition:"all 0.2s"},children:t.jsxs("div",{style:{display:"flex",gap:"16px",alignItems:"flex-start"},children:[t.jsx("div",{style:{paddingTop:"4px"},children:t.jsx("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:t.jsx("input",{type:"checkbox",checked:E.enabled,onChange:()=>p(E.key),style:{width:"18px",height:"18px",cursor:"pointer"}})})}),t.jsx("div",{style:{width:"6px",alignSelf:"stretch",background:m(E.severity),borderRadius:"3px"}}),t.jsxs("div",{style:{flex:1},children:[t.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1F2937",marginBottom:"6px"},children:E.name}),t.jsx("div",{style:{fontSize:"13px",color:"#6B7280",marginBottom:"12px"},children:E.description}),t.jsxs("div",{style:{display:"flex",gap:"16px",alignItems:"center"},children:[t.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"500",color:"#6B7280"},children:"Severity:"}),t.jsx("div",{style:{display:"flex",gap:"6px"},children:["high","medium","low"].map(A=>t.jsx("button",{onClick:()=>f(E.key,A),disabled:!E.enabled,style:{padding:"4px 10px",fontSize:"11px",fontWeight:"600",border:E.severity===A?"2px solid":"1px solid",borderColor:E.severity===A?m(A):"#D1D5DB",borderRadius:"4px",background:E.severity===A?`${m(A)}15`:"white",color:E.severity===A?m(A):"#6B7280",cursor:E.enabled?"pointer":"not-allowed",textTransform:"capitalize",transition:"all 0.2s"},children:A},A))})]}),E.key==="description"&&E.threshold!==void 0&&t.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"500",color:"#6B7280"},children:"Min length:"}),t.jsx("input",{type:"number",value:E.threshold,onChange:A=>g(E.key,A.target.value),disabled:!E.enabled,min:"1",max:"1000",style:{width:"70px",padding:"4px 8px",border:"1px solid #D1D5DB",borderRadius:"4px",fontSize:"12px"}}),t.jsx("span",{style:{fontSize:"12px",color:"#6B7280"},children:"chars"})]})]})]})]})},E.key))})]})]}),t.jsxs("div",{style:{padding:"20px 24px",borderTop:"1px solid #E5E7EB",display:"flex",justifyContent:"space-between",gap:"12px"},children:[t.jsx("button",{onClick:v,style:{padding:"10px 20px",background:"white",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",fontWeight:"500",color:"#DC2626",cursor:"pointer"},children:"Reset to Defaults"}),t.jsxs("div",{style:{display:"flex",gap:"12px"},children:[t.jsx("button",{onClick:d,style:{padding:"10px 20px",background:"white",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",fontWeight:"500",color:"#374151",cursor:"pointer"},children:"Cancel"}),t.jsx("button",{onClick:y,disabled:!r,style:{padding:"10px 20px",background:r?"#E60000":"#D1D5DB",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"600",color:"white",cursor:r?"pointer":"not-allowed"},children:"Save Changes"})]})]})]})})}const gv="dodTemplates",dd={feature:{name:"Feature",checklist:[{id:"code-review",label:"Code reviewed (2+ approvals)",required:!0},{id:"unit-tests",label:"Unit tests written (>80% coverage)",required:!0},{id:"integration-tests",label:"Integration tests passed",required:!0},{id:"documentation",label:"Documentation updated",required:!0},{id:"demo",label:"Demoed to Product Owner",required:!1},{id:"acceptance-criteria",label:"Acceptance criteria met",required:!0}]},bug:{name:"Bug Fix",checklist:[{id:"root-cause",label:"Root cause documented",required:!0},{id:"code-review",label:"Code reviewed",required:!0},{id:"test-case",label:"Test case added to prevent regression",required:!0},{id:"regression-test",label:"Regression test passed",required:!0},{id:"fix-verified",label:"Fix verified in staging",required:!0}]},enhancement:{name:"Enhancement",checklist:[{id:"code-review",label:"Code reviewed",required:!0},{id:"backward-compatible",label:"Backward compatible",required:!0},{id:"performance-tested",label:"Performance tested",required:!1},{id:"documentation",label:"Documentation updated",required:!0},{id:"acceptance-criteria",label:"Acceptance criteria met",required:!0}]}};function Vx(){try{const o=localStorage.getItem(gv);return o?JSON.parse(o):dd}catch(o){return console.error("Error loading DoD templates:",o),dd}}function mv(o){const d=Vx(),l=o?.toLowerCase()||"feature";return d[l]?d[l]:d.feature||dd.feature}function yv(o){if(!o.labels||o.labels.length===0)return"feature";const d=o.labels.map(l=>l.toLowerCase());return d.some(l=>l.includes("bug")||l.includes("defect"))?"bug":d.some(l=>l.includes("enhancement")||l.includes("improvement"))?"enhancement":"feature"}function Qx(o){const d=yv(o),l=mv(d),a=[],r=[];l.checklist.forEach(g=>{let h=!1;switch(g.id){case"code-review":h=o.description&&(o.description.includes("!")||o.description.toLowerCase().includes("merge request")||o.description.toLowerCase().includes("reviewed"));break;case"unit-tests":case"integration-tests":case"regression-test":h=o.description&&(o.description.toLowerCase().includes("test")||o.description.toLowerCase().includes("coverage"));break;case"documentation":h=o.description&&(o.description.toLowerCase().includes("documentation")||o.description.toLowerCase().includes("readme")||o.description.length>=200);break;case"acceptance-criteria":h=o.description&&(o.description.toLowerCase().includes("acceptance criteria")||o.description.toLowerCase().includes("acceptance:")||o.description.includes("- [ ]"));break;case"root-cause":h=o.description&&(o.description.toLowerCase().includes("root cause")||o.description.toLowerCase().includes("cause:")||o.description.toLowerCase().includes("reason:"));break;case"test-case":case"fix-verified":case"demo":case"backward-compatible":case"performance-tested":h=!1;break;default:h=!1}h?a.push(g):g.required&&r.push(g)});const c=l.checklist.filter(g=>g.required),p=a.filter(g=>g.required).length,f=c.length>0?Math.round(p/c.length*100):100;return{issueType:d,dodTemplate:l.name,totalItems:l.checklist.length,requiredItems:c.length,checkedItems:a,missingItems:r,compliancePercentage:f,isCompliant:r.length===0}}function vv(o){const l=o.filter(a=>a.state==="closed"||a.labels?.some(r=>r.toLowerCase().includes("review"))).map(a=>({issue:a,dod:Qx(a)})).filter(a=>!a.dod.isCompliant);return l.sort((a,r)=>a.dod.compliancePercentage-r.dod.compliancePercentage),l}function bv(o){const d=o.filter(f=>f.state==="closed"||f.labels?.some(g=>g.toLowerCase().includes("review")));if(d.length===0)return{totalIssues:0,compliantIssues:0,violatingIssues:0,complianceRate:100,avgCompliancePercentage:100};const l=d.map(f=>Qx(f)),a=l.filter(f=>f.isCompliant).length,r=l.filter(f=>!f.isCompliant).length,c=Math.round(a/d.length*100),p=Math.round(l.reduce((f,g)=>f+g.compliancePercentage,0)/l.length);return{totalIssues:d.length,compliantIssues:a,violatingIssues:r,complianceRate:c,avgCompliancePercentage:p}}function Sv(o){const d=["Issue ID","Title","Type","State","DoD Template","Compliance %","Missing Items","URL"],l=o.map(({issue:r,dod:c})=>[r.iid,`"${r.title.replace(/"/g,'""')}"`,c.issueType,r.state,c.dodTemplate,`${c.compliancePercentage}%`,`"${c.missingItems.map(p=>p.label).join("; ")}"`,r.web_url]);return[d.join(","),...l.map(r=>r.join(","))].join(`
`)}function jv(o,d="dod-violations.csv"){const l=new Blob([o],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),r=URL.createObjectURL(l);a.setAttribute("href",r),a.setAttribute("download",d),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)}function Ev({issues:o}){const[d,l]=U.useState(null),a=vv(o),r=bv(o),c=Vx(),p=()=>{const g=Sv(a);jv(g)},f=g=>g>=80?"#10B981":g>=60?"#F59E0B":"#EF4444";return t.jsxs("div",{children:[t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px",marginBottom:"24px"},children:[t.jsxs("div",{className:"card",style:{textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Compliance Rate"}),t.jsxs("div",{style:{fontSize:"36px",fontWeight:"700",color:f(r.complianceRate)},children:[r.complianceRate,"%"]})]}),t.jsxs("div",{className:"card",style:{textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Compliant Issues"}),t.jsx("div",{style:{fontSize:"36px",fontWeight:"700",color:"#10B981"},children:r.compliantIssues})]}),t.jsxs("div",{className:"card",style:{textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Violations"}),t.jsx("div",{style:{fontSize:"36px",fontWeight:"700",color:"#EF4444"},children:r.violatingIssues})]}),t.jsxs("div",{className:"card",style:{textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Avg Compliance"}),t.jsxs("div",{style:{fontSize:"36px",fontWeight:"700",color:f(r.avgCompliancePercentage)},children:[r.avgCompliancePercentage,"%"]})]})]}),t.jsxs("div",{className:"card",style:{marginBottom:"24px",background:"#EFF6FF",borderColor:"#BFDBFE"},children:[t.jsx("div",{style:{marginBottom:"12px",fontSize:"14px",fontWeight:"600",color:"#1E40AF"},children:" Definition of Done Templates"}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px"},children:Object.entries(c).map(([g,h])=>t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"13px",fontWeight:"600",color:"#1E40AF",marginBottom:"4px"},children:h.name}),t.jsxs("div",{style:{fontSize:"12px",color:"#1E3A8A"},children:[h.checklist.filter(y=>y.required).length," required items"]})]},g))})]}),a.length>0?t.jsxs("div",{className:"card",children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[t.jsxs("h3",{style:{fontSize:"18px",fontWeight:"600",margin:0},children:["DoD Violations (",a.length,")"]}),t.jsx("button",{onClick:p,style:{padding:"6px 12px",background:"#E60000",color:"white",border:"none",borderRadius:"6px",fontSize:"13px",fontWeight:"500",cursor:"pointer"},children:"Export CSV"})]}),a.map(({issue:g,dod:h})=>{const y=d===g.iid;return t.jsxs("div",{style:{border:`2px solid ${f(h.compliancePercentage)}`,borderRadius:"8px",marginBottom:"12px",overflow:"hidden"},children:[t.jsxs("div",{onClick:()=>l(y?null:g.iid),style:{padding:"12px 16px",background:"#F9FAFB",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[t.jsxs("span",{style:{fontSize:"14px",fontWeight:"600",color:"#1F2937"},children:["#",g.iid]}),t.jsxs("span",{style:{display:"inline-block",padding:"2px 8px",background:f(h.compliancePercentage)+"20",color:f(h.compliancePercentage),borderRadius:"10px",fontSize:"11px",fontWeight:"600"},children:[h.compliancePercentage,"% DoD"]}),t.jsx("span",{style:{fontSize:"12px",color:"#6B7280",fontWeight:"500"},children:h.dodTemplate})]}),t.jsx("div",{style:{fontSize:"13px",color:"#4B5563"},children:g.title})]}),t.jsx("div",{style:{fontSize:"20px",color:"#6B7280",transform:y?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"},children:""})]}),y&&t.jsxs("div",{style:{padding:"16px",background:"white"},children:[h.missingItems.length>0&&t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("div",{style:{fontSize:"13px",fontWeight:"600",color:"#4B5563",marginBottom:"8px"},children:[" Missing Required Items (",h.missingItems.length,"):"]}),h.missingItems.map(v=>t.jsx("div",{style:{padding:"8px 12px",background:"#FEF2F2",border:"1px solid #FCA5A5",borderRadius:"6px",marginBottom:"6px",fontSize:"13px",color:"#DC2626"},children:v.label},v.id))]}),h.checkedItems.length>0&&t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("div",{style:{fontSize:"13px",fontWeight:"600",color:"#4B5563",marginBottom:"8px"},children:[" Completed Items (",h.checkedItems.length,"):"]}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"6px"},children:h.checkedItems.map(v=>t.jsxs("div",{style:{padding:"6px 12px",background:"#F0FDF4",border:"1px solid #86EFAC",borderRadius:"6px",fontSize:"12px",color:"#166534"},children:[" ",v.label]},v.id))})]}),t.jsxs("div",{style:{padding:"12px",background:"#EFF6FF",border:"1px solid #3B82F6",borderRadius:"6px"},children:[t.jsx("div",{style:{fontSize:"13px",fontWeight:"600",color:"#1E40AF",marginBottom:"4px"},children:" Recommendation:"}),t.jsxs("div",{style:{fontSize:"12px",color:"#1E3A8A"},children:["Update issue description to include missing DoD items before marking as Done.",h.missingItems.some(v=>v.id==="acceptance-criteria")&&t.jsx(t.Fragment,{children:' Add an "Acceptance Criteria" section with clear success criteria.'})]})]}),t.jsx("div",{style:{marginTop:"12px"},children:t.jsx("a",{href:g.web_url,target:"_blank",rel:"noopener noreferrer",style:{fontSize:"13px",color:"#E60000",textDecoration:"none",fontWeight:"500"},children:"View Issue in GitLab "})})]})]},g.iid)})]}):t.jsxs("div",{className:"card",style:{padding:"40px",textAlign:"center",background:"#F0FDF4",border:"2px solid #86EFAC"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),t.jsx("div",{style:{fontSize:"18px",fontWeight:"600",color:"#166534",marginBottom:"8px"},children:"Perfect DoD Compliance!"}),t.jsx("div",{style:{fontSize:"14px",color:"#15803D"},children:"All closed issues meet the Definition of Done criteria."})]})]})}function wv({nonCompliantIssues:o}){const[d,l]=U.useState(null),[a,r]=U.useState(null),c=qx(),p=U.useMemo(()=>{if(!o||o.length===0)return new Map;const y=new Map;return c.forEach(v=>{y.set(v.key,{key:v.key,name:v.name,description:v.description,severity:v.severity,issues:new Set,totalViolations:0})}),o.forEach(v=>{v.violations.forEach(m=>{const b=y.get(m.criterion);b&&(b.issues.add(v),b.totalViolations++)})}),y.forEach((v,m)=>{v.issues=Array.from(v.issues)}),y},[o,c]),f=U.useMemo(()=>{if(!d||!p.has(d))return[];const y=p.get(d),v=new Map;return y.issues.forEach(m=>{const b=[];if(m.assignees&&m.assignees.length>0)m.assignees.forEach(j=>{const E=j.name||j.username||"Unknown";b.push(E)});else if(m.author){const j=m.author.name||m.author.username||"Unknown";b.push(j)}else b.push("Unassigned");b.forEach(j=>{v.has(j)||v.set(j,{name:j,issues:[],violationCount:0});const E=v.get(j);E.issues.push(m);const A=m.violations.filter(N=>N.criterion===d).length;E.violationCount+=A})}),Array.from(v.values()).sort((m,b)=>b.issues.length-m.issues.length)},[d,p,o]),g=U.useMemo(()=>!a||!f?[]:f.find(v=>v.name===a)?.issues||[],[a,f]),h=y=>{switch(y){case"high":return"#DC2626";case"medium":return"#D97706";case"low":return"#2563EB";default:return"#6B7280"}};return!o||o.length===0?t.jsxs("div",{className:"card text-center",style:{padding:"60px 20px"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px",opacity:.3},children:""}),t.jsx("h3",{className:"mb-2",children:"All Issues Compliant"}),t.jsx("p",{className:"text-muted",children:"No quality violations found. Great job!"})]}):t.jsxs("div",{children:[t.jsxs("div",{className:"card",style:{marginBottom:"20px"},children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Step 1: Select a Quality Criterion"}),t.jsx("p",{style:{fontSize:"13px",color:"#6B7280",marginBottom:"16px"},children:"Choose a quality criterion to see how violations are distributed across team members."}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"12px"},children:c.map(y=>{const v=p.get(y.key),m=d===y.key,b=v&&v.issues.length>0;return t.jsx("div",{onClick:()=>{b&&(l(m?null:y.key),r(null))},style:{padding:"16px",background:m?"#FEF2F2":"white",borderRadius:"8px",border:m?"2px solid #DC2626":"1px solid #E5E7EB",cursor:b?"pointer":"default",opacity:b?1:.5,transition:"all 0.2s",transform:m?"scale(0.98)":"scale(1)"},children:t.jsxs("div",{style:{display:"flex",gap:"12px"},children:[t.jsx("div",{style:{width:"8px",background:h(y.severity),borderRadius:"4px"}}),t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1F2937",marginBottom:"4px",display:"flex",alignItems:"center",gap:"8px"},children:[y.name,m&&t.jsx("span",{style:{fontSize:"11px",padding:"2px 8px",background:"#DC2626",color:"white",borderRadius:"10px",fontWeight:"600"},children:"SELECTED"})]}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"8px"},children:y.description}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("div",{style:{fontSize:"13px",fontWeight:"600",color:b?"#DC2626":"#6B7280"},children:v?t.jsxs(t.Fragment,{children:[v.issues.length," issue",v.issues.length!==1?"s":"",v.totalViolations>v.issues.length&&t.jsxs("span",{style:{fontSize:"11px",color:"#6B7280",marginLeft:"8px"},children:["(",v.totalViolations," total violations)"]})]}):"0 issues"}),b&&t.jsx("div",{style:{fontSize:"11px",color:"#3B82F6",fontWeight:"600"},children:"Click to analyze "})]})]})]})},y.key)})})]}),d&&f.length>0&&t.jsxs("div",{className:"card",style:{marginBottom:"20px"},children:[t.jsxs("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:['Step 2: Person Distribution for "',p.get(d)?.name,'"']}),t.jsxs("p",{style:{fontSize:"13px",color:"#6B7280",marginBottom:"16px"},children:["Shows how the ",p.get(d)?.issues.length," issues with this violation are distributed across team members. Click on a person to see their specific issues."]}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gap:"12px"},children:f.map(y=>{const v=a===y.name,m=(y.issues.length/p.get(d).issues.length*100).toFixed(0);return t.jsxs("div",{onClick:()=>r(v?null:y.name),style:{padding:"16px",background:v?"#EFF6FF":"white",border:v?"2px solid #3B82F6":"1px solid #E5E7EB",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1F2937",marginBottom:"4px"},children:y.name}),t.jsxs("div",{style:{fontSize:"12px",color:"#6B7280"},children:[y.issues.length," issue",y.issues.length!==1?"s":"",y.violationCount>y.issues.length&&t.jsxs("span",{style:{fontSize:"11px",marginLeft:"4px"},children:["(",y.violationCount," violations)"]})]})]}),t.jsx("div",{style:{fontSize:"20px",fontWeight:"700",color:"#DC2626"},children:y.issues.length})]}),t.jsxs("div",{style:{marginBottom:"8px"},children:[t.jsxs("div",{style:{fontSize:"11px",color:"#6B7280",marginBottom:"4px"},children:[m,"% of issues with this violation"]}),t.jsx("div",{style:{width:"100%",height:"6px",background:"#F3F4F6",borderRadius:"3px",overflow:"hidden"},children:t.jsx("div",{style:{width:`${m}%`,height:"100%",background:"linear-gradient(90deg, #3B82F6 0%, #60A5FA 100%)",transition:"width 0.3s"}})})]}),v&&t.jsx("div",{style:{fontSize:"11px",color:"#3B82F6",fontWeight:"600",textAlign:"center",marginTop:"8px"},children:"Click to hide issues"})]},y.name)})})]}),a&&g.length>0&&t.jsxs("div",{className:"card",children:[t.jsxs("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:[a,`'s Issues with "`,p.get(d)?.name,'" Violations']}),t.jsxs("p",{style:{fontSize:"13px",color:"#6B7280",marginBottom:"16px"},children:[g.length," issue",g.length!==1?"s":""," found. Click on an issue to open it in GitLab."]}),t.jsx("div",{style:{display:"grid",gap:"8px"},children:g.map(y=>{const v=y.violations.filter(m=>m.criterion===d).length;return t.jsxs("a",{href:y.webUrl,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 16px",background:"white",border:"1px solid #E5E7EB",borderRadius:"6px",textDecoration:"none",color:"#1F2937",transition:"all 0.2s"},onMouseEnter:m=>{m.currentTarget.style.borderColor="#3B82F6",m.currentTarget.style.background="#F0F9FF",m.currentTarget.style.transform="translateX(4px)"},onMouseLeave:m=>{m.currentTarget.style.borderColor="#E5E7EB",m.currentTarget.style.background="white",m.currentTarget.style.transform="translateX(0)"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{fontSize:"14px",fontWeight:"600",marginBottom:"4px"},children:["#",y.iid," ",y.title]}),t.jsxs("div",{style:{fontSize:"12px",color:"#6B7280"},children:[y.state==="opened"?"Open":"Closed"," ",y.assignees&&y.assignees.length>0?t.jsxs("span",{children:[" Assigned to: ",y.assignees.map(m=>m.name||m.username).join(", ")]}):t.jsxs("span",{children:[" Created by: ",y.author?.name||y.author?.username||"Unknown"]})]}),t.jsxs("div",{style:{fontSize:"11px",color:"#9CA3AF",marginTop:"4px"},children:[v," violation",v!==1?"s":""," of this criterion"]})]}),t.jsx("div",{style:{padding:"6px 12px",background:"#3B82F6",color:"white",borderRadius:"6px",fontSize:"12px",fontWeight:"600",display:"flex",alignItems:"center",gap:"4px"},children:"Open in GitLab "})]},y.id)})})]})]})}function Bv({issues:o}){const{filteredIssues:d}=Dn(),[l,a]=U.useState(""),[r,c]=U.useState(null),[p,f]=U.useState(!1),[g,h]=U.useState("quality"),[y,v]=U.useState(()=>localStorage.getItem("quality.showOpenOnly")!=="false"),[m,b]=U.useState(()=>localStorage.getItem("quality.legendCollapsed")==="true"),j=()=>{b(B=>{const O=!B;return localStorage.setItem("quality.legendCollapsed",String(O)),O})},E=()=>{v(B=>{const O=!B;return localStorage.setItem("quality.showOpenOnly",String(O)),O})},{nonCompliantIssues:A,stats:N,staleIssues:k}=U.useMemo(()=>{if(!d||d.length===0)return{nonCompliantIssues:[],stats:null,staleIssues:[]};const B=y?d.filter(J=>J.state==="opened"):d,O=pv(B),G=fv(B),K=Gx(B);return{nonCompliantIssues:O,stats:G,staleIssues:K}},[d,y]),C=qx(),D=U.useMemo(()=>{let B=A;if(l&&(B=Yx(B,l)),r)switch(r){case"highSeverity":B=B.filter(O=>O.violations.some(G=>G.severity==="high"));break;case"mediumSeverity":B=B.filter(O=>O.violations.some(G=>G.severity==="medium"));break;case"lowSeverity":B=B.filter(O=>O.violations.some(G=>G.severity==="low"));break;case"stale":B=B.filter(O=>O.staleStatus?.isStale);break;default:B=B.filter(O=>O.violations.some(G=>G.criterion===r));break}return B},[A,l,r]),w=()=>{const B=Oh(D),O=new Date().toISOString().split("T")[0];Yt(B,`issue-compliance-report-${O}.csv`)},T=()=>{const G=wt().teamMembers?.find(R=>R.role==="Scrum Master")?.email||"",K=`Issue Quality Compliance Report - ${new Date().toLocaleDateString()}`,J=D.length,le=D.filter(R=>R.violations.some($=>$.severity==="high")).length,I=D.filter(R=>R.violations.some($=>$.severity==="medium")).length,F=D.filter(R=>R.violations.some($=>$.severity==="low")).length,M=`Hi,

Please find the Issue Quality Compliance Report attached.

Summary:
- Total non-compliant issues: ${J}
- High severity: ${le}
- Medium severity: ${I}
- Low severity: ${F}
- Compliance rate: ${N?.complianceRate}%

The CSV report has been downloaded to your Downloads folder. Please attach it to this email before sending.

Best regards`,W=Oh(D),P=new Date().toISOString().split("T")[0];Yt(W,`issue-compliance-report-${P}.csv`);const Y=`mailto:${G}?subject=${encodeURIComponent(K)}&body=${encodeURIComponent(M)}`;window.location.href=Y},_=B=>{c(r===B?null:B)},L=B=>{switch(B){case"high":return"#DC2626";case"medium":return"#D97706";case"low":return"#2563EB";default:return"#6B7280"}};return t.jsxs("div",{className:"container-fluid",children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"20px"},children:[t.jsxs("div",{children:[t.jsx("h2",{style:{fontSize:"24px",fontWeight:"600",marginBottom:"8px"},children:"Issue Quality Compliance"}),t.jsx("p",{style:{fontSize:"14px",color:"#6B7280"},children:"Quality criteria validation for all issues"})]}),t.jsxs("div",{style:{display:"flex",gap:"12px"},children:[t.jsx("button",{className:"btn",onClick:()=>f(!0),style:{display:"flex",alignItems:"center",gap:"6px"},children:"Configure Criteria"}),D.length>0&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"btn btn-primary",onClick:T,children:"Email Report"}),t.jsx("button",{className:"btn",onClick:w,children:"Export CSV"})]})]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"2px solid #E5E7EB",marginBottom:"24px"},children:[t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsx("button",{onClick:()=>h("quality"),style:{padding:"12px 24px",background:g==="quality"?"white":"transparent",border:"none",borderBottom:g==="quality"?"3px solid #E60000":"3px solid transparent",fontSize:"14px",fontWeight:g==="quality"?"600":"500",color:g==="quality"?"#E60000":"#6B7280",cursor:"pointer",transition:"all 0.2s",marginBottom:"-2px"},children:"Quality Criteria"}),t.jsx("button",{onClick:()=>h("byauthor"),style:{padding:"12px 24px",background:g==="byauthor"?"white":"transparent",border:"none",borderBottom:g==="byauthor"?"3px solid #E60000":"3px solid transparent",fontSize:"14px",fontWeight:g==="byauthor"?"600":"500",color:g==="byauthor"?"#E60000":"#6B7280",cursor:"pointer",transition:"all 0.2s",marginBottom:"-2px"},children:"By Author"}),t.jsx("button",{onClick:()=>h("dod"),style:{padding:"12px 24px",background:g==="dod"?"white":"transparent",border:"none",borderBottom:g==="dod"?"3px solid #E60000":"3px solid transparent",fontSize:"14px",fontWeight:g==="dod"?"600":"500",color:g==="dod"?"#E60000":"#6B7280",cursor:"pointer",transition:"all 0.2s",marginBottom:"-2px"},children:"Definition of Done"})]}),(g==="quality"||g==="byauthor")&&t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",background:"#F9FAFB",borderRadius:"6px",marginBottom:"-2px"},children:[t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",fontSize:"13px",fontWeight:"500",color:"#374151"},children:[t.jsx("input",{type:"checkbox",checked:y,onChange:E,style:{width:"16px",height:"16px",cursor:"pointer"}}),t.jsx("span",{children:"Show open issues only"})]}),t.jsx("div",{style:{fontSize:"11px",color:"#6B7280",padding:"2px 8px",background:y?"#DCFCE7":"#FEF3C7",borderRadius:"10px",fontWeight:"600"},children:y?"Open only":"All issues"})]})]}),t.jsx(xv,{isOpen:p,onClose:()=>f(!1)}),g==="dod"?t.jsx(Ev,{issues:d}):g==="byauthor"?t.jsx(wv,{nonCompliantIssues:A}):t.jsxs(t.Fragment,{children:[t.jsx(wd,{value:l,onChange:a,placeholder:"Search issues by title, labels, assignees, epic, milestone, description...",onClear:()=>c(null)}),N&&t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:"30px"},children:[t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Compliance Rate"}),t.jsxs("div",{style:{fontSize:"32px",fontWeight:"600",color:N.complianceRate>=80?"#059669":N.complianceRate>=60?"#D97706":"#DC2626"},children:[N.complianceRate,"%"]}),t.jsxs("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:[N.compliant," / ",N.total," issues"]})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Non-Compliant"}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"600",color:"#DC2626"},children:N.nonCompliant}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:"Need attention"})]}),t.jsxs("div",{className:"card",onClick:()=>_("highSeverity"),style:{borderLeft:"4px solid #DC2626",cursor:"pointer",transform:r==="highSeverity"?"scale(0.98)":"scale(1)",boxShadow:r==="highSeverity"?"0 0 0 3px #DC262633":void 0,transition:"all 0.2s"},children:[t.jsxs("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:["High Severity ",r==="highSeverity"&&"[Active]"]}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"600",color:"#DC2626"},children:N.highSeverity}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:r==="highSeverity"?"Click to clear filter":"Click to filter"})]}),t.jsxs("div",{className:"card",onClick:()=>_("mediumSeverity"),style:{borderLeft:"4px solid #D97706",cursor:"pointer",transform:r==="mediumSeverity"?"scale(0.98)":"scale(1)",boxShadow:r==="mediumSeverity"?"0 0 0 3px #D9770633":void 0,transition:"all 0.2s"},children:[t.jsxs("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:["Medium Severity ",r==="mediumSeverity"&&"[Active]"]}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"600",color:"#D97706"},children:N.mediumSeverity}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:r==="mediumSeverity"?"Click to clear filter":"Click to filter"})]}),t.jsxs("div",{className:"card",onClick:()=>_("lowSeverity"),style:{borderLeft:"4px solid #6B7280",cursor:"pointer",transform:r==="lowSeverity"?"scale(0.98)":"scale(1)",boxShadow:r==="lowSeverity"?"0 0 0 3px rgba(107, 114, 128, 0.2)":void 0,transition:"all 0.2s"},children:[t.jsxs("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:["Low Severity ",r==="lowSeverity"&&"[Active]"]}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"600",color:"#6B7280"},children:N.lowSeverity}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:r==="lowSeverity"?"Click to clear filter":"Click to filter"})]}),t.jsxs("div",{className:"card",onClick:()=>_("stale"),style:{borderLeft:"4px solid #9CA3AF",cursor:"pointer",transform:r==="stale"?"scale(0.98)":"scale(1)",boxShadow:r==="stale"?"0 0 0 3px rgba(156, 163, 175, 0.2)":void 0,transition:"all 0.2s"},children:[t.jsxs("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:["Stale Issues ",r==="stale"&&"[Active]"]}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"600",color:"#6B7280"},children:N.staleIssues.total}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:r==="stale"?"Click to clear filter":`${N.staleIssues.critical} critical, ${N.staleIssues.warning} warning`})]})]}),t.jsxs("div",{className:"card",style:{marginBottom:"30px",background:"#F0F9FF",borderColor:"#3B82F6"},children:[t.jsxs("div",{onClick:j,style:{display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",marginBottom:m?"0":"16px"},children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#1E40AF",margin:0},children:" Color Coding Guide"}),t.jsx("span",{style:{fontSize:"14px",color:"#1E40AF",transform:m?"rotate(-90deg)":"rotate(0deg)",transition:"transform 0.2s",display:"inline-block"},children:""})]}),!m&&t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[t.jsxs("div",{children:[t.jsx("h4",{style:{fontSize:"14px",fontWeight:"600",color:"#1E40AF",marginBottom:"8px"},children:"Compliance Score Calculation"}),t.jsxs("div",{style:{fontSize:"13px",color:"#1E3A8A",padding:"12px",background:"#DBEAFE",borderRadius:"6px",marginBottom:"4px",border:"1px solid #93C5FD"},children:[t.jsx("strong",{children:"Score = (Passed Criteria / Total Criteria)  100"}),t.jsx("div",{style:{marginTop:"8px",lineHeight:"1.5"},children:"Each issue is checked against all enabled quality criteria (assignee, weight, epic, description, labels, milestone, due date, priority, stale). The score reflects how many criteria the issue passes. For example, if 6 out of 9 criteria pass, the score is 67%."})]})]}),t.jsxs("div",{children:[t.jsx("h4",{style:{fontSize:"14px",fontWeight:"600",color:"#1E40AF",marginBottom:"8px"},children:"Issue Card Backgrounds"}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("div",{style:{width:"40px",height:"24px",background:"#FEF2F2",border:"1px solid #FEE2E2",borderRadius:"4px"}}),t.jsx("span",{style:{fontSize:"13px",color:"#374151"},children:"Red/pink background = Compliance score below 50% (critical)"})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("div",{style:{width:"40px",height:"24px",background:"white",border:"1px solid #E5E7EB",borderRadius:"4px"}}),t.jsx("span",{style:{fontSize:"13px",color:"#374151"},children:"White background = Compliance score 50% or above"})]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{style:{fontSize:"14px",fontWeight:"600",color:"#1E40AF",marginBottom:"8px"},children:"Left Border Colors"}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("div",{style:{width:"4px",height:"24px",background:"#DC2626",borderRadius:"2px"}}),t.jsx("span",{style:{fontSize:"13px",color:"#374151"},children:"Red = Score below 50%"})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("div",{style:{width:"4px",height:"24px",background:"#D97706",borderRadius:"2px"}}),t.jsx("span",{style:{fontSize:"13px",color:"#374151"},children:"Orange = Score 50-74%"})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("div",{style:{width:"4px",height:"24px",background:"#2563EB",borderRadius:"2px"}}),t.jsx("span",{style:{fontSize:"13px",color:"#374151"},children:"Blue = Score 75% or above"})]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{style:{fontSize:"14px",fontWeight:"600",color:"#1E40AF",marginBottom:"8px"},children:"Violation Badges"}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("div",{style:{padding:"4px 8px",background:"#FEE2E2",color:"#991B1B",fontSize:"11px",fontWeight:"500",borderRadius:"4px"},children:"HIGH"}),t.jsx("span",{style:{fontSize:"13px",color:"#374151"},children:"High severity violations (red background)"})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("div",{style:{padding:"4px 8px",background:"#FEF3C7",color:"#92400E",fontSize:"11px",fontWeight:"500",borderRadius:"4px"},children:"MED"}),t.jsx("span",{style:{fontSize:"13px",color:"#374151"},children:"Medium severity violations (yellow background)"})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("div",{style:{padding:"4px 8px",background:"#DBEAFE",color:"#1E40AF",fontSize:"11px",fontWeight:"500",borderRadius:"4px"},children:"LOW"}),t.jsx("span",{style:{fontSize:"13px",color:"#374151"},children:"Low severity violations (blue background)"})]})]})]})]})]}),t.jsxs("div",{className:"card",style:{marginBottom:"30px",background:"#F9FAFB"},children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"16px"},children:"Issue Quality Criteria"}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"12px"},children:C.map(B=>{const O=r===B.key,G=N?.violationsByCriterion[B.key]||0;return t.jsxs("div",{onClick:()=>G>0&&_(B.key),style:{display:"flex",gap:"12px",padding:"12px",background:"white",borderRadius:"6px",border:O?`2px solid ${L(B.severity)}`:"1px solid #E5E7EB",cursor:G>0?"pointer":"default",opacity:G===0?.5:1,transform:O?"scale(0.98)":"scale(1)",boxShadow:O?`0 0 0 3px ${L(B.severity)}33`:void 0,transition:"all 0.2s"},children:[t.jsx("div",{style:{width:"8px",background:L(B.severity),borderRadius:"4px"}}),t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{fontSize:"13px",fontWeight:"600",color:"#1F2937",marginBottom:"4px"},children:[B.name," ",O&&"[Active]"]}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280"},children:B.description}),N&&t.jsxs("div",{style:{fontSize:"11px",color:G>0?"#DC2626":"#6B7280",marginTop:"6px",fontWeight:G>0?"600":"400"},children:[G," violation",G!==1?"s":"",G>0&&"  Click to filter"]})]})]},B.key)})})]}),r&&D.length>0&&t.jsxs("div",{style:{marginBottom:"20px",padding:"12px 16px",background:"#F9FAFB",borderRadius:"8px",border:"1px solid #E5E7EB",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("span",{style:{fontSize:"14px",color:"#374151"},children:"Filtered by:"}),t.jsxs("span",{style:{padding:"4px 12px",background:"#E5E7EB",color:"#1F2937",borderRadius:"12px",fontSize:"13px",fontWeight:"600"},children:[r==="highSeverity"&&"High Severity",r==="mediumSeverity"&&"Medium Severity",r==="lowSeverity"&&"Low Severity",r==="stale"&&"Stale Issues",!["highSeverity","mediumSeverity","lowSeverity","stale"].includes(r)&&(C.find(B=>B.key===r)?.name||r)]}),t.jsxs("span",{style:{fontSize:"13px",color:"#6B7280"},children:["(",D.length," ",D.length===1?"issue":"issues",")"]})]}),t.jsx("button",{onClick:()=>c(null),style:{padding:"4px 12px",background:"#E60000",color:"white",border:"none",borderRadius:"6px",fontSize:"12px",fontWeight:"600",cursor:"pointer"},children:"Clear Filter"})]}),D.length===0?t.jsxs("div",{className:"card text-center",style:{padding:"60px 20px"},children:[t.jsx("h3",{className:"mb-2",children:A.length===0?"All Issues Compliant!":"No Issues in Selected Filter"}),t.jsx("p",{className:"text-muted",children:A.length===0?"All issues meet quality criteria. Great work!":"Try selecting a different severity filter."})]}):t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:D.map(B=>{const O=B.violations.filter(J=>J.severity==="high"),G=B.violations.filter(J=>J.severity==="medium"),K=B.violations.filter(J=>J.severity==="low");return t.jsxs("div",{className:"card",style:{borderLeft:`4px solid ${B.complianceScore<50?"#DC2626":B.complianceScore<75?"#D97706":"#2563EB"}`,background:B.complianceScore<50?"#FEF2F2":"white"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[t.jsx("div",{style:{flex:1},children:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px",flexWrap:"wrap"},children:[t.jsxs("span",{style:{fontSize:"14px",fontWeight:"600",color:"#6B7280"},children:["#",B.iid]}),t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#1F2937",margin:0},children:B.title}),t.jsx("span",{style:{padding:"4px 8px",background:B.state==="opened"?"#DBEAFE":"#D1FAE5",color:B.state==="opened"?"#1E40AF":"#065F46",borderRadius:"4px",fontSize:"11px",fontWeight:"600",textTransform:"capitalize"},children:B.state}),B.staleStatus?.isStale&&t.jsxs("span",{style:{padding:"4px 8px",background:B.staleStatus.severity==="critical"?"#FEE2E2":"#FEF3C7",color:B.staleStatus.severity==="critical"?"#991B1B":"#92400E",borderRadius:"4px",fontSize:"11px",fontWeight:"600",display:"flex",alignItems:"center",gap:"4px"},children:[B.staleStatus.daysOpen," days open"]})]})}),t.jsxs("div",{style:{minWidth:"80px",textAlign:"center",padding:"8px 12px",background:B.complianceScore<50?"#DC262620":B.complianceScore<75?"#D9770620":"#2563EB20",borderRadius:"8px"},children:[t.jsx("div",{style:{fontSize:"11px",color:"#6B7280",marginBottom:"2px"},children:"Score"}),t.jsxs("div",{style:{fontSize:"20px",fontWeight:"700",color:B.complianceScore<50?"#DC2626":B.complianceScore<75?"#D97706":"#2563EB"},children:[B.complianceScore,"%"]})]})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("div",{style:{fontSize:"13px",fontWeight:"600",color:"#1F2937",marginBottom:"8px"},children:["Violations (",B.violations.length,")"]}),t.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[O.map((J,le)=>t.jsxs("span",{style:{padding:"4px 12px",background:"#FEE2E2",color:"#991B1B",borderRadius:"12px",fontSize:"12px",fontWeight:"600"},children:[J.name,J.criterion==="stale"&&J.daysOpen&&` (${J.daysOpen}d)`]},le)),G.map((J,le)=>t.jsxs("span",{style:{padding:"4px 12px",background:"#FEF3C7",color:"#92400E",borderRadius:"12px",fontSize:"12px",fontWeight:"600"},children:[J.name,J.criterion==="stale"&&J.daysOpen&&` (${J.daysOpen}d)`]},le)),K.map((J,le)=>t.jsxs("span",{style:{padding:"4px 12px",background:"#DBEAFE",color:"#1E40AF",borderRadius:"12px",fontSize:"12px",fontWeight:"600"},children:[J.name,J.criterion==="stale"&&J.daysOpen&&` (${J.daysOpen}d)`]},le))]})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"12px",marginBottom:"12px",padding:"12px",background:"#F9FAFB",borderRadius:"6px"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",color:"#6B7280",marginBottom:"4px"},children:"CREATED"}),t.jsx("div",{style:{fontSize:"13px",color:"#1F2937"},children:new Date(B.createdAt).toLocaleDateString()})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",color:"#6B7280",marginBottom:"4px"},children:"UPDATED"}),t.jsx("div",{style:{fontSize:"13px",color:"#1F2937"},children:new Date(B.updatedAt).toLocaleDateString()})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",color:"#6B7280",marginBottom:"4px"},children:"AUTHOR"}),t.jsx("div",{style:{fontSize:"13px",color:"#1F2937"},children:B.author?B.author.name:"Unknown"})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",color:"#6B7280",marginBottom:"4px"},children:"ASSIGNEES"}),t.jsx("div",{style:{fontSize:"13px",color:"#1F2937"},children:B.assignees.length>0?B.assignees.map(J=>J.name).join(", "):"None"})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",color:"#6B7280",marginBottom:"4px"},children:"EPIC"}),t.jsx("div",{style:{fontSize:"13px",color:"#1F2937"},children:B.epic?B.epic.title:"None"})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",color:"#6B7280",marginBottom:"4px"},children:"MILESTONE"}),t.jsx("div",{style:{fontSize:"13px",color:"#1F2937"},children:B.milestone?B.milestone.title:"None"})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",color:"#6B7280",marginBottom:"4px"},children:"WEIGHT"}),t.jsx("div",{style:{fontSize:"13px",color:"#1F2937"},children:B.weight||"Not set"})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",color:"#6B7280",marginBottom:"4px"},children:"DUE DATE"}),t.jsx("div",{style:{fontSize:"13px",color:"#1F2937"},children:B.dueDate?new Date(B.dueDate).toLocaleDateString():"Not set"})]})]}),t.jsx("div",{style:{display:"flex",gap:"8px"},children:B.webUrl&&t.jsx("a",{href:B.webUrl,target:"_blank",rel:"noopener noreferrer",className:"btn btn-secondary",style:{fontSize:"13px",padding:"6px 12px",textDecoration:"none"},children:"View in GitLab "})})]},B.issueId)})}),A.length>0&&t.jsxs("div",{className:"card",style:{marginTop:"30px",background:"#EFF6FF",borderColor:"#BFDBFE"},children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#1E40AF",marginBottom:"12px"},children:"Summary for Scrum Master"}),t.jsxs("div",{style:{fontSize:"14px",color:"#1E40AF",lineHeight:"1.6"},children:[t.jsxs("p",{style:{marginBottom:"12px"},children:[t.jsx("strong",{children:A.length})," issue(s) need attention to meet quality standards."]}),t.jsx("p",{style:{marginBottom:"12px"},children:"Top violations:"}),t.jsx("ul",{style:{marginLeft:"20px",marginBottom:"12px"},children:Object.entries(N.violationsByCriterion).sort((B,O)=>O[1]-B[1]).slice(0,5).filter(([B,O])=>O>0).map(([B,O])=>{const G=C.find(K=>K.key===B);return t.jsxs("li",{children:[t.jsxs("strong",{children:[G.name,":"]})," ",O," issues"]},B)})}),t.jsx("p",{style:{fontSize:"13px",color:"#1E40AF"},children:'Click "Export CSV Report" above to download the full report for review.'})]})]})]})]})}const Bd={backlog:["backlog","new","open","todo","to do"],analysis:["analysis","analyzing","refinement","planning","design","in analysis"],inProgress:["in progress","doing","wip","development","started","active"],review:["review","code review","peer review","reviewing"],testing:["in testing","testing","qa","test","validation","verification"],awaitingTesting:["awaiting testing","awaiting qa","ready for testing","to test"],awaitingRelease:["awaiting release","ready for release","to release","pending release"],released:["released","deployed","in production"],cancelled:["cancelled","canceled","rejected","wont fix","won't fix"],done:["done","completed","closed","resolved","finished"],blocked:["blocked","blocker","waiting","on hold","paused"]};function ja(o,d=Bd){if(!o.labels||o.labels.length===0)return o.state==="closed"?"done":"backlog";const l=o.labels.map(a=>a.toLowerCase());return l.some(a=>d.cancelled.some(r=>a.includes(r)))?"cancelled":l.some(a=>d.released.some(r=>a.includes(r)))?"released":l.some(a=>d.blocked.some(r=>a.includes(r)))?"blocked":l.some(a=>d.awaitingRelease.some(r=>a.includes(r)))?"awaitingRelease":l.some(a=>d.awaitingTesting.some(r=>a.includes(r)))?"awaitingTesting":l.some(a=>d.testing.some(r=>a.includes(r)))?"testing":l.some(a=>d.review.some(r=>a.includes(r)))?"review":l.some(a=>d.inProgress.some(r=>a.includes(r)))?"inProgress":l.some(a=>d.analysis.some(r=>a.includes(r)))?"analysis":l.some(a=>d.done.some(r=>a.includes(r)))?"done":l.some(a=>d.backlog.some(r=>a.includes(r)))?"backlog":o.state==="closed"?"done":"backlog"}function Xx(o){const d=new Date,l=new Date(o.updated_at),a=Math.abs(d-l);return Math.ceil(a/(1e3*60*60*24))}function ho(o){const d=new Date(o.created_at),l=o.closed_at?new Date(o.closed_at):new Date,a=Math.abs(l-d);return Math.ceil(a/(1e3*60*60*24))}function Dv(o){const d=ja(o);if(d==="backlog"||d==="analysis")return null;const l=new Date(o.updated_at),a=o.closed_at?new Date(o.closed_at):new Date,r=Math.abs(a-l);return Math.ceil(r/(1e3*60*60*24))}function Cv(o){const d=o.filter(c=>c.state==="closed");if(d.length===0)return{count:0,avgLeadTime:0,medianLeadTime:0,minLeadTime:0,maxLeadTime:0,leadTimes:[]};const l=d.map(c=>ho(c)).sort((c,p)=>c-p),a=Math.round(l.reduce((c,p)=>c+p,0)/l.length),r=l[Math.floor(l.length/2)];return{count:d.length,avgLeadTime:a,medianLeadTime:r,minLeadTime:l[0],maxLeadTime:l[l.length-1],leadTimes:l}}function Zx(o,d=Bd){const l={backlog:[],analysis:[],inProgress:[],review:[],testing:[],awaitingTesting:[],awaitingRelease:[],released:[],cancelled:[],done:[],blocked:[]};return o.forEach(a=>{const r=ja(a,d);l[r]?l[r].push(a):l.backlog.push(a)}),l}function Av(o){const d=o.filter(a=>a.state==="closed");if(d.length===0)return{backlog:0,analysis:0,inProgress:0,review:0,testing:0,total:0};const l=d.reduce((a,r)=>a+ho(r),0)/d.length;return{backlog:Math.round(l*.2),analysis:Math.round(l*.15),inProgress:Math.round(l*.4),review:Math.round(l*.1),testing:Math.round(l*.15),total:Math.round(l)}}function Tv(o){const d=Zx(o.filter(p=>p.state==="opened")),l=[],r=[...Object.entries(d).map(([p,f])=>({phase:p,count:f.length,avgTimeInPhase:f.length>0?Math.round(f.reduce((g,h)=>g+Xx(h),0)/f.length):0,issues:f}))].sort((p,f)=>f.count-p.count),c=(p,f)=>{const g=[],h=[];return(p==="testing"||p==="awaitingTesting")&&(f.avgTimeInPhase>7&&(g.push("Security or QA team backlog"),h.push("Request additional QA resources or auto-approve low-risk changes")),f.count>5&&(g.push(`${f.count} issues waiting for testing`),h.push("Prioritize testing queue, enable parallel testing"))),p==="awaitingRelease"&&(f.avgTimeInPhase>5&&(g.push("Infrequent deployment schedule"),h.push("Enable more frequent deployments or continuous delivery")),f.count>3&&(g.push(`${f.count} issues ready but waiting for release window`),h.push("Deploy batches more frequently (daily vs weekly)"))),p==="review"&&f.avgTimeInPhase>3&&(g.push("Code review backlog or slow review process"),h.push("Assign dedicated reviewers, set SLA for reviews (24-48 hours)")),p==="blocked"&&(g.push("External dependencies or blockers"),h.push("Escalate blockers to management, find workarounds")),p==="inProgress"&&(f.count>8&&(g.push("Too much work in progress (WIP)"),h.push("Implement WIP limits, focus on completing vs starting")),f.avgTimeInPhase>10&&(g.push("Issues are more complex than estimated"),h.push("Break down large issues, improve estimation process"))),g.length===0&&f.count>5&&(g.push(`High volume of issues in ${Sn(p)}`),h.push("Increase throughput or reduce incoming work to this phase")),g.length===0&&f.avgTimeInPhase>10&&(g.push("Issues spending excessive time in this phase"),h.push("Investigate process inefficiencies or resource constraints")),{causes:g,actions:h}};return r.forEach((p,f)=>{if(p.count===0)return;let g="low",h="";if(f===0&&p.count>5?(g="high",h=`Highest concentration of issues (${p.count})`):p.avgTimeInPhase>14?(g="medium",h=`Long average time in phase (${p.avgTimeInPhase} days)`):p.count>3&&(g="low",h=`${p.count} issues currently in this phase`),g){const{causes:y,actions:v}=c(p.phase,p);l.push({phase:p.phase,count:p.count,avgTimeInPhase:p.avgTimeInPhase,severity:g,reason:h,rootCauses:y,recommendedActions:v})}}),l.filter(p=>p.count>0)}function ud(o){return{iid:o.iid,title:o.title,state:o.state,currentPhase:ja(o),createdAt:o.created_at,updatedAt:o.updated_at,closedAt:o.closed_at,leadTime:ho(o),cycleTime:Dv(o),timeInCurrentPhase:Xx(o),labels:o.labels||[],assignees:o.assignees||[],milestone:o.milestone,epic:o.epic}}function zv(o){const l=o.filter(r=>r.state==="closed").map(r=>ho(r)),a={"0-7 days":0,"8-14 days":0,"15-30 days":0,"31-60 days":0,"61-90 days":0,"90+ days":0};return l.forEach(r=>{r<=7?a["0-7 days"]++:r<=14?a["8-14 days"]++:r<=30?a["15-30 days"]++:r<=60?a["31-60 days"]++:r<=90?a["61-90 days"]++:a["90+ days"]++}),a}function kv(o){const d=new Set;o.forEach(a=>{a.labels&&a.labels.forEach(r=>d.add(r))});const l={status:[],phase:[],workflow:[],other:[]};return Array.from(d).forEach(a=>{const r=a.toLowerCase();r.includes("status")?l.status.push(a):Object.values(Bd).flat().some(c=>r.includes(c))?l.phase.push(a):r.includes("workflow")||r.includes("work")?l.workflow.push(a):l.other.push(a)}),l}function Rv(o){const d=["Issue ID","Title","State","Current Phase","Lead Time (days)","Cycle Time (days)","Time in Current Phase (days)","Created At","Updated At","Closed At","Labels","Assignees","Milestone","Epic"],l=o.map(r=>{const c=ud(r);return[c.iid,`"${c.title.replace(/"/g,'""')}"`,c.state,c.currentPhase,c.leadTime,c.cycleTime||"N/A",c.timeInCurrentPhase,new Date(c.createdAt).toLocaleDateString(),new Date(c.updatedAt).toLocaleDateString(),c.closedAt?new Date(c.closedAt).toLocaleDateString():"N/A",c.labels.join("; ")||"None",c.assignees.map(p=>p.name).join("; ")||"None",c.milestone?c.milestone.title:"None",c.epic?c.epic.title:"None"]});return[d.join(","),...l.map(r=>r.join(","))].join(`
`)}function _v(o,d="cycle-time-report.csv"){const l=new Blob([o],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),r=URL.createObjectURL(l);a.setAttribute("href",r),a.setAttribute("download",d),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)}function Sn(o){return{backlog:"Backlog",analysis:"Analysis",inProgress:"In Progress",review:"Review",testing:"In Testing",awaitingTesting:"Awaiting Testing",awaitingRelease:"Awaiting Release",released:"Released",cancelled:"Cancelled",done:"Done",blocked:"Blocked"}[o]||o}function vn(o){return{backlog:"#6B7280",analysis:"#3B82F6",inProgress:"#F59E0B",review:"#8B5CF6",testing:"#EC4899",awaitingTesting:"#F59E0B",awaitingRelease:"#10B981",released:"#059669",cancelled:"#9CA3AF",done:"#10B981",blocked:"#EF4444"}[o]||"#6B7280"}function Fv({issues:o}){const{filteredIssues:d}=Dn(),[l,a]=U.useState("all"),[r,c]=U.useState(!1),[p,f]=U.useState(null),[g,h]=U.useState(!0),[y,v]=U.useState(""),[m,b]=U.useState(()=>localStorage.getItem("cycleTime.bottleneckCollapsed")==="true"),j=()=>{b(w=>{const T=!w;return localStorage.setItem("cycleTime.bottleneckCollapsed",String(T)),T})},E=U.useMemo(()=>y?Yx(d,y):d,[d,y]);U.useEffect(()=>{async function w(){const T=Ci();if(!T){h(!1);return}const _=await Wm(T.gitlabUrl,T.projectId,T.token);f(_),h(!1)}w()},[]);const A=U.useMemo(()=>!E||E.length===0?null:{cycleTimeStats:Cv(E),phaseDistribution:Zx(E),avgTimePerPhase:Av(E),bottlenecks:Tv(E),leadTimeDistribution:zv(E),detectedLabels:kv(E)},[E]),N=U.useMemo(()=>!E||l==="all"?E:E.filter(w=>ud(w).currentPhase===l),[E,l]),k=()=>{const w=Rv(E),T=new Date().toISOString().split("T")[0];_v(w,`cycle-time-report-${T}.csv`)};if(!A)return t.jsx("div",{className:"container",children:t.jsx("div",{className:"card text-center",children:t.jsx("p",{children:"No data available"})})});const C=E.filter(w=>w.state==="opened"),D=Object.entries(A.phaseDistribution).filter(([w])=>w!=="done").reduce((w,[T,_])=>w+_.length,0);return t.jsxs("div",{className:"container-fluid",children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"20px"},children:[t.jsxs("div",{children:[t.jsx("h2",{style:{fontSize:"24px",fontWeight:"600",marginBottom:"8px"},children:"Cycle Time Analytics"}),t.jsx("p",{style:{fontSize:"14px",color:"#6B7280"},children:"Issue lifecycle and workflow efficiency metrics"})]}),t.jsxs("div",{style:{display:"flex",gap:"12px"},children:[t.jsx("button",{className:"btn btn-secondary",onClick:()=>c(!r),children:" Detected Labels"}),t.jsx("button",{className:"btn btn-primary",onClick:k,children:" Export CSV"})]})]}),t.jsx(wd,{value:y,onChange:v,placeholder:"Search issues by title, labels, assignees, epic, milestone, description..."}),!g&&p&&t.jsx("div",{className:"card",style:{marginBottom:"30px",background:p.hasLabelHistory?"#D1FAE5":"#FEF3C7",borderColor:p.hasLabelHistory?"#10B981":"#F59E0B"},children:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("div",{style:{fontSize:"24px"},children:p.hasLabelHistory?"":""}),t.jsxs("div",{style:{flex:1},children:[t.jsx("h3",{style:{fontSize:"14px",fontWeight:"600",color:p.hasLabelHistory?"#065F46":"#92400E",marginBottom:"4px"},children:p.hasLabelHistory?"GitLab Premium/Ultimate Detected":"GitLab Free/Community Edition Detected"}),t.jsx("p",{style:{fontSize:"12px",color:p.hasLabelHistory?"#065F46":"#92400E",margin:0},children:p.hasLabelHistory?" Label history API available - Precise cycle time tracking enabled":" Using estimated cycle times. Upgrade to Premium/Ultimate for exact label-change history and more accurate metrics."})]})]})}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:"30px"},children:[t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Avg Lead Time"}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"600",color:"#3B82F6"},children:A.cycleTimeStats.avgLeadTime}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:"days (created  closed)"})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Median Lead Time"}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"600",color:"#3B82F6"},children:A.cycleTimeStats.medianLeadTime}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:"days (50th percentile)"})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Completed Issues"}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"600",color:"#10B981"},children:A.cycleTimeStats.count}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:"closed & analyzed"})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"In Progress"}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"600",color:"#F59E0B"},children:D}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:"currently active"})]})]}),r&&t.jsxs("div",{className:"card",style:{marginBottom:"30px",background:"#F0F9FF",borderColor:"#BFDBFE"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#1E40AF"},children:" Detected Labels in Your Project"}),t.jsx("button",{onClick:()=>c(!1),style:{background:"none",border:"none",fontSize:"20px",cursor:"pointer",color:"#6B7280"},children:""})]}),t.jsx("p",{style:{fontSize:"13px",color:"#1E40AF",marginBottom:"16px"},children:"Cycle time detection uses these labels to identify issue phases. If your labels don't match, the system will use fallback detection based on issue state."}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"16px"},children:Object.entries(A.detectedLabels).map(([w,T])=>T.length>0&&t.jsxs("div",{children:[t.jsxs("div",{style:{fontSize:"12px",fontWeight:"600",color:"#1E40AF",marginBottom:"8px",textTransform:"capitalize"},children:[w," Labels"]}),t.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:T.map(_=>t.jsx("span",{style:{padding:"4px 8px",background:"#DBEAFE",color:"#1E40AF",borderRadius:"4px",fontSize:"11px",fontWeight:"600"},children:_},_))})]},w))})]}),A.bottlenecks.length>0&&t.jsxs("div",{className:"card",style:{marginBottom:"30px",background:"#FEF3C7",borderColor:"#FCD34D"},children:[t.jsxs("div",{onClick:j,style:{display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",marginBottom:m?"0":"16px"},children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#92400E",margin:0},children:" Bottleneck Analysis"}),t.jsx("span",{style:{fontSize:"14px",color:"#92400E",transform:m?"rotate(-90deg)":"rotate(0deg)",transition:"transform 0.2s",display:"inline-block"},children:""})]}),!m&&t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:A.bottlenecks.map(w=>t.jsxs("div",{style:{padding:"12px",background:"white",borderRadius:"6px",borderLeft:`4px solid ${w.severity==="high"?"#DC2626":w.severity==="medium"?"#F59E0B":"#3B82F6"}`},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1F2937",marginBottom:"4px"},children:Sn(w.phase)}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280"},children:w.reason})]}),t.jsxs("div",{style:{display:"flex",gap:"16px",alignItems:"center"},children:[t.jsxs("div",{style:{textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"20px",fontWeight:"600",color:"#1F2937"},children:w.count}),t.jsx("div",{style:{fontSize:"10px",color:"#6B7280"},children:"issues"})]}),t.jsxs("div",{style:{textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"20px",fontWeight:"600",color:"#F59E0B"},children:w.avgTimeInPhase}),t.jsx("div",{style:{fontSize:"10px",color:"#6B7280"},children:"avg days"})]})]})]}),(w.rootCauses?.length>0||w.recommendedActions?.length>0)&&t.jsxs("div",{style:{borderTop:"1px solid #E5E7EB",paddingTop:"12px",marginTop:"12px"},children:[w.rootCauses?.length>0&&t.jsxs("div",{style:{marginBottom:"8px"},children:[t.jsx("div",{style:{fontSize:"11px",fontWeight:"600",color:"#92400E",marginBottom:"4px",textTransform:"uppercase"},children:" Likely Root Cause:"}),w.rootCauses.map((T,_)=>t.jsxs("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"2px"},children:[" ",T]},_))]}),w.recommendedActions?.length>0&&t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",fontWeight:"600",color:"#92400E",marginBottom:"4px",textTransform:"uppercase"},children:" Recommended Action:"}),w.recommendedActions.map((T,_)=>t.jsxs("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"2px"},children:[" ",T]},_))]})]})]},w.phase))})]}),t.jsxs("div",{className:"card",style:{marginBottom:"30px"},children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"16px"},children:"Phase Distribution (Open Issues)"}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"12px"},children:Object.entries(A.phaseDistribution).filter(([w])=>w!=="done").map(([w,T])=>t.jsxs("div",{onClick:()=>a(l===w?"all":w),style:{padding:"16px",background:l===w?vn(w)+"20":"#F9FAFB",borderRadius:"8px",border:`2px solid ${l===w?vn(w):"#E5E7EB"}`,cursor:"pointer",transition:"all 0.2s"},children:[t.jsx("div",{style:{fontSize:"11px",color:"#6B7280",marginBottom:"4px",textTransform:"uppercase",fontWeight:"600"},children:Sn(w)}),t.jsx("div",{style:{fontSize:"28px",fontWeight:"700",color:vn(w)},children:T.length}),t.jsxs("div",{style:{fontSize:"10px",color:"#6B7280",marginTop:"4px"},children:[C.length>0?Math.round(T.length/C.length*100):0,"% of open"]})]},w))})]}),t.jsxs("div",{className:"card",style:{marginBottom:"30px"},children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"8px"},children:"Estimated Time Per Phase"}),t.jsx("p",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"16px"},children:"Based on closed issues (averages). Note: These are estimates without full label history."}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:"12px"},children:Object.entries(A.avgTimePerPhase).filter(([w])=>w!=="total").map(([w,T])=>t.jsxs("div",{style:{textAlign:"center",padding:"12px",background:"#F9FAFB",borderRadius:"6px"},children:[t.jsx("div",{style:{fontSize:"10px",color:"#6B7280",marginBottom:"4px",textTransform:"uppercase"},children:Sn(w)}),t.jsx("div",{style:{fontSize:"24px",fontWeight:"600",color:vn(w)},children:T}),t.jsx("div",{style:{fontSize:"10px",color:"#6B7280",marginTop:"2px"},children:"days avg"})]},w))})]}),t.jsxs("div",{className:"card",style:{marginBottom:"30px"},children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"16px"},children:"Lead Time Distribution (Closed Issues)"}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:Object.entries(A.leadTimeDistribution).map(([w,T])=>{const _=Math.max(...Object.values(A.leadTimeDistribution)),L=_>0?T/_*100:0;return t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("div",{style:{minWidth:"90px",fontSize:"12px",color:"#6B7280"},children:w}),t.jsx("div",{style:{flex:1,height:"24px",background:"#F3F4F6",borderRadius:"4px",overflow:"hidden",position:"relative"},children:t.jsx("div",{style:{width:`${L}%`,height:"100%",background:"#6B7280",transition:"width 0.3s"}})}),t.jsx("div",{style:{minWidth:"40px",fontSize:"14px",fontWeight:"600",color:"#1F2937",textAlign:"right"},children:T})]},w)})})]}),t.jsxs("div",{className:"card",children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[t.jsxs("h3",{style:{fontSize:"16px",fontWeight:"600"},children:["Issue Lifecycle Details",l!=="all"&&` - ${Sn(l)}`]}),l!=="all"&&t.jsx("button",{onClick:()=>a("all"),className:"btn btn-secondary",style:{fontSize:"12px",padding:"4px 12px"},children:"Show All"})]}),t.jsxs("div",{style:{overflowX:"auto"},children:[t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{background:"#F9FAFB",borderBottom:"2px solid #E5E7EB"},children:[t.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"11px",fontWeight:"600",color:"#6B7280",textTransform:"uppercase"},children:"Issue"}),t.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"11px",fontWeight:"600",color:"#6B7280",textTransform:"uppercase"},children:"Phase"}),t.jsx("th",{style:{padding:"12px",textAlign:"center",fontSize:"11px",fontWeight:"600",color:"#6B7280",textTransform:"uppercase"},children:"Lead Time"}),t.jsx("th",{style:{padding:"12px",textAlign:"center",fontSize:"11px",fontWeight:"600",color:"#6B7280",textTransform:"uppercase"},children:"Time in Phase"}),t.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"11px",fontWeight:"600",color:"#6B7280",textTransform:"uppercase"},children:"Assignees"}),t.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"11px",fontWeight:"600",color:"#6B7280",textTransform:"uppercase"},children:"Updated"})]})}),t.jsx("tbody",{children:N.slice(0,50).map(w=>{const T=ud(w);return t.jsxs("tr",{onClick:()=>window.open(w.web_url,"_blank"),style:{borderBottom:"1px solid #E5E7EB",cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:_=>_.currentTarget.style.backgroundColor="#F9FAFB",onMouseLeave:_=>_.currentTarget.style.backgroundColor="transparent",children:[t.jsx("td",{style:{padding:"12px"},children:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsxs("span",{style:{fontSize:"12px",fontWeight:"600",color:"#6B7280"},children:["#",T.iid]}),t.jsx("span",{style:{fontSize:"13px",color:"#1F2937"},children:T.title})]})}),t.jsx("td",{style:{padding:"12px"},children:t.jsx("span",{style:{padding:"4px 8px",background:vn(T.currentPhase)+"20",color:vn(T.currentPhase),borderRadius:"4px",fontSize:"11px",fontWeight:"600"},children:Sn(T.currentPhase)})}),t.jsxs("td",{style:{padding:"12px",textAlign:"center",fontSize:"13px",fontWeight:"600",color:"#1F2937"},children:[T.leadTime,"d"]}),t.jsxs("td",{style:{padding:"12px",textAlign:"center",fontSize:"13px",color:"#6B7280"},children:[T.timeInCurrentPhase,"d"]}),t.jsx("td",{style:{padding:"12px",fontSize:"12px",color:"#6B7280"},children:T.assignees.length>0?T.assignees.map(_=>_.name).join(", "):"Unassigned"}),t.jsx("td",{style:{padding:"12px",fontSize:"12px",color:"#6B7280"},children:new Date(T.updatedAt).toLocaleDateString()})]},w.id)})})]}),N.length>50&&t.jsxs("div",{style:{padding:"16px",textAlign:"center",fontSize:"12px",color:"#6B7280",background:"#F9FAFB"},children:["Showing first 50 of ",N.length," issues"]})]})]})]})}const Cs="1.0.0";function Dd(){return{gitlabUrl:"gitlab_url",gitlabToken:"gitlab_token",projectId:"gitlab_project",groupPath:"gitlab_group_path",filter2025:"gitlab_filter_2025",portfolioProjects:"portfolio_projects",activeProject:"active_project_id",risks:"project_risks",teamConfig:"team_config",teamCapacity:"team_capacity",velocitySettings:"velocity_settings",absences:"absences",stakeholders:"stakeholders",communicationHistory:"communication_history",communicationTemplates:"communication_templates",decisions:"decisions",documents:"documents",healthScoreConfig:"healthScoreConfig",criteriaConfig:"criteriaConfig",dodTemplates:"dodTemplates",sprintGoals:"sprint_goals",retroActions:"retro_actions",backlogHealthHistory:"backlogHealthHistory",userRole:"user_role",viewPreference:"view_preference",favoriteViews:"favorite_views",qualityShowOpenOnly:"quality.showOpenOnly",qualityLegendCollapsed:"quality.legendCollapsed",cycleTimeBottleneckCollapsed:"cycleTime.bottleneckCollapsed"}}function Se(o){try{const d=localStorage.getItem(o);return d?JSON.parse(d):null}catch(d){return console.warn(`Failed to load ${o}:`,d),null}}function _e(o,d){try{return localStorage.setItem(o,JSON.stringify(d)),!0}catch(l){return console.error(`Failed to save ${o}:`,l),!1}}function bx(o){return!o||o.length<8?"***":o.substring(0,4)+"***"+o.substring(o.length-4)}function Mv(o={}){const{includeTokens:d=!1,encrypt:l=!1,password:a=null}=o,r=Dd(),c=[],p={},f=(L,B,O=null)=>{const G=Se(B);G!==null&&(p[L]=O?O(G):G,c.push(L))},g=Se(r.gitlabToken),h=Se(r.gitlabUrl),y=Se(r.projectId),v=Se(r.groupPath),m=Se(r.filter2025);(g||h||y||v||m)&&(p.gitlabConfig={gitlabUrl:h,gitlabToken:d?g:g?bx(g):null,projectId:y,groupPath:v,filter2025:m},c.push("gitlabConfig"));const b=Se(r.portfolioProjects);b&&(!d&&Array.isArray(b)?p.portfolioProjects=b.map(L=>({...L,accessToken:L.accessToken?bx(L.accessToken):null})):p.portfolioProjects=b,c.push("portfolioProjects")),f("activeProject",r.activeProject),f("risks",r.risks),f("teamConfig",r.teamConfig),f("teamCapacity",r.teamCapacity),f("velocitySettings",r.velocitySettings),f("absences",r.absences);const j=Se(r.stakeholders),E=Se(r.communicationHistory),A=Se(r.communicationTemplates),N=Se(r.decisions),k=Se(r.documents);(j||E||A||N||k)&&(p.stakeholderHub={stakeholders:j,communicationHistory:E,communicationTemplates:A,decisions:N,documents:k},c.push("stakeholderHub")),f("healthScoreConfig",r.healthScoreConfig),f("criteriaConfig",r.criteriaConfig),f("dodTemplates",r.dodTemplates),f("sprintGoals",r.sprintGoals),f("retroActions",r.retroActions),f("backlogHealthHistory",r.backlogHealthHistory),f("userRole",r.userRole),f("viewPreference",r.viewPreference),f("favoriteViews",r.favoriteViews);const C={},D=Se(r.qualityShowOpenOnly),w=Se(r.qualityLegendCollapsed),T=Se(r.cycleTimeBottleneckCollapsed);return(D!==null||w!==null||T!==null)&&(C.qualityShowOpenOnly=D,C.qualityLegendCollapsed=w,C.cycleTimeBottleneckCollapsed=T,p.uiState=C,c.push("uiState")),{metadata:{version:Cs,timestamp:new Date().toISOString(),appVersion:"1.0.0",backupType:l?"encrypted":"plain",includedData:c,tokensIncluded:d,itemCount:Object.keys(p).length},data:p}}function Nv(o,d=null){const a=`gitlab-pm-backup-${new Date().toISOString().replace(/[:.]/g,"-").slice(0,-5)}.json`,r=new Blob([JSON.stringify(o,null,2)],{type:"application/json"}),c=URL.createObjectURL(r),p=document.createElement("a");return p.href=c,p.download=d||a,document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(c),d||a}async function Iv(o){return new Promise((d,l)=>{const a=new FileReader;a.onload=r=>{try{const c=JSON.parse(r.target.result);if(!c.metadata||!c.data){l(new Error("Invalid backup file structure"));return}c.metadata.version!==Cs&&console.warn(`Backup version ${c.metadata.version} may not be fully compatible with current version ${Cs}`),d(c)}catch(c){l(new Error("Failed to parse backup file: "+c.message))}},a.onerror=()=>{l(new Error("Failed to read file"))},a.readAsText(o)})}function Ov(o){const d={valid:!0,warnings:[],errors:[],info:{}};if(!o.metadata||!o.data)return d.valid=!1,d.errors.push("Invalid backup structure: missing metadata or data"),d;if(o.metadata.version!==Cs&&d.warnings.push(`Backup version (${o.metadata.version}) differs from current version (${Cs})`),!o.metadata.tokensIncluded){let l=!1;o.data.gitlabConfig&&o.data.gitlabConfig.gitlabToken&&o.data.gitlabConfig.gitlabToken.includes("***")&&(l=!0),o.data.portfolioProjects&&Array.isArray(o.data.portfolioProjects)&&o.data.portfolioProjects.some(a=>a.accessToken&&a.accessToken.includes("***"))&&(l=!0),l&&d.warnings.push("Access tokens are masked - you will need to re-enter them manually")}return d.info={createdAt:o.metadata.timestamp,itemCount:o.metadata.itemCount,includedData:o.metadata.includedData||[],backupAge:Math.floor((Date.now()-new Date(o.metadata.timestamp).getTime())/(1e3*60*60*24))+" days"},d}function Lv(o,d={}){const{overwrite:l=!0,merge:a=!1,selectiveRestore:r=null}=d,c=Dd(),p={success:!0,restored:[],failed:[],skipped:[]};return(r||Object.keys(o.data)).forEach(g=>{const h=o.data[g];if(!h&&h!==!1&&h!==0&&h!==""){p.skipped.push(g);return}try{switch(g){case"gitlabConfig":l||!Se(c.gitlabUrl)?(h.gitlabUrl&&_e(c.gitlabUrl,h.gitlabUrl),h.gitlabToken&&_e(c.gitlabToken,h.gitlabToken),h.projectId&&_e(c.projectId,h.projectId),h.groupPath&&_e(c.groupPath,h.groupPath),h.filter2025!==null&&_e(c.filter2025,h.filter2025),p.restored.push("gitlabConfig")):p.skipped.push("gitlabConfig (already exists)");break;case"portfolioProjects":if(l||!Se(c.portfolioProjects))_e(c.portfolioProjects,h),p.restored.push("portfolioProjects");else if(a&&Array.isArray(h)){const v=[...Se(c.portfolioProjects)||[],...h];_e(c.portfolioProjects,v),p.restored.push("portfolioProjects (merged)")}else p.skipped.push("portfolioProjects (already exists)");break;case"activeProject":(l||!Se(c.activeProject))&&(_e(c.activeProject,h),p.restored.push("activeProject"));break;case"risks":(l||!Se(c.risks))&&(_e(c.risks,h),p.restored.push("risks"));break;case"teamConfig":(l||!Se(c.teamConfig))&&(_e(c.teamConfig,h),p.restored.push("teamConfig"));break;case"teamCapacity":(l||!Se(c.teamCapacity))&&(_e(c.teamCapacity,h),p.restored.push("teamCapacity"));break;case"velocitySettings":(l||!Se(c.velocitySettings))&&(_e(c.velocitySettings,h),p.restored.push("velocitySettings"));break;case"absences":(l||!Se(c.absences))&&(_e(c.absences,h),p.restored.push("absences"));break;case"stakeholderHub":h.stakeholders&&(l||!Se(c.stakeholders))&&(_e(c.stakeholders,h.stakeholders),p.restored.push("stakeholders")),h.communicationHistory&&(l||!Se(c.communicationHistory))&&(_e(c.communicationHistory,h.communicationHistory),p.restored.push("communicationHistory")),h.communicationTemplates&&(l||!Se(c.communicationTemplates))&&(_e(c.communicationTemplates,h.communicationTemplates),p.restored.push("communicationTemplates")),h.decisions&&(l||!Se(c.decisions))&&(_e(c.decisions,h.decisions),p.restored.push("decisions")),h.documents&&(l||!Se(c.documents))&&(_e(c.documents,h.documents),p.restored.push("documents"));break;case"healthScoreConfig":(l||!Se(c.healthScoreConfig))&&(_e(c.healthScoreConfig,h),p.restored.push("healthScoreConfig"));break;case"criteriaConfig":(l||!Se(c.criteriaConfig))&&(_e(c.criteriaConfig,h),p.restored.push("criteriaConfig"));break;case"dodTemplates":(l||!Se(c.dodTemplates))&&(_e(c.dodTemplates,h),p.restored.push("dodTemplates"));break;case"sprintGoals":(l||!Se(c.sprintGoals))&&(_e(c.sprintGoals,h),p.restored.push("sprintGoals"));break;case"retroActions":(l||!Se(c.retroActions))&&(_e(c.retroActions,h),p.restored.push("retroActions"));break;case"backlogHealthHistory":(l||!Se(c.backlogHealthHistory))&&(_e(c.backlogHealthHistory,h),p.restored.push("backlogHealthHistory"));break;case"userRole":(l||!Se(c.userRole))&&(_e(c.userRole,h),p.restored.push("userRole"));break;case"viewPreference":(l||!Se(c.viewPreference))&&(_e(c.viewPreference,h),p.restored.push("viewPreference"));break;case"favoriteViews":(l||!Se(c.favoriteViews))&&(_e(c.favoriteViews,h),p.restored.push("favoriteViews"));break;case"uiState":h.qualityShowOpenOnly!==null&&h.qualityShowOpenOnly!==void 0&&_e(c.qualityShowOpenOnly,h.qualityShowOpenOnly),h.qualityLegendCollapsed!==null&&h.qualityLegendCollapsed!==void 0&&_e(c.qualityLegendCollapsed,h.qualityLegendCollapsed),h.cycleTimeBottleneckCollapsed!==null&&h.cycleTimeBottleneckCollapsed!==void 0&&_e(c.cycleTimeBottleneckCollapsed,h.cycleTimeBottleneckCollapsed),p.restored.push("uiState");break;default:p.skipped.push(g+" (unknown category)")}}catch(y){console.error(`Failed to restore ${g}:`,y),p.failed.push(g),p.success=!1}}),p}function Uv(){const o=Dd(),d={totalItems:0,categories:[],estimatedSize:0};return Object.entries(o).forEach(([l,a])=>{const r=Se(a);if(r){d.totalItems++,d.categories.push(l);const c=JSON.stringify(r);d.estimatedSize+=c.length}}),d.estimatedSizeKB=Math.round(d.estimatedSize/1024),d}function Wv(){const[o,d]=U.useState(!1),[l,a]=U.useState(null),[r,c]=U.useState(null),[p,f]=U.useState(null),[g,h]=U.useState(null),[y,v]=U.useState(null),[m,b]=U.useState(!1),j=U.useRef(null);Bx.useEffect(()=>{E()},[]);const E=()=>{const w=Uv();a(w)},A=()=>{try{b(!0),v(null);const w=Mv({includeTokens:o}),T=Nv(w);c({filename:T,timestamp:w.metadata.timestamp,itemCount:w.metadata.itemCount,includedData:w.metadata.includedData,tokensIncluded:o}),E()}catch(w){v("Failed to create backup: "+w.message)}finally{b(!1)}},N=()=>{j.current?.click()},k=async w=>{const T=w.target.files?.[0];if(T)try{b(!0),v(null),h(null),f(null);const _=await Iv(T),L=Ov(_);if(h(L),!L.valid){v("Backup validation failed: "+L.errors.join(", "));return}window.__pendingBackup=_}catch(_){v("Failed to import backup: "+_.message)}finally{b(!1),w.target.value=""}},C=(w=!0)=>{try{b(!0),v(null);const T=window.__pendingBackup;if(!T){v("No backup loaded. Please import a backup file first.");return}const _=Lv(T,{overwrite:w});f(_),_.success&&(delete window.__pendingBackup,h(null),E(),setTimeout(()=>{window.confirm("Backup restored successfully! Refresh the page to apply changes?")&&window.location.reload()},500))}catch(T){v("Failed to restore backup: "+T.message)}finally{b(!1)}},D=()=>{delete window.__pendingBackup,h(null),f(null)};return t.jsxs("div",{className:"backup-restore-view",children:[t.jsxs("div",{className:"view-header",children:[t.jsx("h2",{children:"Backup & Restore"}),t.jsx("p",{className:"subtitle",children:"Export and import all your configurations to share with team members or backup your settings"})]}),y&&t.jsxs("div",{className:"alert alert-error",children:[t.jsx("strong",{children:"Error:"})," ",y]}),t.jsxs("div",{className:"card",children:[t.jsx("h3",{children:"Current Data"}),l&&t.jsxs("div",{className:"stats-grid",children:[t.jsxs("div",{className:"stat-item",children:[t.jsx("div",{className:"stat-label",children:"Total Categories"}),t.jsx("div",{className:"stat-value",children:l.totalItems})]}),t.jsxs("div",{className:"stat-item",children:[t.jsx("div",{className:"stat-label",children:"Estimated Size"}),t.jsxs("div",{className:"stat-value",children:[l.estimatedSizeKB," KB"]})]}),t.jsxs("div",{className:"stat-item",children:[t.jsx("div",{className:"stat-label",children:"Categories"}),t.jsx("div",{className:"stat-value-small",children:l.categories.join(", ")})]})]})]}),t.jsxs("div",{className:"card",children:[t.jsx("h3",{children:"Export Backup"}),t.jsx("p",{children:"Create a backup file that can be shared with team members or stored for safekeeping."}),t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",checked:o,onChange:w=>d(w.target.checked)}),"Include access tokens ( sensitive data)"]}),t.jsx("p",{className:"help-text",children:"By default, access tokens are masked for security. Enable this only if you need to share functional configurations with trusted team members."})]}),t.jsx("button",{className:"btn btn-primary",onClick:A,disabled:m,children:m?"Creating Backup...":"Export Backup"}),r&&t.jsxs("div",{className:"alert alert-success",style:{marginTop:"1rem"},children:[t.jsx("strong",{children:"Backup Created!"}),t.jsxs("ul",{style:{margin:"0.5rem 0 0 1rem"},children:[t.jsxs("li",{children:["File: ",r.filename]}),t.jsxs("li",{children:["Items: ",r.itemCount," categories"]}),t.jsxs("li",{children:["Tokens: ",r.tokensIncluded?"Included":"Masked"]}),t.jsxs("li",{children:["Time: ",new Date(r.timestamp).toLocaleString()]})]})]})]}),t.jsxs("div",{className:"card",children:[t.jsx("h3",{children:"Import Backup"}),t.jsx("p",{children:"Restore configurations from a backup file. This can overwrite existing data."}),t.jsx("input",{ref:j,type:"file",accept:".json",onChange:k,style:{display:"none"}}),t.jsx("button",{className:"btn btn-secondary",onClick:N,disabled:m,children:m?"Loading Backup...":"Select Backup File"}),g&&t.jsxs("div",{className:"validation-results",style:{marginTop:"1rem"},children:[t.jsxs("div",{className:`alert ${g.valid?"alert-info":"alert-error"}`,children:[t.jsx("h4",{children:"Backup Validation"}),g.errors.length>0&&t.jsxs("div",{children:[t.jsx("strong",{children:"Errors:"}),t.jsx("ul",{children:g.errors.map((w,T)=>t.jsx("li",{children:w},T))})]}),g.warnings.length>0&&t.jsxs("div",{children:[t.jsx("strong",{children:"Warnings:"}),t.jsx("ul",{children:g.warnings.map((w,T)=>t.jsx("li",{children:w},T))})]}),g.info&&t.jsxs("div",{children:[t.jsx("strong",{children:"Backup Info:"}),t.jsxs("ul",{children:[t.jsxs("li",{children:["Created: ",new Date(g.info.createdAt).toLocaleString()]}),t.jsxs("li",{children:["Age: ",g.info.backupAge]}),t.jsxs("li",{children:["Items: ",g.info.itemCount]}),t.jsxs("li",{children:["Categories: ",g.info.includedData.join(", ")]})]})]})]}),g.valid&&t.jsxs("div",{className:"restore-actions",children:[t.jsx("button",{className:"btn btn-primary",onClick:()=>C(!0),disabled:m,children:"Restore & Overwrite"}),t.jsx("button",{className:"btn btn-secondary",onClick:D,disabled:m,children:"Cancel"}),t.jsx("p",{className:"help-text",children:'"Restore & Overwrite" will replace existing data with backup data.'})]})]}),p&&t.jsxs("div",{className:"alert alert-success",style:{marginTop:"1rem"},children:[t.jsx("h4",{children:"Restore Complete"}),t.jsxs("ul",{children:[t.jsxs("li",{children:["Restored: ",p.restored.join(", ")]}),p.skipped.length>0&&t.jsxs("li",{children:["Skipped: ",p.skipped.join(", ")]}),p.failed.length>0&&t.jsxs("li",{style:{color:"red"},children:["Failed: ",p.failed.join(", ")]})]})]})]}),t.jsxs("div",{className:"card",children:[t.jsx("h3",{children:"Team Collaboration"}),t.jsx("p",{children:t.jsx("strong",{children:"To share configurations with team members:"})}),t.jsxs("ol",{children:[t.jsx("li",{children:'Export a backup using the "Export Backup" button above'}),t.jsx("li",{children:"Share the downloaded JSON file with your team member (via email, Slack, etc.)"}),t.jsx("li",{children:"Team member opens the GitLab PM Dashboard in their browser"}),t.jsx("li",{children:'Team member imports the file using "Select Backup File"'}),t.jsx("li",{children:'Team member clicks "Restore & Overwrite" to apply your configurations'})]}),t.jsxs("div",{className:"alert alert-warning",children:[t.jsx("strong",{children:"Important:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Access tokens are masked by default for security"}),t.jsx("li",{children:"Team members will need to enter their own GitLab access tokens after restore"}),t.jsx("li",{children:"Backup files contain all project configurations, team settings, and custom rules"}),t.jsx("li",{children:"Restoring will overwrite existing configurations"})]})]})]}),t.jsx("style",{jsx:!0,children:`
        .backup-restore-view {
          padding: 1rem;
          max-width: 1000px;
        }

        .view-header {
          margin-bottom: 2rem;
        }

        .view-header h2 {
          margin: 0 0 0.5rem 0;
          font-size: 1.8rem;
        }

        .subtitle {
          color: #666;
          margin: 0;
        }

        .card {
          background: white;
          border: 1px solid #ddd;
          border-radius: 8px;
          padding: 1.5rem;
          margin-bottom: 1.5rem;
        }

        .card h3 {
          margin: 0 0 1rem 0;
          font-size: 1.3rem;
        }

        .card p {
          margin: 0 0 1rem 0;
          color: #666;
        }

        .stats-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
          gap: 1rem;
          margin-top: 1rem;
        }

        .stat-item {
          padding: 1rem;
          background: #f5f5f5;
          border-radius: 6px;
        }

        .stat-label {
          font-size: 0.85rem;
          color: #666;
          margin-bottom: 0.5rem;
        }

        .stat-value {
          font-size: 1.5rem;
          font-weight: bold;
          color: #333;
        }

        .stat-value-small {
          font-size: 0.9rem;
          color: #333;
        }

        .form-group {
          margin-bottom: 1rem;
        }

        .form-group label {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          cursor: pointer;
        }

        .help-text {
          font-size: 0.85rem;
          color: #666;
          margin: 0.5rem 0 0 1.5rem;
        }

        .btn {
          padding: 0.6rem 1.2rem;
          border: none;
          border-radius: 6px;
          font-size: 0.95rem;
          cursor: pointer;
          transition: all 0.2s;
        }

        .btn:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        .btn-primary {
          background: #1f77b4;
          color: white;
        }

        .btn-primary:hover:not(:disabled) {
          background: #155a8a;
        }

        .btn-secondary {
          background: #6c757d;
          color: white;
          margin-left: 0.5rem;
        }

        .btn-secondary:hover:not(:disabled) {
          background: #545b62;
        }

        .alert {
          padding: 1rem;
          border-radius: 6px;
          margin-bottom: 1rem;
        }

        .alert h4 {
          margin: 0 0 0.5rem 0;
        }

        .alert ul {
          margin: 0.5rem 0 0 1rem;
        }

        .alert-success {
          background: #d4edda;
          border: 1px solid #c3e6cb;
          color: #155724;
        }

        .alert-error {
          background: #f8d7da;
          border: 1px solid #f5c6cb;
          color: #721c24;
        }

        .alert-warning {
          background: #fff3cd;
          border: 1px solid #ffeeba;
          color: #856404;
        }

        .alert-info {
          background: #d1ecf1;
          border: 1px solid #bee5eb;
          color: #0c5460;
        }

        .restore-actions {
          margin-top: 1rem;
          padding-top: 1rem;
          border-top: 1px solid #ddd;
        }

        .validation-results {
          border-top: 1px solid #ddd;
          padding-top: 1rem;
        }

        ol {
          margin: 0.5rem 0 1rem 1.5rem;
        }

        ol li {
          margin-bottom: 0.5rem;
        }
      `})]})}function Hv({epics:o,issues:d}){const l=U.useMemo(()=>!o||o.length===0?[]:o.map(r=>{const c=r.issues||[],p=c.length,f=c.filter(v=>v.state==="opened").length,g=c.filter(v=>v.state==="closed").length,h=p>0?Math.round(g/p*100):0,y=Pv({completionRate:h,openIssues:f,totalIssues:p,startDate:r.start_date,dueDate:r.end_date});return{...r,totalIssues:p,openIssues:f,closedIssues:g,completionRate:h,health:y}}).sort((r,c)=>r.state!==c.state?r.state==="opened"?-1:1:c.health.score-r.health.score),[o]),a=U.useMemo(()=>{if(l.length===0)return null;const r=l.filter(h=>h.state==="opened"),c=l.reduce((h,y)=>h+y.totalIssues,0),p=l.reduce((h,y)=>h+y.closedIssues,0),f=Math.round(l.reduce((h,y)=>h+y.completionRate,0)/l.length),g=Math.round(l.reduce((h,y)=>h+y.health.score,0)/l.length);return{totalEpics:l.length,openEpics:r.length,totalIssues:c,closedIssues:p,avgCompletion:f,avgHealth:g}},[l]);return!o||o.length===0?t.jsx("div",{className:"container",children:t.jsxs("div",{className:"card text-center",style:{padding:"60px 20px"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px",opacity:.3},children:""}),t.jsx("h3",{className:"mb-2",children:"No Epics Found"}),t.jsxs("p",{className:"text-muted",children:["Epic support requires GitLab Premium or Ultimate.",t.jsx("br",{}),"Configure your Group Path in settings to enable epic tracking."]})]})}):t.jsxs("div",{className:"container-fluid",children:[a&&t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:"30px"},children:[t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Total Epics"}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"600",color:"#1F2937"},children:a.totalEpics}),t.jsxs("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:[a.openEpics," in progress"]})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Total Issues"}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"600",color:"#1F2937"},children:a.totalIssues}),t.jsxs("div",{style:{fontSize:"12px",color:"#059669",marginTop:"4px"},children:[a.closedIssues," completed"]})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Avg. Completion"}),t.jsxs("div",{style:{fontSize:"32px",fontWeight:"600",color:"#2563EB"},children:[a.avgCompletion,"%"]})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Portfolio Health"}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"600",color:Bs(a.avgHealth)},children:a.avgHealth}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:Kx(a.avgHealth)})]})]}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:l.map(r=>t.jsxs("div",{className:"card",style:{borderLeft:`4px solid ${Bs(r.health.score)}`,opacity:r.state==="closed"?.7:1},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[t.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#1F2937",margin:0},children:r.title}),t.jsx("span",{style:{padding:"4px 8px",background:r.state==="opened"?"#DBEAFE":"#D1FAE5",color:r.state==="opened"?"#1E40AF":"#065F46",borderRadius:"4px",fontSize:"12px",fontWeight:"600",textTransform:"capitalize"},children:r.state})]}),r.description&&t.jsxs("p",{style:{fontSize:"14px",color:"#6B7280",margin:"8px 0",lineHeight:"1.5"},children:[r.description.substring(0,200),r.description.length>200&&"..."]}),t.jsxs("div",{style:{display:"flex",gap:"16px",fontSize:"12px",color:"#6B7280",marginTop:"8px"},children:[r.start_date&&t.jsxs("div",{children:[t.jsx("strong",{children:"Start:"})," ",new Date(r.start_date).toLocaleDateString()]}),r.end_date&&t.jsxs("div",{children:[t.jsx("strong",{children:"Due:"})," ",new Date(r.end_date).toLocaleDateString()]}),r.web_url&&t.jsx("div",{children:t.jsx("a",{href:r.web_url,target:"_blank",rel:"noopener noreferrer",style:{color:"#2563EB"},children:"View in GitLab "})})]})]}),t.jsxs("div",{style:{minWidth:"100px",textAlign:"center",padding:"12px",background:Bs(r.health.score)+"20",borderRadius:"8px"},children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:"Health"}),t.jsx("div",{style:{fontSize:"28px",fontWeight:"700",color:Bs(r.health.score)},children:r.health.score}),t.jsx("div",{style:{fontSize:"10px",color:"#6B7280",marginTop:"4px"},children:r.health.label})]})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"16px",marginBottom:"16px"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:"Total Issues"}),t.jsx("div",{style:{fontSize:"24px",fontWeight:"600",color:"#1F2937"},children:r.totalIssues})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:"Open Issues"}),t.jsx("div",{style:{fontSize:"24px",fontWeight:"600",color:"#DC2626"},children:r.openIssues})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:"Closed Issues"}),t.jsx("div",{style:{fontSize:"24px",fontWeight:"600",color:"#059669"},children:r.closedIssues})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:"Completion"}),t.jsxs("div",{style:{fontSize:"24px",fontWeight:"600",color:"#2563EB"},children:[r.completionRate,"%"]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"6px"},children:["Progress: ",r.closedIssues," / ",r.totalIssues," issues completed"]}),t.jsx("div",{style:{width:"100%",height:"12px",background:"#E5E7EB",borderRadius:"6px",overflow:"hidden"},children:t.jsx("div",{style:{width:`${r.completionRate}%`,height:"100%",background:Bs(r.health.score),transition:"width 0.3s ease"}})})]}),r.health.issues.length>0&&t.jsxs("div",{style:{marginTop:"16px",padding:"12px",background:"#FEF3C7",borderRadius:"8px",fontSize:"12px"},children:[t.jsx("div",{style:{fontWeight:"600",color:"#92400E",marginBottom:"6px"},children:" Health Issues:"}),t.jsx("ul",{style:{margin:0,paddingLeft:"20px",color:"#78350F"},children:r.health.issues.map((c,p)=>t.jsx("li",{children:c},p))})]})]},r.id))})]})}function Pv({completionRate:o,openIssues:d,totalIssues:l,startDate:a,dueDate:r}){let c=100;const p=[];if(o<30?(c-=30,p.push("Low completion rate (<30%)")):o<50?(c-=20,p.push("Below average completion rate")):o<70&&(c-=10),l>0){const f=d/l;f>.8?(c-=25,p.push("Most issues still open (>80%)")):f>.6&&(c-=15)}if(r){const f=new Date,g=new Date(r),h=a?new Date(a):null;if(g<f&&d>0)c-=30,p.push("Overdue with open issues");else if(h&&g){const y=g-h,m=(f-h)/y;m>.8&&o<60?(c-=20,p.push("Behind schedule (80% time, <60% complete)")):m>.5&&o<40&&(c-=15,p.push("Behind schedule (50% time, <40% complete)"))}}return c=Math.max(0,Math.min(100,c)),{score:Math.round(c),label:Kx(c),issues:p}}function Bs(o){return o>=80?"#059669":o>=60?"#D97706":"#DC2626"}function Kx(o){return o>=80?"Healthy":o>=60?"At Risk":"Critical"}function $v(o,d){if(!o||!d)return 10;const l=new Date(o),a=new Date(d);let r=0;const c=new Date(l);for(;c<=a;){const p=c.getDay();p!==0&&p!==6&&r++,c.setDate(c.getDate()+1)}return r}function wn(o){if(o.weight&&o.weight>0)return o.weight;const d=o.labels?.find(l=>{const a=l.toLowerCase();return a.includes("weight")||a.includes("points")||a.includes("days")});if(d){const l=d.match(/\d+/);if(l)return parseInt(l[0],10)}return o.state==="closed"?0:o.labels?.some(l=>l.toLowerCase().includes("small"))?1:3}function Gv(o,d=10){const l=new Map;return o.forEach(a=>{if(a.state==="closed")return;const r=wn(a),c=a.assignees||[];if(c.length===0){l.has("Unassigned")||l.set("Unassigned",{name:"Unassigned",username:null,issues:[],totalWeight:0,capacity:0,utilizationPercent:0,status:"unassigned"});const p=l.get("Unassigned");p.issues.push(a),p.totalWeight+=r}else{const p=r/c.length;c.forEach(f=>{const g=f.username||f.name;l.has(g)||l.set(g,{name:f.name,username:f.username,avatar:f.avatar_url,issues:[],totalWeight:0,capacity:d,utilizationPercent:0,status:"ok"});const h=l.get(g);h.issues.push(a),h.totalWeight+=p})}}),l.forEach((a,r)=>{r!=="Unassigned"&&(a.utilizationPercent=Math.round(a.totalWeight/a.capacity*100),a.utilizationPercent>120?a.status="critical":a.utilizationPercent>100?a.status="overallocated":a.utilizationPercent>80?a.status="full":a.utilizationPercent<50?a.status="underutilized":a.status="ok")}),Array.from(l.values()).sort((a,r)=>{const c={critical:0,overallocated:1,full:2,ok:3,underutilized:4,unassigned:5};return c[a.status]!==c[r.status]?c[a.status]-c[r.status]:r.utilizationPercent-a.utilizationPercent})}function qv(o){const d=[],l=o.filter(c=>c.username&&(c.status==="critical"||c.status==="overallocated")),a=o.filter(c=>c.username&&c.status==="underutilized"),r=o.find(c=>c.name==="Unassigned");if(l.forEach(c=>{const p=c.totalWeight-c.capacity,f=a.filter(g=>g.capacity-g.totalWeight>=2);if(f.length>0){const g=f[0],h=g.capacity-g.totalWeight,y=c.issues.filter(b=>b.state==="opened").sort((b,j)=>wn(b)-wn(j)),v=[];let m=0;for(const b of y){const j=wn(b);if(m+j<=Math.min(p,h)&&(v.push(b),m+=j),m>=p*.5)break}v.length>0&&d.push({type:"rebalance",priority:"high",from:c.name,to:g.name,issues:v,weight:m,reason:`${c.name} is ${c.utilizationPercent}% utilized (${Math.round(p)} days over). Move ${m} days to ${g.name} (${g.utilizationPercent}% utilized).`})}else d.push({type:"warning",priority:"high",person:c.name,weight:Math.round(c.totalWeight-c.capacity),reason:`${c.name} is overallocated by ${Math.round(c.totalWeight-c.capacity)} days (${c.utilizationPercent}% capacity). Consider reducing scope or extending timeline.`})}),r&&r.totalWeight>0){const c=o.filter(p=>p.username&&p.utilizationPercent<90).sort((p,f)=>p.utilizationPercent-f.utilizationPercent);c.length>0?r.issues.forEach(p=>{const f=wn(p),g=c.find(h=>h.capacity-h.totalWeight>=f)||c[0];d.push({type:"assign",priority:"medium",to:g.name,toUsername:g.username,issues:[p],weight:f,reason:`Assign unassigned issue "${p.title}" (${f} days) to ${g.name} (${g.utilizationPercent}% utilized).`}),g.totalWeight+=f,g.utilizationPercent=Math.round(g.totalWeight/g.capacity*100)}):d.push({type:"warning",priority:"medium",weight:Math.round(r.totalWeight),reason:`${r.totalWeight} days of unassigned work. All team members are at capacity.`})}return a.forEach(c=>{c.utilizationPercent<30&&d.push({type:"info",priority:"low",person:c.name,capacity:Math.round(c.capacity-c.totalWeight),reason:`${c.name} has ${Math.round(c.capacity-c.totalWeight)} days available (${c.utilizationPercent}% utilized). Consider assigning more work.`})}),d.sort((c,p)=>{const f={high:0,medium:1,low:2};return f[c.priority]-f[p.priority]})}function td(o){switch(o){case"critical":return"#DC2626";case"overallocated":return"#D97706";case"full":return"#2563EB";case"ok":return"#059669";case"underutilized":return"#6B7280";case"unassigned":return"#9CA3AF";default:return"#6B7280"}}function Yv(o){switch(o){case"critical":return" Critical";case"overallocated":return" Overallocated";case"full":return" At Capacity";case"ok":return" Healthy";case"underutilized":return" Underutilized";case"unassigned":return" Unassigned";default:return"Unknown"}}function Vv(o){return{icon:{rebalance:"",assign:"",warning:"",info:""}[o.type]||"",...o}}function Qv(o,d){if(!o.end_date)return null;const l=new Date,a=new Date(o.end_date),r=new Map;d.forEach(f=>{if(f.iteration?.start_date){const g=pt(f.labels,f.iteration);g&&!r.has(g)&&r.set(g,{name:g,startDate:new Date(f.iteration.start_date),dueDate:f.iteration.due_date?new Date(f.iteration.due_date):null})}});const c=Array.from(r.values()).filter(f=>f.startDate>l&&f.startDate<=a);if(c.length>0)return c.length;const p=Math.max(0,(a-l)/(1e3*60*60*24));return Math.max(0,Math.floor(p/14))}function Xv(o,d){const l=d.filter(p=>p.state==="closed"&&p.closed_at);if(l.length===0)return 0;const a=new Map;l.forEach(p=>{const f=pt(p.labels,p.iteration);f&&(a.has(f)||a.set(f,{name:f,count:0,startDate:p.iteration?.start_date||null}),a.get(f).count++)});const r=Array.from(a.values()).filter(p=>p.startDate).sort((p,f)=>new Date(f.startDate)-new Date(p.startDate)).slice(0,3);return r.length===0?l.length:r.reduce((p,f)=>p+f.count,0)/r.length}function Zv(o){if(!ao(o.labels))return 0;const d=new Date,l=new Date(o.updated_at),a=Math.ceil((d-l)/(1e3*60*60*24));return Math.max(0,a)}function Kv(o){const d=new Map;return o.filter(l=>l.state==="opened").forEach(l=>{const a=l.assignees||[],r=wn(l);a.forEach(c=>{d.has(c.username)||d.set(c.username,{name:c.name,username:c.username,totalWeight:0,issueCount:0});const p=d.get(c.username);p.totalWeight+=r/a.length,p.issueCount++})}),Array.from(d.values())}function Jx(o,d,l=null){const a=d.filter(M=>M.state==="opened"),r=d.filter(M=>M.state==="closed"),c=d.length;if(c===0)return{status:"green",reason:"No issues in epic",severity:"healthy",factors:[],actions:[],projection:null};const p=r.length/c*100,f=a.length,g=Qv(o,d),h=Xv(o,d),y=g>0?f/g:f,v=y>0?h/y:1,m=a.filter(M=>ao(M.labels)),b=m.length,E=m.filter(M=>Zv(M)>15).length,A=a.reduce((M,W)=>M+wn(W),0);let N=0;if(l?.avgCycleTime){const M=l.avgCycleTime*f;N=M>0?(A-M)/M*100:0}const k=o.end_date?(new Date(o.end_date)-new Date)/(1e3*60*60*24):null,C=k!==null&&k<0&&a.length>0,D=a.length===0&&o.end_date&&r.some(M=>M.closed_at?new Date(M.closed_at)>new Date(o.end_date):!1),T=Kv(d).filter(M=>M.totalWeight/10*100>120).length,_=[],L=[];if(C&&(_.push({severity:"critical",category:"timeline",title:"Epic is overdue",description:`Due date ${new Date(o.end_date).toLocaleDateString()} has passed with ${a.length} issue${a.length>1?"s":""} still open`,impact:"Cannot deliver on committed timeline"}),L.push({priority:"critical",title:"Negotiate timeline extension",description:"Schedule stakeholder meeting to extend deadline",estimatedEffort:"1 day",impact:"Align expectations with reality"})),D){const M=r.filter(W=>W.closed_at?new Date(W.closed_at)>new Date(o.end_date):!1);_.push({severity:"warning",category:"timeline",title:"Epic completed late",description:`All issues closed but ${M.length} issue${M.length>1?"s":""} finished after due date ${new Date(o.end_date).toLocaleDateString()}`,impact:"Delivered late but complete"}),L.push({priority:"medium",title:"Review timeline planning",description:"Analyze why epic took longer than expected to improve future estimates",estimatedEffort:"1 day",impact:"Better planning for future epics"})}v<.7&&y>0&&(_.push({severity:"critical",category:"velocity",title:"Velocity crisis",description:`Need ${y.toFixed(1)} issues/iter, currently ${h.toFixed(1)} issues/iter (${(v*100).toFixed(0)}% of required)`,impact:`${Math.abs(g*(y-h)).toFixed(0)} issues short at current pace`}),L.push({priority:"critical",title:"Increase team capacity or reduce scope",description:`Option A: Add ${Math.ceil((y-h)/2)} developers. Option B: Reduce scope by ${Math.ceil(f*(1-v))} issues`,estimatedEffort:"1 week",impact:`Achieve required velocity of ${y.toFixed(1)} issues/iter`})),(E>0||b>=4)&&(_.push({severity:"critical",category:"blockers",title:`${b} blocked issues`,description:E>0?`${E} blocked for >15 days, ${b} total blocked`:`${b} issues currently blocked`,impact:`${(b/c*100).toFixed(0)}% of epic work is blocked`}),L.push({priority:"critical",title:"Executive escalation for blockers",description:`Escalate to CTO/VP level: ${m.slice(0,3).map(M=>`#${M.iid}`).join(", ")}`,estimatedEffort:"2 days",impact:`Unblock ${b} issues, potential +${(b/(g||1)).toFixed(1)} issues/iter`})),N<-40&&(_.push({severity:"critical",category:"estimation",title:"Severe underestimation",description:`Team estimated ${A} days, historical data suggests ${(A/(1+N/100)).toFixed(0)} days (${Math.abs(N).toFixed(0)}% variance)`,impact:"Estimates not grounded in reality"}),L.push({priority:"high",title:"Re-estimate with senior team",description:"Conduct estimation workshop with team leads and historical data",estimatedEffort:"1 day",impact:"Realistic timeline and scope expectations"})),g!==null&&g<1&&f>3&&(_.push({severity:"critical",category:"timeline",title:"Insufficient time remaining",description:`${f} issues remaining, less than 1 iteration left`,impact:"Mathematically impossible to complete"}),L.push({priority:"critical",title:"Emergency scope reduction",description:`Reduce to ${Math.ceil(h)} must-have issues, defer ${f-Math.ceil(h)} to next release`,estimatedEffort:"2 days",impact:"Deliver core value on time"})),p<30&&g!==null&&g<3&&(_.push({severity:"critical",category:"progress",title:"Critically behind schedule",description:`Only ${p.toFixed(0)}% complete with ${g} iterations left`,impact:"Epic has barely started with deadline approaching"}),L.push({priority:"critical",title:"Scope reduction or timeline extension",description:"Stakeholder decision needed: reduce scope by 60% OR extend deadline by 8 weeks",estimatedEffort:"1 day",impact:"Align scope with reality"})),v>=.7&&v<1&&y>0&&(_.push({severity:"warning",category:"velocity",title:"Velocity gap",description:`Need ${y.toFixed(1)} issues/iter, currently ${h.toFixed(1)} issues/iter (${(v*100).toFixed(0)}% of required)`,impact:`${(y-h).toFixed(1)} issues/iter shortfall`}),L.push({priority:"high",title:"Focus team and remove distractions",description:"Eliminate non-essential meetings, defer low-priority work on other epics",estimatedEffort:"1 day",impact:`Close velocity gap of ${(y-h).toFixed(1)} issues/iter`})),b>=2&&b<4&&(_.push({severity:"warning",category:"blockers",title:`${b} blocked issues`,description:`Issues: ${m.slice(0,2).map(M=>`#${M.iid}`).join(", ")}`,impact:"Slowing team progress"}),L.push({priority:"medium",title:"Escalate blockers to team leads",description:`Work with dependent teams to unblock: ${m.slice(0,2).map(M=>`#${M.iid} ${M.title.substring(0,30)}`).join(", ")}`,estimatedEffort:"2 days",impact:`Unblock ${b} issues`})),N<-20&&N>=-40&&(_.push({severity:"warning",category:"estimation",title:"Optimistic estimates",description:`Team estimated ${A} days, historical average suggests ${(A/(1+N/100)).toFixed(0)} days (${Math.abs(N).toFixed(0)}% lower than history)`,impact:"May need more time than planned"}),L.push({priority:"medium",title:"Add buffer to timeline",description:"Add 3-5 day buffer per remaining issue based on historical data",estimatedEffort:"1 day",impact:"Realistic expectations"})),g!==null&&g<=1.5&&f>0&&(_.push({severity:"warning",category:"timeline",title:"No schedule buffer",description:"Will finish in last iteration, no room for delays",impact:"Any setback will cause delay"}),L.push({priority:"medium",title:"Prevent scope creep",description:"Lock scope, defer all new requests to next release, close issues faster than starting new ones",estimatedEffort:"Ongoing",impact:"Protect timeline"})),p<50&&g!==null&&g<4&&g>=3&&(_.push({severity:"warning",category:"progress",title:"Behind schedule",description:`${p.toFixed(0)}% complete with ${g} iterations left`,impact:"Need to accelerate"}),L.push({priority:"high",title:"Accelerate closures",description:"Focus on closing in-progress issues before starting new work, identify quick wins",estimatedEffort:"Ongoing",impact:"Increase completion rate"})),T>=1&&(_.push({severity:"warning",category:"capacity",title:`${T} team member(s) overallocated`,description:"Team members at >120% capacity",impact:"Burnout risk, quality issues"}),L.push({priority:"medium",title:"Re-balance workload",description:"Move issues from overallocated to underutilized team members",estimatedEffort:"1 day",impact:"Sustainable pace, better quality"}));const B={critical:0,warning:1,info:2};_.sort((M,W)=>B[M.severity]-B[W.severity]);const O={critical:0,high:1,medium:2,low:3};L.sort((M,W)=>O[M.priority]-O[W.priority]);let G="green",K=`On track: ${h.toFixed(1)} issues/iter`,J="healthy";const le=_.some(M=>M.severity==="critical"),I=_.some(M=>M.severity==="warning");le?(G="red",J="critical",K=_.find(W=>W.severity==="critical").title):I?(G="amber",J="warning",K=_.find(W=>W.severity==="warning").title):y>0&&(K=`On track: ${h.toFixed(1)} issues/iter (need ${y.toFixed(1)})`);let F=null;if(g!==null&&h>0){const M=Math.ceil(f/h),W=M*2,P=new Date;P.setDate(P.getDate()+W*7);const Y=k!==null?(P-new Date(o.end_date))/(1e3*60*60*24):null;F={date:P,iterationsNeeded:M,weeksNeeded:W,daysVariance:Y,onTime:Y!==null&&Y<=0}}return{status:G,reason:K,severity:J,factors:_,actions:L,metrics:{progressPercent:p,remainingIssues:f,closedIssues:r.length,totalIssues:c,remainingIterations:g,currentVelocity:h,requiredVelocity:y,velocityRatio:v,blockedCount:b,totalWeight:A,weightVariance:N,daysUntilDue:k,overallocatedMembers:T},projection:F}}function e0(o){if(!o||o.length===0)return{avgCycleTime:7,medianCycleTime:5};const d=o.filter(c=>c.created_at&&c.closed_at).map(c=>{const p=new Date(c.created_at);return(new Date(c.closed_at)-p)/(1e3*60*60*24)}).filter(c=>c>0&&c<365);if(d.length===0)return{avgCycleTime:7,medianCycleTime:5};const l=d.reduce((c,p)=>c+p,0)/d.length,a=d.sort((c,p)=>c-p),r=a[Math.floor(a.length/2)];return{avgCycleTime:Math.round(l),medianCycleTime:Math.round(r)}}function Jv(o){if(o.state==="closed")return 100;const d=ja(o);return d==="testing"?85:d==="review"?70:d==="inProgress"?40:d==="todo"?5:0}function eb(o){if(!o)return"";const d=[`Status: ${o.status.toUpperCase()}`];return d.push(`Reason: ${o.reason}`),o.factors.length>0&&(d.push(""),d.push("Key Factors:"),o.factors.slice(0,2).forEach((l,a)=>{d.push(`${a+1}. ${l.title}`),d.push(`   ${l.description}`)})),d.join(`
`)}function tb({issues:o,epics:d,crossProjectData:l}){const[a,r]=U.useState(new Date().getFullYear()),[c,p]=U.useState([1,2,3,4]),[f,g]=U.useState(new Set),[h,y]=U.useState(new Set),[v,m]=U.useState(!0),b=(I,F)=>{if(!(F.ctrlKey||F.metaKey))p([I]);else if(c.includes(I)){if(c.length===1)return;I===Math.min(...c)?p(c.filter(W=>W!==I)):I===Math.max(...c)&&p(c.filter(W=>W!==I))}else{const W=[...c,I].sort(($,ie)=>$-ie),P=Math.min(...W),Y=Math.max(...W),R=[];for(let $=P;$<=Y;$++)R.push($);p(R)}},j=()=>{p([1,2,3,4])},E=U.useMemo(()=>{const I=Math.min(...c),F=Math.max(...c),M=(I-1)*3,W=F*3-1,P=new Date(a,M,1);P.setHours(0,0,0,0);const Y=new Date(a,W+1,0);return Y.setHours(23,59,59,999),{start:P,end:Y}},[a,c]),A=U.useMemo(()=>{const I=c.length;return I===4?"year":I>=2?"quarter":"month"},[c]),{epics:N,epicIssuesMap:k}=U.useMemo(()=>{if(!d||!o)return{epics:[],epicIssuesMap:new Map};const I=E.start,F=E.end,M=new Map;return o.forEach(P=>{const Y=P.epic?.id;if(!Y)return;const R=new Date(P.created_at),$=P.due_date?new Date(P.due_date):null,ie=P.milestone?.due_date?new Date(P.milestone.due_date):null;(R>=I&&R<=F||$&&$>=I&&$<=F||ie&&ie>=I&&ie<=F)&&(M.has(Y)||M.set(Y,[]),M.get(Y).push(P))}),{epics:d.filter(P=>M.has(P.id)).filter(P=>{if(P.start_date||P.end_date){const Y=P.start_date?new Date(P.start_date):null,R=P.end_date?new Date(P.end_date):null;return Y&&Y>=I&&Y<=F||R&&R>=I&&R<=F||Y&&R&&Y<=F&&R>=I}return!0}),epicIssuesMap:M}},[d,o,E]),C=U.useMemo(()=>{const I=e0(o.filter(M=>M.state==="closed")),F=new Map;return N.forEach(M=>{const W=k.get(M.id)||[],P=Jx(M,W,I);F.set(M.id,P)}),F},[N,k,o]),D=U.useMemo(()=>{const I=N.length,F=Array.from(C.values()).filter(ie=>ie.status==="red").length,M=Array.from(C.values()).filter(ie=>ie.status==="amber").length,W=Array.from(C.values()).filter(ie=>ie.status==="green").length,P=Array.from(k.values()).flat().length,Y=Array.from(k.values()).flat().filter(ie=>ie.state==="opened").length,R=P-Y,$=P>0?R/P*100:0;return{total:I,red:F,amber:M,green:W,totalIssues:P,openIssues:Y,closedIssues:R,overallProgress:$}},[N,C,k]),w=U.useMemo(()=>{const I=new Set;return o.forEach(F=>{const M=new Date(F.created_at).getFullYear();I.add(M),F.due_date&&I.add(new Date(F.due_date).getFullYear())}),Array.from(I).sort((F,M)=>M-F)},[o]),T=I=>{const F=new Set(f);F.has(I)?F.delete(I):F.add(I),g(F)},_=I=>{const F=(k.get(I)||[]).map(W=>({...W,_isCrossProject:!1,_sourceProject:null}));let M=[];return l&&l.epicToIssuesMap&&(M=(l.epicToIssuesMap.get(I)||[]).filter(P=>!F.some(Y=>Y.id===P.id)).map(P=>({...P,_isCrossProject:!0,_sourceProject:P._projectName||P._projectId||"Other Project"}))),[...F,...M].sort((W,P)=>new Date(W.created_at)-new Date(P.created_at))},L=I=>{const F=new Set(h);F.has(I)?F.delete(I):F.add(I),y(F)},B=I=>I==="red"?"#EF4444":I==="amber"?"#F59E0B":"#10B981",O=I=>I==="red"?"#FEE2E2":I==="amber"?"#FEF3C7":"#D1FAE5",G=I=>I==="red"?"Critical":I==="amber"?"At Risk":"On Track",K=(I,F)=>{if(!I||!F)return null;const M=new Date(I),W=new Date(F),{start:P,end:Y}=E,R=(Y-P)/(1e3*60*60*24),$=Math.max(0,(M-P)/(1e3*60*60*24)),ie=(W-M)/(1e3*60*60*24);return{left:`${Math.min(100,$/R*100)}%`,width:`${Math.max(2,Math.min(100-$/R*100,ie/R*100))}%`}},le=(()=>{const I=new Date;if(I.setHours(0,0,0,0),I<E.start||I>E.end)return null;const{start:F,end:M}=E,W=(M-F)/(1e3*60*60*24);return`${(I-F)/(1e3*60*60*24)/W*100}%`})();return N.length===0?t.jsxs("div",{className:"container-fluid",style:{padding:"20px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",flexWrap:"wrap",gap:"16px"},children:[t.jsxs("div",{children:[t.jsx("h2",{style:{fontSize:"24px",fontWeight:"600",marginBottom:"4px"},children:"Executive Gantt Chart"}),t.jsx("p",{style:{fontSize:"14px",color:"#6B7280",margin:0},children:"Epic-level timeline with RAG status and risk analysis"})]}),t.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"flex-end"},children:[t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[t.jsx("label",{style:{fontSize:"12px",color:"#6B7280",fontWeight:"600"},children:"Year"}),t.jsx("select",{value:a,onChange:I=>r(parseInt(I.target.value)),style:{padding:"8px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",background:"white",cursor:"pointer"},children:w.map(I=>t.jsx("option",{value:I,children:I},I))})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[t.jsx("label",{style:{fontSize:"12px",color:"#6B7280",fontWeight:"600"},children:"Time Range"}),t.jsxs("div",{style:{display:"flex",gap:"6px"},children:[[1,2,3,4].map(I=>{const F=c.includes(I);return t.jsxs("button",{onClick:M=>b(I,M),style:{padding:"8px 16px",background:F?"#3B82F6":"white",color:F?"white":"#374151",border:F?"none":"1px solid #D1D5DB",borderRadius:"6px",fontSize:"13px",fontWeight:F?"600":"500",cursor:"pointer",transition:"all 0.15s",minWidth:"48px"},children:["Q",I]},I)}),t.jsx("button",{onClick:j,style:{padding:"8px 16px",background:c.length===4?"#10B981":"white",color:c.length===4?"white":"#374151",border:c.length===4?"none":"1px solid #D1D5DB",borderRadius:"6px",fontSize:"13px",fontWeight:c.length===4?"600":"500",cursor:"pointer",transition:"all 0.15s"},children:"Full Year"})]})]})]})]}),t.jsxs("div",{className:"card text-center",style:{padding:"60px 20px"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px",opacity:.3},children:""}),t.jsx("h3",{className:"mb-2",children:"No Epics Found"}),t.jsx("p",{className:"text-muted",children:c.length===4?`No epics with work in ${a}. Try selecting a different year or time range.`:`No epics with work in ${a} Q${Math.min(...c)}${c.length>1?`-Q${Math.max(...c)}`:""}. Try selecting a different time range.`})]})]}):t.jsxs("div",{className:"container-fluid",style:{padding:"20px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",flexWrap:"wrap",gap:"16px"},children:[t.jsxs("div",{children:[t.jsx("h2",{style:{fontSize:"24px",fontWeight:"600",marginBottom:"4px"},children:"Executive Gantt Chart"}),t.jsx("p",{style:{fontSize:"14px",color:"#6B7280",margin:0},children:"Epic-level timeline with RAG status and risk analysis"})]}),t.jsxs("div",{style:{display:"flex",gap:"16px",alignItems:"flex-start",flexWrap:"wrap"},children:[t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[t.jsx("label",{style:{fontSize:"12px",color:"#6B7280",fontWeight:"600"},children:"Year"}),t.jsx("select",{value:a,onChange:I=>r(parseInt(I.target.value)),style:{padding:"8px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",background:"white",cursor:"pointer"},children:w.map(I=>t.jsx("option",{value:I,children:I},I))})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[t.jsx("label",{style:{fontSize:"12px",color:"#6B7280",fontWeight:"600"},children:"Time Range"}),t.jsxs("div",{style:{display:"flex",gap:"6px"},children:[[1,2,3,4].map(I=>{const F=c.includes(I);return I===Math.min(...c)||Math.max(...c),c.length,t.jsxs("button",{onClick:M=>b(I,M),style:{padding:"8px 16px",background:F?"#3B82F6":"white",color:F?"white":"#374151",border:F?"none":"1px solid #D1D5DB",borderRadius:"6px",fontSize:"13px",fontWeight:F?"600":"500",cursor:"pointer",transition:"all 0.15s",minWidth:"48px"},title:`Quarter ${I}`,children:["Q",I]},I)}),t.jsx("button",{onClick:j,style:{padding:"8px 16px",background:c.length===4?"#10B981":"white",color:c.length===4?"white":"#374151",border:c.length===4?"none":"1px solid #D1D5DB",borderRadius:"6px",fontSize:"13px",fontWeight:c.length===4?"600":"500",cursor:"pointer",transition:"all 0.15s"},title:"View full year",children:"Full Year"})]})]}),t.jsxs("button",{onClick:()=>m(!v),style:{padding:"8px 16px",background:v?"#3B82F6":"white",color:v?"white":"#1F2937",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"13px",cursor:"pointer",marginTop:"20px"},children:[v?"":""," Executive Summary"]})]})]}),v&&t.jsxs("div",{className:"card",style:{marginBottom:"30px",background:"#F9FAFB",borderColor:"#E5E7EB"},children:[t.jsxs("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"16px"},children:[a," ",c.length===4?"Portfolio Health":c.length===1?`Q${c[0]} Portfolio Health`:`Q${Math.min(...c)}-Q${Math.max(...c)} Portfolio Health`]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:"Total Epics"}),t.jsx("div",{style:{fontSize:"28px",fontWeight:"700",color:"#1F2937"},children:D.total}),t.jsxs("div",{style:{fontSize:"11px",color:"#6B7280",marginTop:"4px",display:"flex",gap:"8px"},children:[t.jsxs("span",{style:{color:"#EF4444"},children:[" ",D.red]}),t.jsxs("span",{style:{color:"#F59E0B"},children:[" ",D.amber]}),t.jsxs("span",{style:{color:"#10B981"},children:[" ",D.green]})]})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:"Total Issues"}),t.jsx("div",{style:{fontSize:"28px",fontWeight:"700",color:"#1F2937"},children:D.totalIssues}),t.jsxs("div",{style:{fontSize:"11px",color:"#6B7280",marginTop:"4px"},children:[D.openIssues," open, ",D.closedIssues," closed"]})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:"Overall Progress"}),t.jsxs("div",{style:{fontSize:"28px",fontWeight:"700",color:"#1F2937"},children:[D.overallProgress.toFixed(0),"%"]}),t.jsx("div",{style:{width:"100%",height:"6px",background:"#E5E7EB",borderRadius:"3px",marginTop:"8px",overflow:"hidden"},children:t.jsx("div",{style:{width:`${D.overallProgress}%`,height:"100%",background:"linear-gradient(90deg, #3B82F6, #10B981)",transition:"width 0.3s"}})})]})]})]}),t.jsxs("div",{className:"card",style:{marginBottom:"20px",overflow:"visible",position:"relative"},children:[le&&t.jsx("div",{style:{position:"absolute",left:`calc(350px + (100% - 350px) * ${parseFloat(le)/100})`,top:0,bottom:0,width:"2px",background:"#EF4444",zIndex:5,cursor:"help"},title:`Today: ${new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}`,children:t.jsx("div",{style:{position:"absolute",top:"8px",left:"-18px",fontSize:"10px",color:"#EF4444",fontWeight:"600",whiteSpace:"nowrap",background:"white",padding:"2px 4px",borderRadius:"3px",border:"1px solid #EF4444",pointerEvents:"none"},children:" TODAY"})}),t.jsxs("div",{style:{display:"flex",borderBottom:"2px solid #E5E7EB",paddingBottom:"4px",marginBottom:"12px"},children:[t.jsx("div",{style:{width:"350px",fontWeight:"600",fontSize:"12px",color:"#6B7280",textTransform:"uppercase"},children:"Epic"}),t.jsxs("div",{style:{flex:1,position:"relative",minHeight:"48px"},children:[A==="year"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"12px",color:"#6B7280",fontWeight:"600",marginBottom:"4px"},children:["Q1","Q2","Q3","Q4"].map((I,F)=>t.jsxs("div",{style:{flex:1,textAlign:"center",borderRight:F<3?"1px dashed #D1D5DB":"none"},children:[I," ",a]},I))}),t.jsx("div",{style:{display:"flex",fontSize:"10px",color:"#9CA3AF",borderTop:"1px solid #E5E7EB",paddingTop:"4px"},children:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((I,F)=>t.jsx("div",{style:{flex:1,textAlign:"center",borderRight:F<11?"1px dotted #E5E7EB":"none",padding:"2px 0"},children:I},I))})]}),A==="quarter"&&(()=>{const I=(Math.min(...c)-1)*3,F=Math.max(...c)*3-1,M=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],W=[];for(let R=I;R<=F;R++)W.push({name:M[R],index:R});const P=[];let Y=new Date(E.start);for(;Y<=E.end;)P.push(new Date(Y)),Y.setDate(Y.getDate()+7);return t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{display:"flex",fontSize:"12px",color:"#6B7280",fontWeight:"600",marginBottom:"4px"},children:W.map((R,$)=>t.jsx("div",{style:{flex:1,textAlign:"center",borderRight:$<W.length-1?"1px dashed #D1D5DB":"none"},children:R.name},R.index))}),t.jsx("div",{style:{display:"flex",fontSize:"9px",color:"#9CA3AF",borderTop:"1px solid #E5E7EB",paddingTop:"4px"},children:P.map((R,$)=>t.jsxs("div",{style:{flex:1,textAlign:"center",borderRight:$<P.length-1?"1px dotted #E5E7EB":"none",padding:"2px 0",fontSize:"9px"},title:R.toLocaleDateString(),children:[R.getDate(),"/",R.getMonth()+1]},$))})]})})(),A==="month"&&(()=>{const I=[];let F=new Date(E.start);for(;F<=E.end;)I.push(new Date(F)),F.setDate(F.getDate()+7);return t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{display:"flex",fontSize:"11px",color:"#6B7280",fontWeight:"600",marginBottom:"4px"},children:I.map((M,W)=>t.jsxs("div",{style:{flex:1,textAlign:"center",borderRight:W<I.length-1?"1px dashed #D1D5DB":"none"},children:["Week ",W+1]},W))}),t.jsx("div",{style:{display:"flex",fontSize:"9px",color:"#9CA3AF",borderTop:"1px solid #E5E7EB",paddingTop:"4px"},children:I.map((M,W)=>t.jsx("div",{style:{flex:1,textAlign:"center",borderRight:W<I.length-1?"1px dotted #E5E7EB":"none",padding:"2px 0"},children:M.toLocaleDateString("en-US",{month:"short",day:"numeric"})},W))})]})})()]})]}),N.map(I=>{const F=k.get(I.id)||[],M=C.get(I.id),W=f.has(I.id),P=K(I.start_date,I.end_date),Y=F.filter(ne=>ne.state==="opened"),R=F.filter(ne=>ne.state==="closed"),$=Y.filter(ne=>{const oe=ja(ne);return oe==="inProgress"||oe==="review"||oe==="testing"}),ie=M.metrics.progressPercent;return t.jsxs("div",{style:{marginBottom:"24px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"12px 0",borderBottom:"1px solid #E5E7EB"},children:[t.jsx("div",{style:{width:"350px",paddingRight:"16px"},children:t.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"8px"},children:[t.jsx("button",{onClick:()=>T(I.id),style:{background:"none",border:"none",cursor:"pointer",fontSize:"14px",padding:"0 4px",color:"#6B7280"},children:W?"":""}),t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[t.jsx("a",{href:I.web_url,target:"_blank",rel:"noopener noreferrer",style:{fontSize:"14px",fontWeight:"600",color:"#1F2937",textDecoration:"none"},onMouseEnter:ne=>ne.target.style.textDecoration="underline",onMouseLeave:ne=>ne.target.style.textDecoration="none",children:I.title}),t.jsx("div",{style:{padding:"2px 8px",background:O(M.status),color:B(M.status),borderRadius:"4px",fontSize:"11px",fontWeight:"600",whiteSpace:"nowrap"},children:G(M.status)})]}),t.jsxs("div",{style:{fontSize:"12px",color:"#6B7280"},children:[R.length,"/",F.length," closed"," | ",Y.length," open",$.length>0&&` | ${$.length} in progress`]})]})]})}),t.jsx("div",{style:{flex:1,position:"relative",height:"40px"},children:P&&t.jsxs("div",{style:{position:"absolute",left:P.left,width:P.width,height:"32px",background:"#E5E7EB",borderRadius:"6px",overflow:"hidden",cursor:"pointer",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",border:`1px solid ${B(M.status)}40`},onClick:()=>window.open(I.web_url,"_blank"),title:eb(M),children:[t.jsx("div",{style:{width:`${ie}%`,height:"100%",background:`linear-gradient(90deg, ${B(M.status)}, ${B(M.status)}DD)`,transition:"width 0.3s ease"}}),t.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsxs("span",{style:{color:ie>30?"white":"#1F2937",fontSize:"12px",fontWeight:"600",textShadow:ie>30?"0 1px 2px rgba(0,0,0,0.3)":"none",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",padding:"0 8px"},children:[ie.toFixed(0),"%"]})})]})})]}),W&&(()=>{const ne=_(I.id),oe=ne.filter(de=>!de._isCrossProject).length,ue=ne.filter(de=>de._isCrossProject).length;return t.jsxs("div",{style:{marginTop:"12px",marginLeft:"32px",paddingLeft:"16px",borderLeft:"2px solid #E5E7EB"},children:[ue>0&&t.jsxs("div",{style:{padding:"8px 12px",background:"#EFF6FF",border:"1px solid #BFDBFE",borderRadius:"6px",marginBottom:"12px",fontSize:"12px",color:"#1E40AF"},children:[t.jsxs("strong",{children:[" Showing ",oe," local + ",ue," cross-project issues"]}),t.jsx("div",{style:{fontSize:"11px",color:"#3B82F6",marginTop:"2px"},children:"Cross-project issues are highlighted with a blue left border"})]}),ne.slice(0,20).map(de=>{const me=Jv(de),je=K(de.created_at,de.due_date||de.milestone?.due_date||I.end_date),Vt=ja(de),Qt=vn(Vt);return t.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"8px 0",paddingLeft:de._isCrossProject?"12px":"0",borderBottom:"1px solid #F3F4F6",borderLeft:de._isCrossProject?"4px solid #3B82F6":"none",background:de._isCrossProject?"#F0F9FF":"transparent",marginLeft:de._isCrossProject?"-12px":"0",borderRadius:de._isCrossProject?"4px":"0"},children:[t.jsxs("div",{style:{width:"318px",paddingRight:"16px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"4px"},children:[t.jsxs("a",{href:de.web_url,target:"_blank",rel:"noopener noreferrer",style:{fontSize:"12px",color:de.state==="closed"?"#6B7280":"#1F2937",textDecoration:"none",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",flex:1},onMouseEnter:ti=>ti.target.style.textDecoration="underline",onMouseLeave:ti=>ti.target.style.textDecoration="none",children:["#",de.iid," ",de.title]}),de._isCrossProject&&t.jsx("span",{style:{fontSize:"9px",padding:"2px 5px",background:"#3B82F6",color:"white",borderRadius:"3px",fontWeight:"600",whiteSpace:"nowrap"},title:`From: ${de._sourceProject}`,children:de._sourceProject})]}),t.jsxs("div",{style:{fontSize:"10px",color:"#6B7280"},children:[de.assignees?.[0]?.name||"Unassigned","  ",t.jsx("span",{style:{color:Qt,fontWeight:"600"},children:Sn(Vt)})]})]}),t.jsx("div",{style:{flex:1,position:"relative",height:"24px"},children:je&&t.jsxs("div",{style:{position:"absolute",left:je.left,width:je.width,height:"20px",background:"#F3F4F6",borderRadius:"4px",overflow:"hidden",cursor:"pointer",boxShadow:"0 1px 2px rgba(0,0,0,0.05)",border:`1px solid ${Qt}40`},onClick:()=>window.open(de.web_url,"_blank"),title:`${de.title} - ${me}% complete`,children:[t.jsx("div",{style:{width:`${me}%`,height:"100%",background:Qt,transition:"width 0.3s ease"}}),me>20&&t.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsxs("span",{style:{color:me>30?"white":"#1F2937",fontSize:"10px",fontWeight:"600",textShadow:me>30?"0 1px 2px rgba(0,0,0,0.3)":"none"},children:[me,"%"]})})]})})]},de.id)}),ne.length>20&&t.jsxs("div",{style:{padding:"8px 0",fontSize:"11px",color:"#6B7280",fontStyle:"italic"},children:["+ ",ne.length-20," more issues (showing first 20)"]})]})})(),W&&M.factors.length>0&&t.jsxs("div",{style:{marginTop:"12px",marginLeft:"32px"},children:[t.jsxs("button",{onClick:()=>L(I.id),style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",background:"#F9FAFB",border:"1px solid #E5E7EB",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"600",color:"#1F2937",width:"100%",justifyContent:"space-between"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("span",{style:{fontSize:"14px"},children:""}),t.jsx("span",{children:"Analysis & Recommendations"}),t.jsxs("span",{style:{fontSize:"11px",fontWeight:"400",color:"#6B7280"},children:["(",M.factors.length," factors, ",M.actions.length," actions)"]})]}),t.jsx("span",{style:{fontSize:"12px",color:"#6B7280"},children:h.has(I.id)?"":""})]}),h.has(I.id)&&t.jsxs("div",{style:{background:"#F9FAFB",border:"1px solid #E5E7EB",borderRadius:"6px",padding:"16px",marginTop:"12px",marginBottom:"12px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px"},children:[t.jsx("span",{style:{fontSize:"16px"},children:""}),t.jsxs("h4",{style:{fontSize:"14px",fontWeight:"600",color:"#1F2937",margin:0},children:["Why ",G(M.status),"?"]})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("div",{style:{fontSize:"13px",fontWeight:"600",color:"#6B7280",marginBottom:"8px"},children:[" Primary Issue: ",M.reason]}),M.factors.length>0&&t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"13px",fontWeight:"600",color:"#6B7280",marginTop:"12px",marginBottom:"8px"},children:" Contributing Factors:"}),M.factors.slice(0,3).map((ne,oe)=>t.jsxs("div",{style:{padding:"10px",background:"white",borderLeft:`3px solid ${ne.severity==="critical"?"#EF4444":"#F59E0B"}`,borderRadius:"4px",marginBottom:"8px"},children:[t.jsxs("div",{style:{fontSize:"12px",fontWeight:"600",color:"#1F2937",marginBottom:"4px"},children:[oe+1,". [",ne.severity==="critical"?" Critical":" Medium","] ",ne.title]}),t.jsx("div",{style:{fontSize:"11px",color:"#6B7280",marginBottom:"2px"},children:ne.description}),t.jsxs("div",{style:{fontSize:"11px",color:"#6B7280",fontStyle:"italic"},children:["Impact: ",ne.impact]})]},oe))]})]}),M.actions.length>0&&t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"13px",fontWeight:"600",color:"#6B7280",marginBottom:"8px"},children:" Recommended Actions:"}),M.actions.slice(0,3).map((ne,oe)=>t.jsxs("div",{style:{padding:"10px",background:"white",borderRadius:"4px",marginBottom:"8px",borderLeft:`3px solid ${ne.priority==="critical"?"#EF4444":ne.priority==="high"?"#F59E0B":"#3B82F6"}`},children:[t.jsxs("div",{style:{fontSize:"12px",fontWeight:"600",color:"#1F2937",marginBottom:"4px"},children:[ne.priority==="critical"?" [Critical]":ne.priority==="high"?" [High]":" [Medium]"," ",ne.title]}),t.jsx("div",{style:{fontSize:"11px",color:"#6B7280",marginBottom:"2px"},children:ne.description}),t.jsxs("div",{style:{fontSize:"10px",color:"#6B7280"},children:["Effort: ",ne.estimatedEffort,"  Impact: ",ne.impact]})]},oe))]}),M.projection&&t.jsxs("div",{style:{marginTop:"12px",padding:"10px",background:M.projection.onTime?"#D1FAE5":"#FEE2E2",borderRadius:"4px"},children:[t.jsxs("div",{style:{fontSize:"12px",fontWeight:"600",color:M.projection.onTime?"#065F46":"#991B1B"},children:[" Projection: ",M.projection.onTime?"On time":`${Math.abs(Math.round(M.projection.daysVariance))} days late`]}),t.jsxs("div",{style:{fontSize:"11px",color:M.projection.onTime?"#065F46":"#991B1B",marginTop:"2px"},children:["Expected completion: ",M.projection.date.toLocaleDateString()," (",M.projection.iterationsNeeded," iterations at current velocity)"]})]})]})]}),!1]},I.id)})]})]})}function ib({epics:o,issues:d}){const[l,a]=U.useState(""),[r,c]=U.useState("current"),p=U.useMemo(()=>{const m=new Set,b=new Date,j=`Q${Math.floor(b.getMonth()/3)+1} ${b.getFullYear()}`;return m.add(j),o.forEach(E=>{if(E.start_date||E.due_date||E.end_date){const A=new Date(E.start_date||E.due_date||E.end_date),N=`Q${Math.floor(A.getMonth()/3)+1} ${A.getFullYear()}`;m.add(N)}}),Array.from(m).sort((E,A)=>{const[N,k]=E.split(" "),[C,D]=A.split(" "),w=parseInt(N.substring(1)),T=parseInt(C.substring(1));return D!==k?parseInt(D)-parseInt(k):T-w})},[o]),f=U.useMemo(()=>o.map(m=>{const b=m.issues||[],j=b.length,E=b.filter(L=>L.state==="closed").length,A=j>0?Math.round(E/j*100):0,N=new Set;b.forEach(L=>{if(L.iteration){const B=typeof L.iteration=="object"?L.iteration.title:L.iteration;B&&N.add(B)}});let k="green",C=[];const D=new Date,w=m.due_date||m.end_date;if(w){const L=new Date(w),B=Math.floor((L-D)/(1e3*60*60*24));m.state==="opened"&&(B<0?(k="red",C.push(`Overdue by ${Math.abs(B)} days`)):B<14&&A<80&&(k=k==="red"?"red":"amber",C.push(`Due in ${B} days, only ${A}% complete`)))}A<30&&m.state==="opened"&&(k=k==="red"?"red":"amber",C.push(`Low completion rate: ${A}%`));const T=b.filter(L=>L.labels?.some(B=>B.toLowerCase().includes("block"))).length;T>0&&(k=k==="red"?"red":"amber",C.push(`${T} blocked issue${T>1?"s":""}`));let _=null;if(m.start_date||m.due_date||m.end_date){const L=new Date(m.start_date||m.due_date||m.end_date);_=`Q${Math.floor(L.getMonth()/3)+1} ${L.getFullYear()}`}return{...m,totalIssues:j,closedIssues:E,completionRate:A,iterations:Array.from(N).sort(),rag:k,ragReason:C.length>0?C:["On track"],quarter:_,blockedIssues:T}}).sort((m,b)=>{const j={red:0,amber:1,green:2};return j[m.rag]!==j[b.rag]?j[m.rag]-j[b.rag]:m.completionRate-b.completionRate}),[o]),g=U.useMemo(()=>{let m=f;if(r!=="all")if(r==="current"){const b=new Date,j=`Q${Math.floor(b.getMonth()/3)+1} ${b.getFullYear()}`;m=m.filter(E=>E.quarter===j)}else m=m.filter(b=>b.quarter===r);return l&&(m=hv(m,l)),m},[f,r,l]),h=U.useMemo(()=>{const m={red:0,amber:0,green:0,total:g.length};return g.forEach(b=>{m[b.rag]++}),m},[g]),y=m=>{switch(m){case"red":return"#DC2626";case"amber":return"#D97706";case"green":return"#059669";default:return"#6B7280"}},v=()=>{const m=xy(g),b=new Date().toISOString().split("T")[0];Yt(m,`quarterly-epic-tracker-${r}-${b}.csv`)};return!o||o.length===0?t.jsx("div",{className:"container",children:t.jsxs("div",{className:"card text-center",style:{padding:"60px 20px"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px",opacity:.3},children:""}),t.jsx("h3",{className:"mb-2",children:"No Epics Found"}),t.jsxs("p",{className:"text-muted",children:["Epic support requires GitLab Premium/Ultimate.",t.jsx("br",{}),"Configure your Group Path in settings to enable epic tracking."]})]})}):t.jsxs("div",{className:"container-fluid",children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[t.jsxs("div",{children:[t.jsx("h2",{style:{fontSize:"24px",fontWeight:"600",marginBottom:"8px"},children:"Quarterly Epic Tracker"}),t.jsx("p",{style:{fontSize:"14px",color:"#6B7280"},children:"Track key epics per quarter with RAG status and iteration progress"})]}),g.length>0&&t.jsxs("button",{className:"btn btn-primary",onClick:v,children:[" Export CSV (",g.length," epics)"]})]}),t.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"20px",flexWrap:"wrap"},children:[t.jsx("button",{className:`btn ${r==="current"?"btn-primary":"btn-secondary"}`,onClick:()=>c("current"),children:"Current Quarter"}),p.map(m=>t.jsx("button",{className:`btn ${r===m?"btn-primary":"btn-secondary"}`,onClick:()=>c(m),children:m},m)),t.jsx("button",{className:`btn ${r==="all"?"btn-primary":"btn-secondary"}`,onClick:()=>c("all"),children:"All Quarters"})]}),t.jsx(wd,{value:l,onChange:a,placeholder:"Search epics by title, labels, description..."}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:"30px"},children:[t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Total Epics"}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"600",color:"#1F2937"},children:h.total}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:r==="current"?"This quarter":r})]}),t.jsxs("div",{className:"card",style:{borderLeft:"4px solid #DC2626"},children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:" Red"}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"600",color:"#DC2626"},children:h.red}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:"Critical attention needed"})]}),t.jsxs("div",{className:"card",style:{borderLeft:"4px solid #D97706"},children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:" Amber"}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"600",color:"#D97706"},children:h.amber}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:"At risk, needs monitoring"})]}),t.jsxs("div",{className:"card",style:{borderLeft:"4px solid #059669"},children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:" Green"}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"600",color:"#059669"},children:h.green}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:"On track"})]})]}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:g.length===0?t.jsxs("div",{className:"card text-center",style:{padding:"40px 20px"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px",opacity:.3},children:""}),t.jsx("h3",{className:"mb-2",children:"No Epics Found"}),t.jsx("p",{className:"text-muted",children:l?"Try a different search term":`No epics for ${r}`})]}):g.map(m=>t.jsxs("div",{className:"card",style:{borderLeft:`6px solid ${y(m.rag)}`,opacity:m.state==="closed"?.7:1},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[t.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#1F2937",margin:0},children:m.title}),t.jsx("span",{style:{padding:"4px 8px",background:m.state==="opened"?"#DBEAFE":"#D1FAE5",color:m.state==="opened"?"#1E40AF":"#065F46",borderRadius:"4px",fontSize:"12px",fontWeight:"600",textTransform:"capitalize"},children:m.state})]}),m.description&&t.jsxs("p",{style:{fontSize:"14px",color:"#6B7280",margin:"8px 0",lineHeight:"1.5"},children:[m.description.substring(0,200),m.description.length>200&&"..."]}),t.jsxs("div",{style:{display:"flex",gap:"16px",fontSize:"12px",color:"#6B7280",marginTop:"8px"},children:[m.quarter&&t.jsxs("div",{children:[t.jsx("strong",{children:"Quarter:"})," ",m.quarter]}),m.start_date&&t.jsxs("div",{children:[t.jsx("strong",{children:"Start:"})," ",new Date(m.start_date).toLocaleDateString()]}),(m.due_date||m.end_date)&&t.jsxs("div",{children:[t.jsx("strong",{children:"Due:"})," ",new Date(m.due_date||m.end_date).toLocaleDateString()]}),m.web_url&&t.jsx("div",{children:t.jsx("a",{href:m.web_url,target:"_blank",rel:"noopener noreferrer",style:{color:"#2563EB"},children:"View in GitLab "})})]})]}),t.jsxs("div",{style:{minWidth:"120px",textAlign:"center",padding:"16px",background:y(m.rag)+"20",borderRadius:"8px"},children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:"RAG Status"}),t.jsx("div",{style:{fontSize:"36px",fontWeight:"700",color:y(m.rag)},children:m.rag==="red"?"":m.rag==="amber"?"":""}),t.jsx("div",{style:{fontSize:"12px",fontWeight:"600",color:y(m.rag),textTransform:"uppercase"},children:m.rag})]})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"16px",marginBottom:"16px"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:"Completion"}),t.jsxs("div",{style:{fontSize:"24px",fontWeight:"600",color:"#2563EB"},children:[m.completionRate,"%"]})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:"Total Issues"}),t.jsx("div",{style:{fontSize:"24px",fontWeight:"600",color:"#1F2937"},children:m.totalIssues})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:"Completed"}),t.jsx("div",{style:{fontSize:"24px",fontWeight:"600",color:"#059669"},children:m.closedIssues})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:"Iterations"}),t.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#1F2937"},children:m.iterations.length>0?m.iterations.join(", "):"None"})]})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"6px"},children:["Progress: ",m.closedIssues," / ",m.totalIssues," issues completed"]}),t.jsx("div",{style:{width:"100%",height:"12px",background:"#E5E7EB",borderRadius:"6px",overflow:"hidden"},children:t.jsx("div",{style:{width:`${m.completionRate}%`,height:"100%",background:y(m.rag),transition:"width 0.3s ease"}})})]}),t.jsxs("div",{style:{padding:"12px",background:y(m.rag)+"15",borderRadius:"8px",fontSize:"13px"},children:[t.jsx("div",{style:{fontWeight:"600",color:y(m.rag),marginBottom:"6px"},children:"Status Details:"}),t.jsx("ul",{style:{margin:0,paddingLeft:"20px",color:"#1F2937"},children:m.ragReason.map((b,j)=>t.jsx("li",{children:b},j))})]})]},m.id))})]})}function nb({epics:o,issues:d,crossProjectData:l}){const[a,r]=U.useState("portfolio");return t.jsxs("div",{className:"container-fluid",children:[t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("h2",{style:{fontSize:"24px",fontWeight:"600",marginBottom:"8px"},children:"Epic Management"}),t.jsx("p",{style:{fontSize:"14px",color:"#6B7280"},children:"Manage epics across portfolio, timeline, and quarterly views"})]}),t.jsxs("div",{style:{display:"flex",gap:"4px",borderBottom:"2px solid #E5E7EB",marginBottom:"24px"},children:[t.jsx("button",{onClick:()=>r("portfolio"),style:{padding:"12px 24px",background:a==="portfolio"?"white":"transparent",border:"none",borderBottom:a==="portfolio"?"3px solid #E60000":"3px solid transparent",fontSize:"14px",fontWeight:a==="portfolio"?"600":"500",color:a==="portfolio"?"#E60000":"#6B7280",cursor:"pointer",transition:"all 0.2s",marginBottom:"-2px"},children:"Portfolio"}),t.jsx("button",{onClick:()=>r("timeline"),style:{padding:"12px 24px",background:a==="timeline"?"white":"transparent",border:"none",borderBottom:a==="timeline"?"3px solid #E60000":"3px solid transparent",fontSize:"14px",fontWeight:a==="timeline"?"600":"500",color:a==="timeline"?"#E60000":"#6B7280",cursor:"pointer",transition:"all 0.2s",marginBottom:"-2px"},children:"Timeline"}),t.jsx("button",{onClick:()=>r("quarterly"),style:{padding:"12px 24px",background:a==="quarterly"?"white":"transparent",border:"none",borderBottom:a==="quarterly"?"3px solid #E60000":"3px solid transparent",fontSize:"14px",fontWeight:a==="quarterly"?"600":"500",color:a==="quarterly"?"#E60000":"#6B7280",cursor:"pointer",transition:"all 0.2s",marginBottom:"-2px"},children:"Quarterly"})]}),t.jsxs("div",{children:[a==="portfolio"&&t.jsx(Hv,{epics:o,issues:d,crossProjectData:l}),a==="timeline"&&t.jsx(tb,{epics:o,issues:d,crossProjectData:l}),a==="quarterly"&&t.jsx(ib,{epics:o,issues:d,crossProjectData:l})]})]})}function ab({epics:o,issues:d}){const[l,a]=U.useState(null),[r,c]=U.useState("all"),p=U.useMemo(()=>{if(!o||!d)return[];const m=e0(d.filter(j=>j.state==="closed"));return o.map(j=>{const E=d.filter(N=>N.epic?.id===j.id),A=Jx(j,E,m);return{epic:j,issues:E,...A}}).sort((j,E)=>{const A={red:0,amber:1,green:2};return A[j.status]-A[E.status]})},[o,d]),f=U.useMemo(()=>r==="all"?p:p.filter(m=>m.status===r),[p,r]),g=U.useMemo(()=>{const m=p.filter(A=>A.status==="red").length,b=p.filter(A=>A.status==="amber").length,j=p.filter(A=>A.status==="green").length,E=p.length;return{red:m,amber:b,green:j,total:E}},[p]),h=m=>m==="red"?"#EF4444":m==="amber"?"#F59E0B":"#10B981",y=m=>m==="red"?"#FEE2E2":m==="amber"?"#FEF3C7":"#D1FAE5",v=m=>m==="red"?"Critical":m==="amber"?"At Risk":"On Track";return!o||o.length===0?t.jsx("div",{className:"container",children:t.jsxs("div",{className:"card text-center",style:{padding:"60px 20px"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px",opacity:.3},children:""}),t.jsx("h3",{className:"mb-2",children:"No Epics Available"}),t.jsx("p",{className:"text-muted",children:"Add epics to your project to see risk analysis."})]})}):t.jsxs("div",{className:"container-fluid",style:{padding:"20px"},children:[t.jsxs("div",{style:{marginBottom:"24px"},children:[t.jsx("h2",{style:{fontSize:"24px",fontWeight:"600",marginBottom:"4px"},children:"Risk Analysis Dashboard"}),t.jsx("p",{style:{fontSize:"14px",color:"#6B7280"},children:"Deep-dive root cause analysis with actionable recommendations"})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",marginBottom:"24px"},children:[t.jsxs("div",{className:"card",onClick:()=>c(r==="red"?"all":"red"),style:{cursor:"pointer",borderLeft:"4px solid #EF4444",background:r==="red"?"#FEE2E2":"white"},children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:" Critical Epics"}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"700",color:"#EF4444"},children:g.red}),t.jsxs("div",{style:{fontSize:"11px",color:"#6B7280",marginTop:"4px"},children:[g.total>0?Math.round(g.red/g.total*100):0,"% of portfolio"]})]}),t.jsxs("div",{className:"card",onClick:()=>c(r==="amber"?"all":"amber"),style:{cursor:"pointer",borderLeft:"4px solid #F59E0B",background:r==="amber"?"#FEF3C7":"white"},children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:" At Risk Epics"}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"700",color:"#F59E0B"},children:g.amber}),t.jsxs("div",{style:{fontSize:"11px",color:"#6B7280",marginTop:"4px"},children:[g.total>0?Math.round(g.amber/g.total*100):0,"% of portfolio"]})]}),t.jsxs("div",{className:"card",onClick:()=>c(r==="green"?"all":"green"),style:{cursor:"pointer",borderLeft:"4px solid #10B981",background:r==="green"?"#D1FAE5":"white"},children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:" On Track Epics"}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"700",color:"#10B981"},children:g.green}),t.jsxs("div",{style:{fontSize:"11px",color:"#6B7280",marginTop:"4px"},children:[g.total>0?Math.round(g.green/g.total*100):0,"% of portfolio"]})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:"Total Epics"}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"700",color:"#1F2937"},children:g.total}),t.jsx("div",{style:{fontSize:"11px",color:"#6B7280",marginTop:"4px"},children:r!=="all"?`Showing ${f.length}`:"All epics"})]})]}),f.length===0?t.jsx("div",{className:"card text-center",style:{padding:"40px"},children:t.jsx("p",{style:{color:"#6B7280"},children:"No epics match the selected filter."})}):f.map(m=>{const b=l===m.epic.id,j=m.status==="red"||m.status==="amber";return t.jsx("div",{style:{marginBottom:"20px"},children:t.jsxs("div",{className:"card",style:{borderLeft:`4px solid ${h(m.status)}`,background:b?y(m.status):"white"},children:[t.jsxs("div",{onClick:()=>a(b?null:m.epic.id),style:{cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:b?"20px":"0"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[t.jsx("a",{href:m.epic.web_url,target:"_blank",rel:"noopener noreferrer",onClick:E=>E.stopPropagation(),style:{fontSize:"18px",fontWeight:"600",color:"#1F2937",textDecoration:"none"},onMouseEnter:E=>E.target.style.textDecoration="underline",onMouseLeave:E=>E.target.style.textDecoration="none",children:m.epic.title}),t.jsx("div",{style:{padding:"4px 12px",background:h(m.status),color:"white",borderRadius:"6px",fontSize:"12px",fontWeight:"600"},children:v(m.status)}),m.status!=="green"&&t.jsxs("span",{style:{fontSize:"14px",color:"#6B7280"},children:[b?"":""," Click for details"]})]}),t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:m.reason}),m.metrics&&t.jsxs("div",{style:{display:"flex",gap:"20px",fontSize:"13px",color:"#6B7280"},children:[t.jsxs("span",{children:[m.metrics.closedIssues,"/",m.metrics.totalIssues," issues closed (",m.metrics.progressPercent.toFixed(0),"%)"]}),m.metrics.remainingIterations!==null&&t.jsxs("span",{children:[m.metrics.remainingIterations," iterations left"]}),m.metrics.currentVelocity>0&&t.jsxs("span",{children:["Velocity: ",m.metrics.currentVelocity.toFixed(1)," (need ",m.metrics.requiredVelocity.toFixed(1),")"]})]})]}),m.metrics&&t.jsxs("div",{style:{minWidth:"120px",textAlign:"right"},children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:"Progress"}),t.jsxs("div",{style:{fontSize:"24px",fontWeight:"700",color:h(m.status)},children:[m.metrics.progressPercent.toFixed(0),"%"]})]})]}),b&&j&&t.jsx("div",{children:t.jsxs("div",{style:{borderTop:"1px solid #E5E7EB",paddingTop:"20px",marginTop:"20px"},children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#1F2937",marginBottom:"16px"},children:"Root Cause Analysis"}),m.factors.length>0&&t.jsxs("div",{style:{marginBottom:"24px"},children:[t.jsx("h4",{style:{fontSize:"14px",fontWeight:"600",color:"#6B7280",marginBottom:"12px"},children:" Contributing Factors"}),m.factors.map((E,A)=>t.jsxs("div",{style:{padding:"12px",background:"white",borderLeft:`4px solid ${E.severity==="critical"?"#EF4444":"#F59E0B"}`,borderRadius:"6px",marginBottom:"12px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[t.jsxs("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1F2937"},children:[A+1,". ",E.title]}),t.jsx("div",{style:{padding:"2px 8px",background:E.severity==="critical"?"#FEE2E2":"#FEF3C7",color:E.severity==="critical"?"#DC2626":"#D97706",borderRadius:"4px",fontSize:"11px",fontWeight:"600"},children:E.severity==="critical"?"CRITICAL":"WARNING"})]}),t.jsx("div",{style:{fontSize:"13px",color:"#6B7280",marginBottom:"6px"},children:E.description}),t.jsxs("div",{style:{fontSize:"12px",color:"#6B7280",fontStyle:"italic"},children:[t.jsx("strong",{children:"Impact:"})," ",E.impact]})]},A))]}),m.actions.length>0&&t.jsxs("div",{style:{marginBottom:"24px"},children:[t.jsx("h4",{style:{fontSize:"14px",fontWeight:"600",color:"#6B7280",marginBottom:"12px"},children:" Recommended Action Plan"}),m.actions.map((E,A)=>t.jsxs("div",{style:{padding:"12px",background:"white",borderLeft:`4px solid ${E.priority==="critical"?"#EF4444":E.priority==="high"?"#F59E0B":"#3B82F6"}`,borderRadius:"6px",marginBottom:"12px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[t.jsxs("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1F2937"},children:[E.priority==="critical"?"":E.priority==="high"?"":""," ",E.title]}),t.jsx("div",{style:{padding:"2px 8px",background:E.priority==="critical"?"#FEE2E2":E.priority==="high"?"#FEF3C7":"#DBEAFE",color:E.priority==="critical"?"#DC2626":E.priority==="high"?"#D97706":"#1E40AF",borderRadius:"4px",fontSize:"11px",fontWeight:"600",textTransform:"uppercase"},children:E.priority})]}),t.jsx("div",{style:{fontSize:"13px",color:"#1F2937",marginBottom:"6px"},children:E.description}),t.jsxs("div",{style:{display:"flex",gap:"16px",fontSize:"12px",color:"#6B7280"},children:[t.jsxs("span",{children:[t.jsx("strong",{children:"Effort:"})," ",E.estimatedEffort]}),t.jsxs("span",{children:[t.jsx("strong",{children:"Impact:"})," ",E.impact]})]})]},A))]}),m.projection&&t.jsxs("div",{style:{padding:"16px",background:m.projection.onTime?"#D1FAE5":"#FEE2E2",borderRadius:"8px",border:`2px solid ${m.projection.onTime?"#10B981":"#EF4444"}`},children:[t.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:m.projection.onTime?"#065F46":"#991B1B",marginBottom:"8px"},children:" Completion Projection"}),t.jsxs("div",{style:{fontSize:"13px",color:m.projection.onTime?"#065F46":"#991B1B"},children:[t.jsxs("div",{children:["Expected completion: ",t.jsx("strong",{children:m.projection.date.toLocaleDateString()})]}),t.jsxs("div",{children:["At current velocity: ",t.jsxs("strong",{children:[m.projection.iterationsNeeded," iterations"]})," (",m.projection.weeksNeeded," weeks)"]}),m.projection.daysVariance!==null&&t.jsx("div",{style:{marginTop:"8px",fontSize:"14px",fontWeight:"600"},children:m.projection.onTime?` On time (${Math.abs(Math.round(m.projection.daysVariance))} days early)`:` ${Math.abs(Math.round(m.projection.daysVariance))} days late`})]})]})]})}),b&&m.status==="green"&&t.jsx("div",{style:{borderTop:"1px solid #E5E7EB",paddingTop:"16px",marginTop:"16px"},children:t.jsxs("div",{style:{padding:"16px",background:"#D1FAE5",borderRadius:"8px"},children:[t.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"#065F46",marginBottom:"8px"},children:" Epic is on track"}),t.jsxs("div",{style:{fontSize:"13px",color:"#065F46"},children:["Current velocity (",m.metrics.currentVelocity.toFixed(1)," issues/iter) is sufficient to complete remaining ",m.metrics.remainingIssues," issues in ",m.metrics.remainingIterations," iterations."]}),m.projection&&t.jsxs("div",{style:{marginTop:"8px",fontSize:"13px",color:"#065F46"},children:["Projected completion: ",t.jsx("strong",{children:m.projection.date.toLocaleDateString()}),m.projection.daysVariance<0&&` (${Math.abs(Math.round(m.projection.daysVariance))} days ahead of schedule)`]})]})})]})},m.epic.id)})]})}function sb(){const{risks:o,addRisk:d,updateRisk:l,getRiskScore:a}=hd(),[r,c]=U.useState(!1),[p,f]=U.useState({title:"",description:"",probability:2,impact:2,owner:"",status:"open"}),g=()=>{p.title&&(d(p),f({title:"",description:"",probability:2,impact:2,owner:"",status:"open"}),c(!1))},h={};for(let v=3;v>=1;v--)for(let m=1;m<=3;m++){const b=`${v}-${m}`;h[b]=o.filter(j=>j.probability===v&&j.impact===m&&j.status==="open").length}const y=o.filter(v=>v.status==="open");return t.jsxs("div",{className:"container",children:[t.jsxs("div",{className:"card mb-3",children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"32px"},children:[t.jsx("h2",{children:"Risk Register"}),t.jsx("button",{className:"btn btn-primary",onClick:()=>c(!0),children:"Add Risk"})]}),t.jsx("h3",{className:"mb-3",style:{fontWeight:"500"},children:"Probability  Impact Matrix"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"auto repeat(3, 1fr)",gap:"8px",marginBottom:"32px"},children:[t.jsx("div",{}),t.jsx("div",{className:"text-center metric-label",children:"LOW IMPACT"}),t.jsx("div",{className:"text-center metric-label",children:"MEDIUM IMPACT"}),t.jsx("div",{className:"text-center metric-label",children:"HIGH IMPACT"}),t.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",paddingRight:"12px"},children:t.jsx("span",{className:"metric-label",children:"HIGH PROB"})}),t.jsx(Bi,{score:a({probability:3,impact:1}),count:h["3-1"]}),t.jsx(Bi,{score:a({probability:3,impact:2}),count:h["3-2"]}),t.jsx(Bi,{score:a({probability:3,impact:3}),count:h["3-3"]}),t.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",paddingRight:"12px"},children:t.jsx("span",{className:"metric-label",children:"MED PROB"})}),t.jsx(Bi,{score:a({probability:2,impact:1}),count:h["2-1"]}),t.jsx(Bi,{score:a({probability:2,impact:2}),count:h["2-2"]}),t.jsx(Bi,{score:a({probability:2,impact:3}),count:h["2-3"]}),t.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",paddingRight:"12px"},children:t.jsx("span",{className:"metric-label",children:"LOW PROB"})}),t.jsx(Bi,{score:a({probability:1,impact:1}),count:h["1-1"]}),t.jsx(Bi,{score:a({probability:1,impact:2}),count:h["1-2"]}),t.jsx(Bi,{score:a({probability:1,impact:3}),count:h["1-3"]})]})]}),t.jsxs("div",{className:"card",children:[t.jsx("h3",{className:"mb-3",children:"Active Risks"}),y.length===0?t.jsxs("div",{className:"text-center",style:{padding:"60px 20px"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px",opacity:.3},children:""}),t.jsx("p",{className:"text-muted",children:'No active risks. Click "Add Risk" to create one.'})]}):t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:y.map(v=>t.jsx("div",{className:"card",style:{background:"var(--bg-secondary)",borderLeft:`4px solid ${a(v)>=6?"var(--danger)":a(v)>=3?"var(--warning)":"var(--success)"}`},children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsx("h4",{style:{marginBottom:"8px"},children:v.title}),t.jsx("p",{className:"text-muted mb-2",style:{fontSize:"14px"},children:v.description}),t.jsxs("div",{style:{display:"flex",gap:"16px",fontSize:"13px"},children:[t.jsxs("span",{children:[t.jsx("strong",{children:"Probability:"})," ",v.probability===3?"High":v.probability===2?"Medium":"Low"]}),t.jsxs("span",{children:[t.jsx("strong",{children:"Impact:"})," ",v.impact===3?"High":v.impact===2?"Medium":"Low"]}),t.jsxs("span",{children:[t.jsx("strong",{children:"Score:"})," ",a(v)]}),v.owner&&t.jsxs("span",{children:[t.jsx("strong",{children:"Owner:"})," ",v.owner]})]})]}),t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsx("button",{className:"btn",onClick:()=>l(v.id,{status:"monitoring"}),style:{fontSize:"13px",padding:"6px 12px"},children:"Monitor"}),t.jsx("button",{className:"btn",onClick:()=>l(v.id,{status:"closed"}),style:{fontSize:"13px",padding:"6px 12px"},children:"Close"})]})]})},v.id))})]}),r&&t.jsx("div",{className:"modal-overlay",onClick:()=>c(!1),children:t.jsxs("div",{className:"modal",onClick:v=>v.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Add New Risk"}),t.jsx("button",{className:"btn",onClick:()=>c(!1),style:{padding:"4px 8px"},children:""})]}),t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Title *"}),t.jsx("input",{type:"text",className:"form-input",value:p.title,onChange:v=>f({...p,title:v.target.value}),placeholder:"Brief risk description"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Description"}),t.jsx("textarea",{className:"form-textarea",value:p.description,onChange:v=>f({...p,description:v.target.value}),placeholder:"Detailed risk description",rows:3})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Probability"}),t.jsxs("select",{className:"form-select",value:p.probability,onChange:v=>f({...p,probability:parseInt(v.target.value)}),children:[t.jsx("option",{value:1,children:"Low"}),t.jsx("option",{value:2,children:"Medium"}),t.jsx("option",{value:3,children:"High"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Impact"}),t.jsxs("select",{className:"form-select",value:p.impact,onChange:v=>f({...p,impact:parseInt(v.target.value)}),children:[t.jsx("option",{value:1,children:"Low"}),t.jsx("option",{value:2,children:"Medium"}),t.jsx("option",{value:3,children:"High"})]})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Owner"}),t.jsx("input",{type:"text",className:"form-input",value:p.owner,onChange:v=>f({...p,owner:v.target.value}),placeholder:"Risk owner name"})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{className:"btn",onClick:()=>c(!1),children:"Cancel"}),t.jsx("button",{className:"btn btn-primary",onClick:g,disabled:!p.title,children:"Add Risk"})]})]})})]})}function Bi({score:o,count:d}){const a=o>=6?{bg:"#FEE2E2",text:"#DC2626"}:o>=3?{bg:"#FEF3C7",text:"#D97706"}:{bg:"#D1FAE5",text:"#059669"};return t.jsx("div",{style:{background:a.bg,color:a.text,padding:"24px",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"32px",fontWeight:"700",minHeight:"80px"},children:d})}function rb({epics:o,issues:d}){const{risks:l}=hd(),a=()=>{const r=my(l),c=new Date().toISOString().split("T")[0];Yt(r,`risk-register-${c}.csv`)};return t.jsxs("div",{className:"container-fluid",children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"30px"},children:[t.jsxs("div",{children:[t.jsx("h2",{style:{fontSize:"24px",fontWeight:"600",marginBottom:"8px"},children:"Risk Management"}),t.jsx("p",{style:{fontSize:"14px",color:"#6B7280"},children:"Comprehensive risk analysis, tracking, and mitigation"})]}),t.jsx("button",{className:"btn btn-primary",onClick:a,disabled:!l||l.length===0,style:{display:"flex",alignItems:"center",gap:"8px"},children:t.jsx("span",{children:"Export Risks CSV"})})]}),t.jsxs("div",{style:{marginBottom:"30px"},children:[t.jsx("div",{style:{padding:"12px 16px",background:"#F9FAFB",borderBottom:"2px solid #E60000",marginBottom:"20px"},children:t.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#1F2937",margin:0},children:"Risk Analysis & Trends"})}),t.jsx(ab,{epics:o,issues:d})]}),t.jsxs("div",{children:[t.jsx("div",{style:{padding:"12px 16px",background:"#F9FAFB",borderBottom:"2px solid #E60000",marginBottom:"20px"},children:t.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#1F2937",margin:0},children:"Risk Register"})}),t.jsx(sb,{})]})]})}function ob({issues:o}){const[d,l]=U.useState(null),a=U.useMemo(()=>{const c=new Map;o.forEach(f=>{const g=pt(f.labels,f.iteration);if(g&&!c.has(g)){const h=f.iteration?.start_date||null;c.set(g,h)}});const p=new Set(o.map(f=>pt(f.labels,f.iteration)));return Array.from(p).filter(Boolean).sort((f,g)=>{const h=c.get(f),y=c.get(g);return h&&y?new Date(y)-new Date(h):h&&!y?-1:!h&&y?1:f.localeCompare(g)})},[o]),r=c=>{if(c.state==="closed")return 100;const p=c.labels.map(f=>f.toLowerCase());return p.some(f=>f.includes("review")||f.includes("testing"))?75:p.some(f=>f.includes("progress")||f.includes("wip"))?50:p.some(f=>f.includes("started"))?25:0};return a.length===0?t.jsx("div",{className:"container",children:t.jsxs("div",{className:"card text-center",style:{padding:"60px 20px"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px",opacity:.3},children:""}),t.jsx("h3",{className:"mb-2",children:"No Sprints/Iterations Found"}),t.jsx("p",{className:"text-muted",children:'Add iterations to your issues in GitLab, or add "Sprint X" / "Iteration X" labels to see the sprint board.'})]})}):t.jsxs("div",{className:"container-fluid",children:[t.jsx("h2",{className:"mb-3",children:"Sprint Board"}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:a.map(c=>{const p=o.filter(C=>pt(C.labels,C.iteration)===c),f=p.filter(C=>C.state==="closed").length,g=p.length,h=g>0?Math.round(f/g*100):0,v=p.find(C=>C.iteration)?.iteration,m=v?.start_date,b=v?.due_date,j={todo:p.filter(C=>C.state==="opened"&&r(C)===0),progress:p.filter(C=>C.state==="opened"&&r(C)>0&&r(C)<100),done:p.filter(C=>C.state==="closed")},E=$v(m,b),A=Gv(p,E),N=qv(A),k=N.filter(C=>C.priority==="high").length>0;return t.jsxs("div",{className:"card",children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[t.jsxs("div",{children:[t.jsx("h3",{style:{marginBottom:"4px"},children:c}),(m||b)&&t.jsxs("div",{style:{fontSize:"13px",color:"#6B7280"},children:[m&&new Date(m).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}),m&&b&&" - ",b&&new Date(b).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})]})]}),t.jsxs("div",{style:{textAlign:"right"},children:[t.jsxs("div",{style:{fontSize:"24px",fontWeight:"700",color:"var(--primary)"},children:[h,"%"]}),t.jsxs("div",{className:"text-small text-muted",children:[f," / ",g]})]})]}),t.jsx("div",{className:"progress-bar mb-3",children:t.jsx("div",{className:"progress-fill",style:{width:`${h}%`}})}),t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px",background:k?"#FEF3C7":"#EFF6FF",borderRadius:"8px",cursor:"pointer",marginBottom:"12px"},onClick:()=>l(d===c?null:c),children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("span",{style:{fontSize:"20px"},children:d===c?"":""}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:k?"#92400E":"#1E40AF"},children:k?" Team Capacity Issues":" Team Capacity"}),t.jsxs("div",{style:{fontSize:"12px",color:k?"#78350F":"#1E40AF"},children:[A.length," team members, ",E," working days",N.length>0&&`  ${N.length} recommendation${N.length>1?"s":""}`]})]})]}),t.jsxs("div",{style:{fontSize:"12px",color:k?"#92400E":"#1E40AF"},children:["Click to ",d===c?"hide":"show"," details"]})]}),d===c&&t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px",padding:"16px",background:"#F9FAFB",borderRadius:"8px"},children:[t.jsxs("div",{children:[t.jsx("h4",{style:{fontSize:"14px",fontWeight:"600",marginBottom:"12px"},children:"Team Workload"}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gap:"12px"},children:A.map(C=>t.jsxs("div",{style:{padding:"12px",background:"white",borderRadius:"6px",borderLeft:`4px solid ${td(C.status)}`},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsx("div",{style:{fontSize:"13px",fontWeight:"600",color:"#1F2937"},children:C.name}),t.jsx("div",{style:{fontSize:"11px",color:"#6B7280"},children:Yv(C.status)})]}),t.jsxs("div",{style:{textAlign:"right"},children:[t.jsxs("div",{style:{fontSize:"16px",fontWeight:"700",color:td(C.status)},children:[C.utilizationPercent,"%"]}),t.jsxs("div",{style:{fontSize:"10px",color:"#6B7280"},children:[C.totalWeight.toFixed(1),"d / ",C.capacity,"d"]})]})]}),t.jsxs("div",{style:{fontSize:"11px",color:"#6B7280"},children:[C.issues.length," issue",C.issues.length!==1?"s":""]}),t.jsx("div",{style:{width:"100%",height:"6px",background:"#E5E7EB",borderRadius:"3px",overflow:"hidden",marginTop:"8px"},children:t.jsx("div",{style:{width:`${Math.min(C.utilizationPercent,100)}%`,height:"100%",background:td(C.status),transition:"width 0.3s ease"}})})]},C.username||C.name))})]}),N.length>0&&t.jsxs("div",{children:[t.jsx("h4",{style:{fontSize:"14px",fontWeight:"600",marginBottom:"12px"},children:"Smart Recommendations"}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:N.map((C,D)=>{const w=Vv(C),T=C.priority==="high"?"#FEF3C7":C.priority==="medium"?"#DBEAFE":"#F3F4F6",_=C.priority==="high"?"#78350F":C.priority==="medium"?"#1E40AF":"#374151";return t.jsx("div",{style:{padding:"12px",background:T,borderRadius:"6px",fontSize:"12px",color:_},children:t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsx("span",{style:{fontSize:"16px"},children:w.icon}),t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{fontWeight:"600",marginBottom:"4px"},children:[C.type==="rebalance"&&`Move ${C.weight.toFixed(1)} days from ${C.from} to ${C.to}`,C.type==="assign"&&`Assign to ${C.to}`,C.type==="warning"&&"Capacity Warning",C.type==="info"&&"Available Capacity"]}),t.jsx("div",{children:C.reason}),C.issues&&C.issues.length>0&&t.jsxs("div",{style:{marginTop:"6px",fontSize:"11px"},children:["Issues: ",C.issues.map(L=>`#${L.iid}`).join(", ")]})]})]})},D)})})]})]})]}),t.jsxs("div",{className:"grid grid-3",style:{gap:"16px"},children:[t.jsxs("div",{style:{background:"var(--bg-secondary)",padding:"16px",borderRadius:"8px"},children:[t.jsxs("h4",{style:{marginBottom:"12px",fontSize:"14px",fontWeight:"600"},children:[" To Do (",j.todo.length,")"]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[j.todo.map(C=>t.jsxs("div",{className:"card",style:{padding:"12px",cursor:"pointer",transition:"all 0.2s"},onClick:()=>window.open(C.web_url,"_blank"),onMouseOver:D=>D.currentTarget.style.boxShadow="0 4px 6px rgba(0,0,0,0.1)",onMouseOut:D=>D.currentTarget.style.boxShadow="0 1px 2px rgba(0,0,0,0.05)",children:[t.jsxs("div",{style:{fontSize:"13px",fontWeight:"500",marginBottom:"4px"},children:["#",C.iid," ",C.title]}),t.jsx("div",{className:"text-small text-muted",children:C.assignees?.[0]?.name||"Unassigned"})]},C.id)),j.todo.length===0&&t.jsx("div",{className:"text-center text-muted",style:{padding:"20px"},children:"No items"})]})]}),t.jsxs("div",{style:{background:"#DBEAFE",padding:"16px",borderRadius:"8px"},children:[t.jsxs("h4",{style:{marginBottom:"12px",fontSize:"14px",fontWeight:"600"},children:[" In Progress (",j.progress.length,")"]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[j.progress.map(C=>t.jsxs("div",{className:"card",style:{padding:"12px",cursor:"pointer",transition:"all 0.2s"},onClick:()=>window.open(C.web_url,"_blank"),onMouseOver:D=>D.currentTarget.style.boxShadow="0 4px 6px rgba(0,0,0,0.1)",onMouseOut:D=>D.currentTarget.style.boxShadow="0 1px 2px rgba(0,0,0,0.05)",children:[t.jsxs("div",{style:{fontSize:"13px",fontWeight:"500",marginBottom:"4px"},children:["#",C.iid," ",C.title]}),t.jsx("div",{className:"text-small text-muted",children:C.assignees?.[0]?.name||"Unassigned"})]},C.id)),j.progress.length===0&&t.jsx("div",{className:"text-center text-muted",style:{padding:"20px"},children:"No items"})]})]}),t.jsxs("div",{style:{background:"#D1FAE5",padding:"16px",borderRadius:"8px"},children:[t.jsxs("h4",{style:{marginBottom:"12px",fontSize:"14px",fontWeight:"600"},children:[" Done (",j.done.length,")"]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[j.done.map(C=>t.jsx("div",{className:"card",style:{padding:"12px",cursor:"pointer",transition:"all 0.2s"},onClick:()=>window.open(C.web_url,"_blank"),onMouseOver:D=>D.currentTarget.style.boxShadow="0 4px 6px rgba(0,0,0,0.1)",onMouseOut:D=>D.currentTarget.style.boxShadow="0 1px 2px rgba(0,0,0,0.05)",children:t.jsxs("div",{style:{fontSize:"13px",fontWeight:"500",textDecoration:"line-through",color:"var(--text-secondary)"},children:["#",C.iid," ",C.title]})},C.id)),j.done.length===0&&t.jsx("div",{className:"text-center text-muted",style:{padding:"20px"},children:"No items"})]})]})]})]},c)})})]})}const t0="sprintGoals";function xo(){try{const o=localStorage.getItem(t0);return o?JSON.parse(o):[]}catch(o){return console.error("Error loading sprint goals:",o),[]}}function lb(o="current"){return xo().find(l=>l.sprintId===o)||null}function Sx(o){const d=xo(),l=d.findIndex(a=>a.sprintId===o.sprintId);return l>=0?d[l]={...d[l],...o,updatedAt:new Date().toISOString()}:d.push({...o,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),localStorage.setItem(t0,JSON.stringify(d)),d}function cb(){return xo().sort((d,l)=>new Date(l.createdAt)-new Date(d.createdAt))}function db(){const o=xo(),d=o.filter(f=>f.achievement!==void 0&&f.achievement!==null);if(d.length===0)return{totalGoals:o.length,achievedCount:0,partialCount:0,missedCount:0,achievementRate:0};const l=d.filter(f=>f.achievement==="met").length,a=d.filter(f=>f.achievement==="partial").length,r=d.filter(f=>f.achievement==="not-met").length,c=l*100+a*50,p=Math.round(c/d.length);return{totalGoals:o.length,goalsWithStatus:d.length,achievedCount:l,partialCount:a,missedCount:r,achievementRate:p}}function ub(){const o=cb(),d=db(),l=o.slice(0,5),a=l.filter(r=>r.achievement==="met").length;return{...d,recentSprints:l.length,recentAchieved:a,recentRate:l.length>0?Math.round(a/l.length*100):0,hasGoals:o.length>0}}function pb({sprintId:o="current",sprintName:d="Current Sprint"}){const[l,a]=U.useState(null),[r,c]=U.useState(!1),[p,f]=U.useState(""),[g,h]=U.useState(null);U.useEffect(()=>{y(),v()},[o]);const y=()=>{const k=lb(o);a(k),k&&f(k.goal||"")},v=()=>{const k=ub();h(k)},m=()=>{const k={sprintId:o,sprintName:d,goal:p,achievement:l?.achievement||null,notes:l?.notes||""};Sx(k),y(),v(),c(!1)},b=()=>{f(l?.goal||""),c(!1)},j=k=>{const C={...l,sprintId:o,sprintName:d,achievement:k};Sx(C),y(),v()},E=k=>{switch(k){case"met":return"#10B981";case"partial":return"#F59E0B";case"not-met":return"#EF4444";default:return"#6B7280"}},A=k=>{switch(k){case"met":return"";case"partial":return"";case"not-met":return"";default:return""}},N=k=>{switch(k){case"met":return"Met";case"partial":return"Partially Met";case"not-met":return"Not Met";default:return"In Progress"}};return t.jsx("div",{className:"card",style:{marginBottom:"24px"},children:t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px",paddingBottom:"12px",borderBottom:"2px solid #E5E7EB"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"16px",marginBottom:"4px",fontWeight:"600",color:"#1F2937"},children:"Sprint Goal"}),t.jsx("div",{style:{fontSize:"13px",color:"#6B7280"},children:d})]}),g&&g.hasGoals&&t.jsxs("div",{style:{background:"#F3F4F6",padding:"6px 12px",borderRadius:"6px",fontSize:"12px",fontWeight:"600",color:"#374151"},children:["Achievement: ",g.achievementRate,"%"]})]}),r?t.jsxs("div",{children:[t.jsx("textarea",{value:p,onChange:k=>f(k.target.value),placeholder:"Enter your sprint goal (e.g., 'Deliver MVP user authentication with OAuth and email verification')",style:{width:"100%",minHeight:"100px",padding:"12px",background:"white",border:"2px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937",resize:"vertical",marginBottom:"12px",fontFamily:"inherit"},autoFocus:!0}),t.jsxs("div",{style:{display:"flex",gap:"12px"},children:[t.jsx("button",{onClick:m,className:"btn btn-primary",style:{fontSize:"13px"},children:"Save Goal"}),t.jsx("button",{onClick:b,className:"btn btn-secondary",style:{fontSize:"13px"},children:"Cancel"})]})]}):t.jsxs("div",{children:[l&&l.goal?t.jsxs("div",{style:{background:"#F9FAFB",padding:"16px",borderRadius:"6px",marginBottom:"16px",border:"1px solid #E5E7EB"},children:[t.jsx("div",{style:{fontSize:"15px",fontWeight:"500",lineHeight:"1.6",marginBottom:"12px",color:"#1F2937"},children:l.goal}),l.achievement&&t.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"6px",background:"white",padding:"6px 12px",borderRadius:"6px",fontSize:"12px",fontWeight:"600",color:E(l.achievement),border:`2px solid ${E(l.achievement)}`},children:[A(l.achievement)," ",N(l.achievement)]})]}):t.jsxs("div",{style:{background:"#F9FAFB",padding:"24px",borderRadius:"6px",marginBottom:"16px",textAlign:"center",border:"2px dashed #D1D5DB"},children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"4px"},children:"No sprint goal set yet"}),t.jsx("div",{style:{fontSize:"12px",color:"#9CA3AF"},children:'Click "Set Goal" to define your sprint objective'})]}),t.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center",flexWrap:"wrap"},children:[t.jsx("button",{onClick:()=>c(!0),className:"btn btn-secondary",style:{fontSize:"13px"},children:l&&l.goal?"Edit Goal":"Set Goal"}),l&&l.goal&&t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",fontWeight:"500",marginLeft:"4px"},children:"Mark as:"}),t.jsxs("div",{style:{display:"flex",gap:"6px"},children:[t.jsx("button",{onClick:()=>j("met"),style:{padding:"6px 12px",background:l.achievement==="met"?"#D1FAE5":"white",color:l.achievement==="met"?"#059669":"#6B7280",border:`2px solid ${l.achievement==="met"?"#10B981":"#E5E7EB"}`,borderRadius:"6px",fontSize:"11px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},title:"Mark as Met",children:" Met"}),t.jsx("button",{onClick:()=>j("partial"),style:{padding:"6px 12px",background:l.achievement==="partial"?"#FEF3C7":"white",color:l.achievement==="partial"?"#D97706":"#6B7280",border:`2px solid ${l.achievement==="partial"?"#F59E0B":"#E5E7EB"}`,borderRadius:"6px",fontSize:"11px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},title:"Mark as Partially Met",children:" Partial"}),t.jsx("button",{onClick:()=>j("not-met"),style:{padding:"6px 12px",background:l.achievement==="not-met"?"#FEE2E2":"white",color:l.achievement==="not-met"?"#DC2626":"#6B7280",border:`2px solid ${l.achievement==="not-met"?"#EF4444":"#E5E7EB"}`,borderRadius:"6px",fontSize:"11px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},title:"Mark as Not Met",children:" Not Met"})]})]})]})]})]})})}const go="retroActions";function Cn(){try{const o=localStorage.getItem(go);return o?JSON.parse(o):[]}catch(o){return console.error("Error loading retro actions:",o),[]}}function fb(o="current"){return Cn().filter(l=>l.sprintId===o)}function hb(){return Cn().filter(d=>d.status==="open"||d.status==="in-progress")}function i0(){const o=hb(),d=new Date;return o.filter(l=>l.dueDate?new Date(l.dueDate)<d:!1)}function jx(o){const d=Cn();if(o.id){const l=d.findIndex(a=>a.id===o.id);l>=0&&(d[l]={...d[l],...o,updatedAt:new Date().toISOString()})}else{const l={...o,id:Date.now().toString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};d.push(l)}return localStorage.setItem(go,JSON.stringify(d)),d}function xb(o){const l=Cn().filter(a=>a.id!==o);return localStorage.setItem(go,JSON.stringify(l)),l}function gb(o){const d=Cn(),l=d.find(a=>a.id===o);return l&&(l.status="done",l.completedAt=new Date().toISOString(),l.updatedAt=new Date().toISOString(),localStorage.setItem(go,JSON.stringify(d))),d}function mb(){const o=Cn();if(o.length===0)return{totalActions:0,openActions:0,inProgressActions:0,completedActions:0,overdueActions:0,completionRate:0,avgDaysToComplete:0};const d=o.filter(g=>g.status==="open").length,l=o.filter(g=>g.status==="in-progress").length,a=o.filter(g=>g.status==="done").length,r=i0().length,c=Math.round(a/o.length*100),p=o.filter(g=>g.status==="done"&&g.completedAt&&g.createdAt);let f=0;if(p.length>0){const g=p.reduce((h,y)=>{const v=new Date(y.createdAt),m=new Date(y.completedAt),b=Math.ceil((m-v)/(1e3*60*60*24));return h+b},0);f=Math.round(g/p.length)}return{totalActions:o.length,openActions:d,inProgressActions:l,completedActions:a,overdueActions:r,completionRate:c,avgDaysToComplete:f}}function yb(){const o=Cn(),d=["ID","Sprint","Action","Owner","Status","Due Date","Created At","Completed At","Carried From","Days Open"],l=o.map(r=>{const c=new Date(r.createdAt),p=r.completedAt?new Date(r.completedAt):new Date,f=Math.ceil((p-c)/(1e3*60*60*24));return[r.id,r.sprintName||r.sprintId,`"${r.action.replace(/"/g,'""')}"`,r.owner||"Unassigned",r.status,r.dueDate||"N/A",new Date(r.createdAt).toLocaleDateString(),r.completedAt?new Date(r.completedAt).toLocaleDateString():"N/A",r.carriedFrom||"N/A",f]});return[d.join(","),...l.map(r=>r.join(","))].join(`
`)}function vb(o,d="retro-actions.csv"){const l=new Blob([o],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),r=URL.createObjectURL(l);a.setAttribute("href",r),a.setAttribute("download",d),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)}function bb(o="current",d="Current Sprint"){return{sprintId:o,sprintName:d,action:"",owner:"",dueDate:"",status:"open",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}function Sb({sprintId:o="current",sprintName:d="Current Sprint"}){const[l,a]=U.useState([]),[r,c]=U.useState(null),[p,f]=U.useState(!1),[g,h]=U.useState(null),[y,v]=U.useState("all");U.useEffect(()=>{m(),b()},[o]);const m=()=>{const T=fb(o);a(T)},b=()=>{const T=mb();c(T)},j=T=>{jx({...T,sprintId:o,sprintName:d}),m(),b(),f(!1),h(null)},E=T=>{confirm("Are you sure you want to delete this action?")&&(xb(T),m(),b())},A=(T,_)=>{if(_==="done")gb(T);else{const L=l.find(B=>B.id===T);L&&jx({...L,status:_})}m(),b()},N=()=>{const T=yb();vb(T)},k=T=>{switch(T){case"done":return"#10B981";case"in-progress":return"#3B82F6";case"open":return"#6B7280";case"wont-do":return"#EF4444";default:return"#6B7280"}},C=T=>{switch(T){case"done":return" Done";case"in-progress":return" In Progress";case"open":return" Open";case"wont-do":return" Won't Do";default:return T}},D=T=>!T.dueDate||T.status==="done"||T.status==="wont-do"?!1:new Date(T.dueDate)<new Date,w=l.filter(T=>y==="open"?T.status==="open"||T.status==="in-progress":y==="overdue"?D(T):!0);return t.jsxs("div",{children:[r&&t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px",marginBottom:"24px"},children:[t.jsxs("div",{className:"card",style:{textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Total Actions"}),t.jsx("div",{style:{fontSize:"36px",fontWeight:"700",color:"#1F2937"},children:r.totalActions})]}),t.jsxs("div",{className:"card",style:{textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Open Actions"}),t.jsx("div",{style:{fontSize:"36px",fontWeight:"700",color:"#3B82F6"},children:r.openActions+r.inProgressActions})]}),t.jsxs("div",{className:"card",style:{textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Completion Rate"}),t.jsxs("div",{style:{fontSize:"36px",fontWeight:"700",color:r.completionRate>=70?"#10B981":r.completionRate>=50?"#F59E0B":"#EF4444"},children:[r.completionRate,"%"]})]}),t.jsxs("div",{className:"card",style:{textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Overdue"}),t.jsx("div",{style:{fontSize:"36px",fontWeight:"700",color:r.overdueActions>0?"#EF4444":"#10B981"},children:r.overdueActions})]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsxs("button",{onClick:()=>v("all"),style:{padding:"6px 14px",background:y==="all"?"#E60000":"#F3F4F6",color:y==="all"?"white":"#4B5563",border:"none",borderRadius:"6px",fontSize:"13px",fontWeight:"500",cursor:"pointer"},children:["All (",l.length,")"]}),t.jsxs("button",{onClick:()=>v("open"),style:{padding:"6px 14px",background:y==="open"?"#E60000":"#F3F4F6",color:y==="open"?"white":"#4B5563",border:"none",borderRadius:"6px",fontSize:"13px",fontWeight:"500",cursor:"pointer"},children:["Open (",l.filter(T=>T.status==="open"||T.status==="in-progress").length,")"]}),t.jsxs("button",{onClick:()=>v("overdue"),style:{padding:"6px 14px",background:y==="overdue"?"#E60000":"#F3F4F6",color:y==="overdue"?"white":"#4B5563",border:"none",borderRadius:"6px",fontSize:"13px",fontWeight:"500",cursor:"pointer"},children:["Overdue (",i0().length,")"]})]}),t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsx("button",{onClick:N,style:{padding:"6px 12px",background:"#F3F4F6",color:"#4B5563",border:"none",borderRadius:"6px",fontSize:"13px",fontWeight:"500",cursor:"pointer"},children:"Export CSV"}),t.jsx("button",{onClick:()=>{f(!0),h(bb(o,d))},style:{padding:"6px 16px",background:"#E60000",color:"white",border:"none",borderRadius:"6px",fontSize:"13px",fontWeight:"500",cursor:"pointer"},children:"+ Add Action"})]})]}),(p||g)&&g&&t.jsxs("div",{className:"card",style:{marginBottom:"20px",background:"#F9FAFB",border:"2px solid #E60000"},children:[t.jsx("div",{style:{marginBottom:"16px",fontSize:"16px",fontWeight:"600",color:"#1F2937"},children:p?" Add New Action":" Edit Action"}),t.jsxs("div",{style:{display:"grid",gap:"16px"},children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#4B5563",marginBottom:"6px"},children:"Action Item *"}),t.jsx("textarea",{value:g.action,onChange:T=>h({...g,action:T.target.value}),placeholder:"Describe the improvement action...",style:{width:"100%",minHeight:"80px",padding:"10px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",fontFamily:"inherit",resize:"vertical"}})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"16px"},children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#4B5563",marginBottom:"6px"},children:"Owner"}),t.jsx("input",{type:"text",value:g.owner,onChange:T=>h({...g,owner:T.target.value}),placeholder:"Assignee name",style:{width:"100%",padding:"8px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#4B5563",marginBottom:"6px"},children:"Due Date"}),t.jsx("input",{type:"date",value:g.dueDate,onChange:T=>h({...g,dueDate:T.target.value}),style:{width:"100%",padding:"8px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#4B5563",marginBottom:"6px"},children:"Status"}),t.jsxs("select",{value:g.status,onChange:T=>h({...g,status:T.target.value}),style:{width:"100%",padding:"8px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px"},children:[t.jsx("option",{value:"open",children:"Open"}),t.jsx("option",{value:"in-progress",children:"In Progress"}),t.jsx("option",{value:"done",children:"Done"}),t.jsx("option",{value:"wont-do",children:"Won't Do"})]})]})]}),t.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[t.jsx("button",{onClick:()=>{f(!1),h(null)},style:{padding:"8px 16px",background:"#F3F4F6",color:"#4B5563",border:"none",borderRadius:"6px",fontSize:"13px",fontWeight:"500",cursor:"pointer"},children:"Cancel"}),t.jsx("button",{onClick:()=>j(g),disabled:!g.action.trim(),style:{padding:"8px 20px",background:g.action.trim()?"#10B981":"#D1D5DB",color:"white",border:"none",borderRadius:"6px",fontSize:"13px",fontWeight:"500",cursor:g.action.trim()?"pointer":"not-allowed"},children:p?"Add Action":"Save Changes"})]})]})]}),w.length>0?t.jsx("div",{style:{display:"grid",gap:"12px"},children:w.map(T=>{const _=D(T);return t.jsx("div",{className:"card",style:{border:_?"2px solid #EF4444":"1px solid #E5E7EB",background:_?"#FEF2F2":"white"},children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[t.jsx("span",{style:{display:"inline-block",padding:"4px 10px",background:k(T.status)+"20",color:k(T.status),borderRadius:"12px",fontSize:"12px",fontWeight:"600"},children:C(T.status)}),_&&t.jsx("span",{style:{display:"inline-block",padding:"4px 10px",background:"#FEE2E2",color:"#DC2626",borderRadius:"12px",fontSize:"12px",fontWeight:"600"},children:" Overdue"}),T.carriedFrom&&t.jsx("span",{style:{display:"inline-block",padding:"4px 10px",background:"#FEF3C7",color:"#D97706",borderRadius:"12px",fontSize:"12px",fontWeight:"600"},children:" Carried Over"})]}),t.jsx("div",{style:{fontSize:"14px",color:"#1F2937",marginBottom:"12px",lineHeight:"1.5",textDecoration:T.status==="done"?"line-through":"none",opacity:T.status==="done"?.6:1},children:T.action}),t.jsxs("div",{style:{display:"flex",gap:"16px",fontSize:"12px",color:"#6B7280"},children:[T.owner&&t.jsxs("div",{children:[t.jsx("strong",{children:"Owner:"})," ",T.owner]}),T.dueDate&&t.jsxs("div",{children:[t.jsx("strong",{children:"Due:"})," ",new Date(T.dueDate).toLocaleDateString()]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Created:"})," ",new Date(T.createdAt).toLocaleDateString()]})]})]}),t.jsxs("div",{style:{display:"flex",gap:"6px",marginLeft:"16px"},children:[T.status!=="done"&&T.status!=="wont-do"&&t.jsxs(t.Fragment,{children:[T.status==="open"&&t.jsx("button",{onClick:()=>A(T.id,"in-progress"),style:{padding:"6px 12px",background:"#3B82F6",color:"white",border:"none",borderRadius:"6px",fontSize:"12px",fontWeight:"500",cursor:"pointer"},title:"Start",children:""}),t.jsx("button",{onClick:()=>A(T.id,"done"),style:{padding:"6px 12px",background:"#10B981",color:"white",border:"none",borderRadius:"6px",fontSize:"12px",fontWeight:"500",cursor:"pointer"},title:"Complete",children:""})]}),t.jsx("button",{onClick:()=>{f(!1),h(T)},style:{padding:"6px 12px",background:"#F3F4F6",color:"#4B5563",border:"none",borderRadius:"6px",fontSize:"12px",fontWeight:"500",cursor:"pointer"},title:"Edit",children:""}),t.jsx("button",{onClick:()=>E(T.id),style:{padding:"6px 12px",background:"#FEE2E2",color:"#DC2626",border:"none",borderRadius:"6px",fontSize:"12px",fontWeight:"500",cursor:"pointer"},title:"Delete",children:""})]})]})},T.id)})}):t.jsxs("div",{className:"card",style:{padding:"40px",textAlign:"center",background:"#F9FAFB",border:"2px dashed #D1D5DB"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),t.jsxs("div",{style:{fontSize:"16px",fontWeight:"600",color:"#4B5563",marginBottom:"8px"},children:["No ",y!=="all"?y:""," actions yet"]}),t.jsx("div",{style:{fontSize:"14px",color:"#6B7280"},children:"Add retrospective action items to track continuous improvements"})]})]})}const jb=U.lazy(()=>fd(()=>Promise.resolve().then(()=>S2),void 0,import.meta.url));function Eb({issues:o,onNavigate:d}){const[l,a]=U.useState(!1),[r,c]=U.useState(!1);return t.jsxs("div",{className:"container-fluid",children:[t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("h2",{style:{fontSize:"24px",fontWeight:"600",marginBottom:"8px"},children:"Sprint Management"}),t.jsx("p",{style:{fontSize:"14px",color:"#6B7280"},children:"Plan sprints, manage board, and track team capacity"})]}),t.jsx(pb,{sprintId:"current",sprintName:"Current Sprint"}),t.jsxs("div",{className:"card",style:{marginBottom:"24px"},children:[t.jsxs("button",{onClick:()=>c(!r),style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",padding:"16px",background:"#F9FAFB",border:"none",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:p=>p.currentTarget.style.background="#F3F4F6",onMouseLeave:p=>p.currentTarget.style.background="#F9FAFB",children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("span",{style:{fontSize:"20px"},children:r?"":""}),t.jsxs("div",{style:{textAlign:"left"},children:[t.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#1F2937"},children:" Retrospective Actions"}),t.jsx("div",{style:{fontSize:"13px",color:"#6B7280",marginTop:"2px"},children:"Track continuous improvement actions from retros"})]})]}),t.jsx("div",{style:{fontSize:"13px",color:"#6B7280",fontWeight:"500"},children:r?"Click to collapse":"Click to expand"})]}),r&&t.jsx("div",{style:{padding:"20px",borderTop:"1px solid #E5E7EB"},children:t.jsx(Sb,{sprintId:"current",sprintName:"Current Sprint"})})]}),t.jsxs("div",{className:"card",style:{marginBottom:"24px"},children:[t.jsxs("button",{onClick:()=>a(!l),style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",padding:"16px",background:"#F9FAFB",border:"none",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:p=>p.currentTarget.style.background="#F3F4F6",onMouseLeave:p=>p.currentTarget.style.background="#F9FAFB",children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("span",{style:{fontSize:"20px"},children:l?"":""}),t.jsxs("div",{style:{textAlign:"left"},children:[t.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#1F2937"},children:" Sprint Planning"}),t.jsx("div",{style:{fontSize:"13px",color:"#6B7280",marginTop:"2px"},children:"Plan capacity, assign issues, and set up sprints"})]})]}),t.jsx("div",{style:{fontSize:"13px",color:"#6B7280",fontWeight:"500"},children:l?"Click to collapse":"Click to expand"})]}),l&&t.jsx("div",{style:{padding:"20px",borderTop:"1px solid #E5E7EB"},children:t.jsx(U.Suspense,{fallback:t.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#6B7280"},children:[t.jsx("div",{style:{display:"inline-block",width:"32px",height:"32px",border:"3px solid #E5E7EB",borderTop:"3px solid #E60000",borderRadius:"50%",animation:"spin 0.8s linear infinite",marginBottom:"12px"}}),t.jsx("div",{style:{fontSize:"14px",fontWeight:"500"},children:"Loading Sprint Planning..."})]}),children:t.jsx(jb,{issues:o,onNavigate:d})})})]}),t.jsxs("div",{children:[t.jsx("div",{style:{padding:"12px 16px",background:"#F9FAFB",borderBottom:"2px solid #E60000",marginBottom:"20px"},children:t.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#1F2937",margin:0},children:" Sprint Board"})}),t.jsx(ob,{issues:o})]})]})}function As(o){if(!o||o.length===0)return null;const d=["team::","squad::","group::"];for(const l of d){const a=o.find(r=>r.toLowerCase().startsWith(l));if(a)return a.replace(new RegExp(l,"i"),"").split("::")[0].replace(/-/g," ").replace(/\b\w/g,r=>r.toUpperCase())}return null}function wb(o){const d=new Map;return o.forEach(l=>{const a=As(l.labels);if(a){d.has(a)||d.set(a,{name:a,issueCount:0,openIssueCount:0,closedIssueCount:0,members:new Set,issues:[]});const r=d.get(a);r.issueCount++,l.state==="opened"&&r.openIssueCount++,l.state==="closed"&&r.closedIssueCount++,r.issues.push(l),l.assignees?.forEach(c=>{r.members.add(c.username)})}}),Array.from(d.values()).map(l=>({...l,members:Array.from(l.members),memberCount:l.members.size}))}function Bb(o,d){const l=[];return o.forEach(a=>{const r=new Map;a.issues.forEach(p=>{const f=As(p.labels);if(f){r.has(f)||r.set(f,{team:f,issueCount:0,openIssues:0,closedIssues:0,storyPoints:0,members:new Set,issues:[]});const g=r.get(f);g.issueCount++,g.issues.push(p),p.state==="opened"&&g.openIssues++,p.state==="closed"&&g.closedIssues++;const h=p.labels?.find(y=>y.toLowerCase().startsWith("sp::"));if(h){const y=parseInt(h.split("::")[1],10);isNaN(y)||(g.storyPoints+=y)}p.assignees?.forEach(y=>{g.members.add(y.username)})}});const c=Array.from(r.values()).map(p=>({...p,members:Array.from(p.members),memberCount:p.members.size,percentage:Math.round(p.issueCount/a.issues.length*100),completionRate:p.issueCount>0?Math.round(p.closedIssues/p.issueCount*100):0}));c.sort((p,f)=>f.issueCount-p.issueCount),l.push({initiativeId:a.id,initiativeName:a.name,teams:c,primaryTeam:c[0]?.team||"Unassigned",isMultiTeam:c.length>1,teamCount:c.length,unassignedIssues:a.issues.filter(p=>!As(p.labels)).length})}),l}function Db(o,d){const l=new Map;return o.forEach(r=>{r.progress>=100||r.issues.forEach(c=>{if(c.state!=="opened")return;const p=c.labels?.some(f=>f.toLowerCase().includes("priority::high")||f.toLowerCase().includes("priority::critical"));c.assignees?.forEach(f=>{l.has(f.username)||l.set(f.username,{username:f.username,name:f.name,avatar:f.avatar_url,initiatives:new Set,highPriorityInitiatives:new Set,totalIssues:0,highPriorityIssues:0,teams:new Set});const g=l.get(f.username);g.initiatives.add(r.id),g.totalIssues++,p&&(g.highPriorityInitiatives.add(r.id),g.highPriorityIssues++);const h=As(c.labels);h&&g.teams.add(h)})})}),Array.from(l.values()).map(r=>({...r,initiatives:Array.from(r.initiatives),highPriorityInitiatives:Array.from(r.highPriorityInitiatives),teams:Array.from(r.teams),initiativeCount:r.initiatives.size,highPriorityCount:r.highPriorityInitiatives.size,isContended:r.initiatives.size>=3||r.highPriorityInitiatives.size>=2,contentionLevel:Cb(r.initiatives.size,r.highPriorityInitiatives.size,r.totalIssues)})).filter(r=>r.isContended).sort((r,c)=>c.contentionLevel-r.contentionLevel)}function Cb(o,d,l){let a=Math.min((o-2)*20,50);return a+=d*15,l>=10?a+=20:l>=5&&(a+=10),Math.min(a,100)}function Ab(o,d){return o.map(l=>{const a=d.filter(g=>g.issues.some(h=>As(h.labels)===l.name)),r=a.filter(g=>g.progress<100),c=l.issues.filter(g=>g.state==="opened").length,p=l.issueCount>0?Math.round(l.closedIssueCount/l.issueCount*100):0;let f="available";return r.length>=4||c>=30?f="overloaded":(r.length>=2||c>=15)&&(f="at-capacity"),{teamName:l.name,memberCount:l.members.length||l.memberCount,initiativeCount:a.length,activeInitiativeCount:r.length,openIssueCount:c,totalIssueCount:l.issueCount,completionRate:p,capacityStatus:f,capacityScore:Tb(r.length,c,l.members.length||l.memberCount),initiatives:a.map(g=>({id:g.id,name:g.name,progress:g.progress,status:g.status}))}}).sort((l,a)=>{const r={overloaded:3,"at-capacity":2,available:1};return r[a.capacityStatus]-r[l.capacityStatus]})}function Tb(o,d,l){const a=l>0?1/Math.sqrt(l):1,r=Math.min(o*30*a,60),c=Math.min(d*2*a,40);return Math.min(Math.round(r+c),100)}function zb(o){const d=new Map;o.forEach(a=>{const r=new Set;a.issues.forEach(c=>{c.assignees?.forEach(p=>{r.add(p.username)})}),r.forEach(c=>{d.has(c)||d.set(c,[]),d.get(c).push({id:a.id,name:a.name,status:a.status,progress:a.progress})})});const l=[];return d.forEach((a,r)=>{a.length>1&&l.push({username:r,initiativeCount:a.length,initiatives:a.sort((c,p)=>c.name.localeCompare(p.name))})}),l.sort((a,r)=>r.initiativeCount-a.initiativeCount)}function kb(o){const d=["Initiative","Primary Team","Team Count","Is Multi-Team","Unassigned Issues","Team","Issue Count","Open Issues","Closed Issues","Completion Rate %","Story Points","Member Count","Percentage of Initiative"],l=[];return o.forEach(r=>{r.teams.length===0?l.push([r.initiativeName,r.primaryTeam,r.teamCount,r.isMultiTeam?"Yes":"No",r.unassignedIssues,"No teams assigned","-","-","-","-","-","-","-"]):r.teams.forEach((c,p)=>{l.push([p===0?r.initiativeName:"",p===0?r.primaryTeam:"",p===0?r.teamCount:"",p===0?r.isMultiTeam?"Yes":"No":"",p===0?r.unassignedIssues:"",c.team,c.issueCount,c.openIssues,c.closedIssues,`${c.completionRate}%`,c.storyPoints,c.memberCount,`${c.percentage}%`])})}),[d.join(","),...l.map(r=>r.map(c=>typeof c=="string"&&c.includes(",")?`"${c}"`:c).join(","))].join(`
`)}function Rb(o){const d=["Name","Username","Initiative Count","High Priority Initiatives","Total Open Issues","High Priority Issues","Teams","Contention Level","Status"],l=o.map(r=>[r.name,r.username,r.initiativeCount,r.highPriorityCount,r.totalIssues,r.highPriorityIssues,`"${r.teams.join(", ")}"`,r.contentionLevel,r.contentionLevel>=70?"Critical":r.contentionLevel>=40?"High":"Medium"]);return[d.join(","),...l.map(r=>r.join(","))].join(`
`)}function _b(o){const d=["Team","Member Count","Total Initiatives","Active Initiatives","Open Issues","Total Issues","Completion Rate %","Capacity Status","Capacity Score","Initiative List"],l=o.map(r=>[r.teamName,r.memberCount,r.initiativeCount,r.activeInitiativeCount,r.openIssueCount,r.totalIssueCount,`${r.completionRate}%`,r.capacityStatus,r.capacityScore,`"${r.initiatives.map(c=>`${c.name} (${c.progress}%)`).join("; ")}"`]);return[d.join(","),...l.map(r=>r.join(","))].join(`
`)}function Cd(o,d){const l=po(d),a=[];return o.forEach(r=>{const c=new Map;r.issues.forEach(p=>{const f=l.get(p.iid);f&&f.dependencies.length>0&&f.dependencies.forEach(g=>{const h=o.find(y=>y.issues.some(v=>v.iid===g.iid));if(h&&h.id!==r.id){c.has(h.id)||c.set(h.id,{initiative:h,dependencyCount:0,openDependencies:0,blockedIssues:[],blockingIssues:[]});const y=c.get(h.id);y.dependencyCount++,g.state==="opened"&&y.openDependencies++,y.blockedIssues.push({iid:p.iid,title:p.title,state:p.state}),y.blockingIssues.push({iid:g.iid,title:g.title,state:g.state})}})}),c.size>0&&a.push({initiativeId:r.id,initiativeName:r.name,initiativeStatus:r.status,initiativeProgress:r.progress,dependsOn:Array.from(c.values()).map(p=>({initiativeId:p.initiative.id,initiativeName:p.initiative.name,initiativeStatus:p.initiative.status,initiativeProgress:p.initiative.progress,dependencyCount:p.dependencyCount,openDependencies:p.openDependencies,isBlocking:p.openDependencies>0,severity:Fb(p.openDependencies,p.dependencyCount,p.initiative.status,p.initiative.progress),blockedIssues:p.blockedIssues,blockingIssues:p.blockingIssues}))})}),a}function Fb(o,d,l,a){return o===0?"low":o>=3||l==="delayed"||a<50?"high":o>=1||l==="at-risk"?"medium":"low"}function Mb(o,d){const l=Cd(o,d),a=[];return o.forEach(r=>{const c={initiative:r.name,initiativeId:r.id,status:r.status,dependencies:{}};o.forEach(p=>{if(r.id===p.id)c.dependencies[p.id]={type:"self"};else{const g=l.find(h=>h.initiativeId===r.id)?.dependsOn.find(h=>h.initiativeId===p.id);g?c.dependencies[p.id]={type:"depends",count:g.dependencyCount,openCount:g.openDependencies,isBlocking:g.isBlocking,severity:g.severity}:c.dependencies[p.id]={type:"none"}}}),a.push(c)}),{matrix:a,initiatives:o.map(r=>({id:r.id,name:r.name,status:r.status,progress:r.progress}))}}function Nb(o,d){const l=Cd(o,d),a=new Map;return l.forEach(r=>{r.dependsOn.forEach(c=>{if(c.isBlocking){a.has(c.initiativeId)||a.set(c.initiativeId,{initiativeId:c.initiativeId,initiativeName:c.initiativeName,initiativeStatus:c.initiativeStatus,initiativeProgress:c.initiativeProgress,blockedInitiatives:[],totalBlockedIssues:0,highestSeverity:"low"});const p=a.get(c.initiativeId);p.blockedInitiatives.push({initiativeId:r.initiativeId,initiativeName:r.initiativeName,openDependencies:c.openDependencies,severity:c.severity}),p.totalBlockedIssues+=c.openDependencies,c.severity==="high"?p.highestSeverity="high":c.severity==="medium"&&p.highestSeverity!=="high"&&(p.highestSeverity="medium")}})}),Array.from(a.values()).sort((r,c)=>{const p={high:3,medium:2,low:1},f=p[c.highestSeverity]-p[r.highestSeverity];return f!==0?f:c.blockedInitiatives.length-r.blockedInitiatives.length})}function Ib(o){const d=["Initiative","Status","Progress %","Depends On Initiative","Dependency Status","Dependency Progress %","Total Dependencies","Open Dependencies","Severity","Is Blocking"],l=[];return o.forEach(r=>{r.dependsOn.length===0?l.push([r.initiativeName,r.initiativeStatus,r.initiativeProgress,"No dependencies","-","-","0","0","-","No"]):r.dependsOn.forEach((c,p)=>{l.push([p===0?r.initiativeName:"",p===0?r.initiativeStatus:"",p===0?r.initiativeProgress:"",c.initiativeName,c.initiativeStatus,c.initiativeProgress,c.dependencyCount,c.openDependencies,c.severity,c.isBlocking?"Yes":"No"])})}),[d.join(","),...l.map(r=>r.map(c=>typeof c=="string"&&c.includes(",")?`"${c}"`:c).join(","))].join(`
`)}function Ob(o,d,l=null){const a=o.issues.filter(E=>E.state==="opened");if(a.length===0)return{isComplete:!0,forecastDate:new Date,confidence:100,weeksRemaining:0,variance:{optimistic:0,pessimistic:0}};const r=Lb(o);if(r.weeklyAverage===0)return{isComplete:!1,forecastDate:null,confidence:0,weeksRemaining:null,variance:{optimistic:null,pessimistic:null},reason:"No historical velocity data available"};const c=a.length;let p=0,f=!1;a.forEach(E=>{const A=E.labels?.find(N=>N.toLowerCase().startsWith("sp::"));if(A){f=!0;const N=parseInt(A.split("::")[1],10);isNaN(N)||(p+=N)}});const g=f?"storyPoints":"issueCount",h=f?p:c,y=f?r.weeklyPointsAverage:r.weeklyAverage,v=Math.ceil(h/y),m=Pb(r.trend,r.consistency),b=$b(v,r.consistency),j=new Date;return j.setDate(j.getDate()+v*7),{isComplete:!1,forecastDate:j,confidence:m,weeksRemaining:v,variance:b,velocity:{weeklyAverage:r.weeklyAverage,weeklyPointsAverage:r.weeklyPointsAverage,trend:r.trend,consistency:r.consistency},remainingWork:{issues:c,storyPoints:f?p:null,metric:g}}}function Lb(o,d){const l=o.issues.filter(y=>y.state==="closed");if(l.length===0)return{weeklyAverage:0,weeklyPointsAverage:0,trend:0,consistency:0};const a=new Map;l.forEach(y=>{if(!y.closed_at)return;const v=new Date(y.closed_at),m=Ub(v);a.has(m)||a.set(m,{issueCount:0,storyPoints:0,week:m});const b=a.get(m);b.issueCount++;const j=y.labels?.find(E=>E.toLowerCase().startsWith("sp::"));if(j){const E=parseInt(j.split("::")[1],10);isNaN(E)||(b.storyPoints+=E)}});const c=Array.from(a.values()).sort((y,v)=>v.week.localeCompare(y.week)).slice(0,8),p=c.length>0?c.reduce((y,v)=>y+v.issueCount,0)/c.length:0,f=c.length>0?c.reduce((y,v)=>y+v.storyPoints,0)/c.length:0,g=Wb(c.map(y=>y.issueCount)),h=Hb(c.map(y=>y.issueCount));return{weeklyAverage:p,weeklyPointsAverage:f,trend:g,consistency:h}}function Ub(o){const d=o.getFullYear(),l=new Date(d,0,1),a=Math.floor((o-l)/(1440*60*1e3)),r=Math.ceil((a+l.getDay()+1)/7);return`${d}-${r.toString().padStart(2,"0")}`}function Wb(o){if(o.length<2)return 0;const d=o.length,l=d*(d-1)/2,a=o.reduce((g,h)=>g+h,0),r=o.reduce((g,h,y)=>g+y*h,0),c=d*(d-1)*(2*d-1)/6,p=(d*r-l*a)/(d*c-l*l),f=a/d;return f!==0?p/f*100:0}function Hb(o){if(o.length<2)return 100;const d=o.reduce((c,p)=>c+p,0)/o.length,l=o.reduce((c,p)=>c+Math.pow(p-d,2),0)/o.length,a=Math.sqrt(l),r=d!==0?a/d*100:0;return Math.max(0,100-r)}function Pb(o,d){let l=d;return o>10?l=Math.min(100,l+10):o<-10&&(l=Math.max(0,l-15)),Math.round(l)}function $b(o,d,l){const a=(100-d)/100,r=Math.max(1,Math.ceil(o*(1-.2*(d/100)))),c=Math.ceil(o*(1+(.5+a*.5)));return{optimistic:r,pessimistic:c}}function Gb(o,d){if(!o.dueDate||!d.forecastDate)return{hasDueDate:!1,hasOutlooking:d.forecastDate!==null,gap:null,status:"unknown"};const l=new Date(o.dueDate),a=d.forecastDate,r=Math.round((a-l)/(1e3*60*60*24));let c="on-track";return r>14?c="at-risk":r>7?c="warning":r<-14&&(c="ahead"),{hasDueDate:!0,hasForecast:!0,dueDate:l,forecastDate:a,gap:r,status:c,isLate:r>0,weeksGap:Math.round(r/7)}}function qb(o,d){return o.map(l=>{const a=Ob(l),r=Gb(l,a);return{initiativeId:l.id,initiativeName:l.name,initiativeStatus:l.status,initiativeProgress:l.progress,dueDate:l.dueDate,...a,comparison:r}}).sort((l,a)=>l.comparison.hasDueDate?a.comparison.hasDueDate?a.comparison.gap-l.comparison.gap:-1:1)}function Yb(o){const d=["Initiative","Status","Progress %","Due Date","Forecast Date","Gap (Days)","Gap (Weeks)","Forecast Status","Weeks Remaining","Confidence %","Optimistic (Weeks)","Pessimistic (Weeks)","Weekly Velocity","Remaining Issues"],l=o.map(r=>[r.initiativeName,r.initiativeStatus,r.initiativeProgress,r.dueDate?new Date(r.dueDate).toLocaleDateString():"No due date",r.forecastDate?r.forecastDate.toLocaleDateString():"Cannot forecast",r.comparison.hasDueDate&&r.comparison.hasForecast?r.comparison.gap:"-",r.comparison.hasDueDate&&r.comparison.hasForecast?r.comparison.weeksGap:"-",r.comparison.status||"unknown",r.weeksRemaining||"-",r.confidence||"-",r.variance?.optimistic||"-",r.variance?.pessimistic||"-",r.velocity?.weeklyAverage?.toFixed(1)||"-",r.remainingWork?.issues||"-"]);return[d.join(","),...l.map(r=>r.map(c=>typeof c=="string"&&c.includes(",")?`"${c}"`:c).join(","))].join(`
`)}function Ex(o){if(!o)return"N/A";const d={month:"short",day:"numeric",year:"numeric"};return o.toLocaleDateString("en-US",d)}function Vb(o){const d={"on-track":{label:"On Track",color:"#059669",background:"#D1FAE5"},warning:{label:"Minor Delay",color:"#D97706",background:"#FEF3C7"},"at-risk":{label:"At Risk",color:"#DC2626",background:"#FEE2E2"},ahead:{label:"Ahead",color:"#0891B2",background:"#CFFAFE"},unknown:{label:"Unknown",color:"#6B7280",background:"#F3F4F6"}};return d[o]||d.unknown}function Qb({issues:o,epics:d,milestones:l}){const[a,r]=U.useState("overview"),[c,p]=U.useState(null),f=U.useMemo(()=>!d||!o?[]:Tx(d,o),[d,o]),g=U.useMemo(()=>wb(o||[]),[o]),h=U.useMemo(()=>Bb(f),[f,o]),y=U.useMemo(()=>Ab(g,f),[g,f]),v=U.useMemo(()=>Db(f),[f,o]),m=U.useMemo(()=>Cd(f,o||[]),[f,o]),b=U.useMemo(()=>Mb(f,o||[]),[f,o]),j=U.useMemo(()=>Nb(f,o||[]),[f,o]),E=U.useMemo(()=>qb(f),[f,o]),A=U.useMemo(()=>zb(f),[f]),N=()=>{const T=kb(h),_=new Date().toISOString().split("T")[0];Yt(T,`team-attribution-${_}.csv`)},k=()=>{const T=Rb(v),_=new Date().toISOString().split("T")[0];Yt(T,`resource-contention-${_}.csv`)},C=()=>{const T=_b(y),_=new Date().toISOString().split("T")[0];Yt(T,`team-capacity-${_}.csv`)},D=()=>{const T=Ib(m),_=new Date().toISOString().split("T")[0];Yt(T,`initiative-dependencies-${_}.csv`)},w=()=>{const T=Yb(E),_=new Date().toISOString().split("T")[0];Yt(T,`initiative-forecasts-${_}.csv`)};return f.length===0?t.jsx("div",{className:"container",children:t.jsxs("div",{className:"card",style:{padding:"60px 40px",textAlign:"center"},children:[t.jsx("h2",{style:{fontSize:"20px",marginBottom:"12px",color:"var(--text-secondary)"},children:"No Initiatives Found"}),t.jsx("p",{style:{fontSize:"14px",color:"var(--text-tertiary)",marginBottom:"20px"},children:'Tag epics with "initiative::name" labels to start tracking cross-team coordination'}),t.jsxs("p",{style:{fontSize:"13px",color:"var(--text-tertiary)"},children:["Example: ",t.jsx("code",{style:{padding:"2px 6px",background:"var(--bg-secondary)",borderRadius:"4px"},children:"initiative::platform-modernization"})]})]})}):t.jsxs("div",{className:"container",children:[t.jsxs("div",{style:{marginBottom:"30px"},children:[t.jsx("h2",{style:{fontSize:"24px",fontWeight:"600",marginBottom:"8px"},children:"Cross-Team Coordination"}),t.jsx("p",{style:{fontSize:"14px",color:"var(--text-secondary)"},children:"Manage cross-team initiatives with team attribution, dependencies, and forecasting"})]}),t.jsx("div",{style:{display:"flex",gap:"8px",marginBottom:"30px",borderBottom:"2px solid var(--border-light)",paddingBottom:"0"},children:[{id:"overview",label:"Overview"},{id:"teams",label:"Team Capacity"},{id:"dependencies",label:"Dependencies"},{id:"forecasts",label:"Forecasts"},{id:"resources",label:"Resource Contention"}].map(T=>t.jsx("button",{onClick:()=>r(T.id),style:{padding:"12px 20px",background:"none",border:"none",borderBottom:a===T.id?"2px solid var(--primary)":"2px solid transparent",color:a===T.id?"var(--primary)":"var(--text-secondary)",fontWeight:a===T.id?"600":"400",fontSize:"14px",cursor:"pointer",marginBottom:"-2px",transition:"all 0.2s"},children:T.label},T.id))}),a==="overview"&&t.jsx(Xb,{initiatives:f,teams:g,teamCapacity:y,resourceContention:v,blockingInitiatives:j,forecasts:E}),a==="teams"&&t.jsx(Zb,{teamCapacity:y,initiativeAttributions:h,onExportAttribution:N,onExportCapacity:C}),a==="dependencies"&&t.jsx(Kb,{initiativeDependencies:m,dependencyMatrix:b,blockingInitiatives:j,onExport:D}),a==="forecasts"&&t.jsx(Jb,{forecasts:E,initiatives:f,onExport:w}),a==="resources"&&t.jsx(e2,{resourceContention:v,sharedResources:A,onExport:k})]})}function Xb({initiatives:o,teams:d,teamCapacity:l,resourceContention:a,blockingInitiatives:r,forecasts:c}){const p=c.filter(h=>h.comparison.status==="at-risk"||h.comparison.status==="warning"),f=l.filter(h=>h.capacityStatus==="overloaded"),g=a.filter(h=>h.contentionLevel>=70);return t.jsxs("div",{children:[t.jsxs("div",{className:"grid grid-4",style:{marginBottom:"30px"},children:[t.jsxs("div",{className:"card metric-card",children:[t.jsx("div",{className:"metric-label",children:"Total Initiatives"}),t.jsx("div",{className:"metric-value",style:{color:"var(--info)"},children:o.length}),t.jsxs("div",{style:{fontSize:"11px",color:"var(--text-tertiary)",marginTop:"4px"},children:[o.filter(h=>h.progress<100).length," active"]})]}),t.jsxs("div",{className:"card metric-card",children:[t.jsx("div",{className:"metric-label",children:"Teams Involved"}),t.jsx("div",{className:"metric-value",style:{color:"var(--primary)"},children:d.length}),t.jsxs("div",{style:{fontSize:"11px",color:"var(--text-tertiary)",marginTop:"4px"},children:[f.length," overloaded"]})]}),t.jsxs("div",{className:"card metric-card",children:[t.jsx("div",{className:"metric-label",children:"At-Risk Forecasts"}),t.jsx("div",{className:"metric-value",style:{color:"var(--danger)"},children:p.length}),t.jsx("div",{style:{fontSize:"11px",color:"var(--text-tertiary)",marginTop:"4px"},children:"Delayed delivery risk"})]}),t.jsxs("div",{className:"card metric-card",children:[t.jsx("div",{className:"metric-label",children:"Resource Conflicts"}),t.jsx("div",{className:"metric-value",style:{color:"var(--warning)"},children:g.length}),t.jsx("div",{style:{fontSize:"11px",color:"var(--text-tertiary)",marginTop:"4px"},children:"Critical contention"})]})]}),t.jsxs("div",{className:"grid grid-2",style:{gap:"30px"},children:[t.jsxs("div",{className:"card",children:[t.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"16px"},children:"Blocking Initiatives"}),t.jsx("p",{style:{fontSize:"13px",color:"var(--text-secondary)",marginBottom:"20px"},children:"Initiatives that are blocking other initiatives"}),r.length===0?t.jsx("div",{style:{padding:"40px",textAlign:"center",background:"var(--bg-secondary)",borderRadius:"8px"},children:t.jsx("div",{style:{fontSize:"14px",color:"var(--text-secondary)"},children:"No blocking dependencies found"})}):t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:r.slice(0,3).map(h=>t.jsxs("div",{style:{padding:"16px",background:"var(--bg-secondary)",borderRadius:"8px",borderLeft:`4px solid ${h.highestSeverity==="high"?"var(--danger)":h.highestSeverity==="medium"?"var(--warning)":"var(--info)"}`},children:[t.jsx("div",{style:{fontSize:"15px",fontWeight:"600",marginBottom:"8px"},children:h.initiativeName}),t.jsxs("div",{style:{fontSize:"13px",color:"var(--text-secondary)",marginBottom:"8px"},children:["Blocking ",h.blockedInitiatives.length," initiative",h.blockedInitiatives.length!==1?"s":"","  ",h.totalBlockedIssues," open dependencies"]}),t.jsxs("div",{style:{fontSize:"12px",color:"var(--text-tertiary)"},children:["Status: ",t.jsx("strong",{style:{textTransform:"capitalize"},children:h.initiativeStatus}),"  Progress: ",t.jsxs("strong",{children:[h.initiativeProgress,"%"]})]})]},h.initiativeId))})]}),t.jsxs("div",{className:"card",children:[t.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"16px"},children:"Overloaded Teams"}),t.jsx("p",{style:{fontSize:"13px",color:"var(--text-secondary)",marginBottom:"20px"},children:"Teams at or above capacity"}),f.length===0?t.jsx("div",{style:{padding:"40px",textAlign:"center",background:"var(--bg-secondary)",borderRadius:"8px"},children:t.jsx("div",{style:{fontSize:"14px",color:"var(--text-secondary)"},children:"No overloaded teams"})}):t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:f.slice(0,3).map(h=>t.jsxs("div",{style:{padding:"16px",background:"var(--bg-secondary)",borderRadius:"8px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[t.jsx("div",{style:{fontSize:"15px",fontWeight:"600"},children:h.teamName}),t.jsx("span",{style:{padding:"4px 10px",borderRadius:"12px",fontSize:"11px",fontWeight:"600",color:"var(--danger)",background:"#FEE2E2"},children:"Overloaded"})]}),t.jsxs("div",{style:{fontSize:"13px",color:"var(--text-secondary)",marginBottom:"8px"},children:[h.activeInitiativeCount," active initiatives  ",h.openIssueCount," open issues"]}),t.jsxs("div",{style:{fontSize:"12px",color:"var(--text-tertiary)"},children:[h.memberCount," member",h.memberCount!==1?"s":"","  Capacity: ",h.capacityScore,"/100"]})]},h.teamName))})]})]})]})}function Zb({teamCapacity:o,initiativeAttributions:d,onExportAttribution:l,onExportCapacity:a}){return t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[t.jsx("h3",{style:{fontSize:"18px",fontWeight:"600"},children:"Team Capacity Overview"}),t.jsxs("div",{style:{display:"flex",gap:"12px"},children:[t.jsx("button",{className:"btn btn-secondary",onClick:a,children:"Export Capacity"}),t.jsx("button",{className:"btn btn-primary",onClick:l,children:"Export Attribution"})]})]}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:o.map(r=>{const c=r.capacityStatus==="overloaded"?"var(--danger)":r.capacityStatus==="at-capacity"?"var(--warning)":"var(--success)";return t.jsxs("div",{className:"card",children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[t.jsxs("div",{children:[t.jsx("h4",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"4px"},children:r.teamName}),t.jsxs("div",{style:{fontSize:"13px",color:"var(--text-secondary)"},children:[r.memberCount," member",r.memberCount!==1?"s":"","  ",r.completionRate,"% completion rate"]})]}),t.jsx("span",{style:{padding:"6px 14px",borderRadius:"12px",fontSize:"12px",fontWeight:"600",color:c,background:`${c}15`,textTransform:"capitalize"},children:r.capacityStatus.replace("-"," ")})]}),t.jsxs("div",{className:"grid grid-3",style:{marginBottom:"16px"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",color:"var(--text-tertiary)",marginBottom:"4px"},children:"Active Initiatives"}),t.jsx("div",{style:{fontSize:"20px",fontWeight:"700",color:"var(--primary)"},children:r.activeInitiativeCount})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",color:"var(--text-tertiary)",marginBottom:"4px"},children:"Open Issues"}),t.jsx("div",{style:{fontSize:"20px",fontWeight:"700",color:"var(--warning)"},children:r.openIssueCount})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",color:"var(--text-tertiary)",marginBottom:"4px"},children:"Capacity Score"}),t.jsx("div",{style:{fontSize:"20px",fontWeight:"700",color:c},children:r.capacityScore})]})]}),r.initiatives.length>0&&t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"12px",color:"var(--text-tertiary)",marginBottom:"8px",fontWeight:"600"},children:"Initiatives:"}),t.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:r.initiatives.map(p=>t.jsxs("span",{style:{padding:"4px 10px",borderRadius:"12px",fontSize:"11px",background:"var(--bg-secondary)",color:"var(--text-secondary)"},children:[p.name," (",p.progress,"%)"]},p.id))})]})]},r.teamName)})})]})}function Kb({initiativeDependencies:o,blockingInitiatives:d,onExport:l}){return t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[t.jsx("h3",{style:{fontSize:"18px",fontWeight:"600"},children:"Initiative Dependencies"}),t.jsx("button",{className:"btn btn-primary",onClick:l,children:"Export Dependencies"})]}),o.length===0?t.jsx("div",{className:"card",style:{padding:"60px 40px",textAlign:"center"},children:t.jsx("div",{style:{fontSize:"16px",color:"var(--text-secondary)"},children:"No cross-initiative dependencies found"})}):t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:o.map(a=>t.jsxs("div",{className:"card",children:[t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("h4",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"4px"},children:a.initiativeName}),t.jsxs("div",{style:{fontSize:"13px",color:"var(--text-secondary)"},children:["Depends on ",a.dependsOn.length," initiative",a.dependsOn.length!==1?"s":""]})]}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:a.dependsOn.map(r=>t.jsx("div",{style:{padding:"12px",background:"var(--bg-secondary)",borderRadius:"6px",borderLeft:`4px solid ${r.severity==="high"?"var(--danger)":r.severity==="medium"?"var(--warning)":"var(--success)"}`},children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsx("div",{style:{fontSize:"14px",fontWeight:"600",marginBottom:"4px"},children:r.initiativeName}),t.jsxs("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:[r.dependencyCount," dependencies  ",r.openDependencies," open",r.isBlocking&&t.jsx("span",{style:{color:"var(--danger)",marginLeft:"8px"},children:" Blocking"})]})]}),t.jsx("span",{style:{padding:"4px 10px",borderRadius:"12px",fontSize:"11px",fontWeight:"600",textTransform:"capitalize",color:r.severity==="high"?"var(--danger)":r.severity==="medium"?"var(--warning)":"var(--success)",background:r.severity==="high"?"#FEE2E2":r.severity==="medium"?"#FEF3C7":"#D1FAE5"},children:r.severity})]})},r.initiativeId))})]},a.initiativeId))})]})}function Jb({forecasts:o,onExport:d}){return t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[t.jsx("h3",{style:{fontSize:"18px",fontWeight:"600"},children:"Initiative Forecasts"}),t.jsx("button",{className:"btn btn-primary",onClick:d,children:"Export Forecasts"})]}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:o.map(l=>{const a=Vb(l.comparison.status);return t.jsxs("div",{className:"card",children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsx("h4",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"4px"},children:l.initiativeName}),t.jsxs("div",{style:{fontSize:"13px",color:"var(--text-secondary)"},children:["Progress: ",l.initiativeProgress,"%  Status: ",t.jsx("span",{style:{textTransform:"capitalize"},children:l.initiativeStatus})]})]}),l.comparison.hasDueDate&&l.comparison.hasForecast&&t.jsx("span",{style:{padding:"6px 14px",borderRadius:"12px",fontSize:"12px",fontWeight:"600",color:a.color,background:a.background},children:a.label})]}),t.jsxs("div",{className:"grid grid-3",style:{marginBottom:"12px"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",color:"var(--text-tertiary)",marginBottom:"4px"},children:"Due Date"}),t.jsx("div",{style:{fontSize:"14px",fontWeight:"600"},children:l.dueDate?Ex(new Date(l.dueDate)):"Not set"})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",color:"var(--text-tertiary)",marginBottom:"4px"},children:"Forecast Date"}),t.jsx("div",{style:{fontSize:"14px",fontWeight:"600"},children:l.forecastDate?Ex(l.forecastDate):"No forecast"})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",color:"var(--text-tertiary)",marginBottom:"4px"},children:"Gap"}),t.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:l.comparison.isLate?"var(--danger)":"var(--success)"},children:l.comparison.hasDueDate&&l.comparison.hasForecast?`${Math.abs(l.comparison.weeksGap)} week${Math.abs(l.comparison.weeksGap)!==1?"s":""} ${l.comparison.isLate?"late":"early"}`:"N/A"})]})]}),l.velocity&&t.jsxs("div",{style:{padding:"12px",background:"var(--bg-secondary)",borderRadius:"6px",fontSize:"12px",color:"var(--text-secondary)"},children:[t.jsx("strong",{children:"Velocity:"})," ",l.velocity.weeklyAverage.toFixed(1)," issues/week ",t.jsx("strong",{style:{marginLeft:"12px"},children:"Confidence:"})," ",l.confidence,"% ",t.jsx("strong",{style:{marginLeft:"12px"},children:"Range:"})," ",l.variance?.optimistic,"-",l.variance?.pessimistic," weeks"]})]},l.initiativeId)})})]})}function e2({resourceContention:o,sharedResources:d,onExport:l}){return t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[t.jsx("h3",{style:{fontSize:"18px",fontWeight:"600"},children:"Resource Contention"}),t.jsx("button",{className:"btn btn-primary",onClick:l,children:"Export Contention"})]}),o.length===0?t.jsx("div",{className:"card",style:{padding:"60px 40px",textAlign:"center"},children:t.jsx("div",{style:{fontSize:"16px",color:"var(--text-secondary)"},children:"No resource contention detected"})}):t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:o.map(a=>t.jsxs("div",{className:"card",children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[t.jsxs("div",{children:[t.jsx("h4",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"4px"},children:a.name}),t.jsxs("div",{style:{fontSize:"13px",color:"var(--text-secondary)"},children:["@",a.username]})]}),t.jsxs("span",{style:{padding:"6px 14px",borderRadius:"12px",fontSize:"12px",fontWeight:"600",color:a.contentionLevel>=70?"var(--danger)":a.contentionLevel>=40?"var(--warning)":"var(--info)",background:a.contentionLevel>=70?"#FEE2E2":a.contentionLevel>=40?"#FEF3C7":"#DBEAFE"},children:["Level ",a.contentionLevel]})]}),t.jsxs("div",{className:"grid grid-3",style:{marginBottom:"12px"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",color:"var(--text-tertiary)",marginBottom:"4px"},children:"Initiatives"}),t.jsx("div",{style:{fontSize:"20px",fontWeight:"700",color:"var(--primary)"},children:a.initiativeCount})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",color:"var(--text-tertiary)",marginBottom:"4px"},children:"High Priority"}),t.jsx("div",{style:{fontSize:"20px",fontWeight:"700",color:"var(--danger)"},children:a.highPriorityCount})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",color:"var(--text-tertiary)",marginBottom:"4px"},children:"Open Issues"}),t.jsx("div",{style:{fontSize:"20px",fontWeight:"700",color:"var(--warning)"},children:a.totalIssues})]})]}),a.teams.length>0&&t.jsxs("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:[t.jsx("strong",{children:"Teams:"})," ",a.teams.join(", ")]})]},a.username))})]})}function t2({isCrossProject:o,onTeamUpdate:d}){const[l,a]=U.useState([]),[r,c]=U.useState(null),[p,f]=U.useState({username:"",role:"Developer",defaultCapacity:40});U.useEffect(()=>{g()},[]);const g=()=>{const b=wt();a(b.teamMembers||[])},h=()=>{const b=wt();b.teamMembers=l,yd(b),d()},y=()=>{if(!p.username.trim()){alert("Please enter a username");return}if(l.find(j=>j.username===p.username)){alert("Team member already exists");return}a([...l,{...p}]),f({username:"",role:"Developer",defaultCapacity:40})},v=(b,j,E)=>{const A=[...l];A[b]={...A[b],[j]:E},a(A)},m=b=>{if(confirm(`Remove ${l[b].username} from the team?`)){const j=l.filter((E,A)=>A!==b);a(j)}};return o?t.jsxs("div",{style:{padding:"40px",textAlign:"center",background:"#F9FAFB",borderRadius:"8px",border:"1px solid #E5E7EB"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),t.jsx("h3",{style:{color:"#374151",marginBottom:"8px"},children:"Team Configuration Unavailable"}),t.jsx("p",{style:{color:"#6B7280"},children:"Please select a specific project to manage team members. Different projects have different teams."})]}):t.jsxs("div",{children:[t.jsxs("div",{style:{background:"#F9FAFB",border:"1px solid #E5E7EB",borderRadius:"8px",padding:"20px",marginBottom:"20px"},children:[t.jsx("h3",{style:{marginBottom:"16px",fontSize:"16px",fontWeight:"600",color:"#1F2937"},children:"Team Roster"}),l.length===0?t.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#6B7280"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"12px"},children:""}),t.jsx("p",{children:"No team members configured yet. Add your first team member below."})]}):t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",background:"white",borderRadius:"6px",overflow:"hidden"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{background:"#F3F4F6"},children:[t.jsx("th",{style:{padding:"12px",textAlign:"left",fontWeight:"600",fontSize:"13px",color:"#374151"},children:"Username"}),t.jsx("th",{style:{padding:"12px",textAlign:"left",fontWeight:"600",fontSize:"13px",color:"#374151"},children:"Role"}),t.jsx("th",{style:{padding:"12px",textAlign:"left",fontWeight:"600",fontSize:"13px",color:"#374151"},children:"Weekly Capacity (hours)"}),t.jsx("th",{style:{padding:"12px",textAlign:"right",fontWeight:"600",fontSize:"13px",color:"#374151"},children:"Actions"})]})}),t.jsx("tbody",{children:l.map((b,j)=>t.jsxs("tr",{style:{borderBottom:"1px solid #E5E7EB"},children:[t.jsx("td",{style:{padding:"12px",fontSize:"14px",color:"#1F2937",fontWeight:"500"},children:r===j?t.jsx("input",{type:"text",value:b.username,onChange:E=>v(j,"username",E.target.value),style:{padding:"6px 10px",border:"1px solid #D1D5DB",borderRadius:"4px",fontSize:"14px",width:"100%"}}):b.username}),t.jsx("td",{style:{padding:"12px",fontSize:"14px",color:"#6B7280"},children:r===j?t.jsx("select",{value:b.role,onChange:E=>v(j,"role",E.target.value),style:{padding:"6px 10px",border:"1px solid #D1D5DB",borderRadius:"4px",fontSize:"14px",width:"100%"},children:bn.map(E=>t.jsx("option",{value:E,children:E},E))}):t.jsx("span",{style:{padding:"4px 10px",background:"#EEF2FF",color:"#4F46E5",borderRadius:"4px",fontSize:"12px",fontWeight:"500"},children:b.role})}),t.jsx("td",{style:{padding:"12px",fontSize:"14px",color:"#6B7280"},children:r===j?t.jsx("input",{type:"number",value:b.defaultCapacity,onChange:E=>v(j,"defaultCapacity",parseInt(E.target.value)),style:{padding:"6px 10px",border:"1px solid #D1D5DB",borderRadius:"4px",fontSize:"14px",width:"100px"}}):`${b.defaultCapacity}h/week`}),t.jsx("td",{style:{padding:"12px",textAlign:"right"},children:r===j?t.jsx("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end"},children:t.jsx("button",{onClick:()=>c(null),style:{padding:"6px 12px",background:"#10B981",color:"white",border:"none",borderRadius:"4px",fontSize:"13px",fontWeight:"500",cursor:"pointer"},children:"Done"})}):t.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end"},children:[t.jsx("button",{onClick:()=>c(j),style:{padding:"6px 12px",background:"#F3F4F6",color:"#374151",border:"none",borderRadius:"4px",fontSize:"13px",fontWeight:"500",cursor:"pointer"},children:"Edit"}),t.jsx("button",{onClick:()=>m(j),style:{padding:"6px 12px",background:"#FEE2E2",color:"#DC2626",border:"none",borderRadius:"4px",fontSize:"13px",fontWeight:"500",cursor:"pointer"},children:"Remove"})]})})]},j))})]})]}),t.jsxs("div",{style:{background:"#F9FAFB",border:"1px solid #E5E7EB",borderRadius:"8px",padding:"20px",marginBottom:"20px"},children:[t.jsx("h3",{style:{marginBottom:"16px",fontSize:"16px",fontWeight:"600",color:"#1F2937"},children:"Add Team Member"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 2fr 1fr auto",gap:"12px",alignItems:"end"},children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"13px",fontWeight:"500",color:"#374151"},children:"Username"}),t.jsx("input",{type:"text",value:p.username,onChange:b=>f({...p,username:b.target.value}),placeholder:"e.g., john.doe",style:{padding:"8px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",width:"100%"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"13px",fontWeight:"500",color:"#374151"},children:"Role"}),t.jsx("select",{value:p.role,onChange:b=>f({...p,role:b.target.value}),style:{padding:"8px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",width:"100%"},children:bn.map(b=>t.jsx("option",{value:b,children:b},b))})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"13px",fontWeight:"500",color:"#374151"},children:"Hours/Week"}),t.jsx("input",{type:"number",value:p.defaultCapacity,onChange:b=>f({...p,defaultCapacity:parseInt(b.target.value)}),style:{padding:"8px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",width:"100%"}})]}),t.jsx("button",{onClick:y,style:{padding:"8px 20px",background:"#3B82F6",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"500",cursor:"pointer"},children:"+ Add"})]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px"},children:[t.jsx("button",{onClick:g,style:{padding:"10px 20px",background:"#F3F4F6",color:"#374151",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"500",cursor:"pointer"},children:"Reset"}),t.jsx("button",{onClick:h,style:{padding:"10px 20px",background:"#10B981",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"600",cursor:"pointer"},children:" Save Team Configuration"})]})]})}const Ds="gitlab-pm-absences";function n0(o){const d=ba();return!d||d==="cross-project"?o:`${o}_${d}`}function Ba(){try{const o=localStorage.getItem(n0(Ds));if(o){const d=JSON.parse(o);return d.absences&&(d.absences=d.absences.map(l=>({...l,startDate:new Date(l.startDate),endDate:new Date(l.endDate)}))),d}}catch(o){console.error("Error loading absences:",o)}return{absences:[],lastModified:new Date().toISOString()}}function i2(){const o=[];for(let d=0;d<localStorage.length;d++){const l=localStorage.key(d);if(l&&l.startsWith(Ds))try{const a=localStorage.getItem(l);if(a){const r=JSON.parse(a);if(r.absences){const c=l===Ds?"default":l.replace(`${Ds}_`,""),p=r.absences.map(f=>({...f,startDate:new Date(f.startDate),endDate:new Date(f.endDate),_projectId:c}));o.push(...p)}}}catch(a){console.error(`Error loading absences from ${l}:`,a)}}return o}function a0(o){try{const d={...o,lastModified:new Date().toISOString()};return localStorage.setItem(n0(Ds),JSON.stringify(d)),!0}catch(d){return console.error("Error saving absences:",d),!1}}function n2(o,d,l,a="",r="vacation"){const c=Ba(),p=new Date(d.getFullYear(),d.getMonth(),d.getDate()),f=new Date(l.getFullYear(),l.getMonth(),l.getDate()),g={id:`${o}-${p.getTime()}-${f.getTime()}`,username:o,startDate:p,endDate:f,reason:a,type:r,createdAt:new Date().toISOString()};return c.absences=c.absences.filter(h=>h.username!==o||!r2(h.startDate,h.endDate,p,f)),c.absences.push(g),a0(c),g}function a2(o){const d=Ba();d.absences=d.absences.filter(l=>l.id!==o),a0(d)}function s0(o,d=null,l=null){let r=Ba().absences.filter(c=>c.username===o);return(d||l)&&(r=r.filter(c=>!(d&&c.endDate<d||l&&c.startDate>l))),r.sort((c,p)=>c.startDate-p.startDate)}function s2(o,d){return Ba().absences.filter(a=>a.startDate<=d&&a.endDate>=o).sort((a,r)=>a.startDate-r.startDate)}function r2(o,d,l,a){return o<=a&&l<=d}function oo(o,d){let l=0;const a=new Date(o);for(;a<=d;){const r=a.getDay();r!==0&&r!==6&&l++,a.setDate(a.getDate()+1)}return l}function r0(o,d,l,a){const r=s0(o,d,l);let c=0;r.forEach(f=>{const g=f.startDate>d?f.startDate:d,h=f.endDate<l?f.endDate:l,y=oo(g,h);c+=y});const p=a/5;return Math.round(c*p*10)/10}function o2(o,d,l){if(!d.startDate||!d.dueDate)return{adjustedCapacity:l,hoursLost:0,workingDaysLost:0,absences:[]};const a=new Date(d.startDate),r=new Date(d.dueDate),c=s0(o,a,r),p=oo(a,r),f=r0(o,a,r,l);let g=0;c.forEach(m=>{const b=m.startDate>a?m.startDate:a,j=m.endDate<r?m.endDate:r;g+=oo(b,j)});const h=p/5,y=h*l,v=Math.max(0,y-f);return{adjustedCapacity:Math.round(v*10)/10,hoursLost:Math.round(f*10)/10,workingDaysLost:g,absences:c,sprintWorkingDays:p,sprintWeeks:Math.round(h*10)/10}}function l2(o,d,l){const a=s2(d,l),r={totalAbsences:a.length,byMember:{},byType:{vacation:0,sick:0,conference:0,training:0,other:0},totalDaysOff:0,totalHoursImpact:0};return o.forEach(c=>{const p=a.filter(g=>g.username===c.username),f=r0(c.username,d,l,c.defaultCapacity||40);r.byMember[c.username]={absenceCount:p.length,hoursLost:f,absences:p},r.totalHoursImpact+=f,p.forEach(g=>{const h=oo(g.startDate>d?g.startDate:d,g.endDate<l?g.endDate:l);r.totalDaysOff+=h,r.byType[g.type]=(r.byType[g.type]||0)+1})}),r}function c2(o=null,d=null){let a=Ba().absences;(o||d)&&(a=a.filter(p=>!(o&&p.endDate<o||d&&p.startDate>d)));const r=`Username,Start Date,End Date,Reason,Type,Created At
`,c=a.map(p=>{const f=p.startDate.toISOString().split("T")[0],g=p.endDate.toISOString().split("T")[0],h=new Date(p.createdAt).toISOString().split("T")[0];return`${p.username},${f},${g},"${p.reason}",${p.type},${h}`}).join(`
`);return r+c}function d2({issues:o,isCrossProject:d,refreshKey:l,onAbsenceUpdate:a}){const[r,c]=U.useState([]),[p,f]=U.useState([]),[g,h]=U.useState(3),[y,v]=U.useState(new Date().getFullYear()),[m,b]=U.useState(new Date().getMonth()),[j,E]=U.useState(null),[A,N]=U.useState(null),k=U.useRef(null);U.useEffect(()=>{const W=wt();c(W.teamMembers||[]),C()},[l]);const C=()=>{if(d){const W=i2();f(W)}else{const W=Ba();f(W.absences||[])}},D=U.useMemo(()=>{const W=new Date(y,m,1),P=new Date(y,m+g,0);return{start:W,end:P}},[y,m,g]),w=U.useMemo(()=>{const W=[],P=new Date(D.start);for(;P<=D.end;)W.push(new Date(P)),P.setDate(P.getDate()+1);return W},[D]),T=U.useMemo(()=>o?Ts(o).map(P=>{const Y=o.find(R=>Bn(R.iteration)===P);return{name:P,id:Y?.iteration?.id||P,startDate:Y?.iteration?.start_date?new Date(Y.iteration.start_date):null,dueDate:Y?.iteration?.due_date?new Date(Y.iteration.due_date):null}}).filter(P=>P.startDate&&P.dueDate).filter(P=>P.startDate<=D.end&&P.dueDate>=D.start).sort((P,Y)=>P.startDate-Y.startDate):[],[o,D]),_=(W,P)=>{if(!d)if(j){const Y=j.startDate<P?j.startDate:P,R=j.startDate<P?P:j.startDate;n2(j.username,Y,R,"Absence","vacation"),C(),a(),E(null)}else E({username:W,startDate:P})},L=(W,P)=>{j&&j.username===W&&E({...j,currentDate:P})},B=()=>{E(null)},O=W=>{a2(W),C(),a(),N(null)},G=(W,P,Y=null)=>p.some(R=>R.username===W&&R.id!==Y&&P>=R.startDate&&P<=R.endDate),K=(W,P)=>{if(!j||j.username!==W)return!1;const Y=j.currentDate||j.startDate,R=j.startDate<Y?j.startDate:Y,$=j.startDate<Y?Y:j.startDate;return P>=R&&P<=$},J=(W,P)=>p.find(Y=>Y.username===W&&P>=Y.startDate&&P<=Y.endDate),le=W=>{const P=W.getDay();return P===0||P===6},I=()=>{const W=c2(D.start,D.end),P=new Blob([W],{type:"text/csv"}),Y=URL.createObjectURL(P),R=document.createElement("a");R.href=Y,R.download=`absences-${D.start.toISOString().split("T")[0]}-to-${D.end.toISOString().split("T")[0]}.csv`,document.body.appendChild(R),R.click(),document.body.removeChild(R),URL.revokeObjectURL(Y)},F=U.useMemo(()=>l2(r,D.start,D.end),[r,p,D]),M=U.useMemo(()=>{const W=[];let P=null,Y=0;return w.forEach(R=>{const $=`${R.getFullYear()}-${R.getMonth()}`;$!==P?(P!==null&&W.push({...W[W.length-1],dayCount:Y}),P=$,Y=1,W.push({year:R.getFullYear(),month:R.getMonth(),monthName:R.toLocaleDateString("en-US",{month:"short",year:"numeric"}),dayCount:0})):Y++}),W.length>0&&(W[W.length-1].dayCount=Y),W},[w]);return r.length===0?t.jsxs("div",{style:{padding:"40px",textAlign:"center",background:"#F9FAFB",borderRadius:"8px",border:"1px solid #E5E7EB"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),t.jsx("h3",{style:{color:"#374151",marginBottom:"8px"},children:"No Team Members"}),t.jsx("p",{style:{color:"#6B7280"},children:"Please add team members in the Team Setup tab first."})]}):t.jsxs("div",{children:[t.jsx("div",{style:{marginBottom:"20px"},children:t.jsxs("div",{style:{display:"flex",gap:"32px",alignItems:"flex-start",flexWrap:"wrap"},children:[t.jsxs("div",{style:{background:"#F9FAFB",border:"1px solid #E5E7EB",borderRadius:"8px",padding:"16px",minWidth:"280px"},children:[t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("div",{style:{fontSize:"11px",fontWeight:"600",color:"#6B7280",marginBottom:"6px",textTransform:"uppercase"},children:"Year"}),t.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",justifyContent:"center"},children:[t.jsx("button",{onClick:()=>v(y-1),style:{padding:"6px 10px",background:"white",border:"1px solid #D1D5DB",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"600",color:"#374151"},children:""}),t.jsx("span",{style:{fontSize:"18px",fontWeight:"700",minWidth:"80px",textAlign:"center",color:"#1F2937"},children:y}),t.jsx("button",{onClick:()=>v(y+1),style:{padding:"6px 10px",background:"white",border:"1px solid #D1D5DB",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"600",color:"#374151"},children:""})]})]}),t.jsxs("div",{style:{marginTop:"12px"},children:[t.jsx("div",{style:{fontSize:"11px",fontWeight:"600",color:"#6B7280",marginBottom:"6px",textTransform:"uppercase"},children:"Starting Month"}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"6px"},children:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((W,P)=>t.jsx("button",{onClick:()=>b(P),style:{padding:"8px",background:m===P?"#3B82F6":"white",color:m===P?"white":"#374151",border:m===P?"none":"1px solid #D1D5DB",borderRadius:"6px",fontSize:"12px",fontWeight:m===P?"600":"500",cursor:"pointer",transition:"all 0.15s"},children:W},P))})]})]}),t.jsxs("div",{style:{background:"#F9FAFB",border:"1px solid #E5E7EB",borderRadius:"8px",padding:"16px",minWidth:"280px"},children:[t.jsx("div",{style:{fontSize:"11px",fontWeight:"600",color:"#6B7280",marginBottom:"6px",textTransform:"uppercase"},children:"Months to View"}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(6, 1fr)",gap:"6px"},children:[1,2,3,4,5,6,7,8,9,10,11,12].map(W=>t.jsx("button",{onClick:()=>h(W),style:{padding:"8px",background:g===W?"#3B82F6":"white",color:g===W?"white":"#374151",border:g===W?"none":"1px solid #D1D5DB",borderRadius:"6px",fontSize:"12px",fontWeight:g===W?"600":"500",cursor:"pointer",transition:"all 0.15s"},children:W},W))})]}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:t.jsx("button",{onClick:()=>{const W=new Date;v(W.getFullYear()),b(W.getMonth())},style:{padding:"8px 16px",background:"#10B981",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"600"},children:" Jump to Today"})}),t.jsx("div",{style:{flex:1}}),t.jsx("button",{onClick:I,style:{padding:"8px 16px",background:"#F3F4F6",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:" Export CSV"})]})}),t.jsx("div",{className:"card",style:{marginBottom:"20px",background:"#F9FAFB",border:"1px solid #E5E7EB"},children:t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"20px"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:"TOTAL ABSENCES"}),t.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"#1F2937"},children:F.totalAbsences})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:"DAYS OFF"}),t.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"#2563EB"},children:F.totalDaysOff})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:"CAPACITY IMPACT"}),t.jsxs("div",{style:{fontSize:"24px",fontWeight:"700",color:"#DC2626"},children:[F.totalHoursImpact,"h"]})]})]})}),j&&t.jsx("div",{className:"card",style:{marginBottom:"20px",background:"#EFF6FF",border:"1px solid #3B82F6"},children:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("span",{style:{fontSize:"20px"},children:""}),t.jsxs("div",{style:{flex:1},children:[t.jsx("strong",{style:{color:"#1E40AF"},children:"Selecting absence period"}),t.jsx("p",{style:{margin:"4px 0 0 0",fontSize:"14px",color:"#1E40AF"},children:"Click on another date to complete the selection, or press ESC to cancel"})]}),t.jsx("button",{onClick:B,style:{padding:"6px 12px",background:"white",border:"1px solid #3B82F6",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"500",color:"#1E40AF"},children:"Cancel"})]})}),t.jsx("div",{ref:k,style:{overflowX:"auto",overflowY:"visible",border:"1px solid #E5E7EB",borderRadius:"8px",background:"white"},onMouseLeave:B,children:t.jsxs("div",{style:{minWidth:`${Math.max(1200,w.length*24)}px`},children:[t.jsxs("div",{style:{display:"flex",borderBottom:"2px solid #E5E7EB",background:"#F9FAFB",position:"sticky",top:0,zIndex:10},children:[t.jsx("div",{style:{width:"200px",minWidth:"200px",padding:"12px",fontWeight:"600",fontSize:"12px",color:"#6B7280",borderRight:"2px solid #E5E7EB",background:"#F9FAFB",position:"sticky",left:0,zIndex:11},children:"TEAM MEMBER"}),t.jsx("div",{style:{display:"flex",flex:1},children:M.map((W,P)=>t.jsx("div",{style:{width:`${W.dayCount*24}px`,padding:"12px 8px",textAlign:"center",fontWeight:"600",fontSize:"12px",color:"#1F2937",borderRight:P<M.length-1?"1px solid #D1D5DB":"none"},children:W.monthName},P))})]}),t.jsxs("div",{style:{display:"flex",borderBottom:"1px solid #E5E7EB",background:"#FAFAFA"},children:[t.jsx("div",{style:{width:"200px",minWidth:"200px",borderRight:"2px solid #E5E7EB",background:"#FAFAFA",position:"sticky",left:0,zIndex:9}}),t.jsx("div",{style:{display:"flex",flex:1},children:w.map((W,P)=>{const Y=le(W);return t.jsx("div",{style:{width:"24px",minWidth:"24px",padding:"4px 0",textAlign:"center",fontSize:"10px",color:Y?"#DC2626":"#6B7280",fontWeight:Y?"600":"400",background:Y?"#FEF2F2":"transparent"},children:W.getDate()},P)})})]}),T.length>0&&t.jsxs("div",{style:{display:"flex",borderBottom:"1px solid #E5E7EB",background:"#F0F9FF",height:"24px"},children:[t.jsx("div",{style:{width:"200px",minWidth:"200px",borderRight:"2px solid #E5E7EB",padding:"4px 8px",fontSize:"10px",fontWeight:"600",color:"#1E40AF",background:"#F0F9FF",position:"sticky",left:0,zIndex:9},children:"SPRINTS"}),t.jsx("div",{style:{position:"relative",flex:1},children:T.map((W,P)=>{const Y=w.findIndex(ne=>ne>=W.startDate),R=w.findIndex(ne=>ne>W.dueDate),ie=((R===-1?w.length:R)-Y)*24;return Y===-1||ie<=0?null:t.jsx("div",{style:{position:"absolute",left:`${Y*24}px`,width:`${ie}px`,height:"20px",background:"#DBEAFE",border:"1px solid #3B82F6",borderRadius:"4px",fontSize:"9px",padding:"2px 4px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:"#1E40AF",fontWeight:"600"},title:W.name,children:W.name},P)})})]}),r.map((W,P)=>{const Y=p.filter(R=>R.username===W.username);return t.jsxs("div",{style:{display:"flex",borderBottom:P<r.length-1?"1px solid #E5E7EB":"none"},children:[t.jsxs("div",{style:{width:"200px",minWidth:"200px",padding:"12px",borderRight:"2px solid #E5E7EB",background:"white",position:"sticky",left:0,zIndex:8},children:[t.jsx("div",{style:{fontSize:"13px",fontWeight:"600",color:"#1F2937",marginBottom:"2px"},children:W.name||W.username}),t.jsx("div",{style:{fontSize:"11px",color:"#6B7280"},children:W.role||"Team Member"}),t.jsxs("div",{style:{fontSize:"10px",color:"#9CA3AF",marginTop:"4px"},children:[W.defaultCapacity||40,"h/week"]})]}),t.jsxs("div",{style:{display:"flex",flex:1,position:"relative"},children:[w.map((R,$)=>{const ie=le(R),ne=G(W.username,R),oe=K(W.username,R),ue=J(W.username,R);return t.jsx("div",{onClick:()=>!ne&&!d&&_(W.username,R),onMouseEnter:()=>!d&&L(W.username,R),style:{width:"24px",minWidth:"24px",height:"60px",background:oe?"#DBEAFE":ne?"#FEE2E2":ie?"#F9FAFB":"white",borderRight:$<w.length-1?"1px solid #F3F4F6":"none",cursor:d?"default":ne?"pointer":"crosshair",position:"relative",opacity:d?.7:1},title:ue?`${ue.reason} (${ue.type})`:d?"Select a project to edit absences":""},$)}),Y.map((R,$)=>{const ie=w.findIndex(je=>je>=R.startDate),ne=w.findIndex(je=>je>R.endDate),ue=((ne===-1?w.length:ne)-ie)*24;if(ie===-1||ue<=0)return null;const de={vacation:{bg:"#DBEAFE",border:"#3B82F6",text:"#1E40AF"},sick:{bg:"#FEF3C7",border:"#F59E0B",text:"#92400E"},conference:{bg:"#E0E7FF",border:"#6366F1",text:"#3730A3"},training:{bg:"#D1FAE5",border:"#059669",text:"#065F46"},other:{bg:"#F3F4F6",border:"#6B7280",text:"#374151"}},me=de[R.type]||de.other;return t.jsxs("div",{onClick:je=>{je.stopPropagation(),d||N(R)},style:{position:"absolute",left:`${ie*24}px`,top:"8px",width:`${ue}px`,height:"44px",background:me.bg,border:`2px solid ${me.border}`,borderRadius:"6px",padding:"4px 6px",fontSize:"11px",fontWeight:"600",color:me.text,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",cursor:d?"default":"pointer",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",zIndex:5,opacity:d?.7:1},title:d?`${R.reason||R.type} (Project: ${R._projectId||"default"})
Read-only in cross-project view`:`${R.reason||R.type}
Click to edit`,children:[R.reason||R.type,d&&R._projectId&&t.jsxs("span",{style:{fontSize:"9px",opacity:.7,marginLeft:"4px"},children:["[",R._projectId,"]"]})]},$)})]})]},W.username)})]})}),A&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>N(null),children:t.jsxs("div",{className:"card",style:{width:"400px",maxWidth:"90%"},onClick:W=>W.stopPropagation(),children:[t.jsx("h3",{style:{marginBottom:"16px"},children:"Absence Details"}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("strong",{children:"Team Member:"})," ",A.username]}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("strong",{children:"Period:"})," ",A.startDate.toLocaleDateString()," - ",A.endDate.toLocaleDateString()]}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("strong",{children:"Type:"})," ",A.type]}),A.reason&&t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("strong",{children:"Reason:"})," ",A.reason]}),t.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"20px"},children:[t.jsx("button",{onClick:()=>O(A.id),style:{flex:1,padding:"10px",background:"#DC2626",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"500"},children:"Delete"}),t.jsx("button",{onClick:()=>N(null),style:{flex:1,padding:"10px",background:"#F3F4F6",color:"#1F2937",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"500"},children:"Close"})]})]})}),t.jsxs("div",{className:"card",style:{marginTop:"20px",background:"#F9FAFB"},children:[t.jsx("h4",{style:{marginBottom:"12px"},children:"How to use"}),t.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#6B7280",lineHeight:"1.6"},children:[t.jsx("li",{children:"Click on a day to start marking an absence"}),t.jsx("li",{children:"Click on another day to complete the absence period"}),t.jsx("li",{children:"Click on an existing absence to view details or delete"}),t.jsx("li",{children:"Weekends are automatically excluded from capacity calculations"}),t.jsx("li",{children:"Absences automatically reduce sprint capacity based on affected days"})]})]})]})}function u2({issues:o,isCrossProject:d,refreshKey:l}){const[a,r]=U.useState([]),[c,p]=U.useState([]),[f,g]=U.useState(null),[h,y]=U.useState({}),[v,m]=U.useState(null);U.useEffect(()=>{b()},[l]),U.useEffect(()=>{o&&o.length>0&&j()},[o]);const b=()=>{const k=wt();r(k.teamMembers||[])},j=()=>{const C=Ts(o).map(D=>{const w=o.find(T=>Bn(T.iteration)===D);return{name:D,id:w?.iteration?.id||D,startDate:w?.iteration?.start_date?new Date(w.iteration.start_date):null,dueDate:w?.iteration?.due_date?new Date(w.iteration.due_date):null}}).filter(D=>D.startDate&&D.dueDate).sort((D,w)=>w.startDate-D.startDate);p(C),C.length>0&&!f&&g(C[0])},E=U.useMemo(()=>!f||a.length===0?[]:a.map(k=>{const C=k.defaultCapacity||0,D=Math.ceil((f.dueDate-f.startDate)/(1e3*60*60*24)),T=Math.floor(D*(5/7))/5,_=Math.round(T*C),L=o2(k.username,f,C),B=L.hoursLost||0,O=Math.max(0,_-B),le=Sa().sprints.find(F=>F.sprintId===f.id)?.memberCapacity?.find(F=>F.username===k.username)?.availableHours,I=le!==void 0?le:O;return{username:k.username,role:k.role,weeklyDefault:C,sprintDefault:_,absenceHours:B,absenceDays:L.workingDaysLost||0,autoAdjusted:O,manualOverride:le,final:I,hasOverride:le!==void 0,absences:L.absences||[]}}),[f,a,l]),A=U.useMemo(()=>E.reduce((k,C)=>({sprintDefault:k.sprintDefault+C.sprintDefault,absenceHours:k.absenceHours+C.absenceHours,autoAdjusted:k.autoAdjusted+C.autoAdjusted,manualAdjustment:k.manualAdjustment+(C.hasOverride?C.manualOverride-C.autoAdjusted:0),final:k.final+C.final}),{sprintDefault:0,absenceHours:0,autoAdjusted:0,manualAdjustment:0,final:0}),[E]),N=(k,C)=>{const D=Sa();let w=D.sprints.find(_=>_.sprintId===f.id);w||(w={sprintId:f.id,sprintName:f.name,memberCapacity:[]},D.sprints.push(w));const T=w.memberCapacity.findIndex(_=>_.username===k);T>=0?C===null?w.memberCapacity.splice(T,1):w.memberCapacity[T].availableHours=C:C!==null&&w.memberCapacity.push({username:k,availableHours:C}),Mx(D),m(null),b()};return d?t.jsxs("div",{style:{padding:"40px",textAlign:"center",background:"#F9FAFB",borderRadius:"8px",border:"1px solid #E5E7EB"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),t.jsx("h3",{style:{color:"#374151",marginBottom:"8px"},children:"Sprint Capacity Unavailable"}),t.jsx("p",{style:{color:"#6B7280"},children:"Sprint capacity planning is only available for individual projects. Please select a specific project."})]}):a.length===0?t.jsxs("div",{style:{padding:"40px",textAlign:"center",background:"#F9FAFB",borderRadius:"8px",border:"1px solid #E5E7EB"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),t.jsx("h3",{style:{color:"#374151",marginBottom:"8px"},children:"No Team Members"}),t.jsx("p",{style:{color:"#6B7280"},children:"Please add team members in the Team Setup tab first."})]}):c.length===0?t.jsxs("div",{style:{padding:"40px",textAlign:"center",background:"#F9FAFB",borderRadius:"8px",border:"1px solid #E5E7EB"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),t.jsx("h3",{style:{color:"#374151",marginBottom:"8px"},children:"No Sprints Found"}),t.jsx("p",{style:{color:"#6B7280"},children:"No sprint iterations found in your issues. Make sure your issues have iteration/sprint assignments."})]}):t.jsxs("div",{children:[t.jsxs("div",{style:{marginBottom:"24px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:"#374151"},children:"Select Sprint"}),t.jsx("select",{value:f?.id||"",onChange:k=>{const C=c.find(D=>D.id===k.target.value);g(C)},style:{padding:"10px 14px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",minWidth:"300px",background:"white"},children:c.map(k=>t.jsxs("option",{value:k.id,children:[k.name," (",k.startDate.toLocaleDateString()," - ",k.dueDate.toLocaleDateString(),")"]},k.id))})]}),t.jsx("div",{style:{background:"white",border:"1px solid #E5E7EB",borderRadius:"8px",overflow:"hidden",marginBottom:"20px"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{background:"#F9FAFB",borderBottom:"2px solid #E5E7EB"},children:[t.jsx("th",{style:{padding:"12px",textAlign:"left",fontWeight:"600",fontSize:"13px",color:"#374151"},children:"Member"}),t.jsxs("th",{style:{padding:"12px",textAlign:"right",fontWeight:"600",fontSize:"13px",color:"#374151"},children:["Default",t.jsx("br",{}),t.jsx("span",{style:{fontWeight:"400",fontSize:"11px",color:"#6B7280"},children:"(Sprint Total)"})]}),t.jsxs("th",{style:{padding:"12px",textAlign:"right",fontWeight:"600",fontSize:"13px",color:"#374151"},children:["Absences",t.jsx("br",{}),t.jsx("span",{style:{fontWeight:"400",fontSize:"11px",color:"#6B7280"},children:"(Hours Lost)"})]}),t.jsxs("th",{style:{padding:"12px",textAlign:"right",fontWeight:"600",fontSize:"13px",color:"#374151"},children:["Auto-Adjusted",t.jsx("br",{}),t.jsx("span",{style:{fontWeight:"400",fontSize:"11px",color:"#6B7280"},children:"(After Absences)"})]}),t.jsxs("th",{style:{padding:"12px",textAlign:"right",fontWeight:"600",fontSize:"13px",color:"#374151"},children:["Manual Override",t.jsx("br",{}),t.jsx("span",{style:{fontWeight:"400",fontSize:"11px",color:"#6B7280"},children:"(Optional)"})]}),t.jsx("th",{style:{padding:"12px",textAlign:"right",fontWeight:"600",fontSize:"13px",color:"#374151"},children:"Final Capacity"})]})}),t.jsxs("tbody",{children:[E.map((k,C)=>t.jsxs("tr",{style:{borderBottom:"1px solid #E5E7EB"},children:[t.jsxs("td",{style:{padding:"12px"},children:[t.jsx("div",{style:{fontWeight:"500",color:"#1F2937",marginBottom:"2px"},children:k.username}),t.jsxs("div",{style:{fontSize:"11px",color:"#6B7280",background:"#F3F4F6",display:"inline-block",padding:"2px 6px",borderRadius:"3px"},children:[k.role,"  ",k.weeklyDefault,"h/week"]})]}),t.jsxs("td",{style:{padding:"12px",textAlign:"right",fontSize:"14px",color:"#374151"},children:[k.sprintDefault,"h"]}),t.jsx("td",{style:{padding:"12px",textAlign:"right"},children:k.absenceHours>0?t.jsxs("div",{children:[t.jsxs("div",{style:{fontSize:"14px",color:"#DC2626",fontWeight:"500"},children:["-",k.absenceHours,"h"]}),t.jsxs("div",{style:{fontSize:"11px",color:"#6B7280"},children:["(",k.absenceDays," days)"]})]}):t.jsx("span",{style:{fontSize:"14px",color:"#6B7280"},children:""})}),t.jsxs("td",{style:{padding:"12px",textAlign:"right",fontSize:"14px",color:"#374151",fontWeight:"500"},children:[k.autoAdjusted,"h"]}),t.jsx("td",{style:{padding:"12px",textAlign:"right"},children:v===k.username?t.jsxs("div",{style:{display:"flex",gap:"6px",justifyContent:"flex-end"},children:[t.jsx("input",{type:"number",defaultValue:k.manualOverride!==void 0?k.manualOverride:k.autoAdjusted,onKeyDown:D=>{D.key==="Enter"?N(k.username,parseInt(D.target.value)):D.key==="Escape"&&m(null)},style:{width:"70px",padding:"4px 8px",border:"1px solid #3B82F6",borderRadius:"4px",fontSize:"13px"},autoFocus:!0}),t.jsx("button",{onClick:()=>m(null),style:{padding:"4px 8px",background:"#F3F4F6",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer"},children:""})]}):k.hasOverride?t.jsxs("div",{children:[t.jsxs("div",{style:{fontSize:"14px",color:"#3B82F6",fontWeight:"500"},children:[k.manualOverride,"h"]}),t.jsxs("div",{style:{display:"flex",gap:"4px",justifyContent:"flex-end",marginTop:"4px"},children:[t.jsx("button",{onClick:()=>m(k.username),style:{padding:"2px 6px",background:"#F3F4F6",border:"none",borderRadius:"3px",fontSize:"11px",cursor:"pointer",color:"#374151"},children:"Edit"}),t.jsx("button",{onClick:()=>N(k.username,null),style:{padding:"2px 6px",background:"#FEE2E2",border:"none",borderRadius:"3px",fontSize:"11px",cursor:"pointer",color:"#DC2626"},children:"Remove"})]})]}):t.jsx("button",{onClick:()=>m(k.username),style:{padding:"4px 12px",background:"#F3F4F6",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer",color:"#6B7280"},children:"+ Set Override"})}),t.jsxs("td",{style:{padding:"12px",textAlign:"right",fontSize:"16px",fontWeight:"700",color:k.hasOverride?"#3B82F6":"#10B981"},children:[k.final,"h"]})]},k.username)),t.jsxs("tr",{style:{background:"#F9FAFB",fontWeight:"600"},children:[t.jsx("td",{style:{padding:"12px",fontSize:"14px",color:"#1F2937"},children:"Total Team Capacity"}),t.jsxs("td",{style:{padding:"12px",textAlign:"right",fontSize:"14px",color:"#374151"},children:[A.sprintDefault,"h"]}),t.jsxs("td",{style:{padding:"12px",textAlign:"right",fontSize:"14px",color:"#DC2626"},children:["-",A.absenceHours,"h"]}),t.jsxs("td",{style:{padding:"12px",textAlign:"right",fontSize:"14px",color:"#374151"},children:[A.autoAdjusted,"h"]}),t.jsxs("td",{style:{padding:"12px",textAlign:"right",fontSize:"14px",color:A.manualAdjustment<0?"#DC2626":"#10B981"},children:[A.manualAdjustment>0?"+":"",A.manualAdjustment,"h"]}),t.jsxs("td",{style:{padding:"12px",textAlign:"right",fontSize:"18px",fontWeight:"700",color:"#1F2937"},children:[A.final,"h"]})]})]})]})}),t.jsxs("div",{style:{background:"#EFF6FF",border:"1px solid #BFDBFE",borderRadius:"6px",padding:"12px 16px",fontSize:"13px",color:"#1E40AF"},children:[t.jsx("strong",{children:"How it works:"})," Default capacity is calculated based on weekly hours and sprint duration. Absences automatically reduce capacity. You can add manual overrides for exceptional cases (e.g., team member working part-time during sprint)."]})]})}function p2({issues:o}){const[d,l]=U.useState("team"),r=ba()==="cross-project",[c,p]=U.useState(0),f=()=>p(h=>h+1),g=[{id:"team",label:" Team Setup",icon:""},{id:"absences",label:" Absence Calendar",icon:""},{id:"capacity",label:" Sprint Capacity",icon:""}];return t.jsxs("div",{className:"container",style:{padding:"20px"},children:[t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("h1",{children:" Resource Planning"}),t.jsx("p",{style:{color:"#6B7280",marginBottom:"20px"},children:"Manage your team, plan absences, and monitor sprint capacity in one integrated view"}),r&&t.jsxs("div",{style:{background:"#FEF3C7",border:"1px solid #F59E0B",borderRadius:"8px",padding:"12px 16px",marginBottom:"16px",display:"flex",alignItems:"center",gap:"10px"},children:[t.jsx("span",{style:{fontSize:"20px"},children:""}),t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:"600",color:"#92400E",marginBottom:"4px"},children:"Cross-Project View"}),t.jsx("div",{style:{fontSize:"13px",color:"#92400E"},children:"You're viewing data from all projects. Team configuration and absence editing are disabled in cross-project mode. Select a specific project to manage resources."})]})]}),t.jsx("div",{style:{display:"flex",gap:"4px",borderBottom:"2px solid #E5E7EB",marginBottom:"24px"},children:g.map(h=>t.jsx("button",{onClick:()=>l(h.id),style:{padding:"12px 24px",background:d===h.id?"white":"transparent",color:d===h.id?"#3B82F6":"#6B7280",border:"none",borderBottom:d===h.id?"3px solid #3B82F6":"3px solid transparent",borderRadius:"6px 6px 0 0",fontSize:"14px",fontWeight:d===h.id?"600":"500",cursor:"pointer",transition:"all 0.2s",marginBottom:"-2px"},children:h.label},h.id))})]}),t.jsxs("div",{children:[d==="team"&&t.jsx(t2,{isCrossProject:r,onTeamUpdate:f}),d==="absences"&&t.jsx(d2,{issues:o,isCrossProject:r,refreshKey:c,onAbsenceUpdate:f}),d==="capacity"&&t.jsx(u2,{issues:o,isCrossProject:r,refreshKey:c})]})]})}function f2(){console.log("App: Component initializing...");const[o,d]=U.useState("executive");console.log("App: activeView state initialized:",o);const l=Di();console.log("App: Configuration check:",l);const[a,r]=U.useState(!l),[c,p]=U.useState(!1),[f,g]=U.useState(ty()==="grouped");console.log("App: showConfigModal:",!l),console.log("App: Calling useGitLabData hook...");const{issues:h,milestones:y,epics:v,crossProjectData:m,loading:b,error:j,refresh:E}=Hm();console.log("App: GitLab data:",{issuesCount:h?.length,milestonesCount:y?.length,epicsCount:v?.length,loading:b,error:j}),m&&console.log("App: Cross-project data available:",m.statistics),console.log("App: Calling useHealthScore hook...");const{stats:A,healthScore:N}=Vm(h,y);console.log("App: Health data:",{stats:A,healthScore:N}),console.log("App: Calling useRisks hook...");const{risks:k}=hd();console.log("App: Risks data:",{risksCount:k?.length});const C=()=>{console.log("App: handleConfigSave called"),r(!1),E()},D=w=>{console.log("App: handleProjectSwitch called with:",w),E(),d("executive")};return console.log("App: About to render, current state:",{activeView:o,showConfigModal:a,configured:l,issuesCount:h?.length,loading:b}),t.jsx(Zm,{issues:h,children:t.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column"},children:[t.jsx(Km,{stats:A,healthScore:N,onRefresh:E,onConfigure:()=>r(!0),onChangeRole:()=>p(!0),loading:b}),f?t.jsx(ay,{activeView:o,onViewChange:d,onProjectChange:Di()?w=>{w==="cross-project"?(console.log("Cross-project view activated - refreshing data"),E()):D(w)}:null}):t.jsx(Jm,{activeView:o,onViewChange:d}),Di()&&h.length>0&&["executive","insights","compliance","cycletime","resources","velocity","sprintmanagement","epicmanagement","riskmanagement","roadmap","stakeholders","crossteam"].includes(o)&&t.jsx("div",{style:{position:"sticky",top:"0",zIndex:800,background:"white",padding:"12px 20px",borderBottom:"1px solid #E5E7EB",display:"flex",justifyContent:"flex-end"},children:t.jsx(ry,{})}),t.jsxs("div",{style:{flex:1,paddingTop:"20px"},children:[j&&t.jsx("div",{className:"container",children:t.jsxs("div",{className:"card",style:{background:"#FEE2E2",borderColor:"#DC2626",color:"#DC2626"},children:[t.jsx("strong",{children:"Error:"})," ",j]})}),b&&!h.length&&t.jsx("div",{className:"container",children:t.jsx("div",{className:"card text-center",children:t.jsx("p",{children:"Loading GitLab data..."})})}),!b&&!j&&!h.length&&Di()&&t.jsx("div",{className:"container",children:t.jsx("div",{className:"card text-center",children:t.jsx("p",{children:"No issues found. Please check your configuration."})})}),!Di()&&!a&&t.jsx("div",{className:"container",children:t.jsxs("div",{className:"card text-center",children:[t.jsx("h2",{className:"mb-2",children:"Welcome to GitLab Project Management"}),t.jsx("p",{className:"mb-2",children:"Please configure your GitLab connection to get started."}),t.jsx("button",{className:"btn btn-primary",onClick:()=>r(!0),children:"Configure Now"})]})}),o==="backup"&&t.jsx(Wv,{}),Di()&&h.length>0&&t.jsxs(t.Fragment,{children:[o==="executive"&&t.jsx(by,{stats:A,healthScore:N,issues:h,milestones:y,epics:v,risks:k}),o==="insights"&&t.jsx(av,{issues:h,milestones:y,epics:v,stats:A,healthScore:N,risks:k}),o==="compliance"&&t.jsx(Bv,{issues:h}),o==="cycletime"&&t.jsx(Fv,{issues:h}),o==="epicmanagement"&&t.jsx(nb,{epics:v,issues:h,crossProjectData:m}),o==="riskmanagement"&&t.jsx(rb,{epics:v,issues:h}),o==="roadmap"&&t.jsx(jy,{issues:h,milestones:y}),o==="sprintmanagement"&&t.jsx(Eb,{issues:h,onNavigate:d}),o==="velocity"&&t.jsx(Ay,{issues:h}),o==="resources"&&t.jsx(Hy,{issues:h}),o==="resourceplanning"&&t.jsx(p2,{issues:h}),o==="stakeholders"&&t.jsx(O1,{stats:A,healthScore:N}),o==="crossteam"&&t.jsx(Qb,{issues:h,epics:v,milestones:y})]})]}),t.jsx(oy,{show:a,onClose:()=>r(!1),onSave:C,onProjectSwitch:D}),t.jsx(sy,{show:c,onClose:()=>p(!1)})]})})}class h2 extends Bx.Component{constructor(d){super(d),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(d){return console.error("ErrorBoundary: Error caught:",d),{hasError:!0}}componentDidCatch(d,l){console.error("ErrorBoundary: Component error details:",{error:d.toString(),errorInfo:l,componentStack:l.componentStack}),this.setState({error:d,errorInfo:l})}render(){return this.state.hasError?(console.log("ErrorBoundary: Rendering error UI"),t.jsxs("div",{style:{padding:"40px",fontFamily:"sans-serif",maxWidth:"800px",margin:"0 auto"},children:[t.jsx("h1",{style:{color:"#DC2626"},children:"Something went wrong"}),t.jsx("h2",{children:"Error Details:"}),t.jsxs("pre",{style:{background:"#FEE2E2",padding:"16px",borderRadius:"8px",overflowX:"auto",fontSize:"14px"},children:[this.state.error&&this.state.error.toString(),`

`,this.state.errorInfo&&this.state.errorInfo.componentStack]}),t.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"20px",padding:"10px 20px",background:"#E60000",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Reload Page"}),t.jsx("p",{style:{marginTop:"20px",color:"#6B7280"},children:"Please open the browser console (F12) and share the error details with the developer."})]})):this.props.children}}console.log("=== GitLab PM Dashboard - Starting ===");console.log("Environment:",{protocol:window.location.protocol,pathname:window.location.pathname,userAgent:navigator.userAgent,reactVersion:U.StrictMode?"React 18+":"Unknown"});try{console.log("Step 1: Looking for root element...");const o=document.getElementById("root");if(!o)throw console.error("ERROR: Root element not found!"),document.body.innerHTML='<div style="padding: 40px; font-family: sans-serif;"><h1>Error: Root element missing</h1><p>Cannot find element with id="root"</p></div>',new Error("Root element not found");console.log("Step 2: Root element found:",o),console.log("Step 3: Creating React root...");const d=km.createRoot(o);console.log("Step 4: React root created successfully"),console.log("Step 5: Rendering App component with ErrorBoundary..."),d.render(t.jsx(U.StrictMode,{children:t.jsx(h2,{children:t.jsx(f2,{})})})),console.log(" App rendered successfully!")}catch(o){console.error(" FATAL ERROR during initialization:",o),console.error("Error stack:",o.stack),document.body.innerHTML=`
    <div style="padding: 40px; font-family: sans-serif; max-width: 800px; margin: 0 auto;">
      <h1 style="color: #DC2626;">GitLab PM Dashboard - Initialization Error</h1>
      <h2>Error Details:</h2>
      <pre style="background: #FEE2E2; padding: 16px; border-radius: 8px; overflow-x: auto;">${o.message}

${o.stack}</pre>
      <h2>Debug Information:</h2>
      <pre style="background: #F3F4F6; padding: 16px; border-radius: 8px; overflow-x: auto;">${JSON.stringify({protocol:window.location.protocol,pathname:window.location.pathname,userAgent:navigator.userAgent},null,2)}</pre>
      <p>Please check the browser console (F12) for more details and share this with the developer.</p>
    </div>
  `}function x2(o){if(!o||o.length===0)return{rootEpics:[],epicMap:new Map};const d=new Map,l=[];o.forEach(r=>{d.set(r.id,{...r,children:[],level:0,path:[r.id]})}),o.forEach(r=>{const c=d.get(r.id);if(r.parent_id&&d.has(r.parent_id)){const p=d.get(r.parent_id);p.children.push(c),c.parent=p,c.level=p.level+1,c.path=[...p.path,r.id]}else l.push(c)});const a=r=>{r.children.sort((c,p)=>c.start_date&&p.start_date?new Date(c.start_date)-new Date(p.start_date):(c.title||"").localeCompare(p.title||"")),r.children.forEach(a)};return l.forEach(a),{rootEpics:l,epicMap:d}}function g2(o,d){const l=new Map,a=new Map,r=[];return d.forEach(c=>{l.set(c.id,{epic:c,issues:[],projects:new Set,crossProjectIssues:[]})}),o.forEach(c=>{if(!c.epic)return;const p=l.get(c.epic.id);if(!p)return;p.issues.push(c);const f=c.project_id||c.project?.id;f&&(p.projects.add(f),p.epic.group_id!==c.namespace?.id&&(p.crossProjectIssues.push(c),r.push({epic:p.epic,issue:c,type:"cross-project",epicProject:p.epic.group_id,issueProject:f}))),a.has(f)||a.set(f,new Set),a.get(f).add(c.epic.id)}),{epicIssueMap:l,projectEpicMap:a,crossProjectLinks:r,statistics:m2(l,r)}}function m2(o,d){const l={totalEpics:o.size,epicsWithIssues:0,epicsWithCrossProjectIssues:0,totalCrossProjectLinks:d.length,projectCount:new Set,avgProjectsPerEpic:0};return o.forEach((a,r)=>{a.issues.length>0&&l.epicsWithIssues++,a.crossProjectIssues.length>0&&l.epicsWithCrossProjectIssues++,a.projects.forEach(c=>l.projectCount.add(c))}),l.projectCount=l.projectCount.size,l.avgProjectsPerEpic=l.epicsWithIssues>0?Math.round(l.projectCount/l.epicsWithIssues*10)/10:0,l}function y2(o,d){const{epicIssueMap:l,projectEpicMap:a,crossProjectLinks:r}=d;return o.map(c=>{const p=l.get(c.id)||{issues:[],projects:new Set,crossProjectIssues:[]};return{...c,_crossProject:{issueCount:p.issues.length,projectCount:p.projects.size,projects:Array.from(p.projects),crossProjectIssueCount:p.crossProjectIssues.length,hasMultipleProjects:p.projects.size>1,complexity:p.projects.size>3?"high":p.projects.size>1?"medium":"low"},issues:p.issues}})}function v2(o){return o.filter(d=>!d.epic&&d.labels?.some(l=>l.toLowerCase().includes("epic")||l.toLowerCase().includes("feature")))}const o0=Object.freeze(Object.defineProperty({__proto__:null,buildEpicHierarchy:x2,enhanceEpicsWithCrossProjectData:y2,findOrphanedIssues:v2,linkCrossProjectIssues:g2},Symbol.toStringTag,{value:"Module"}));function id({value:o,onChange:d,options:l,placeholder:a="Select...",label:r,style:c={}}){const[p,f]=U.useState(!1),[g,h]=U.useState(""),y=U.useRef(null);U.useEffect(()=>{const j=E=>{y.current&&!y.current.contains(E.target)&&(f(!1),h(""))};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[]);const v=l.filter(j=>j.label.toLowerCase().includes(g.toLowerCase())),m=l.find(j=>j.value===o),b=m?m.label:a;return t.jsxs("div",{ref:y,style:{position:"relative",...c},children:[r&&t.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",marginBottom:"6px",color:"#6B7280"},children:r}),t.jsxs("div",{onClick:()=>f(!p),style:{width:"100%",padding:"8px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",cursor:"pointer",background:"white",display:"flex",justifyContent:"space-between",alignItems:"center",color:o?"#1F2937":"#9CA3AF"},children:[t.jsx("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:b}),t.jsx("span",{style:{fontSize:"10px",color:"#6B7280"},children:p?"":""})]}),p&&t.jsxs("div",{style:{position:"absolute",top:"calc(100% + 4px)",left:0,right:0,background:"white",border:"1px solid #D1D5DB",borderRadius:"6px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",zIndex:1e3,maxHeight:"300px",overflow:"hidden",display:"flex",flexDirection:"column"},children:[t.jsx("div",{style:{padding:"8px",borderBottom:"1px solid #E5E7EB"},children:t.jsx("input",{type:"text",value:g,onChange:j=>h(j.target.value),placeholder:"Search...",autoFocus:!0,style:{width:"100%",padding:"6px 8px",border:"1px solid #D1D5DB",borderRadius:"4px",fontSize:"13px",outline:"none"},onClick:j=>j.stopPropagation()})}),t.jsx("div",{style:{overflowY:"auto",maxHeight:"250px"},children:v.length===0?t.jsx("div",{style:{padding:"12px",textAlign:"center",color:"#9CA3AF",fontSize:"13px"},children:"No results found"}):v.map(j=>t.jsxs("div",{onClick:()=>{d(j.value),f(!1),h("")},style:{padding:"10px 12px",fontSize:"14px",cursor:"pointer",background:o===j.value?"#EFF6FF":"white",color:o===j.value?"#2563EB":"#1F2937",fontWeight:o===j.value?"600":"400",borderBottom:"1px solid #F3F4F6",transition:"background 0.1s"},onMouseEnter:E=>{o!==j.value&&(E.currentTarget.style.background="#F9FAFB")},onMouseLeave:E=>{o!==j.value&&(E.currentTarget.style.background="white")},children:[j.label,j.subtitle&&t.jsx("div",{style:{fontSize:"11px",color:"#6B7280",marginTop:"2px"},children:j.subtitle})]},j.value))})]})]})}function b2({issues:o,onNavigate:d}){const{filteredIssues:l}=Dn(),[a,r]=U.useState({teamMembers:[]}),[c,p]=U.useState({}),[f,g]=U.useState({sprints:[]}),[h,y]=U.useState(null),[v,m]=U.useState(null),[b,j]=U.useState(!0),[E,A]=U.useState("all"),[N,k]=U.useState("all"),[C,D]=U.useState("all"),[w,T]=U.useState("");U.useEffect(()=>{r(wt()),p(lo()),g(Sa())},[]);const _=U.useMemo(()=>{const I=new Date;return I.setMonth(I.getMonth()-6),l.filter(F=>F.state==="opened"?!0:F.closed_at?new Date(F.closed_at)>=I:F.updated_at?new Date(F.updated_at)>=I:F.due_date?new Date(F.due_date)>=I:!1)},[l]),L=U.useMemo(()=>Ts(_).map(F=>{const M=_.find(W=>Bn(W.iteration)===F);return{name:F,id:M?.iteration?.id||F,startDate:M?.iteration?.start_date,dueDate:M?.iteration?.due_date}}).sort((F,M)=>F.startDate?M.startDate?new Date(M.startDate)-new Date(F.startDate):-1:1),[_]);U.useEffect(()=>{if(L.length>0&&!h){const I=new Date,F=L.find(M=>M.startDate&&M.dueDate&&new Date(M.startDate)<=I&&new Date(M.dueDate)>=I);y(F||L[0])}},[L,h]);const B=U.useMemo(()=>{const I=new Map;return _.forEach(F=>{F.epic&&I.set(F.epic.id,F.epic)}),Array.from(I.values()).sort((F,M)=>F.title.localeCompare(M.title))},[_]),O=U.useMemo(()=>{const I=new Map;return _.forEach(F=>{F.assignees?.forEach(M=>{I.set(M.username,M)})}),Array.from(I.values()).sort((F,M)=>F.name.localeCompare(M.name))},[_]),{sprintIssues:G,backlogIssues:K}=U.useMemo(()=>{const I=[],F=[];return _.forEach(M=>{if(!(E!=="all"&&M.epic?.id!==E)&&!(N!=="all"&&!M.assignees?.some(W=>W.username===N))&&!(C!=="all"&&(C==="none"&&M.weight||C==="low"&&(!M.weight||M.weight>3)||C==="medium"&&(!M.weight||M.weight<4||M.weight>7)||C==="high"&&(!M.weight||M.weight<8)))){if(w){const W=w.toLowerCase(),P=M.title.toLowerCase().includes(W),Y=M.epic?.title.toLowerCase().includes(W),R=M.assignees?.some(ne=>ne.name.toLowerCase().includes(W)||ne.username.toLowerCase().includes(W)),$=M.weight&&M.weight.toString().includes(W),ie=M.iid.toString().includes(W);if(!P&&!Y&&!R&&!$&&!ie)return}M.state==="opened"&&(h&&M.iteration?.id===h.id?I.push(M):F.push(M))}}),{sprintIssues:I,backlogIssues:F}},[_,h,E,N,C,w]),J=U.useMemo(()=>{if(!h||a.teamMembers.length===0)return null;const I=f.sprints.find(Y=>Y.sprintId===h.id),F=a.teamMembers.map(Y=>{const R=I?.memberCapacity.find(de=>de.username===Y.username),$=R?R.availableHours:Y.defaultCapacity,ie=R?.reason||"",ne=G.filter(de=>de.assignees?.some(me=>me.username===Y.username)),oe=ne.reduce((de,me)=>de+jn(me,c),0),ue=$>0?oe/$*100:0;return{...Y,availableHours:$,allocatedHours:Math.round(oe*10)/10,remainingHours:Math.round(($-oe)*10)/10,utilization:Math.round(ue),reason:ie,issueCount:ne.length,issues:ne}}),M=F.reduce((Y,R)=>Y+R.availableHours,0),W=F.reduce((Y,R)=>Y+R.allocatedHours,0),P=M-W;return{members:F,totalAvailable:Math.round(M),totalAllocated:Math.round(W*10)/10,totalRemaining:Math.round(P*10)/10,teamUtilization:M>0?Math.round(W/M*100):0}},[h,a,c,f,G]),le=U.useMemo(()=>{const I=K.reduce((W,P)=>W+(P.weight||0),0),F=K.reduce((W,P)=>W+jn(P,c),0),M=K.filter(W=>!W.assignees||W.assignees.length===0).length;return{count:K.length,totalWeight:I,totalHours:Math.round(F*10)/10,unassigned:M}},[K,c]);return h?t.jsxs("div",{className:"container-fluid",children:[t.jsxs("div",{className:"card",style:{marginBottom:"24px",background:"#FFFFFF",border:"1px solid #E5E7EB"},children:[t.jsxs("div",{children:[t.jsxs("h2",{style:{margin:"0 0 8px 0",fontSize:"24px",fontWeight:"600",color:"#1F2937"},children:["Sprint Planning: ",h?.name]}),t.jsx("div",{style:{fontSize:"14px",color:"#6B7280"},children:"Plan your sprints with real-time capacity tracking. Use the iteration filter at the top to switch sprints."})]}),h.startDate&&(()=>{const I=new Date,F=new Date(h.startDate),M=h.dueDate?new Date(h.dueDate):null,W=M?Math.ceil((M-F)/(1e3*60*60*24)):0,P=Math.max(0,Math.ceil((I-F)/(1e3*60*60*24))),Y=M?Math.max(0,Math.ceil((M-I)/(1e3*60*60*24))):0,R=M&&W>0?Math.min(100,P/W*100):0,$=M&&I>M,ie=F<=I&&(!M||M>=I);return t.jsxs("div",{style:{marginTop:"16px",padding:"12px",background:"#F9FAFB",borderRadius:"8px",fontSize:"13px",border:"1px solid #E5E7EB"},children:[t.jsxs("div",{style:{display:"flex",gap:"24px",marginBottom:M?"12px":"0"},children:[t.jsxs("div",{children:[t.jsx("span",{style:{color:"#6B7280"},children:"Start:"})," ",t.jsx("strong",{style:{color:"#1F2937"},children:F.toLocaleDateString()})]}),M&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("span",{style:{color:"#6B7280"},children:"End:"})," ",t.jsx("strong",{style:{color:"#1F2937"},children:M.toLocaleDateString()})]}),t.jsxs("div",{children:[t.jsx("span",{style:{color:"#6B7280"},children:"Duration:"})," ",t.jsxs("strong",{style:{color:"#1F2937"},children:[W," days"]})]}),t.jsxs("div",{children:[t.jsx("span",{style:{color:"#6B7280"},children:$?"Overdue:":ie?"Remaining:":"Starts in:"})," ",t.jsx("strong",{style:{color:$?"#DC2626":"#E60000"},children:$?`${Math.abs(Y)} days`:ie?`${Y} days`:`${Math.abs(P)} days`})]}),t.jsxs("div",{children:[t.jsx("span",{style:{color:"#6B7280"},children:"Progress:"})," ",t.jsxs("strong",{style:{color:"#1F2937"},children:[Math.round(R),"%"]})]})]})]}),M&&t.jsx("div",{style:{width:"100%",height:"6px",background:"#E5E7EB",borderRadius:"3px",overflow:"hidden"},children:t.jsx("div",{style:{width:`${R}%`,height:"100%",background:$?"#DC2626":"#E60000",transition:"width 0.3s ease"}})})]})})()]}),a.teamMembers.length===0&&t.jsx("div",{className:"card",style:{marginBottom:"24px",background:"#FEF3C7",border:"2px solid #F59E0B"},children:t.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"16px"},children:[t.jsx("div",{style:{fontSize:"32px"},children:""}),t.jsxs("div",{style:{flex:1},children:[t.jsx("h3",{style:{margin:"0 0 8px 0",fontSize:"18px",fontWeight:"600",color:"#92400E"},children:"Team Configuration Required"}),t.jsx("p",{style:{margin:"0 0 16px 0",fontSize:"14px",color:"#78350F",lineHeight:"1.5"},children:"To use Sprint Planning and capacity tracking, you need to configure your team members first. Team configuration is project-specific, so each project in your portfolio needs its own team setup."}),d&&t.jsx("div",{style:{marginBottom:"16px"},children:t.jsx("button",{onClick:()=>d("resources"),style:{padding:"12px 24px",background:"#E60000",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s",boxShadow:"0 2px 4px rgba(230, 0, 0, 0.2)"},onMouseEnter:I=>{I.currentTarget.style.background="#B80000",I.currentTarget.style.boxShadow="0 4px 8px rgba(230, 0, 0, 0.3)"},onMouseLeave:I=>{I.currentTarget.style.background="#E60000",I.currentTarget.style.boxShadow="0 2px 4px rgba(230, 0, 0, 0.2)"},children:"Go to Team Configuration "})}),t.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[t.jsxs("div",{style:{padding:"12px 16px",background:"white",borderRadius:"6px",fontSize:"13px",border:"1px solid #F59E0B"},children:[t.jsx("div",{style:{fontWeight:"600",color:"#92400E",marginBottom:"4px"},children:"Step 1: Configure Team"}),t.jsx("div",{style:{color:"#78350F"},children:"Add team members and assign roles"})]}),t.jsxs("div",{style:{padding:"12px 16px",background:"white",borderRadius:"6px",fontSize:"13px",border:"1px solid #F59E0B"},children:[t.jsx("div",{style:{fontWeight:"600",color:"#92400E",marginBottom:"4px"},children:"Step 2: Set Capacity"}),t.jsx("div",{style:{color:"#78350F"},children:"Configure weekly capacity and story point conversion rates"})]}),t.jsxs("div",{style:{padding:"12px 16px",background:"white",borderRadius:"6px",fontSize:"13px",border:"1px solid #F59E0B"},children:[t.jsx("div",{style:{fontWeight:"600",color:"#92400E",marginBottom:"4px"},children:"Quick Start"}),t.jsxs("div",{style:{color:"#78350F"},children:["Use ",t.jsx("strong",{children:'"Import from Issues"'})," to automatically detect team members"]})]})]})]})]})}),J&&t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",marginBottom:"24px"},children:[t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"13px",color:"#6B7280",marginBottom:"8px"},children:"Team Capacity"}),t.jsxs("div",{style:{fontSize:"28px",fontWeight:"700",color:"#1F2937"},children:[J.totalAvailable,"h"]}),t.jsxs("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:[a.teamMembers.length," team members"]})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"13px",color:"#6B7280",marginBottom:"8px"},children:"Allocated"}),t.jsxs("div",{style:{fontSize:"28px",fontWeight:"700",color:"#DC2626"},children:[J.totalAllocated,"h"]}),t.jsxs("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:[G.length," issues"]})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"13px",color:"#6B7280",marginBottom:"8px"},children:"Remaining"}),t.jsxs("div",{style:{fontSize:"28px",fontWeight:"700",color:J.totalRemaining<0?"#DC2626":"#059669"},children:[J.totalRemaining,"h"]}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:J.totalRemaining<0?"Over capacity!":"Available"})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"13px",color:"#6B7280",marginBottom:"8px"},children:"Utilization"}),t.jsxs("div",{style:{fontSize:"28px",fontWeight:"700",color:J.teamUtilization>=100?"#DC2626":J.teamUtilization>=80?"#D97706":"#059669"},children:[J.teamUtilization,"%"]}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:J.teamUtilization>=100?"Overloaded":J.teamUtilization>=80?"At capacity":"Healthy"})]})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:b?"1fr 400px":"1fr",gap:"24px"},children:[t.jsxs("div",{children:[t.jsx("div",{className:"card",style:{marginBottom:"20px",background:"#F9FAFB"},children:t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"12px"},children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",marginBottom:"6px",color:"#6B7280"},children:"Search Issues"}),t.jsx("input",{type:"text",value:w,onChange:I=>T(I.target.value),placeholder:"Search by title, epic, assignee, weight, or #ID...",style:{width:"100%",padding:"8px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px"}})]}),t.jsx(id,{label:"Filter by Epic",value:E,onChange:A,placeholder:"All Epics",options:[{value:"all",label:"All Epics"},...B.map(I=>({value:I.id,label:I.title}))]}),t.jsx(id,{label:"Filter by Assignee",value:N,onChange:k,placeholder:"All Assignees",options:[{value:"all",label:"All Assignees"},...O.map(I=>({value:I.username,label:I.name,subtitle:I.username}))]}),t.jsx(id,{label:"Filter by Weight",value:C,onChange:D,placeholder:"All Weights",options:[{value:"all",label:"All Weights"},{value:"none",label:"No Weight"},{value:"low",label:"Low (1-3)"},{value:"medium",label:"Medium (4-7)"},{value:"high",label:"High (8+)"}]})]})}),J&&t.jsxs("div",{className:"card",children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[t.jsx("h3",{style:{margin:0,fontSize:"18px",fontWeight:"600"},children:"Team Capacity Breakdown"}),t.jsxs("button",{onClick:()=>j(!b),style:{padding:"8px 16px",background:b?"#DC2626":"#059669",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:[b?"Hide":"Show"," Backlog"]})]}),J.members.map(I=>{const F=I.utilization>=100,M=I.utilization>=80&&I.utilization<100,W=v===I.username;return t.jsxs("div",{style:{marginBottom:"16px",padding:"16px",background:F?"#FEF2F2":M?"#FEF3C7":"#F9FAFB",borderRadius:"8px",border:`2px solid ${F?"#FEE2E2":M?"#FDE68A":"#E5E7EB"}`},children:[t.jsxs("div",{onClick:()=>m(W?null:I.username),style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"12px"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[t.jsx("span",{style:{fontSize:"16px",fontWeight:"600",color:"#1F2937"},children:I.name}),t.jsx("span",{style:{padding:"3px 8px",background:"#EFF6FF",color:"#2563EB",borderRadius:"12px",fontSize:"11px",fontWeight:"600"},children:I.role}),I.reason&&t.jsx("span",{style:{padding:"3px 8px",background:"#FEF3C7",color:"#92400E",borderRadius:"12px",fontSize:"11px",fontWeight:"500"},children:I.reason})]}),t.jsxs("div",{style:{fontSize:"13px",color:"#6B7280"},children:[I.allocatedHours,"h / ",I.availableHours,"h","  ",I.issueCount," issues","  ",t.jsxs("span",{style:{fontWeight:"600",color:F?"#DC2626":M?"#D97706":"#059669"},children:[I.utilization,"% utilization"]})]})]}),t.jsx("div",{style:{fontSize:"20px",color:"#9CA3AF"},children:W?"":""})]}),t.jsx("div",{style:{marginTop:"12px"},children:t.jsx("div",{style:{width:"100%",height:"10px",background:"#E5E7EB",borderRadius:"5px",overflow:"hidden"},children:t.jsx("div",{style:{width:`${Math.min(I.utilization,100)}%`,height:"100%",background:F?"#DC2626":M?"#D97706":"#059669",transition:"width 0.3s ease"}})})}),W&&I.issues.length>0&&t.jsx("div",{style:{marginTop:"16px"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{borderBottom:"1px solid #E5E7EB"},children:[t.jsx("th",{style:{padding:"8px",textAlign:"left",fontSize:"11px",fontWeight:"600",color:"#6B7280"},children:"ID"}),t.jsx("th",{style:{padding:"8px",textAlign:"left",fontSize:"11px",fontWeight:"600",color:"#6B7280"},children:"Title"}),t.jsx("th",{style:{padding:"8px",textAlign:"center",fontSize:"11px",fontWeight:"600",color:"#6B7280"},children:"Weight"}),t.jsx("th",{style:{padding:"8px",textAlign:"center",fontSize:"11px",fontWeight:"600",color:"#6B7280"},children:"Hours"})]})}),t.jsx("tbody",{children:I.issues.map(P=>{const Y=jn(P,c);return t.jsxs("tr",{style:{borderBottom:"1px solid #F3F4F6"},children:[t.jsxs("td",{style:{padding:"8px",color:"#6B7280"},children:["#",P.iid]}),t.jsx("td",{style:{padding:"8px",color:"#374151"},children:t.jsx("div",{style:{maxWidth:"300px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:P.title})}),t.jsx("td",{style:{padding:"8px",textAlign:"center"},children:P.weight?t.jsx("span",{style:{padding:"2px 6px",background:"#DBEAFE",color:"#1E40AF",borderRadius:"4px",fontSize:"11px",fontWeight:"600"},children:P.weight}):"-"}),t.jsxs("td",{style:{padding:"8px",textAlign:"center",fontWeight:"600",color:"#374151"},children:[Y.toFixed(1),"h"]})]},P.id)})})]})})]},I.username)})]})]}),b&&t.jsx("div",{children:t.jsxs("div",{className:"card",style:{position:"sticky",top:"20px",maxHeight:"calc(100vh - 40px)",overflow:"auto"},children:[t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("h3",{style:{margin:"0 0 8px 0",fontSize:"18px",fontWeight:"600"},children:"Backlog"}),t.jsxs("div",{style:{fontSize:"13px",color:"#6B7280"},children:[le.count," issues  ",le.totalWeight," points  ",le.totalHours,"h",le.unassigned>0&&t.jsxs("span",{style:{color:"#D97706",fontWeight:"600"},children:[" ","  ",le.unassigned," unassigned"]})]})]}),K.length===0?t.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"#9CA3AF",fontSize:"14px"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"12px"},children:""}),t.jsx("div",{children:"All issues are assigned to sprints!"})]}):t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:K.map(I=>{const F=jn(I,c);return t.jsxs("div",{style:{padding:"12px",background:"#F9FAFB",borderRadius:"6px",border:"1px solid #E5E7EB",fontSize:"13px"},children:[t.jsx("div",{style:{display:"flex",justifyContent:"between",alignItems:"start",gap:"8px",marginBottom:"6px"},children:t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{fontWeight:"600",color:"#374151",marginBottom:"4px"},children:["#",I.iid," ",I.title]}),I.epic&&t.jsxs("div",{style:{fontSize:"11px",color:"#6B7280",marginBottom:"4px"},children:[" ",I.epic.title]}),t.jsxs("div",{style:{display:"flex",gap:"6px",flexWrap:"wrap"},children:[I.weight&&t.jsxs("span",{style:{padding:"2px 6px",background:"#DBEAFE",color:"#1E40AF",borderRadius:"4px",fontSize:"11px",fontWeight:"600"},children:[I.weight," pts"]}),t.jsxs("span",{style:{padding:"2px 6px",background:"#F3F4F6",color:"#6B7280",borderRadius:"4px",fontSize:"11px",fontWeight:"500"},children:[F.toFixed(1),"h"]}),I.assignees&&I.assignees.length>0&&t.jsx("span",{style:{padding:"2px 6px",background:"#DCFCE7",color:"#166534",borderRadius:"4px",fontSize:"11px",fontWeight:"500"},children:I.assignees[0].name})]})]})}),t.jsx("div",{style:{fontSize:"11px",color:"#9CA3AF",marginTop:"6px"},children:" Tip: Assign to sprint in GitLab to move from backlog"})]},I.id)})})]})})]})]}):t.jsx("div",{className:"container-fluid",children:t.jsxs("div",{className:"card",style:{textAlign:"center",padding:"60px",color:"#6B7280"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),t.jsx("div",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"8px"},children:"No Sprints Found"}),t.jsx("div",{style:{fontSize:"14px"},children:"Make sure your issues have iterations assigned to see sprint planning"})]})})}const S2=Object.freeze(Object.defineProperty({__proto__:null,default:b2},Symbol.toStringTag,{value:"Module"}));</script>
    <style rel="stylesheet" crossorigin>:root{--primary: #E60000;--primary-dark: #B80000;--bg-primary: #FFFFFF;--bg-secondary: #F8F9FA;--bg-tertiary: #F3F4F6;--text-primary: #1F2937;--text-secondary: #6B7280;--text-tertiary: #9CA3AF;--border-light: #E5E7EB;--border-medium: #D1D5DB;--success: #059669;--warning: #D97706;--danger: #DC2626;--info: #2563EB}*{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Arial,sans-serif;background:var(--bg-secondary);color:var(--text-primary);line-height:1.6}.header{background:var(--bg-primary);border-bottom:1px solid var(--border-light);box-shadow:0 1px 3px #0000000d}.card{background:var(--bg-primary);border:1px solid var(--border-light);border-radius:8px;padding:24px;box-shadow:0 1px 2px #0000000d}.card:hover{box-shadow:0 4px 6px #00000012}.btn{padding:10px 20px;font-size:14px;font-weight:500;border:1px solid var(--border-medium);border-radius:6px;cursor:pointer;transition:all .2s;background:var(--bg-primary);color:var(--text-primary)}.btn:hover{border-color:var(--border-medium);background:var(--bg-tertiary)}.btn-primary{background:var(--primary);color:#fff;border-color:var(--primary)}.btn-primary:hover{background:var(--primary-dark);border-color:var(--primary-dark)}h1{font-size:28px;font-weight:600;line-height:1.2}h2{font-size:24px;font-weight:600;line-height:1.3}h3{font-size:18px;font-weight:600;line-height:1.4}.container{max-width:1400px;margin:0 auto;padding:20px}.container-fluid{width:100%;padding:20px;margin:0}.container-timeline{width:100%;padding:20px 10px;margin:0}.grid{display:grid;gap:20px}.grid-2{grid-template-columns:repeat(2,1fr)}.grid-3{grid-template-columns:repeat(3,1fr)}.grid-4{grid-template-columns:repeat(4,1fr)}.metric-card{text-align:center;padding:20px}.metric-value{font-size:32px;font-weight:700;color:var(--text-primary);margin:8px 0}.metric-label{font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--text-secondary)}.health-circle{width:120px;height:120px;border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto;font-size:32px;font-weight:700;color:#fff}.health-good{background:var(--success)}.health-warning{background:var(--warning)}.health-danger{background:var(--danger)}.badge{display:inline-block;padding:4px 8px;border-radius:4px;font-size:12px;font-weight:500}.badge-success{background:#d1fae5;color:var(--success)}.badge-warning{background:#fef3c7;color:var(--warning)}.badge-danger{background:#fee2e2;color:var(--danger)}.badge-info{background:#dbeafe;color:var(--info)}.progress-bar{width:100%;height:8px;background:var(--bg-tertiary);border-radius:4px;overflow:hidden}.progress-fill{height:100%;background:var(--primary);transition:width .3s ease}table{width:100%;border-collapse:collapse}th,td{padding:12px;text-align:left;border-bottom:1px solid var(--border-light)}th{font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--text-secondary);background:var(--bg-secondary)}tr:hover{background:var(--bg-secondary)}.tabs{display:flex;gap:4px;border-bottom:1px solid var(--border-light);background:var(--bg-primary);padding:0 20px}.tab{padding:12px 20px;font-size:14px;font-weight:500;color:var(--text-secondary);background:transparent;border:none;border-bottom:2px solid transparent;cursor:pointer;transition:all .2s}.tab:hover{color:var(--text-primary)}.tab.active{color:var(--primary);border-bottom-color:var(--primary)}.modal-overlay{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal{background:var(--bg-primary);border-radius:8px;max-width:600px;width:90%;max-height:90vh;overflow-y:auto;box-shadow:0 20px 25px -5px #0000001a}.modal-header{padding:24px;border-bottom:1px solid var(--border-light);display:flex;justify-content:space-between;align-items:center}.modal-body{padding:24px}.modal-footer{padding:24px;border-top:1px solid var(--border-light);display:flex;justify-content:flex-end;gap:12px}.form-group{margin-bottom:20px}.form-label{display:block;font-size:13px;font-weight:500;color:var(--text-primary);margin-bottom:6px}.form-input,.form-select,.form-textarea{width:100%;padding:10px 12px;font-size:14px;border:1px solid var(--border-medium);border-radius:6px;background:var(--bg-primary);color:var(--text-primary)}.form-input:focus,.form-select:focus,.form-textarea:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px #e600001a}.form-textarea{resize:vertical;min-height:100px}.text-center{text-align:center}.text-right{text-align:right}.mb-1{margin-bottom:8px}.mb-2{margin-bottom:16px}.mb-3{margin-bottom:24px}.mt-1{margin-top:8px}.mt-2{margin-top:16px}.mt-3{margin-top:24px}.text-muted{color:var(--text-secondary)}.text-small{font-size:12px}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes pulse{0%,to{opacity:1;border-color:#3b82f6}50%{opacity:.7;border-color:#60a5fa}}</style>
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>
