<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GitHarmony - teams in tune</title>
    <script type="module" crossorigin>(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function c(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(a){if(a.ep)return;a.ep=!0;const u=c(a);fetch(a.href,u)}})();function xm(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var xc={exports:{}},xl={};var Xf;function gm(){if(Xf)return xl;Xf=1;var l=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function c(o,a,u){var f=null;if(u!==void 0&&(f=""+u),a.key!==void 0&&(f=""+a.key),"key"in a){u={};for(var x in a)x!=="key"&&(u[x]=a[x])}else u=a;return a=u.ref,{$$typeof:l,type:o,key:f,ref:a!==void 0?a:null,props:u}}return xl.Fragment=r,xl.jsx=c,xl.jsxs=c,xl}var Zf;function mm(){return Zf||(Zf=1,xc.exports=gm()),xc.exports}var t=mm(),gc={exports:{}},me={};var Kf;function ym(){if(Kf)return me;Kf=1;var l=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),y=Symbol.iterator;function S(C){return C===null||typeof C!="object"?null:(C=y&&C[y]||C["@@iterator"],typeof C=="function"?C:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,M={};function W(C,U,ne){this.props=C,this.context=U,this.refs=M,this.updater=ne||w}W.prototype.isReactComponent={},W.prototype.setState=function(C,U){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,U,"setState")},W.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function q(){}q.prototype=W.prototype;function I(C,U,ne){this.props=C,this.context=U,this.refs=M,this.updater=ne||w}var N=I.prototype=new q;N.constructor=I,D(N,W.prototype),N.isPureReactComponent=!0;var B=Array.isArray;function z(){}var F={H:null,A:null,T:null,S:null},_=Object.prototype.hasOwnProperty;function j(C,U,ne){var ie=ne.ref;return{$$typeof:l,type:C,key:U,ref:ie!==void 0?ie:null,props:ne}}function G(C,U){return j(C.type,U,C.props)}function P(C){return typeof C=="object"&&C!==null&&C.$$typeof===l}function ee(C){var U={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(ne){return U[ne]})}var le=/\/+/g;function re(C,U){return typeof C=="object"&&C!==null&&C.key!=null?ee(""+C.key):U.toString(36)}function T(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(z,z):(C.status="pending",C.then(function(U){C.status==="pending"&&(C.status="fulfilled",C.value=U)},function(U){C.status==="pending"&&(C.status="rejected",C.reason=U)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function A(C,U,ne,ie,de){var ue=typeof C;(ue==="undefined"||ue==="boolean")&&(C=null);var ce=!1;if(C===null)ce=!0;else switch(ue){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(C.$$typeof){case l:case r:ce=!0;break;case m:return ce=C._init,A(ce(C._payload),U,ne,ie,de)}}if(ce)return de=de(C),ce=ie===""?"."+re(C,0):ie,B(de)?(ne="",ce!=null&&(ne=ce.replace(le,"$&/")+"/"),A(de,U,ne,"",function(Zt){return Zt})):de!=null&&(P(de)&&(de=G(de,ne+(de.key==null||C&&C.key===de.key?"":(""+de.key).replace(le,"$&/")+"/")+ce)),U.push(de)),1;ce=0;var ye=ie===""?".":ie+":";if(B(C))for(var Se=0;Se<C.length;Se++)ie=C[Se],ue=ye+re(ie,Se),ce+=A(ie,U,ne,ue,de);else if(Se=S(C),typeof Se=="function")for(C=Se.call(C),Se=0;!(ie=C.next()).done;)ie=ie.value,ue=ye+re(ie,Se++),ce+=A(ie,U,ne,ue,de);else if(ue==="object"){if(typeof C.then=="function")return A(T(C),U,ne,ie,de);throw U=String(C),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return ce}function k(C,U,ne){if(C==null)return C;var ie=[],de=0;return A(C,ie,"","",function(ue){return U.call(ne,ue,de++)}),ie}function L(C){if(C._status===-1){var U=C._result;U=U(),U.then(function(ne){(C._status===0||C._status===-1)&&(C._status=1,C._result=ne)},function(ne){(C._status===0||C._status===-1)&&(C._status=2,C._result=ne)}),C._status===-1&&(C._status=0,C._result=U)}if(C._status===1)return C._result.default;throw C._result}var H=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},K={map:k,forEach:function(C,U,ne){k(C,function(){U.apply(this,arguments)},ne)},count:function(C){var U=0;return k(C,function(){U++}),U},toArray:function(C){return k(C,function(U){return U})||[]},only:function(C){if(!P(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return me.Activity=b,me.Children=K,me.Component=W,me.Fragment=c,me.Profiler=a,me.PureComponent=I,me.StrictMode=o,me.Suspense=g,me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,me.__COMPILER_RUNTIME={__proto__:null,c:function(C){return F.H.useMemoCache(C)}},me.cache=function(C){return function(){return C.apply(null,arguments)}},me.cacheSignal=function(){return null},me.cloneElement=function(C,U,ne){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var ie=D({},C.props),de=C.key;if(U!=null)for(ue in U.key!==void 0&&(de=""+U.key),U)!_.call(U,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&U.ref===void 0||(ie[ue]=U[ue]);var ue=arguments.length-2;if(ue===1)ie.children=ne;else if(1<ue){for(var ce=Array(ue),ye=0;ye<ue;ye++)ce[ye]=arguments[ye+2];ie.children=ce}return j(C.type,de,ie)},me.createContext=function(C){return C={$$typeof:f,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:u,_context:C},C},me.createElement=function(C,U,ne){var ie,de={},ue=null;if(U!=null)for(ie in U.key!==void 0&&(ue=""+U.key),U)_.call(U,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(de[ie]=U[ie]);var ce=arguments.length-2;if(ce===1)de.children=ne;else if(1<ce){for(var ye=Array(ce),Se=0;Se<ce;Se++)ye[Se]=arguments[Se+2];de.children=ye}if(C&&C.defaultProps)for(ie in ce=C.defaultProps,ce)de[ie]===void 0&&(de[ie]=ce[ie]);return j(C,ue,de)},me.createRef=function(){return{current:null}},me.forwardRef=function(C){return{$$typeof:x,render:C}},me.isValidElement=P,me.lazy=function(C){return{$$typeof:m,_payload:{_status:-1,_result:C},_init:L}},me.memo=function(C,U){return{$$typeof:h,type:C,compare:U===void 0?null:U}},me.startTransition=function(C){var U=F.T,ne={};F.T=ne;try{var ie=C(),de=F.S;de!==null&&de(ne,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(z,H)}catch(ue){H(ue)}finally{U!==null&&ne.types!==null&&(U.types=ne.types),F.T=U}},me.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},me.use=function(C){return F.H.use(C)},me.useActionState=function(C,U,ne){return F.H.useActionState(C,U,ne)},me.useCallback=function(C,U){return F.H.useCallback(C,U)},me.useContext=function(C){return F.H.useContext(C)},me.useDebugValue=function(){},me.useDeferredValue=function(C,U){return F.H.useDeferredValue(C,U)},me.useEffect=function(C,U){return F.H.useEffect(C,U)},me.useEffectEvent=function(C){return F.H.useEffectEvent(C)},me.useId=function(){return F.H.useId()},me.useImperativeHandle=function(C,U,ne){return F.H.useImperativeHandle(C,U,ne)},me.useInsertionEffect=function(C,U){return F.H.useInsertionEffect(C,U)},me.useLayoutEffect=function(C,U){return F.H.useLayoutEffect(C,U)},me.useMemo=function(C,U){return F.H.useMemo(C,U)},me.useOptimistic=function(C,U){return F.H.useOptimistic(C,U)},me.useReducer=function(C,U,ne){return F.H.useReducer(C,U,ne)},me.useRef=function(C){return F.H.useRef(C)},me.useState=function(C){return F.H.useState(C)},me.useSyncExternalStore=function(C,U,ne){return F.H.useSyncExternalStore(C,U,ne)},me.useTransition=function(){return F.H.useTransition()},me.version="19.2.0",me}var Jf;function Lc(){return Jf||(Jf=1,gc.exports=ym()),gc.exports}var R=Lc();const jh=xm(R);var mc={exports:{}},gl={},yc={exports:{}},vc={};var eh;function vm(){return eh||(eh=1,(function(l){function r(A,k){var L=A.length;A.push(k);e:for(;0<L;){var H=L-1>>>1,K=A[H];if(0<a(K,k))A[H]=k,A[L]=K,L=H;else break e}}function c(A){return A.length===0?null:A[0]}function o(A){if(A.length===0)return null;var k=A[0],L=A.pop();if(L!==k){A[0]=L;e:for(var H=0,K=A.length,C=K>>>1;H<C;){var U=2*(H+1)-1,ne=A[U],ie=U+1,de=A[ie];if(0>a(ne,L))ie<K&&0>a(de,ne)?(A[H]=de,A[ie]=L,H=ie):(A[H]=ne,A[U]=L,H=U);else if(ie<K&&0>a(de,L))A[H]=de,A[ie]=L,H=ie;else break e}}return k}function a(A,k){var L=A.sortIndex-k.sortIndex;return L!==0?L:A.id-k.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;l.unstable_now=function(){return u.now()}}else{var f=Date,x=f.now();l.unstable_now=function(){return f.now()-x}}var g=[],h=[],m=1,b=null,y=3,S=!1,w=!1,D=!1,M=!1,W=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function N(A){for(var k=c(h);k!==null;){if(k.callback===null)o(h);else if(k.startTime<=A)o(h),k.sortIndex=k.expirationTime,r(g,k);else break;k=c(h)}}function B(A){if(D=!1,N(A),!w)if(c(g)!==null)w=!0,z||(z=!0,ee());else{var k=c(h);k!==null&&T(B,k.startTime-A)}}var z=!1,F=-1,_=5,j=-1;function G(){return M?!0:!(l.unstable_now()-j<_)}function P(){if(M=!1,z){var A=l.unstable_now();j=A;var k=!0;try{e:{w=!1,D&&(D=!1,q(F),F=-1),S=!0;var L=y;try{t:{for(N(A),b=c(g);b!==null&&!(b.expirationTime>A&&G());){var H=b.callback;if(typeof H=="function"){b.callback=null,y=b.priorityLevel;var K=H(b.expirationTime<=A);if(A=l.unstable_now(),typeof K=="function"){b.callback=K,N(A),k=!0;break t}b===c(g)&&o(g),N(A)}else o(g);b=c(g)}if(b!==null)k=!0;else{var C=c(h);C!==null&&T(B,C.startTime-A),k=!1}}break e}finally{b=null,y=L,S=!1}k=void 0}}finally{k?ee():z=!1}}}var ee;if(typeof I=="function")ee=function(){I(P)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,re=le.port2;le.port1.onmessage=P,ee=function(){re.postMessage(null)}}else ee=function(){W(P,0)};function T(A,k){F=W(function(){A(l.unstable_now())},k)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(A){A.callback=null},l.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<A?Math.floor(1e3/A):5},l.unstable_getCurrentPriorityLevel=function(){return y},l.unstable_next=function(A){switch(y){case 1:case 2:case 3:var k=3;break;default:k=y}var L=y;y=k;try{return A()}finally{y=L}},l.unstable_requestPaint=function(){M=!0},l.unstable_runWithPriority=function(A,k){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var L=y;y=A;try{return k()}finally{y=L}},l.unstable_scheduleCallback=function(A,k,L){var H=l.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?H+L:H):L=H,A){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=L+K,A={id:m++,callback:k,priorityLevel:A,startTime:L,expirationTime:K,sortIndex:-1},L>H?(A.sortIndex=L,r(h,A),c(g)===null&&A===c(h)&&(D?(q(F),F=-1):D=!0,T(B,L-H))):(A.sortIndex=K,r(g,A),w||S||(w=!0,z||(z=!0,ee()))),A},l.unstable_shouldYield=G,l.unstable_wrapCallback=function(A){var k=y;return function(){var L=y;y=k;try{return A.apply(this,arguments)}finally{y=L}}}})(vc)),vc}var th;function bm(){return th||(th=1,yc.exports=vm()),yc.exports}var bc={exports:{}},pt={};var nh;function jm(){if(nh)return pt;nh=1;var l=Lc();function r(g){var h="https://react.dev/errors/"+g;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+g+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(){}var o={d:{f:c,r:function(){throw Error(r(522))},D:c,C:c,L:c,m:c,X:c,S:c,M:c},p:0,findDOMNode:null},a=Symbol.for("react.portal");function u(g,h,m){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:g,containerInfo:h,implementation:m}}var f=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function x(g,h){if(g==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return pt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,pt.createPortal=function(g,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(r(299));return u(g,h,null,m)},pt.flushSync=function(g){var h=f.T,m=o.p;try{if(f.T=null,o.p=2,g)return g()}finally{f.T=h,o.p=m,o.d.f()}},pt.preconnect=function(g,h){typeof g=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,o.d.C(g,h))},pt.prefetchDNS=function(g){typeof g=="string"&&o.d.D(g)},pt.preinit=function(g,h){if(typeof g=="string"&&h&&typeof h.as=="string"){var m=h.as,b=x(m,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,S=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?o.d.S(g,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:b,integrity:y,fetchPriority:S}):m==="script"&&o.d.X(g,{crossOrigin:b,integrity:y,fetchPriority:S,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},pt.preinitModule=function(g,h){if(typeof g=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=x(h.as,h.crossOrigin);o.d.M(g,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&o.d.M(g)},pt.preload=function(g,h){if(typeof g=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,b=x(m,h.crossOrigin);o.d.L(g,m,{crossOrigin:b,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},pt.preloadModule=function(g,h){if(typeof g=="string")if(h){var m=x(h.as,h.crossOrigin);o.d.m(g,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else o.d.m(g)},pt.requestFormReset=function(g){o.d.r(g)},pt.unstable_batchedUpdates=function(g,h){return g(h)},pt.useFormState=function(g,h,m){return f.H.useFormState(g,h,m)},pt.useFormStatus=function(){return f.H.useHostTransitionStatus()},pt.version="19.2.0",pt}var ih;function Sm(){if(ih)return bc.exports;ih=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(r){console.error(r)}}return l(),bc.exports=jm(),bc.exports}var sh;function Em(){if(sh)return gl;sh=1;var l=bm(),r=Lc(),c=Sm();function o(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function x(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(o(188))}function h(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(o(188));return n!==e?null:e}for(var i=e,s=n;;){var d=i.return;if(d===null)break;var p=d.alternate;if(p===null){if(s=d.return,s!==null){i=s;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===i)return g(d),e;if(p===s)return g(d),n;p=p.sibling}throw Error(o(188))}if(i.return!==s.return)i=d,s=p;else{for(var v=!1,E=d.child;E;){if(E===i){v=!0,i=d,s=p;break}if(E===s){v=!0,s=d,i=p;break}E=E.sibling}if(!v){for(E=p.child;E;){if(E===i){v=!0,i=p,s=d;break}if(E===s){v=!0,s=p,i=d;break}E=E.sibling}if(!v)throw Error(o(189))}}if(i.alternate!==s)throw Error(o(190))}if(i.tag!==3)throw Error(o(188));return i.stateNode.current===i?e:n}function m(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=m(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,y=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),I=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function ee(e){return e===null||typeof e!="object"?null:(e=P&&e[P]||e["@@iterator"],typeof e=="function"?e:null)}var le=Symbol.for("react.client.reference");function re(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===le?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case W:return"Profiler";case M:return"StrictMode";case B:return"Suspense";case z:return"SuspenseList";case j:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case w:return"Portal";case I:return e.displayName||"Context";case q:return(e._context.displayName||"Context")+".Consumer";case N:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case F:return n=e.displayName||null,n!==null?n:re(e.type)||"Memo";case _:n=e._payload,e=e._init;try{return re(e(n))}catch{}}return null}var T=Array.isArray,A=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=c.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},H=[],K=-1;function C(e){return{current:e}}function U(e){0>K||(e.current=H[K],H[K]=null,K--)}function ne(e,n){K++,H[K]=e.current,e.current=n}var ie=C(null),de=C(null),ue=C(null),ce=C(null);function ye(e,n){switch(ne(ue,n),ne(de,e),ne(ie,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?vf(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=vf(n),e=bf(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(ie),ne(ie,e)}function Se(){U(ie),U(de),U(ue)}function Zt(e){e.memoizedState!==null&&ne(ce,e);var n=ie.current,i=bf(n,e.type);n!==i&&(ne(de,e),ne(ie,i))}function Kt(e){de.current===e&&(U(ie),U(de)),ce.current===e&&(U(ce),ul._currentValue=L)}var sn,El;function ln(e){if(sn===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);sn=n&&n[1]||"",El=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sn+e+El}var js=!1;function Ss(e,n){if(!e||js)return"";js=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(J){var Z=J}Reflect.construct(e,[],ae)}else{try{ae.call()}catch(J){Z=J}e.call(ae.prototype)}}else{try{throw Error()}catch(J){Z=J}(ae=e())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(J){if(J&&Z&&typeof J.stack=="string")return[J.stack,Z.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=s.DetermineComponentFrameRoot(),v=p[0],E=p[1];if(v&&E){var O=v.split(`
`),X=E.split(`
`);for(d=s=0;s<O.length&&!O[s].includes("DetermineComponentFrameRoot");)s++;for(;d<X.length&&!X[d].includes("DetermineComponentFrameRoot");)d++;if(s===O.length||d===X.length)for(s=O.length-1,d=X.length-1;1<=s&&0<=d&&O[s]!==X[d];)d--;for(;1<=s&&0<=d;s--,d--)if(O[s]!==X[d]){if(s!==1||d!==1)do if(s--,d--,0>d||O[s]!==X[d]){var te=`
`+O[s].replace(" at new "," at ");return e.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",e.displayName)),te}while(1<=s&&0<=d);break}}}finally{js=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?ln(i):""}function Ka(e,n){switch(e.tag){case 26:case 27:case 5:return ln(e.type);case 16:return ln("Lazy");case 13:return e.child!==n&&n!==null?ln("Suspense Fallback"):ln("Suspense");case 19:return ln("SuspenseList");case 0:case 15:return Ss(e.type,!1);case 11:return Ss(e.type.render,!1);case 1:return Ss(e.type,!0);case 31:return ln("Activity");default:return""}}function Bl(e){try{var n="",i=null;do n+=Ka(e,i),i=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Es=Object.prototype.hasOwnProperty,Di=l.unstable_scheduleCallback,Bs=l.unstable_cancelCallback,Ja=l.unstable_shouldYield,eo=l.unstable_requestPaint,ft=l.unstable_now,to=l.unstable_getCurrentPriorityLevel,Cl=l.unstable_ImmediatePriority,Dl=l.unstable_UserBlockingPriority,wn=l.unstable_NormalPriority,V=l.unstable_LowPriority,oe=l.unstable_IdlePriority,ge=l.log,Me=l.unstable_setDisableYieldValue,it=null,Ne=null;function Ae(e){if(typeof ge=="function"&&Me(e),Ne&&typeof Ne.setStrictMode=="function")try{Ne.setStrictMode(it,e)}catch{}}var Ie=Math.clz32?Math.clz32:dt,Gt=Math.log,ze=Math.LN2;function dt(e){return e>>>=0,e===0?32:31-(Gt(e)/ze|0)|0}var ut=256,Rt=262144,Mt=4194304;function Vt(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Jn(e,n,i){var s=e.pendingLanes;if(s===0)return 0;var d=0,p=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var E=s&134217727;return E!==0?(s=E&~p,s!==0?d=Vt(s):(v&=E,v!==0?d=Vt(v):i||(i=E&~e,i!==0&&(d=Vt(i))))):(E=s&~p,E!==0?d=Vt(E):v!==0?d=Vt(v):i||(i=s&~e,i!==0&&(d=Vt(i)))),d===0?0:n!==0&&n!==d&&(n&p)===0&&(p=d&-d,i=n&-n,p>=i||p===32&&(i&4194048)!==0)?n:d}function zn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function wi(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jc(){var e=Mt;return Mt<<=1,(Mt&62914560)===0&&(Mt=4194304),e}function no(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function Cs(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ix(e,n,i,s,d,p){var v=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var E=e.entanglements,O=e.expirationTimes,X=e.hiddenUpdates;for(i=v&~i;0<i;){var te=31-Ie(i),ae=1<<te;E[te]=0,O[te]=-1;var Z=X[te];if(Z!==null)for(X[te]=null,te=0;te<Z.length;te++){var J=Z[te];J!==null&&(J.lane&=-536870913)}i&=~ae}s!==0&&ed(e,s,0),p!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=p&~(v&~n))}function ed(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-Ie(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|i&261930}function td(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var s=31-Ie(i),d=1<<s;d&n|e[s]&n&&(e[s]|=n),i&=~d}}function nd(e,n){var i=n&-n;return i=(i&42)!==0?1:io(i),(i&(e.suspendedLanes|n))!==0?0:i}function io(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function so(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function id(){var e=k.p;return e!==0?e:(e=window.event,e===void 0?32:$f(e.type))}function sd(e,n){var i=k.p;try{return k.p=e,n()}finally{k.p=i}}var An=Math.random().toString(36).slice(2),st="__reactFiber$"+An,mt="__reactProps$"+An,zi="__reactContainer$"+An,lo="__reactEvents$"+An,sx="__reactListeners$"+An,lx="__reactHandles$"+An,ld="__reactResources$"+An,Ds="__reactMarker$"+An;function ao(e){delete e[st],delete e[mt],delete e[lo],delete e[sx],delete e[lx]}function Ai(e){var n=e[st];if(n)return n;for(var i=e.parentNode;i;){if(n=i[zi]||i[st]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=wf(e);e!==null;){if(i=e[st])return i;e=wf(e)}return n}e=i,i=e.parentNode}return null}function ki(e){if(e=e[st]||e[zi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function ws(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(o(33))}function Ti(e){var n=e[ld];return n||(n=e[ld]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function tt(e){e[Ds]=!0}var ad=new Set,od={};function ei(e,n){Fi(e,n),Fi(e+"Capture",n)}function Fi(e,n){for(od[e]=n,e=0;e<n.length;e++)ad.add(n[e])}var ax=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rd={},cd={};function ox(e){return Es.call(cd,e)?!0:Es.call(rd,e)?!1:ax.test(e)?cd[e]=!0:(rd[e]=!0,!1)}function wl(e,n,i){if(ox(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function zl(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function an(e,n,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+s)}}function Nt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dd(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function rx(e,n,i){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,p=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(v){i=""+v,p.call(this,v)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return i},setValue:function(v){i=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function oo(e){if(!e._valueTracker){var n=dd(e)?"checked":"value";e._valueTracker=rx(e,n,""+e[n])}}function ud(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),s="";return e&&(s=dd(e)?e.checked?"true":"false":e.value),e=s,e!==i?(n.setValue(e),!0):!1}function Al(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var cx=/[\n"\\]/g;function It(e){return e.replace(cx,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ro(e,n,i,s,d,p,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),n!=null?v==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Nt(n)):e.value!==""+Nt(n)&&(e.value=""+Nt(n)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),n!=null?co(e,v,Nt(n)):i!=null?co(e,v,Nt(i)):s!=null&&e.removeAttribute("value"),d==null&&p!=null&&(e.defaultChecked=!!p),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Nt(E):e.removeAttribute("name")}function pd(e,n,i,s,d,p,v,E){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),n!=null||i!=null){if(!(p!=="submit"&&p!=="reset"||n!=null)){oo(e);return}i=i!=null?""+Nt(i):"",n=n!=null?""+Nt(n):i,E||n===e.value||(e.value=n),e.defaultValue=n}s=s??d,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=E?e.checked:!!s,e.defaultChecked=!!s,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),oo(e)}function co(e,n,i){n==="number"&&Al(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Ri(e,n,i,s){if(e=e.options,n){n={};for(var d=0;d<i.length;d++)n["$"+i[d]]=!0;for(i=0;i<e.length;i++)d=n.hasOwnProperty("$"+e[i].value),e[i].selected!==d&&(e[i].selected=d),d&&s&&(e[i].defaultSelected=!0)}else{for(i=""+Nt(i),n=null,d=0;d<e.length;d++){if(e[d].value===i){e[d].selected=!0,s&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function fd(e,n,i){if(n!=null&&(n=""+Nt(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+Nt(i):""}function hd(e,n,i,s){if(n==null){if(s!=null){if(i!=null)throw Error(o(92));if(T(s)){if(1<s.length)throw Error(o(93));s=s[0]}i=s}i==null&&(i=""),n=i}i=Nt(n),e.defaultValue=i,s=e.textContent,s===i&&s!==""&&s!==null&&(e.value=s),oo(e)}function Mi(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var dx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xd(e,n,i){var s=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,i):typeof i!="number"||i===0||dx.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function gd(e,n,i){if(n!=null&&typeof n!="object")throw Error(o(62));if(e=e.style,i!=null){for(var s in i)!i.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var d in n)s=n[d],n.hasOwnProperty(d)&&i[d]!==s&&xd(e,d,s)}else for(var p in n)n.hasOwnProperty(p)&&xd(e,p,n[p])}function uo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ux=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),px=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kl(e){return px.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function on(){}var po=null;function fo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ni=null,Ii=null;function md(e){var n=ki(e);if(n&&(e=n.stateNode)){var i=e[mt]||null;e:switch(e=n.stateNode,n.type){case"input":if(ro(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+It(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var s=i[n];if(s!==e&&s.form===e.form){var d=s[mt]||null;if(!d)throw Error(o(90));ro(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<i.length;n++)s=i[n],s.form===e.form&&ud(s)}break e;case"textarea":fd(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&Ri(e,!!i.multiple,n,!1)}}}var ho=!1;function yd(e,n,i){if(ho)return e(n,i);ho=!0;try{var s=e(n);return s}finally{if(ho=!1,(Ni!==null||Ii!==null)&&(ma(),Ni&&(n=Ni,e=Ii,Ii=Ni=null,md(n),e)))for(n=0;n<e.length;n++)md(e[n])}}function zs(e,n){var i=e.stateNode;if(i===null)return null;var s=i[mt]||null;if(s===null)return null;i=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(o(231,n,typeof i));return i}var rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xo=!1;if(rn)try{var As={};Object.defineProperty(As,"passive",{get:function(){xo=!0}}),window.addEventListener("test",As,As),window.removeEventListener("test",As,As)}catch{xo=!1}var kn=null,go=null,Tl=null;function vd(){if(Tl)return Tl;var e,n=go,i=n.length,s,d="value"in kn?kn.value:kn.textContent,p=d.length;for(e=0;e<i&&n[e]===d[e];e++);var v=i-e;for(s=1;s<=v&&n[i-s]===d[p-s];s++);return Tl=d.slice(e,1<s?1-s:void 0)}function Fl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Rl(){return!0}function bd(){return!1}function yt(e){function n(i,s,d,p,v){this._reactName=i,this._targetInst=d,this.type=s,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(i=e[E],this[E]=i?i(p):p[E]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Rl:bd,this.isPropagationStopped=bd,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Rl)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Rl)},persist:function(){},isPersistent:Rl}),n}var ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ml=yt(ti),ks=b({},ti,{view:0,detail:0}),fx=yt(ks),mo,yo,Ts,Nl=b({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ts&&(Ts&&e.type==="mousemove"?(mo=e.screenX-Ts.screenX,yo=e.screenY-Ts.screenY):yo=mo=0,Ts=e),mo)},movementY:function(e){return"movementY"in e?e.movementY:yo}}),jd=yt(Nl),hx=b({},Nl,{dataTransfer:0}),xx=yt(hx),gx=b({},ks,{relatedTarget:0}),vo=yt(gx),mx=b({},ti,{animationName:0,elapsedTime:0,pseudoElement:0}),yx=yt(mx),vx=b({},ti,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bx=yt(vx),jx=b({},ti,{data:0}),Sd=yt(jx),Sx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ex={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cx(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Bx[e])?!!n[e]:!1}function bo(){return Cx}var Dx=b({},ks,{key:function(e){if(e.key){var n=Sx[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Fl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ex[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bo,charCode:function(e){return e.type==="keypress"?Fl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wx=yt(Dx),zx=b({},Nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ed=yt(zx),Ax=b({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bo}),kx=yt(Ax),Tx=b({},ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fx=yt(Tx),Rx=b({},Nl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mx=yt(Rx),Nx=b({},ti,{newState:0,oldState:0}),Ix=yt(Nx),Ox=[9,13,27,32],jo=rn&&"CompositionEvent"in window,Fs=null;rn&&"documentMode"in document&&(Fs=document.documentMode);var _x=rn&&"TextEvent"in window&&!Fs,Bd=rn&&(!jo||Fs&&8<Fs&&11>=Fs),Cd=" ",Dd=!1;function wd(e,n){switch(e){case"keyup":return Ox.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Oi=!1;function Lx(e,n){switch(e){case"compositionend":return zd(n);case"keypress":return n.which!==32?null:(Dd=!0,Cd);case"textInput":return e=n.data,e===Cd&&Dd?null:e;default:return null}}function Wx(e,n){if(Oi)return e==="compositionend"||!jo&&wd(e,n)?(e=vd(),Tl=go=kn=null,Oi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Bd&&n.locale!=="ko"?null:n.data;default:return null}}var Ux={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ad(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ux[e.type]:n==="textarea"}function kd(e,n,i,s){Ni?Ii?Ii.push(s):Ii=[s]:Ni=s,n=Ba(n,"onChange"),0<n.length&&(i=new Ml("onChange","change",null,i,s),e.push({event:i,listeners:n}))}var Rs=null,Ms=null;function Hx(e){ff(e,0)}function Il(e){var n=ws(e);if(ud(n))return e}function Td(e,n){if(e==="change")return n}var Fd=!1;if(rn){var So;if(rn){var Eo="oninput"in document;if(!Eo){var Rd=document.createElement("div");Rd.setAttribute("oninput","return;"),Eo=typeof Rd.oninput=="function"}So=Eo}else So=!1;Fd=So&&(!document.documentMode||9<document.documentMode)}function Md(){Rs&&(Rs.detachEvent("onpropertychange",Nd),Ms=Rs=null)}function Nd(e){if(e.propertyName==="value"&&Il(Ms)){var n=[];kd(n,Ms,e,fo(e)),yd(Hx,n)}}function $x(e,n,i){e==="focusin"?(Md(),Rs=n,Ms=i,Rs.attachEvent("onpropertychange",Nd)):e==="focusout"&&Md()}function qx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Il(Ms)}function Gx(e,n){if(e==="click")return Il(n)}function Vx(e,n){if(e==="input"||e==="change")return Il(n)}function Yx(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Dt=typeof Object.is=="function"?Object.is:Yx;function Ns(e,n){if(Dt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),s=Object.keys(n);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var d=i[s];if(!Es.call(n,d)||!Dt(e[d],n[d]))return!1}return!0}function Id(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Od(e,n){var i=Id(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=n&&s>=n)return{node:i,offset:n-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Id(i)}}function _d(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?_d(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ld(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Al(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=Al(e.document)}return n}function Bo(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Px=rn&&"documentMode"in document&&11>=document.documentMode,_i=null,Co=null,Is=null,Do=!1;function Wd(e,n,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Do||_i==null||_i!==Al(s)||(s=_i,"selectionStart"in s&&Bo(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Is&&Ns(Is,s)||(Is=s,s=Ba(Co,"onSelect"),0<s.length&&(n=new Ml("onSelect","select",null,n,i),e.push({event:n,listeners:s}),n.target=_i)))}function ni(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Li={animationend:ni("Animation","AnimationEnd"),animationiteration:ni("Animation","AnimationIteration"),animationstart:ni("Animation","AnimationStart"),transitionrun:ni("Transition","TransitionRun"),transitionstart:ni("Transition","TransitionStart"),transitioncancel:ni("Transition","TransitionCancel"),transitionend:ni("Transition","TransitionEnd")},wo={},Ud={};rn&&(Ud=document.createElement("div").style,"AnimationEvent"in window||(delete Li.animationend.animation,delete Li.animationiteration.animation,delete Li.animationstart.animation),"TransitionEvent"in window||delete Li.transitionend.transition);function ii(e){if(wo[e])return wo[e];if(!Li[e])return e;var n=Li[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in Ud)return wo[e]=n[i];return e}var Hd=ii("animationend"),$d=ii("animationiteration"),qd=ii("animationstart"),Qx=ii("transitionrun"),Xx=ii("transitionstart"),Zx=ii("transitioncancel"),Gd=ii("transitionend"),Vd=new Map,zo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zo.push("scrollEnd");function Yt(e,n){Vd.set(e,n),ei(n,[e])}var Ol=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ot=[],Wi=0,Ao=0;function _l(){for(var e=Wi,n=Ao=Wi=0;n<e;){var i=Ot[n];Ot[n++]=null;var s=Ot[n];Ot[n++]=null;var d=Ot[n];Ot[n++]=null;var p=Ot[n];if(Ot[n++]=null,s!==null&&d!==null){var v=s.pending;v===null?d.next=d:(d.next=v.next,v.next=d),s.pending=d}p!==0&&Yd(i,d,p)}}function Ll(e,n,i,s){Ot[Wi++]=e,Ot[Wi++]=n,Ot[Wi++]=i,Ot[Wi++]=s,Ao|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function ko(e,n,i,s){return Ll(e,n,i,s),Wl(e)}function si(e,n){return Ll(e,null,null,n),Wl(e)}function Yd(e,n,i){e.lanes|=i;var s=e.alternate;s!==null&&(s.lanes|=i);for(var d=!1,p=e.return;p!==null;)p.childLanes|=i,s=p.alternate,s!==null&&(s.childLanes|=i),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(d=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,d&&n!==null&&(d=31-Ie(i),e=p.hiddenUpdates,s=e[d],s===null?e[d]=[n]:s.push(n),n.lane=i|536870912),p):null}function Wl(e){if(50<sl)throw sl=0,Lr=null,Error(o(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ui={};function Kx(e,n,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(e,n,i,s){return new Kx(e,n,i,s)}function To(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cn(e,n){var i=e.alternate;return i===null?(i=wt(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Pd(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ul(e,n,i,s,d,p){var v=0;if(s=e,typeof e=="function")To(e)&&(v=1);else if(typeof e=="string")v=im(e,i,ie.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case j:return e=wt(31,i,n,d),e.elementType=j,e.lanes=p,e;case D:return li(i.children,d,p,n);case M:v=8,d|=24;break;case W:return e=wt(12,i,n,d|2),e.elementType=W,e.lanes=p,e;case B:return e=wt(13,i,n,d),e.elementType=B,e.lanes=p,e;case z:return e=wt(19,i,n,d),e.elementType=z,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case I:v=10;break e;case q:v=9;break e;case N:v=11;break e;case F:v=14;break e;case _:v=16,s=null;break e}v=29,i=Error(o(130,e===null?"null":typeof e,"")),s=null}return n=wt(v,i,n,d),n.elementType=e,n.type=s,n.lanes=p,n}function li(e,n,i,s){return e=wt(7,e,s,n),e.lanes=i,e}function Fo(e,n,i){return e=wt(6,e,null,n),e.lanes=i,e}function Qd(e){var n=wt(18,null,null,0);return n.stateNode=e,n}function Ro(e,n,i){return n=wt(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Xd=new WeakMap;function _t(e,n){if(typeof e=="object"&&e!==null){var i=Xd.get(e);return i!==void 0?i:(n={value:e,source:n,stack:Bl(n)},Xd.set(e,n),n)}return{value:e,source:n,stack:Bl(n)}}var Hi=[],$i=0,Hl=null,Os=0,Lt=[],Wt=0,Tn=null,Jt=1,en="";function dn(e,n){Hi[$i++]=Os,Hi[$i++]=Hl,Hl=e,Os=n}function Zd(e,n,i){Lt[Wt++]=Jt,Lt[Wt++]=en,Lt[Wt++]=Tn,Tn=e;var s=Jt;e=en;var d=32-Ie(s)-1;s&=~(1<<d),i+=1;var p=32-Ie(n)+d;if(30<p){var v=d-d%5;p=(s&(1<<v)-1).toString(32),s>>=v,d-=v,Jt=1<<32-Ie(n)+d|i<<d|s,en=p+e}else Jt=1<<p|i<<d|s,en=e}function Mo(e){e.return!==null&&(dn(e,1),Zd(e,1,0))}function No(e){for(;e===Hl;)Hl=Hi[--$i],Hi[$i]=null,Os=Hi[--$i],Hi[$i]=null;for(;e===Tn;)Tn=Lt[--Wt],Lt[Wt]=null,en=Lt[--Wt],Lt[Wt]=null,Jt=Lt[--Wt],Lt[Wt]=null}function Kd(e,n){Lt[Wt++]=Jt,Lt[Wt++]=en,Lt[Wt++]=Tn,Jt=n.id,en=n.overflow,Tn=e}var lt=null,$e=null,we=!1,Fn=null,Ut=!1,Io=Error(o(519));function Rn(e){var n=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _s(_t(n,e)),Io}function Jd(e){var n=e.stateNode,i=e.type,s=e.memoizedProps;switch(n[st]=e,n[mt]=s,i){case"dialog":Be("cancel",n),Be("close",n);break;case"iframe":case"object":case"embed":Be("load",n);break;case"video":case"audio":for(i=0;i<al.length;i++)Be(al[i],n);break;case"source":Be("error",n);break;case"img":case"image":case"link":Be("error",n),Be("load",n);break;case"details":Be("toggle",n);break;case"input":Be("invalid",n),pd(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Be("invalid",n);break;case"textarea":Be("invalid",n),hd(n,s.value,s.defaultValue,s.children)}i=s.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||s.suppressHydrationWarning===!0||mf(n.textContent,i)?(s.popover!=null&&(Be("beforetoggle",n),Be("toggle",n)),s.onScroll!=null&&Be("scroll",n),s.onScrollEnd!=null&&Be("scrollend",n),s.onClick!=null&&(n.onclick=on),n=!0):n=!1,n||Rn(e,!0)}function eu(e){for(lt=e.return;lt;)switch(lt.tag){case 5:case 31:case 13:Ut=!1;return;case 27:case 3:Ut=!0;return;default:lt=lt.return}}function qi(e){if(e!==lt)return!1;if(!we)return eu(e),we=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||ec(e.type,e.memoizedProps)),i=!i),i&&$e&&Rn(e),eu(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));$e=Df(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));$e=Df(e)}else n===27?(n=$e,Yn(e.type)?(e=lc,lc=null,$e=e):$e=n):$e=lt?$t(e.stateNode.nextSibling):null;return!0}function ai(){$e=lt=null,we=!1}function Oo(){var e=Fn;return e!==null&&(St===null?St=e:St.push.apply(St,e),Fn=null),e}function _s(e){Fn===null?Fn=[e]:Fn.push(e)}var _o=C(null),oi=null,un=null;function Mn(e,n,i){ne(_o,n._currentValue),n._currentValue=i}function pn(e){e._currentValue=_o.current,U(_o)}function Lo(e,n,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===i)break;e=e.return}}function Wo(e,n,i,s){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var p=d.dependencies;if(p!==null){var v=d.child;p=p.firstContext;e:for(;p!==null;){var E=p;p=d;for(var O=0;O<n.length;O++)if(E.context===n[O]){p.lanes|=i,E=p.alternate,E!==null&&(E.lanes|=i),Lo(p.return,i,e),s||(v=null);break e}p=E.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(o(341));v.lanes|=i,p=v.alternate,p!==null&&(p.lanes|=i),Lo(v,i,e),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===e){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function Gi(e,n,i,s){e=null;for(var d=n,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(o(387));if(v=v.memoizedProps,v!==null){var E=d.type;Dt(d.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(d===ce.current){if(v=d.alternate,v===null)throw Error(o(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(ul):e=[ul])}d=d.return}e!==null&&Wo(n,e,i,s),n.flags|=262144}function $l(e){for(e=e.firstContext;e!==null;){if(!Dt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ri(e){oi=e,un=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function at(e){return tu(oi,e)}function ql(e,n){return oi===null&&ri(e),tu(e,n)}function tu(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},un===null){if(e===null)throw Error(o(308));un=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else un=un.next=n;return i}var Jx=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},eg=l.unstable_scheduleCallback,tg=l.unstable_NormalPriority,Xe={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uo(){return{controller:new Jx,data:new Map,refCount:0}}function Ls(e){e.refCount--,e.refCount===0&&eg(tg,function(){e.controller.abort()})}var Ws=null,Ho=0,Vi=0,Yi=null;function ng(e,n){if(Ws===null){var i=Ws=[];Ho=0,Vi=Gr(),Yi={status:"pending",value:void 0,then:function(s){i.push(s)}}}return Ho++,n.then(nu,nu),n}function nu(){if(--Ho===0&&Ws!==null){Yi!==null&&(Yi.status="fulfilled");var e=Ws;Ws=null,Vi=0,Yi=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function ig(e,n){var i=[],s={status:"pending",value:null,reason:null,then:function(d){i.push(d)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var d=0;d<i.length;d++)(0,i[d])(n)},function(d){for(s.status="rejected",s.reason=d,d=0;d<i.length;d++)(0,i[d])(void 0)}),s}var iu=A.S;A.S=function(e,n){Wp=ft(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&ng(e,n),iu!==null&&iu(e,n)};var ci=C(null);function $o(){var e=ci.current;return e!==null?e:He.pooledCache}function Gl(e,n){n===null?ne(ci,ci.current):ne(ci,n.pool)}function su(){var e=$o();return e===null?null:{parent:Xe._currentValue,pool:e}}var Pi=Error(o(460)),qo=Error(o(474)),Vl=Error(o(542)),Yl={then:function(){}};function lu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function au(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(on,on),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ru(e),e;default:if(typeof n.status=="string")n.then(on,on);else{if(e=He,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=s}},function(s){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ru(e),e}throw ui=n,Pi}}function di(e){try{var n=e._init;return n(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(ui=i,Pi):i}}var ui=null;function ou(){if(ui===null)throw Error(o(459));var e=ui;return ui=null,e}function ru(e){if(e===Pi||e===Vl)throw Error(o(483))}var Qi=null,Us=0;function Pl(e){var n=Us;return Us+=1,Qi===null&&(Qi=[]),au(Qi,e,n)}function Hs(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ql(e,n){throw n.$$typeof===y?Error(o(525)):(e=Object.prototype.toString.call(n),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function cu(e){function n(Y,$){if(e){var Q=Y.deletions;Q===null?(Y.deletions=[$],Y.flags|=16):Q.push($)}}function i(Y,$){if(!e)return null;for(;$!==null;)n(Y,$),$=$.sibling;return null}function s(Y){for(var $=new Map;Y!==null;)Y.key!==null?$.set(Y.key,Y):$.set(Y.index,Y),Y=Y.sibling;return $}function d(Y,$){return Y=cn(Y,$),Y.index=0,Y.sibling=null,Y}function p(Y,$,Q){return Y.index=Q,e?(Q=Y.alternate,Q!==null?(Q=Q.index,Q<$?(Y.flags|=67108866,$):Q):(Y.flags|=67108866,$)):(Y.flags|=1048576,$)}function v(Y){return e&&Y.alternate===null&&(Y.flags|=67108866),Y}function E(Y,$,Q,se){return $===null||$.tag!==6?($=Fo(Q,Y.mode,se),$.return=Y,$):($=d($,Q),$.return=Y,$)}function O(Y,$,Q,se){var he=Q.type;return he===D?te(Y,$,Q.props.children,se,Q.key):$!==null&&($.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===_&&di(he)===$.type)?($=d($,Q.props),Hs($,Q),$.return=Y,$):($=Ul(Q.type,Q.key,Q.props,null,Y.mode,se),Hs($,Q),$.return=Y,$)}function X(Y,$,Q,se){return $===null||$.tag!==4||$.stateNode.containerInfo!==Q.containerInfo||$.stateNode.implementation!==Q.implementation?($=Ro(Q,Y.mode,se),$.return=Y,$):($=d($,Q.children||[]),$.return=Y,$)}function te(Y,$,Q,se,he){return $===null||$.tag!==7?($=li(Q,Y.mode,se,he),$.return=Y,$):($=d($,Q),$.return=Y,$)}function ae(Y,$,Q){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=Fo(""+$,Y.mode,Q),$.return=Y,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case S:return Q=Ul($.type,$.key,$.props,null,Y.mode,Q),Hs(Q,$),Q.return=Y,Q;case w:return $=Ro($,Y.mode,Q),$.return=Y,$;case _:return $=di($),ae(Y,$,Q)}if(T($)||ee($))return $=li($,Y.mode,Q,null),$.return=Y,$;if(typeof $.then=="function")return ae(Y,Pl($),Q);if($.$$typeof===I)return ae(Y,ql(Y,$),Q);Ql(Y,$)}return null}function Z(Y,$,Q,se){var he=$!==null?$.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return he!==null?null:E(Y,$,""+Q,se);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case S:return Q.key===he?O(Y,$,Q,se):null;case w:return Q.key===he?X(Y,$,Q,se):null;case _:return Q=di(Q),Z(Y,$,Q,se)}if(T(Q)||ee(Q))return he!==null?null:te(Y,$,Q,se,null);if(typeof Q.then=="function")return Z(Y,$,Pl(Q),se);if(Q.$$typeof===I)return Z(Y,$,ql(Y,Q),se);Ql(Y,Q)}return null}function J(Y,$,Q,se,he){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return Y=Y.get(Q)||null,E($,Y,""+se,he);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case S:return Y=Y.get(se.key===null?Q:se.key)||null,O($,Y,se,he);case w:return Y=Y.get(se.key===null?Q:se.key)||null,X($,Y,se,he);case _:return se=di(se),J(Y,$,Q,se,he)}if(T(se)||ee(se))return Y=Y.get(Q)||null,te($,Y,se,he,null);if(typeof se.then=="function")return J(Y,$,Q,Pl(se),he);if(se.$$typeof===I)return J(Y,$,Q,ql($,se),he);Ql($,se)}return null}function pe(Y,$,Q,se){for(var he=null,ke=null,fe=$,be=$=0,De=null;fe!==null&&be<Q.length;be++){fe.index>be?(De=fe,fe=null):De=fe.sibling;var Te=Z(Y,fe,Q[be],se);if(Te===null){fe===null&&(fe=De);break}e&&fe&&Te.alternate===null&&n(Y,fe),$=p(Te,$,be),ke===null?he=Te:ke.sibling=Te,ke=Te,fe=De}if(be===Q.length)return i(Y,fe),we&&dn(Y,be),he;if(fe===null){for(;be<Q.length;be++)fe=ae(Y,Q[be],se),fe!==null&&($=p(fe,$,be),ke===null?he=fe:ke.sibling=fe,ke=fe);return we&&dn(Y,be),he}for(fe=s(fe);be<Q.length;be++)De=J(fe,Y,be,Q[be],se),De!==null&&(e&&De.alternate!==null&&fe.delete(De.key===null?be:De.key),$=p(De,$,be),ke===null?he=De:ke.sibling=De,ke=De);return e&&fe.forEach(function(Kn){return n(Y,Kn)}),we&&dn(Y,be),he}function xe(Y,$,Q,se){if(Q==null)throw Error(o(151));for(var he=null,ke=null,fe=$,be=$=0,De=null,Te=Q.next();fe!==null&&!Te.done;be++,Te=Q.next()){fe.index>be?(De=fe,fe=null):De=fe.sibling;var Kn=Z(Y,fe,Te.value,se);if(Kn===null){fe===null&&(fe=De);break}e&&fe&&Kn.alternate===null&&n(Y,fe),$=p(Kn,$,be),ke===null?he=Kn:ke.sibling=Kn,ke=Kn,fe=De}if(Te.done)return i(Y,fe),we&&dn(Y,be),he;if(fe===null){for(;!Te.done;be++,Te=Q.next())Te=ae(Y,Te.value,se),Te!==null&&($=p(Te,$,be),ke===null?he=Te:ke.sibling=Te,ke=Te);return we&&dn(Y,be),he}for(fe=s(fe);!Te.done;be++,Te=Q.next())Te=J(fe,Y,be,Te.value,se),Te!==null&&(e&&Te.alternate!==null&&fe.delete(Te.key===null?be:Te.key),$=p(Te,$,be),ke===null?he=Te:ke.sibling=Te,ke=Te);return e&&fe.forEach(function(hm){return n(Y,hm)}),we&&dn(Y,be),he}function Ue(Y,$,Q,se){if(typeof Q=="object"&&Q!==null&&Q.type===D&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case S:e:{for(var he=Q.key;$!==null;){if($.key===he){if(he=Q.type,he===D){if($.tag===7){i(Y,$.sibling),se=d($,Q.props.children),se.return=Y,Y=se;break e}}else if($.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===_&&di(he)===$.type){i(Y,$.sibling),se=d($,Q.props),Hs(se,Q),se.return=Y,Y=se;break e}i(Y,$);break}else n(Y,$);$=$.sibling}Q.type===D?(se=li(Q.props.children,Y.mode,se,Q.key),se.return=Y,Y=se):(se=Ul(Q.type,Q.key,Q.props,null,Y.mode,se),Hs(se,Q),se.return=Y,Y=se)}return v(Y);case w:e:{for(he=Q.key;$!==null;){if($.key===he)if($.tag===4&&$.stateNode.containerInfo===Q.containerInfo&&$.stateNode.implementation===Q.implementation){i(Y,$.sibling),se=d($,Q.children||[]),se.return=Y,Y=se;break e}else{i(Y,$);break}else n(Y,$);$=$.sibling}se=Ro(Q,Y.mode,se),se.return=Y,Y=se}return v(Y);case _:return Q=di(Q),Ue(Y,$,Q,se)}if(T(Q))return pe(Y,$,Q,se);if(ee(Q)){if(he=ee(Q),typeof he!="function")throw Error(o(150));return Q=he.call(Q),xe(Y,$,Q,se)}if(typeof Q.then=="function")return Ue(Y,$,Pl(Q),se);if(Q.$$typeof===I)return Ue(Y,$,ql(Y,Q),se);Ql(Y,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,$!==null&&$.tag===6?(i(Y,$.sibling),se=d($,Q),se.return=Y,Y=se):(i(Y,$),se=Fo(Q,Y.mode,se),se.return=Y,Y=se),v(Y)):i(Y,$)}return function(Y,$,Q,se){try{Us=0;var he=Ue(Y,$,Q,se);return Qi=null,he}catch(fe){if(fe===Pi||fe===Vl)throw fe;var ke=wt(29,fe,null,Y.mode);return ke.lanes=se,ke.return=Y,ke}finally{}}}var pi=cu(!0),du=cu(!1),Nn=!1;function Go(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vo(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function In(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function On(e,n,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Fe&2)!==0){var d=s.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),s.pending=n,n=Wl(e),Yd(e,null,i),n}return Ll(e,s,n,i),Wl(e)}function $s(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,i|=s,n.lanes=i,td(e,i)}}function Yo(e,n){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var d=null,p=null;if(i=i.firstBaseUpdate,i!==null){do{var v={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};p===null?d=p=v:p=p.next=v,i=i.next}while(i!==null);p===null?d=p=n:p=p.next=n}else d=p=n;i={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:s.shared,callbacks:s.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var Po=!1;function qs(){if(Po){var e=Yi;if(e!==null)throw e}}function Gs(e,n,i,s){Po=!1;var d=e.updateQueue;Nn=!1;var p=d.firstBaseUpdate,v=d.lastBaseUpdate,E=d.shared.pending;if(E!==null){d.shared.pending=null;var O=E,X=O.next;O.next=null,v===null?p=X:v.next=X,v=O;var te=e.alternate;te!==null&&(te=te.updateQueue,E=te.lastBaseUpdate,E!==v&&(E===null?te.firstBaseUpdate=X:E.next=X,te.lastBaseUpdate=O))}if(p!==null){var ae=d.baseState;v=0,te=X=O=null,E=p;do{var Z=E.lane&-536870913,J=Z!==E.lane;if(J?(Ce&Z)===Z:(s&Z)===Z){Z!==0&&Z===Vi&&(Po=!0),te!==null&&(te=te.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var pe=e,xe=E;Z=n;var Ue=i;switch(xe.tag){case 1:if(pe=xe.payload,typeof pe=="function"){ae=pe.call(Ue,ae,Z);break e}ae=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=xe.payload,Z=typeof pe=="function"?pe.call(Ue,ae,Z):pe,Z==null)break e;ae=b({},ae,Z);break e;case 2:Nn=!0}}Z=E.callback,Z!==null&&(e.flags|=64,J&&(e.flags|=8192),J=d.callbacks,J===null?d.callbacks=[Z]:J.push(Z))}else J={lane:Z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},te===null?(X=te=J,O=ae):te=te.next=J,v|=Z;if(E=E.next,E===null){if(E=d.shared.pending,E===null)break;J=E,E=J.next,J.next=null,d.lastBaseUpdate=J,d.shared.pending=null}}while(!0);te===null&&(O=ae),d.baseState=O,d.firstBaseUpdate=X,d.lastBaseUpdate=te,p===null&&(d.shared.lanes=0),Hn|=v,e.lanes=v,e.memoizedState=ae}}function uu(e,n){if(typeof e!="function")throw Error(o(191,e));e.call(n)}function pu(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)uu(i[e],n)}var Xi=C(null),Xl=C(0);function fu(e,n){e=jn,ne(Xl,e),ne(Xi,n),jn=e|n.baseLanes}function Qo(){ne(Xl,jn),ne(Xi,Xi.current)}function Xo(){jn=Xl.current,U(Xi),U(Xl)}var zt=C(null),Ht=null;function _n(e){var n=e.alternate;ne(Pe,Pe.current&1),ne(zt,e),Ht===null&&(n===null||Xi.current!==null||n.memoizedState!==null)&&(Ht=e)}function Zo(e){ne(Pe,Pe.current),ne(zt,e),Ht===null&&(Ht=e)}function hu(e){e.tag===22?(ne(Pe,Pe.current),ne(zt,e),Ht===null&&(Ht=e)):Ln()}function Ln(){ne(Pe,Pe.current),ne(zt,zt.current)}function At(e){U(zt),Ht===e&&(Ht=null),U(Pe)}var Pe=C(0);function Zl(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||ic(i)||sc(i)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var fn=0,ve=null,Le=null,Ze=null,Kl=!1,Zi=!1,fi=!1,Jl=0,Vs=0,Ki=null,sg=0;function Ve(){throw Error(o(321))}function Ko(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!Dt(e[i],n[i]))return!1;return!0}function Jo(e,n,i,s,d,p){return fn=p,ve=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,A.H=e===null||e.memoizedState===null?Zu:hr,fi=!1,p=i(s,d),fi=!1,Zi&&(p=gu(n,i,s,d)),xu(e),p}function xu(e){A.H=Qs;var n=Le!==null&&Le.next!==null;if(fn=0,Ze=Le=ve=null,Kl=!1,Vs=0,Ki=null,n)throw Error(o(300));e===null||Ke||(e=e.dependencies,e!==null&&$l(e)&&(Ke=!0))}function gu(e,n,i,s){ve=e;var d=0;do{if(Zi&&(Ki=null),Vs=0,Zi=!1,25<=d)throw Error(o(301));if(d+=1,Ze=Le=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}A.H=Ku,p=n(i,s)}while(Zi);return p}function lg(){var e=A.H,n=e.useState()[0];return n=typeof n.then=="function"?Ys(n):n,e=e.useState()[0],(Le!==null?Le.memoizedState:null)!==e&&(ve.flags|=1024),n}function er(){var e=Jl!==0;return Jl=0,e}function tr(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function nr(e){if(Kl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Kl=!1}fn=0,Ze=Le=ve=null,Zi=!1,Vs=Jl=0,Ki=null}function ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?ve.memoizedState=Ze=e:Ze=Ze.next=e,Ze}function Qe(){if(Le===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var n=Ze===null?ve.memoizedState:Ze.next;if(n!==null)Ze=n,Le=e;else{if(e===null)throw ve.alternate===null?Error(o(467)):Error(o(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},Ze===null?ve.memoizedState=Ze=e:Ze=Ze.next=e}return Ze}function ea(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ys(e){var n=Vs;return Vs+=1,Ki===null&&(Ki=[]),e=au(Ki,e,n),n=ve,(Ze===null?n.memoizedState:Ze.next)===null&&(n=n.alternate,A.H=n===null||n.memoizedState===null?Zu:hr),e}function ta(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ys(e);if(e.$$typeof===I)return at(e)}throw Error(o(438,String(e)))}function ir(e){var n=null,i=ve.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var s=ve.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=ea(),ve.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),s=0;s<e;s++)i[s]=G;return n.index++,i}function hn(e,n){return typeof n=="function"?n(e):n}function na(e){var n=Qe();return sr(n,Le,e)}function sr(e,n,i){var s=e.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=i;var d=e.baseQueue,p=s.pending;if(p!==null){if(d!==null){var v=d.next;d.next=p.next,p.next=v}n.baseQueue=d=p,s.pending=null}if(p=e.baseState,d===null)e.memoizedState=p;else{n=d.next;var E=v=null,O=null,X=n,te=!1;do{var ae=X.lane&-536870913;if(ae!==X.lane?(Ce&ae)===ae:(fn&ae)===ae){var Z=X.revertLane;if(Z===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ae===Vi&&(te=!0);else if((fn&Z)===Z){X=X.next,Z===Vi&&(te=!0);continue}else ae={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},O===null?(E=O=ae,v=p):O=O.next=ae,ve.lanes|=Z,Hn|=Z;ae=X.action,fi&&i(p,ae),p=X.hasEagerState?X.eagerState:i(p,ae)}else Z={lane:ae,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},O===null?(E=O=Z,v=p):O=O.next=Z,ve.lanes|=ae,Hn|=ae;X=X.next}while(X!==null&&X!==n);if(O===null?v=p:O.next=E,!Dt(p,e.memoizedState)&&(Ke=!0,te&&(i=Yi,i!==null)))throw i;e.memoizedState=p,e.baseState=v,e.baseQueue=O,s.lastRenderedState=p}return d===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function lr(e){var n=Qe(),i=n.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=e;var s=i.dispatch,d=i.pending,p=n.memoizedState;if(d!==null){i.pending=null;var v=d=d.next;do p=e(p,v.action),v=v.next;while(v!==d);Dt(p,n.memoizedState)||(Ke=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),i.lastRenderedState=p}return[p,s]}function mu(e,n,i){var s=ve,d=Qe(),p=we;if(p){if(i===void 0)throw Error(o(407));i=i()}else i=n();var v=!Dt((Le||d).memoizedState,i);if(v&&(d.memoizedState=i,Ke=!0),d=d.queue,rr(bu.bind(null,s,d,e),[e]),d.getSnapshot!==n||v||Ze!==null&&Ze.memoizedState.tag&1){if(s.flags|=2048,Ji(9,{destroy:void 0},vu.bind(null,s,d,i,n),null),He===null)throw Error(o(349));p||(fn&127)!==0||yu(s,n,i)}return i}function yu(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=ve.updateQueue,n===null?(n=ea(),ve.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function vu(e,n,i,s){n.value=i,n.getSnapshot=s,ju(n)&&Su(e)}function bu(e,n,i){return i(function(){ju(n)&&Su(e)})}function ju(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!Dt(e,i)}catch{return!0}}function Su(e){var n=si(e,2);n!==null&&Et(n,e,2)}function ar(e){var n=ht();if(typeof e=="function"){var i=e;if(e=i(),fi){Ae(!0);try{i()}finally{Ae(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:e},n}function Eu(e,n,i,s){return e.baseState=i,sr(e,Le,typeof s=="function"?s:hn)}function ag(e,n,i,s,d){if(la(e))throw Error(o(485));if(e=n.action,e!==null){var p={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){p.listeners.push(v)}};A.T!==null?i(!0):p.isTransition=!1,s(p),i=n.pending,i===null?(p.next=n.pending=p,Bu(n,p)):(p.next=i.next,n.pending=i.next=p)}}function Bu(e,n){var i=n.action,s=n.payload,d=e.state;if(n.isTransition){var p=A.T,v={};A.T=v;try{var E=i(d,s),O=A.S;O!==null&&O(v,E),Cu(e,n,E)}catch(X){or(e,n,X)}finally{p!==null&&v.types!==null&&(p.types=v.types),A.T=p}}else try{p=i(d,s),Cu(e,n,p)}catch(X){or(e,n,X)}}function Cu(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(s){Du(e,n,s)},function(s){return or(e,n,s)}):Du(e,n,i)}function Du(e,n,i){n.status="fulfilled",n.value=i,wu(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,Bu(e,i)))}function or(e,n,i){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=i,wu(n),n=n.next;while(n!==s)}e.action=null}function wu(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function zu(e,n){return n}function Au(e,n){if(we){var i=He.formState;if(i!==null){e:{var s=ve;if(we){if($e){t:{for(var d=$e,p=Ut;d.nodeType!==8;){if(!p){d=null;break t}if(d=$t(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){$e=$t(d.nextSibling),s=d.data==="F!";break e}}Rn(s)}s=!1}s&&(n=i[0])}}return i=ht(),i.memoizedState=i.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zu,lastRenderedState:n},i.queue=s,i=Pu.bind(null,ve,s),s.dispatch=i,s=ar(!1),p=fr.bind(null,ve,!1,s.queue),s=ht(),d={state:n,dispatch:null,action:e,pending:null},s.queue=d,i=ag.bind(null,ve,d,p,i),d.dispatch=i,s.memoizedState=e,[n,i,!1]}function ku(e){var n=Qe();return Tu(n,Le,e)}function Tu(e,n,i){if(n=sr(e,n,zu)[0],e=na(hn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=Ys(n)}catch(v){throw v===Pi?Vl:v}else s=n;n=Qe();var d=n.queue,p=d.dispatch;return i!==n.memoizedState&&(ve.flags|=2048,Ji(9,{destroy:void 0},og.bind(null,d,i),null)),[s,p,e]}function og(e,n){e.action=n}function Fu(e){var n=Qe(),i=Le;if(i!==null)return Tu(n,i,e);Qe(),n=n.memoizedState,i=Qe();var s=i.queue.dispatch;return i.memoizedState=e,[n,s,!1]}function Ji(e,n,i,s){return e={tag:e,create:i,deps:s,inst:n,next:null},n=ve.updateQueue,n===null&&(n=ea(),ve.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,n.lastEffect=e),e}function Ru(){return Qe().memoizedState}function ia(e,n,i,s){var d=ht();ve.flags|=e,d.memoizedState=Ji(1|n,{destroy:void 0},i,s===void 0?null:s)}function sa(e,n,i,s){var d=Qe();s=s===void 0?null:s;var p=d.memoizedState.inst;Le!==null&&s!==null&&Ko(s,Le.memoizedState.deps)?d.memoizedState=Ji(n,p,i,s):(ve.flags|=e,d.memoizedState=Ji(1|n,p,i,s))}function Mu(e,n){ia(8390656,8,e,n)}function rr(e,n){sa(2048,8,e,n)}function rg(e){ve.flags|=4;var n=ve.updateQueue;if(n===null)n=ea(),ve.updateQueue=n,n.events=[e];else{var i=n.events;i===null?n.events=[e]:i.push(e)}}function Nu(e){var n=Qe().memoizedState;return rg({ref:n,nextImpl:e}),function(){if((Fe&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}function Iu(e,n){return sa(4,2,e,n)}function Ou(e,n){return sa(4,4,e,n)}function _u(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Lu(e,n,i){i=i!=null?i.concat([e]):null,sa(4,4,_u.bind(null,n,e),i)}function cr(){}function Wu(e,n){var i=Qe();n=n===void 0?null:n;var s=i.memoizedState;return n!==null&&Ko(n,s[1])?s[0]:(i.memoizedState=[e,n],e)}function Uu(e,n){var i=Qe();n=n===void 0?null:n;var s=i.memoizedState;if(n!==null&&Ko(n,s[1]))return s[0];if(s=e(),fi){Ae(!0);try{e()}finally{Ae(!1)}}return i.memoizedState=[s,n],s}function dr(e,n,i){return i===void 0||(fn&1073741824)!==0&&(Ce&261930)===0?e.memoizedState=n:(e.memoizedState=i,e=Hp(),ve.lanes|=e,Hn|=e,i)}function Hu(e,n,i,s){return Dt(i,n)?i:Xi.current!==null?(e=dr(e,i,s),Dt(e,n)||(Ke=!0),e):(fn&42)===0||(fn&1073741824)!==0&&(Ce&261930)===0?(Ke=!0,e.memoizedState=i):(e=Hp(),ve.lanes|=e,Hn|=e,n)}function $u(e,n,i,s,d){var p=k.p;k.p=p!==0&&8>p?p:8;var v=A.T,E={};A.T=E,fr(e,!1,n,i);try{var O=d(),X=A.S;if(X!==null&&X(E,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var te=ig(O,s);Ps(e,n,te,Ft(e))}else Ps(e,n,s,Ft(e))}catch(ae){Ps(e,n,{then:function(){},status:"rejected",reason:ae},Ft())}finally{k.p=p,v!==null&&E.types!==null&&(v.types=E.types),A.T=v}}function cg(){}function ur(e,n,i,s){if(e.tag!==5)throw Error(o(476));var d=qu(e).queue;$u(e,d,n,L,i===null?cg:function(){return Gu(e),i(s)})}function qu(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:L},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Gu(e){var n=qu(e);n.next===null&&(n=e.alternate.memoizedState),Ps(e,n.next.queue,{},Ft())}function pr(){return at(ul)}function Vu(){return Qe().memoizedState}function Yu(){return Qe().memoizedState}function dg(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=Ft();e=In(i);var s=On(n,e,i);s!==null&&(Et(s,n,i),$s(s,n,i)),n={cache:Uo()},e.payload=n;return}n=n.return}}function ug(e,n,i){var s=Ft();i={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},la(e)?Qu(n,i):(i=ko(e,n,i,s),i!==null&&(Et(i,e,s),Xu(i,n,s)))}function Pu(e,n,i){var s=Ft();Ps(e,n,i,s)}function Ps(e,n,i,s){var d={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(la(e))Qu(n,d);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var v=n.lastRenderedState,E=p(v,i);if(d.hasEagerState=!0,d.eagerState=E,Dt(E,v))return Ll(e,n,d,0),He===null&&_l(),!1}catch{}finally{}if(i=ko(e,n,d,s),i!==null)return Et(i,e,s),Xu(i,n,s),!0}return!1}function fr(e,n,i,s){if(s={lane:2,revertLane:Gr(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},la(e)){if(n)throw Error(o(479))}else n=ko(e,i,s,2),n!==null&&Et(n,e,2)}function la(e){var n=e.alternate;return e===ve||n!==null&&n===ve}function Qu(e,n){Zi=Kl=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function Xu(e,n,i){if((i&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,i|=s,n.lanes=i,td(e,i)}}var Qs={readContext:at,use:ta,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve,useHostTransitionStatus:Ve,useFormState:Ve,useActionState:Ve,useOptimistic:Ve,useMemoCache:Ve,useCacheRefresh:Ve};Qs.useEffectEvent=Ve;var Zu={readContext:at,use:ta,useCallback:function(e,n){return ht().memoizedState=[e,n===void 0?null:n],e},useContext:at,useEffect:Mu,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,ia(4194308,4,_u.bind(null,n,e),i)},useLayoutEffect:function(e,n){return ia(4194308,4,e,n)},useInsertionEffect:function(e,n){ia(4,2,e,n)},useMemo:function(e,n){var i=ht();n=n===void 0?null:n;var s=e();if(fi){Ae(!0);try{e()}finally{Ae(!1)}}return i.memoizedState=[s,n],s},useReducer:function(e,n,i){var s=ht();if(i!==void 0){var d=i(n);if(fi){Ae(!0);try{i(n)}finally{Ae(!1)}}}else d=n;return s.memoizedState=s.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},s.queue=e,e=e.dispatch=ug.bind(null,ve,e),[s.memoizedState,e]},useRef:function(e){var n=ht();return e={current:e},n.memoizedState=e},useState:function(e){e=ar(e);var n=e.queue,i=Pu.bind(null,ve,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:cr,useDeferredValue:function(e,n){var i=ht();return dr(i,e,n)},useTransition:function(){var e=ar(!1);return e=$u.bind(null,ve,e.queue,!0,!1),ht().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var s=ve,d=ht();if(we){if(i===void 0)throw Error(o(407));i=i()}else{if(i=n(),He===null)throw Error(o(349));(Ce&127)!==0||yu(s,n,i)}d.memoizedState=i;var p={value:i,getSnapshot:n};return d.queue=p,Mu(bu.bind(null,s,p,e),[e]),s.flags|=2048,Ji(9,{destroy:void 0},vu.bind(null,s,p,i,n),null),i},useId:function(){var e=ht(),n=He.identifierPrefix;if(we){var i=en,s=Jt;i=(s&~(1<<32-Ie(s)-1)).toString(32)+i,n="_"+n+"R_"+i,i=Jl++,0<i&&(n+="H"+i.toString(32)),n+="_"}else i=sg++,n="_"+n+"r_"+i.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:pr,useFormState:Au,useActionState:Au,useOptimistic:function(e){var n=ht();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=fr.bind(null,ve,!0,i),i.dispatch=n,[e,n]},useMemoCache:ir,useCacheRefresh:function(){return ht().memoizedState=dg.bind(null,ve)},useEffectEvent:function(e){var n=ht(),i={impl:e};return n.memoizedState=i,function(){if((Fe&2)!==0)throw Error(o(440));return i.impl.apply(void 0,arguments)}}},hr={readContext:at,use:ta,useCallback:Wu,useContext:at,useEffect:rr,useImperativeHandle:Lu,useInsertionEffect:Iu,useLayoutEffect:Ou,useMemo:Uu,useReducer:na,useRef:Ru,useState:function(){return na(hn)},useDebugValue:cr,useDeferredValue:function(e,n){var i=Qe();return Hu(i,Le.memoizedState,e,n)},useTransition:function(){var e=na(hn)[0],n=Qe().memoizedState;return[typeof e=="boolean"?e:Ys(e),n]},useSyncExternalStore:mu,useId:Vu,useHostTransitionStatus:pr,useFormState:ku,useActionState:ku,useOptimistic:function(e,n){var i=Qe();return Eu(i,Le,e,n)},useMemoCache:ir,useCacheRefresh:Yu};hr.useEffectEvent=Nu;var Ku={readContext:at,use:ta,useCallback:Wu,useContext:at,useEffect:rr,useImperativeHandle:Lu,useInsertionEffect:Iu,useLayoutEffect:Ou,useMemo:Uu,useReducer:lr,useRef:Ru,useState:function(){return lr(hn)},useDebugValue:cr,useDeferredValue:function(e,n){var i=Qe();return Le===null?dr(i,e,n):Hu(i,Le.memoizedState,e,n)},useTransition:function(){var e=lr(hn)[0],n=Qe().memoizedState;return[typeof e=="boolean"?e:Ys(e),n]},useSyncExternalStore:mu,useId:Vu,useHostTransitionStatus:pr,useFormState:Fu,useActionState:Fu,useOptimistic:function(e,n){var i=Qe();return Le!==null?Eu(i,Le,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:ir,useCacheRefresh:Yu};Ku.useEffectEvent=Nu;function xr(e,n,i,s){n=e.memoizedState,i=i(s,n),i=i==null?n:b({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var gr={enqueueSetState:function(e,n,i){e=e._reactInternals;var s=Ft(),d=In(s);d.payload=n,i!=null&&(d.callback=i),n=On(e,d,s),n!==null&&(Et(n,e,s),$s(n,e,s))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var s=Ft(),d=In(s);d.tag=1,d.payload=n,i!=null&&(d.callback=i),n=On(e,d,s),n!==null&&(Et(n,e,s),$s(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=Ft(),s=In(i);s.tag=2,n!=null&&(s.callback=n),n=On(e,s,i),n!==null&&(Et(n,e,i),$s(n,e,i))}};function Ju(e,n,i,s,d,p,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,p,v):n.prototype&&n.prototype.isPureReactComponent?!Ns(i,s)||!Ns(d,p):!0}function ep(e,n,i,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,s),n.state!==e&&gr.enqueueReplaceState(n,n.state,null)}function hi(e,n){var i=n;if("ref"in n){i={};for(var s in n)s!=="ref"&&(i[s]=n[s])}if(e=e.defaultProps){i===n&&(i=b({},i));for(var d in e)i[d]===void 0&&(i[d]=e[d])}return i}function tp(e){Ol(e)}function np(e){console.error(e)}function ip(e){Ol(e)}function aa(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function sp(e,n,i){try{var s=e.onCaughtError;s(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function mr(e,n,i){return i=In(i),i.tag=3,i.payload={element:null},i.callback=function(){aa(e,n)},i}function lp(e){return e=In(e),e.tag=3,e}function ap(e,n,i,s){var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var p=s.value;e.payload=function(){return d(p)},e.callback=function(){sp(n,i,s)}}var v=i.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){sp(n,i,s),typeof d!="function"&&($n===null?$n=new Set([this]):$n.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})})}function pg(e,n,i,s,d){if(i.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=i.alternate,n!==null&&Gi(n,i,d,!0),i=zt.current,i!==null){switch(i.tag){case 31:case 13:return Ht===null?ya():i.alternate===null&&Ye===0&&(Ye=3),i.flags&=-257,i.flags|=65536,i.lanes=d,s===Yl?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([s]):n.add(s),Hr(e,s,d)),!1;case 22:return i.flags|=65536,s===Yl?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([s]):i.add(s)),Hr(e,s,d)),!1}throw Error(o(435,i.tag))}return Hr(e,s,d),ya(),!1}if(we)return n=zt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,s!==Io&&(e=Error(o(422),{cause:s}),_s(_t(e,i)))):(s!==Io&&(n=Error(o(423),{cause:s}),_s(_t(n,i))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,s=_t(s,i),d=mr(e.stateNode,s,d),Yo(e,d),Ye!==4&&(Ye=2)),!1;var p=Error(o(520),{cause:s});if(p=_t(p,i),il===null?il=[p]:il.push(p),Ye!==4&&(Ye=2),n===null)return!0;s=_t(s,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=d&-d,i.lanes|=e,e=mr(i.stateNode,s,e),Yo(i,e),!1;case 1:if(n=i.type,p=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&($n===null||!$n.has(p))))return i.flags|=65536,d&=-d,i.lanes|=d,d=lp(d),ap(d,e,i,s),Yo(i,d),!1}i=i.return}while(i!==null);return!1}var yr=Error(o(461)),Ke=!1;function ot(e,n,i,s){n.child=e===null?du(n,null,i,s):pi(n,e.child,i,s)}function op(e,n,i,s,d){i=i.render;var p=n.ref;if("ref"in s){var v={};for(var E in s)E!=="ref"&&(v[E]=s[E])}else v=s;return ri(n),s=Jo(e,n,i,v,p,d),E=er(),e!==null&&!Ke?(tr(e,n,d),xn(e,n,d)):(we&&E&&Mo(n),n.flags|=1,ot(e,n,s,d),n.child)}function rp(e,n,i,s,d){if(e===null){var p=i.type;return typeof p=="function"&&!To(p)&&p.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=p,cp(e,n,p,s,d)):(e=Ul(i.type,null,s,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(p=e.child,!Dr(e,d)){var v=p.memoizedProps;if(i=i.compare,i=i!==null?i:Ns,i(v,s)&&e.ref===n.ref)return xn(e,n,d)}return n.flags|=1,e=cn(p,s),e.ref=n.ref,e.return=n,n.child=e}function cp(e,n,i,s,d){if(e!==null){var p=e.memoizedProps;if(Ns(p,s)&&e.ref===n.ref)if(Ke=!1,n.pendingProps=s=p,Dr(e,d))(e.flags&131072)!==0&&(Ke=!0);else return n.lanes=e.lanes,xn(e,n,d)}return vr(e,n,i,s,d)}function dp(e,n,i,s){var d=s.children,p=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(p=p!==null?p.baseLanes|i:i,e!==null){for(s=n.child=e.child,d=0;s!==null;)d=d|s.lanes|s.childLanes,s=s.sibling;s=d&~p}else s=0,n.child=null;return up(e,n,p,i,s)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Gl(n,p!==null?p.cachePool:null),p!==null?fu(n,p):Qo(),hu(n);else return s=n.lanes=536870912,up(e,n,p!==null?p.baseLanes|i:i,i,s)}else p!==null?(Gl(n,p.cachePool),fu(n,p),Ln(),n.memoizedState=null):(e!==null&&Gl(n,null),Qo(),Ln());return ot(e,n,d,i),n.child}function Xs(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function up(e,n,i,s,d){var p=$o();return p=p===null?null:{parent:Xe._currentValue,pool:p},n.memoizedState={baseLanes:i,cachePool:p},e!==null&&Gl(n,null),Qo(),hu(n),e!==null&&Gi(e,n,s,!0),n.childLanes=d,null}function oa(e,n){return n=ca({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function pp(e,n,i){return pi(n,e.child,null,i),e=oa(n,n.pendingProps),e.flags|=2,At(n),n.memoizedState=null,e}function fg(e,n,i){var s=n.pendingProps,d=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(we){if(s.mode==="hidden")return e=oa(n,s),n.lanes=536870912,Xs(null,e);if(Zo(n),(e=$e)?(e=Cf(e,Ut),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Tn!==null?{id:Jt,overflow:en}:null,retryLane:536870912,hydrationErrors:null},i=Qd(e),i.return=n,n.child=i,lt=n,$e=null)):e=null,e===null)throw Rn(n);return n.lanes=536870912,null}return oa(n,s)}var p=e.memoizedState;if(p!==null){var v=p.dehydrated;if(Zo(n),d)if(n.flags&256)n.flags&=-257,n=pp(e,n,i);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(o(558));else if(Ke||Gi(e,n,i,!1),d=(i&e.childLanes)!==0,Ke||d){if(s=He,s!==null&&(v=nd(s,i),v!==0&&v!==p.retryLane))throw p.retryLane=v,si(e,v),Et(s,e,v),yr;ya(),n=pp(e,n,i)}else e=p.treeContext,$e=$t(v.nextSibling),lt=n,we=!0,Fn=null,Ut=!1,e!==null&&Kd(n,e),n=oa(n,s),n.flags|=4096;return n}return e=cn(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function ra(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(o(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function vr(e,n,i,s,d){return ri(n),i=Jo(e,n,i,s,void 0,d),s=er(),e!==null&&!Ke?(tr(e,n,d),xn(e,n,d)):(we&&s&&Mo(n),n.flags|=1,ot(e,n,i,d),n.child)}function fp(e,n,i,s,d,p){return ri(n),n.updateQueue=null,i=gu(n,s,i,d),xu(e),s=er(),e!==null&&!Ke?(tr(e,n,p),xn(e,n,p)):(we&&s&&Mo(n),n.flags|=1,ot(e,n,i,p),n.child)}function hp(e,n,i,s,d){if(ri(n),n.stateNode===null){var p=Ui,v=i.contextType;typeof v=="object"&&v!==null&&(p=at(v)),p=new i(s,p),n.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=gr,n.stateNode=p,p._reactInternals=n,p=n.stateNode,p.props=s,p.state=n.memoizedState,p.refs={},Go(n),v=i.contextType,p.context=typeof v=="object"&&v!==null?at(v):Ui,p.state=n.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(xr(n,i,v,s),p.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(v=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),v!==p.state&&gr.enqueueReplaceState(p,p.state,null),Gs(n,s,p,d),qs(),p.state=n.memoizedState),typeof p.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){p=n.stateNode;var E=n.memoizedProps,O=hi(i,E);p.props=O;var X=p.context,te=i.contextType;v=Ui,typeof te=="object"&&te!==null&&(v=at(te));var ae=i.getDerivedStateFromProps;te=typeof ae=="function"||typeof p.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,te||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E||X!==v)&&ep(n,p,s,v),Nn=!1;var Z=n.memoizedState;p.state=Z,Gs(n,s,p,d),qs(),X=n.memoizedState,E||Z!==X||Nn?(typeof ae=="function"&&(xr(n,i,ae,s),X=n.memoizedState),(O=Nn||Ju(n,i,O,s,Z,X,v))?(te||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(n.flags|=4194308)):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=X),p.props=s,p.state=X,p.context=v,s=O):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{p=n.stateNode,Vo(e,n),v=n.memoizedProps,te=hi(i,v),p.props=te,ae=n.pendingProps,Z=p.context,X=i.contextType,O=Ui,typeof X=="object"&&X!==null&&(O=at(X)),E=i.getDerivedStateFromProps,(X=typeof E=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==ae||Z!==O)&&ep(n,p,s,O),Nn=!1,Z=n.memoizedState,p.state=Z,Gs(n,s,p,d),qs();var J=n.memoizedState;v!==ae||Z!==J||Nn||e!==null&&e.dependencies!==null&&$l(e.dependencies)?(typeof E=="function"&&(xr(n,i,E,s),J=n.memoizedState),(te=Nn||Ju(n,i,te,s,Z,J,O)||e!==null&&e.dependencies!==null&&$l(e.dependencies))?(X||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(s,J,O),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(s,J,O)),typeof p.componentDidUpdate=="function"&&(n.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof p.componentDidUpdate!="function"||v===e.memoizedProps&&Z===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&Z===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=J),p.props=s,p.state=J,p.context=O,s=te):(typeof p.componentDidUpdate!="function"||v===e.memoizedProps&&Z===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&Z===e.memoizedState||(n.flags|=1024),s=!1)}return p=s,ra(e,n),s=(n.flags&128)!==0,p||s?(p=n.stateNode,i=s&&typeof i.getDerivedStateFromError!="function"?null:p.render(),n.flags|=1,e!==null&&s?(n.child=pi(n,e.child,null,d),n.child=pi(n,null,i,d)):ot(e,n,i,d),n.memoizedState=p.state,e=n.child):e=xn(e,n,d),e}function xp(e,n,i,s){return ai(),n.flags|=256,ot(e,n,i,s),n.child}var br={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jr(e){return{baseLanes:e,cachePool:su()}}function Sr(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=Tt),e}function gp(e,n,i){var s=n.pendingProps,d=!1,p=(n.flags&128)!==0,v;if((v=p)||(v=e!==null&&e.memoizedState===null?!1:(Pe.current&2)!==0),v&&(d=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,e===null){if(we){if(d?_n(n):Ln(),(e=$e)?(e=Cf(e,Ut),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Tn!==null?{id:Jt,overflow:en}:null,retryLane:536870912,hydrationErrors:null},i=Qd(e),i.return=n,n.child=i,lt=n,$e=null)):e=null,e===null)throw Rn(n);return sc(e)?n.lanes=32:n.lanes=536870912,null}var E=s.children;return s=s.fallback,d?(Ln(),d=n.mode,E=ca({mode:"hidden",children:E},d),s=li(s,d,i,null),E.return=n,s.return=n,E.sibling=s,n.child=E,s=n.child,s.memoizedState=jr(i),s.childLanes=Sr(e,v,i),n.memoizedState=br,Xs(null,s)):(_n(n),Er(n,E))}var O=e.memoizedState;if(O!==null&&(E=O.dehydrated,E!==null)){if(p)n.flags&256?(_n(n),n.flags&=-257,n=Br(e,n,i)):n.memoizedState!==null?(Ln(),n.child=e.child,n.flags|=128,n=null):(Ln(),E=s.fallback,d=n.mode,s=ca({mode:"visible",children:s.children},d),E=li(E,d,i,null),E.flags|=2,s.return=n,E.return=n,s.sibling=E,n.child=s,pi(n,e.child,null,i),s=n.child,s.memoizedState=jr(i),s.childLanes=Sr(e,v,i),n.memoizedState=br,n=Xs(null,s));else if(_n(n),sc(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var X=v.dgst;v=X,s=Error(o(419)),s.stack="",s.digest=v,_s({value:s,source:null,stack:null}),n=Br(e,n,i)}else if(Ke||Gi(e,n,i,!1),v=(i&e.childLanes)!==0,Ke||v){if(v=He,v!==null&&(s=nd(v,i),s!==0&&s!==O.retryLane))throw O.retryLane=s,si(e,s),Et(v,e,s),yr;ic(E)||ya(),n=Br(e,n,i)}else ic(E)?(n.flags|=192,n.child=e.child,n=null):(e=O.treeContext,$e=$t(E.nextSibling),lt=n,we=!0,Fn=null,Ut=!1,e!==null&&Kd(n,e),n=Er(n,s.children),n.flags|=4096);return n}return d?(Ln(),E=s.fallback,d=n.mode,O=e.child,X=O.sibling,s=cn(O,{mode:"hidden",children:s.children}),s.subtreeFlags=O.subtreeFlags&65011712,X!==null?E=cn(X,E):(E=li(E,d,i,null),E.flags|=2),E.return=n,s.return=n,s.sibling=E,n.child=s,Xs(null,s),s=n.child,E=e.child.memoizedState,E===null?E=jr(i):(d=E.cachePool,d!==null?(O=Xe._currentValue,d=d.parent!==O?{parent:O,pool:O}:d):d=su(),E={baseLanes:E.baseLanes|i,cachePool:d}),s.memoizedState=E,s.childLanes=Sr(e,v,i),n.memoizedState=br,Xs(e.child,s)):(_n(n),i=e.child,e=i.sibling,i=cn(i,{mode:"visible",children:s.children}),i.return=n,i.sibling=null,e!==null&&(v=n.deletions,v===null?(n.deletions=[e],n.flags|=16):v.push(e)),n.child=i,n.memoizedState=null,i)}function Er(e,n){return n=ca({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ca(e,n){return e=wt(22,e,null,n),e.lanes=0,e}function Br(e,n,i){return pi(n,e.child,null,i),e=Er(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function mp(e,n,i){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),Lo(e.return,n,i)}function Cr(e,n,i,s,d,p){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:d,treeForkCount:p}:(v.isBackwards=n,v.rendering=null,v.renderingStartTime=0,v.last=s,v.tail=i,v.tailMode=d,v.treeForkCount=p)}function yp(e,n,i){var s=n.pendingProps,d=s.revealOrder,p=s.tail;s=s.children;var v=Pe.current,E=(v&2)!==0;if(E?(v=v&1|2,n.flags|=128):v&=1,ne(Pe,v),ot(e,n,s,i),s=we?Os:0,!E&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mp(e,i,n);else if(e.tag===19)mp(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(i=n.child,d=null;i!==null;)e=i.alternate,e!==null&&Zl(e)===null&&(d=i),i=i.sibling;i=d,i===null?(d=n.child,n.child=null):(d=i.sibling,i.sibling=null),Cr(n,!1,d,i,p,s);break;case"backwards":case"unstable_legacy-backwards":for(i=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&Zl(e)===null){n.child=d;break}e=d.sibling,d.sibling=i,i=d,d=e}Cr(n,!0,i,null,p,s);break;case"together":Cr(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function xn(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Hn|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(Gi(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(o(153));if(n.child!==null){for(e=n.child,i=cn(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=cn(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function Dr(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&$l(e)))}function hg(e,n,i){switch(n.tag){case 3:ye(n,n.stateNode.containerInfo),Mn(n,Xe,e.memoizedState.cache),ai();break;case 27:case 5:Zt(n);break;case 4:ye(n,n.stateNode.containerInfo);break;case 10:Mn(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Zo(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(_n(n),n.flags|=128,null):(i&n.child.childLanes)!==0?gp(e,n,i):(_n(n),e=xn(e,n,i),e!==null?e.sibling:null);_n(n);break;case 19:var d=(e.flags&128)!==0;if(s=(i&n.childLanes)!==0,s||(Gi(e,n,i,!1),s=(i&n.childLanes)!==0),d){if(s)return yp(e,n,i);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ne(Pe,Pe.current),s)break;return null;case 22:return n.lanes=0,dp(e,n,i,n.pendingProps);case 24:Mn(n,Xe,e.memoizedState.cache)}return xn(e,n,i)}function vp(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ke=!0;else{if(!Dr(e,i)&&(n.flags&128)===0)return Ke=!1,hg(e,n,i);Ke=(e.flags&131072)!==0}else Ke=!1,we&&(n.flags&1048576)!==0&&Zd(n,Os,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=di(n.elementType),n.type=e,typeof e=="function")To(e)?(s=hi(e,s),n.tag=1,n=hp(null,n,e,s,i)):(n.tag=0,n=vr(null,n,e,s,i));else{if(e!=null){var d=e.$$typeof;if(d===N){n.tag=11,n=op(null,n,e,s,i);break e}else if(d===F){n.tag=14,n=rp(null,n,e,s,i);break e}}throw n=re(e)||e,Error(o(306,n,""))}}return n;case 0:return vr(e,n,n.type,n.pendingProps,i);case 1:return s=n.type,d=hi(s,n.pendingProps),hp(e,n,s,d,i);case 3:e:{if(ye(n,n.stateNode.containerInfo),e===null)throw Error(o(387));s=n.pendingProps;var p=n.memoizedState;d=p.element,Vo(e,n),Gs(n,s,null,i);var v=n.memoizedState;if(s=v.cache,Mn(n,Xe,s),s!==p.cache&&Wo(n,[Xe],i,!0),qs(),s=v.element,p.isDehydrated)if(p={element:s,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){n=xp(e,n,s,i);break e}else if(s!==d){d=_t(Error(o(424)),n),_s(d),n=xp(e,n,s,i);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for($e=$t(e.firstChild),lt=n,we=!0,Fn=null,Ut=!0,i=du(n,null,s,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(ai(),s===d){n=xn(e,n,i);break e}ot(e,n,s,i)}n=n.child}return n;case 26:return ra(e,n),e===null?(i=Tf(n.type,null,n.pendingProps,null))?n.memoizedState=i:we||(i=n.type,e=n.pendingProps,s=Ca(ue.current).createElement(i),s[st]=n,s[mt]=e,rt(s,i,e),tt(s),n.stateNode=s):n.memoizedState=Tf(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Zt(n),e===null&&we&&(s=n.stateNode=zf(n.type,n.pendingProps,ue.current),lt=n,Ut=!0,d=$e,Yn(n.type)?(lc=d,$e=$t(s.firstChild)):$e=d),ot(e,n,n.pendingProps.children,i),ra(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&we&&((d=s=$e)&&(s=qg(s,n.type,n.pendingProps,Ut),s!==null?(n.stateNode=s,lt=n,$e=$t(s.firstChild),Ut=!1,d=!0):d=!1),d||Rn(n)),Zt(n),d=n.type,p=n.pendingProps,v=e!==null?e.memoizedProps:null,s=p.children,ec(d,p)?s=null:v!==null&&ec(d,v)&&(n.flags|=32),n.memoizedState!==null&&(d=Jo(e,n,lg,null,null,i),ul._currentValue=d),ra(e,n),ot(e,n,s,i),n.child;case 6:return e===null&&we&&((e=i=$e)&&(i=Gg(i,n.pendingProps,Ut),i!==null?(n.stateNode=i,lt=n,$e=null,e=!0):e=!1),e||Rn(n)),null;case 13:return gp(e,n,i);case 4:return ye(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=pi(n,null,s,i):ot(e,n,s,i),n.child;case 11:return op(e,n,n.type,n.pendingProps,i);case 7:return ot(e,n,n.pendingProps,i),n.child;case 8:return ot(e,n,n.pendingProps.children,i),n.child;case 12:return ot(e,n,n.pendingProps.children,i),n.child;case 10:return s=n.pendingProps,Mn(n,n.type,s.value),ot(e,n,s.children,i),n.child;case 9:return d=n.type._context,s=n.pendingProps.children,ri(n),d=at(d),s=s(d),n.flags|=1,ot(e,n,s,i),n.child;case 14:return rp(e,n,n.type,n.pendingProps,i);case 15:return cp(e,n,n.type,n.pendingProps,i);case 19:return yp(e,n,i);case 31:return fg(e,n,i);case 22:return dp(e,n,i,n.pendingProps);case 24:return ri(n),s=at(Xe),e===null?(d=$o(),d===null&&(d=He,p=Uo(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=i),d=p),n.memoizedState={parent:s,cache:d},Go(n),Mn(n,Xe,d)):((e.lanes&i)!==0&&(Vo(e,n),Gs(n,null,null,i),qs()),d=e.memoizedState,p=n.memoizedState,d.parent!==s?(d={parent:s,cache:s},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),Mn(n,Xe,s)):(s=p.cache,Mn(n,Xe,s),s!==d.cache&&Wo(n,[Xe],i,!0))),ot(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(o(156,n.tag))}function gn(e){e.flags|=4}function wr(e,n,i,s,d){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(Vp())e.flags|=8192;else throw ui=Yl,qo}else e.flags&=-16777217}function bp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!If(n))if(Vp())e.flags|=8192;else throw ui=Yl,qo}function da(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Jc():536870912,e.lanes|=n,is|=n)}function Zs(e,n){if(!we)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function qe(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(n)for(var d=e.child;d!==null;)i|=d.lanes|d.childLanes,s|=d.subtreeFlags&65011712,s|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)i|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=s,e.childLanes=i,n}function xg(e,n,i){var s=n.pendingProps;switch(No(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(n),null;case 1:return qe(n),null;case 3:return i=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),pn(Xe),Se(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(qi(n)?gn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Oo())),qe(n),null;case 26:var d=n.type,p=n.memoizedState;return e===null?(gn(n),p!==null?(qe(n),bp(n,p)):(qe(n),wr(n,d,null,s,i))):p?p!==e.memoizedState?(gn(n),qe(n),bp(n,p)):(qe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&gn(n),qe(n),wr(n,d,e,s,i)),null;case 27:if(Kt(n),i=ue.current,d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&gn(n);else{if(!s){if(n.stateNode===null)throw Error(o(166));return qe(n),null}e=ie.current,qi(n)?Jd(n):(e=zf(d,s,i),n.stateNode=e,gn(n))}return qe(n),null;case 5:if(Kt(n),d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&gn(n);else{if(!s){if(n.stateNode===null)throw Error(o(166));return qe(n),null}if(p=ie.current,qi(n))Jd(n);else{var v=Ca(ue.current);switch(p){case 1:p=v.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:p=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":p=v.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":p=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":p=v.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof s.is=="string"?v.createElement("select",{is:s.is}):v.createElement("select"),s.multiple?p.multiple=!0:s.size&&(p.size=s.size);break;default:p=typeof s.is=="string"?v.createElement(d,{is:s.is}):v.createElement(d)}}p[st]=n,p[mt]=s;e:for(v=n.child;v!==null;){if(v.tag===5||v.tag===6)p.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===n)break e;for(;v.sibling===null;){if(v.return===null||v.return===n)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}n.stateNode=p;e:switch(rt(p,d,s),d){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&gn(n)}}return qe(n),wr(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,i),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&gn(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(o(166));if(e=ue.current,qi(n)){if(e=n.stateNode,i=n.memoizedProps,s=null,d=lt,d!==null)switch(d.tag){case 27:case 5:s=d.memoizedProps}e[st]=n,e=!!(e.nodeValue===i||s!==null&&s.suppressHydrationWarning===!0||mf(e.nodeValue,i)),e||Rn(n,!0)}else e=Ca(e).createTextNode(s),e[st]=n,n.stateNode=e}return qe(n),null;case 31:if(i=n.memoizedState,e===null||e.memoizedState!==null){if(s=qi(n),i!==null){if(e===null){if(!s)throw Error(o(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[st]=n}else ai(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;qe(n),e=!1}else i=Oo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return n.flags&256?(At(n),n):(At(n),null);if((n.flags&128)!==0)throw Error(o(558))}return qe(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=qi(n),s!==null&&s.dehydrated!==null){if(e===null){if(!d)throw Error(o(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));d[st]=n}else ai(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;qe(n),d=!1}else d=Oo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(At(n),n):(At(n),null)}return At(n),(n.flags&128)!==0?(n.lanes=i,n):(i=s!==null,e=e!==null&&e.memoizedState!==null,i&&(s=n.child,d=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(d=s.alternate.memoizedState.cachePool.pool),p=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),p!==d&&(s.flags|=2048)),i!==e&&i&&(n.child.flags|=8192),da(n,n.updateQueue),qe(n),null);case 4:return Se(),e===null&&Qr(n.stateNode.containerInfo),qe(n),null;case 10:return pn(n.type),qe(n),null;case 19:if(U(Pe),s=n.memoizedState,s===null)return qe(n),null;if(d=(n.flags&128)!==0,p=s.rendering,p===null)if(d)Zs(s,!1);else{if(Ye!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(p=Zl(e),p!==null){for(n.flags|=128,Zs(s,!1),e=p.updateQueue,n.updateQueue=e,da(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)Pd(i,e),i=i.sibling;return ne(Pe,Pe.current&1|2),we&&dn(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&ft()>xa&&(n.flags|=128,d=!0,Zs(s,!1),n.lanes=4194304)}else{if(!d)if(e=Zl(p),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,da(n,e),Zs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!p.alternate&&!we)return qe(n),null}else 2*ft()-s.renderingStartTime>xa&&i!==536870912&&(n.flags|=128,d=!0,Zs(s,!1),n.lanes=4194304);s.isBackwards?(p.sibling=n.child,n.child=p):(e=s.last,e!==null?e.sibling=p:n.child=p,s.last=p)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ft(),e.sibling=null,i=Pe.current,ne(Pe,d?i&1|2:i&1),we&&dn(n,s.treeForkCount),e):(qe(n),null);case 22:case 23:return At(n),Xo(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(i&536870912)!==0&&(n.flags&128)===0&&(qe(n),n.subtreeFlags&6&&(n.flags|=8192)):qe(n),i=n.updateQueue,i!==null&&da(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==i&&(n.flags|=2048),e!==null&&U(ci),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),pn(Xe),qe(n),null;case 25:return null;case 30:return null}throw Error(o(156,n.tag))}function gg(e,n){switch(No(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return pn(Xe),Se(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Kt(n),null;case 31:if(n.memoizedState!==null){if(At(n),n.alternate===null)throw Error(o(340));ai()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(At(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(o(340));ai()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return U(Pe),null;case 4:return Se(),null;case 10:return pn(n.type),null;case 22:case 23:return At(n),Xo(),e!==null&&U(ci),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return pn(Xe),null;case 25:return null;default:return null}}function jp(e,n){switch(No(n),n.tag){case 3:pn(Xe),Se();break;case 26:case 27:case 5:Kt(n);break;case 4:Se();break;case 31:n.memoizedState!==null&&At(n);break;case 13:At(n);break;case 19:U(Pe);break;case 10:pn(n.type);break;case 22:case 23:At(n),Xo(),e!==null&&U(ci);break;case 24:pn(Xe)}}function Ks(e,n){try{var i=n.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var d=s.next;i=d;do{if((i.tag&e)===e){s=void 0;var p=i.create,v=i.inst;s=p(),v.destroy=s}i=i.next}while(i!==d)}}catch(E){_e(n,n.return,E)}}function Wn(e,n,i){try{var s=n.updateQueue,d=s!==null?s.lastEffect:null;if(d!==null){var p=d.next;s=p;do{if((s.tag&e)===e){var v=s.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,d=n;var O=i,X=E;try{X()}catch(te){_e(d,O,te)}}}s=s.next}while(s!==p)}}catch(te){_e(n,n.return,te)}}function Sp(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{pu(n,i)}catch(s){_e(e,e.return,s)}}}function Ep(e,n,i){i.props=hi(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(s){_e(e,n,s)}}function Js(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof i=="function"?e.refCleanup=i(s):i.current=s}}catch(d){_e(e,n,d)}}function tn(e,n){var i=e.ref,s=e.refCleanup;if(i!==null)if(typeof s=="function")try{s()}catch(d){_e(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(d){_e(e,n,d)}else i.current=null}function Bp(e){var n=e.type,i=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&s.focus();break e;case"img":i.src?s.src=i.src:i.srcSet&&(s.srcset=i.srcSet)}}catch(d){_e(e,e.return,d)}}function zr(e,n,i){try{var s=e.stateNode;_g(s,e.type,i,n),s[mt]=n}catch(d){_e(e,e.return,d)}}function Cp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Yn(e.type)||e.tag===4}function Ar(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Yn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kr(e,n,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=on));else if(s!==4&&(s===27&&Yn(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(kr(e,n,i),e=e.sibling;e!==null;)kr(e,n,i),e=e.sibling}function ua(e,n,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(s!==4&&(s===27&&Yn(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(ua(e,n,i),e=e.sibling;e!==null;)ua(e,n,i),e=e.sibling}function Dp(e){var n=e.stateNode,i=e.memoizedProps;try{for(var s=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);rt(n,s,i),n[st]=e,n[mt]=i}catch(p){_e(e,e.return,p)}}var mn=!1,Je=!1,Tr=!1,wp=typeof WeakSet=="function"?WeakSet:Set,nt=null;function mg(e,n){if(e=e.containerInfo,Kr=Fa,e=Ld(e),Bo(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var d=s.anchorOffset,p=s.focusNode;s=s.focusOffset;try{i.nodeType,p.nodeType}catch{i=null;break e}var v=0,E=-1,O=-1,X=0,te=0,ae=e,Z=null;t:for(;;){for(var J;ae!==i||d!==0&&ae.nodeType!==3||(E=v+d),ae!==p||s!==0&&ae.nodeType!==3||(O=v+s),ae.nodeType===3&&(v+=ae.nodeValue.length),(J=ae.firstChild)!==null;)Z=ae,ae=J;for(;;){if(ae===e)break t;if(Z===i&&++X===d&&(E=v),Z===p&&++te===s&&(O=v),(J=ae.nextSibling)!==null)break;ae=Z,Z=ae.parentNode}ae=J}i=E===-1||O===-1?null:{start:E,end:O}}else i=null}i=i||{start:0,end:0}}else i=null;for(Jr={focusedElem:e,selectionRange:i},Fa=!1,nt=n;nt!==null;)if(n=nt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,nt=e;else for(;nt!==null;){switch(n=nt,p=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)d=e[i],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,i=n,d=p.memoizedProps,p=p.memoizedState,s=i.stateNode;try{var pe=hi(i.type,d);e=s.getSnapshotBeforeUpdate(pe,p),s.__reactInternalSnapshotBeforeUpdate=e}catch(xe){_e(i,i.return,xe)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)nc(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":nc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=n.sibling,e!==null){e.return=n.return,nt=e;break}nt=n.return}}function zp(e,n,i){var s=i.flags;switch(i.tag){case 0:case 11:case 15:vn(e,i),s&4&&Ks(5,i);break;case 1:if(vn(e,i),s&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(v){_e(i,i.return,v)}else{var d=hi(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(v){_e(i,i.return,v)}}s&64&&Sp(i),s&512&&Js(i,i.return);break;case 3:if(vn(e,i),s&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{pu(e,n)}catch(v){_e(i,i.return,v)}}break;case 27:n===null&&s&4&&Dp(i);case 26:case 5:vn(e,i),n===null&&s&4&&Bp(i),s&512&&Js(i,i.return);break;case 12:vn(e,i);break;case 31:vn(e,i),s&4&&Tp(e,i);break;case 13:vn(e,i),s&4&&Fp(e,i),s&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=Dg.bind(null,i),Vg(e,i))));break;case 22:if(s=i.memoizedState!==null||mn,!s){n=n!==null&&n.memoizedState!==null||Je,d=mn;var p=Je;mn=s,(Je=n)&&!p?bn(e,i,(i.subtreeFlags&8772)!==0):vn(e,i),mn=d,Je=p}break;case 30:break;default:vn(e,i)}}function Ap(e){var n=e.alternate;n!==null&&(e.alternate=null,Ap(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ao(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ge=null,vt=!1;function yn(e,n,i){for(i=i.child;i!==null;)kp(e,n,i),i=i.sibling}function kp(e,n,i){if(Ne&&typeof Ne.onCommitFiberUnmount=="function")try{Ne.onCommitFiberUnmount(it,i)}catch{}switch(i.tag){case 26:Je||tn(i,n),yn(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Je||tn(i,n);var s=Ge,d=vt;Yn(i.type)&&(Ge=i.stateNode,vt=!1),yn(e,n,i),rl(i.stateNode),Ge=s,vt=d;break;case 5:Je||tn(i,n);case 6:if(s=Ge,d=vt,Ge=null,yn(e,n,i),Ge=s,vt=d,Ge!==null)if(vt)try{(Ge.nodeType===9?Ge.body:Ge.nodeName==="HTML"?Ge.ownerDocument.body:Ge).removeChild(i.stateNode)}catch(p){_e(i,n,p)}else try{Ge.removeChild(i.stateNode)}catch(p){_e(i,n,p)}break;case 18:Ge!==null&&(vt?(e=Ge,Ef(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),us(e)):Ef(Ge,i.stateNode));break;case 4:s=Ge,d=vt,Ge=i.stateNode.containerInfo,vt=!0,yn(e,n,i),Ge=s,vt=d;break;case 0:case 11:case 14:case 15:Wn(2,i,n),Je||Wn(4,i,n),yn(e,n,i);break;case 1:Je||(tn(i,n),s=i.stateNode,typeof s.componentWillUnmount=="function"&&Ep(i,n,s)),yn(e,n,i);break;case 21:yn(e,n,i);break;case 22:Je=(s=Je)||i.memoizedState!==null,yn(e,n,i),Je=s;break;default:yn(e,n,i)}}function Tp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{us(e)}catch(i){_e(n,n.return,i)}}}function Fp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{us(e)}catch(i){_e(n,n.return,i)}}function yg(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new wp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new wp),n;default:throw Error(o(435,e.tag))}}function pa(e,n){var i=yg(e);n.forEach(function(s){if(!i.has(s)){i.add(s);var d=wg.bind(null,e,s);s.then(d,d)}})}function bt(e,n){var i=n.deletions;if(i!==null)for(var s=0;s<i.length;s++){var d=i[s],p=e,v=n,E=v;e:for(;E!==null;){switch(E.tag){case 27:if(Yn(E.type)){Ge=E.stateNode,vt=!1;break e}break;case 5:Ge=E.stateNode,vt=!1;break e;case 3:case 4:Ge=E.stateNode.containerInfo,vt=!0;break e}E=E.return}if(Ge===null)throw Error(o(160));kp(p,v,d),Ge=null,vt=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Rp(n,e),n=n.sibling}var Pt=null;function Rp(e,n){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:bt(n,e),jt(e),s&4&&(Wn(3,e,e.return),Ks(3,e),Wn(5,e,e.return));break;case 1:bt(n,e),jt(e),s&512&&(Je||i===null||tn(i,i.return)),s&64&&mn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?s:i.concat(s))));break;case 26:var d=Pt;if(bt(n,e),jt(e),s&512&&(Je||i===null||tn(i,i.return)),s&4){var p=i!==null?i.memoizedState:null;if(s=e.memoizedState,i===null)if(s===null)if(e.stateNode===null){e:{s=e.type,i=e.memoizedProps,d=d.ownerDocument||d;t:switch(s){case"title":p=d.getElementsByTagName("title")[0],(!p||p[Ds]||p[st]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(s),d.head.insertBefore(p,d.querySelector("head > title"))),rt(p,s,i),p[st]=e,tt(p),s=p;break e;case"link":var v=Mf("link","href",d).get(s+(i.href||""));if(v){for(var E=0;E<v.length;E++)if(p=v[E],p.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&p.getAttribute("rel")===(i.rel==null?null:i.rel)&&p.getAttribute("title")===(i.title==null?null:i.title)&&p.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){v.splice(E,1);break t}}p=d.createElement(s),rt(p,s,i),d.head.appendChild(p);break;case"meta":if(v=Mf("meta","content",d).get(s+(i.content||""))){for(E=0;E<v.length;E++)if(p=v[E],p.getAttribute("content")===(i.content==null?null:""+i.content)&&p.getAttribute("name")===(i.name==null?null:i.name)&&p.getAttribute("property")===(i.property==null?null:i.property)&&p.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&p.getAttribute("charset")===(i.charSet==null?null:i.charSet)){v.splice(E,1);break t}}p=d.createElement(s),rt(p,s,i),d.head.appendChild(p);break;default:throw Error(o(468,s))}p[st]=e,tt(p),s=p}e.stateNode=s}else Nf(d,e.type,e.stateNode);else e.stateNode=Rf(d,s,e.memoizedProps);else p!==s?(p===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):p.count--,s===null?Nf(d,e.type,e.stateNode):Rf(d,s,e.memoizedProps)):s===null&&e.stateNode!==null&&zr(e,e.memoizedProps,i.memoizedProps)}break;case 27:bt(n,e),jt(e),s&512&&(Je||i===null||tn(i,i.return)),i!==null&&s&4&&zr(e,e.memoizedProps,i.memoizedProps);break;case 5:if(bt(n,e),jt(e),s&512&&(Je||i===null||tn(i,i.return)),e.flags&32){d=e.stateNode;try{Mi(d,"")}catch(pe){_e(e,e.return,pe)}}s&4&&e.stateNode!=null&&(d=e.memoizedProps,zr(e,d,i!==null?i.memoizedProps:d)),s&1024&&(Tr=!0);break;case 6:if(bt(n,e),jt(e),s&4){if(e.stateNode===null)throw Error(o(162));s=e.memoizedProps,i=e.stateNode;try{i.nodeValue=s}catch(pe){_e(e,e.return,pe)}}break;case 3:if(za=null,d=Pt,Pt=Da(n.containerInfo),bt(n,e),Pt=d,jt(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{us(n.containerInfo)}catch(pe){_e(e,e.return,pe)}Tr&&(Tr=!1,Mp(e));break;case 4:s=Pt,Pt=Da(e.stateNode.containerInfo),bt(n,e),jt(e),Pt=s;break;case 12:bt(n,e),jt(e);break;case 31:bt(n,e),jt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,pa(e,s)));break;case 13:bt(n,e),jt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(ha=ft()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,pa(e,s)));break;case 22:d=e.memoizedState!==null;var O=i!==null&&i.memoizedState!==null,X=mn,te=Je;if(mn=X||d,Je=te||O,bt(n,e),Je=te,mn=X,jt(e),s&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(i===null||O||mn||Je||xi(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){O=i=n;try{if(p=O.stateNode,d)v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=O.stateNode;var ae=O.memoizedProps.style,Z=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;E.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(pe){_e(O,O.return,pe)}}}else if(n.tag===6){if(i===null){O=n;try{O.stateNode.nodeValue=d?"":O.memoizedProps}catch(pe){_e(O,O.return,pe)}}}else if(n.tag===18){if(i===null){O=n;try{var J=O.stateNode;d?Bf(J,!0):Bf(O.stateNode,!1)}catch(pe){_e(O,O.return,pe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(i=s.retryQueue,i!==null&&(s.retryQueue=null,pa(e,i))));break;case 19:bt(n,e),jt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,pa(e,s)));break;case 30:break;case 21:break;default:bt(n,e),jt(e)}}function jt(e){var n=e.flags;if(n&2){try{for(var i,s=e.return;s!==null;){if(Cp(s)){i=s;break}s=s.return}if(i==null)throw Error(o(160));switch(i.tag){case 27:var d=i.stateNode,p=Ar(e);ua(e,p,d);break;case 5:var v=i.stateNode;i.flags&32&&(Mi(v,""),i.flags&=-33);var E=Ar(e);ua(e,E,v);break;case 3:case 4:var O=i.stateNode.containerInfo,X=Ar(e);kr(e,X,O);break;default:throw Error(o(161))}}catch(te){_e(e,e.return,te)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Mp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Mp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function vn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)zp(e,n.alternate,n),n=n.sibling}function xi(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Wn(4,n,n.return),xi(n);break;case 1:tn(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&Ep(n,n.return,i),xi(n);break;case 27:rl(n.stateNode);case 26:case 5:tn(n,n.return),xi(n);break;case 22:n.memoizedState===null&&xi(n);break;case 30:xi(n);break;default:xi(n)}e=e.sibling}}function bn(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,d=e,p=n,v=p.flags;switch(p.tag){case 0:case 11:case 15:bn(d,p,i),Ks(4,p);break;case 1:if(bn(d,p,i),s=p,d=s.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(X){_e(s,s.return,X)}if(s=p,d=s.updateQueue,d!==null){var E=s.stateNode;try{var O=d.shared.hiddenCallbacks;if(O!==null)for(d.shared.hiddenCallbacks=null,d=0;d<O.length;d++)uu(O[d],E)}catch(X){_e(s,s.return,X)}}i&&v&64&&Sp(p),Js(p,p.return);break;case 27:Dp(p);case 26:case 5:bn(d,p,i),i&&s===null&&v&4&&Bp(p),Js(p,p.return);break;case 12:bn(d,p,i);break;case 31:bn(d,p,i),i&&v&4&&Tp(d,p);break;case 13:bn(d,p,i),i&&v&4&&Fp(d,p);break;case 22:p.memoizedState===null&&bn(d,p,i),Js(p,p.return);break;case 30:break;default:bn(d,p,i)}n=n.sibling}}function Fr(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Ls(i))}function Rr(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ls(e))}function Qt(e,n,i,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Np(e,n,i,s),n=n.sibling}function Np(e,n,i,s){var d=n.flags;switch(n.tag){case 0:case 11:case 15:Qt(e,n,i,s),d&2048&&Ks(9,n);break;case 1:Qt(e,n,i,s);break;case 3:Qt(e,n,i,s),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ls(e)));break;case 12:if(d&2048){Qt(e,n,i,s),e=n.stateNode;try{var p=n.memoizedProps,v=p.id,E=p.onPostCommit;typeof E=="function"&&E(v,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(O){_e(n,n.return,O)}}else Qt(e,n,i,s);break;case 31:Qt(e,n,i,s);break;case 13:Qt(e,n,i,s);break;case 23:break;case 22:p=n.stateNode,v=n.alternate,n.memoizedState!==null?p._visibility&2?Qt(e,n,i,s):el(e,n):p._visibility&2?Qt(e,n,i,s):(p._visibility|=2,es(e,n,i,s,(n.subtreeFlags&10256)!==0||!1)),d&2048&&Fr(v,n);break;case 24:Qt(e,n,i,s),d&2048&&Rr(n.alternate,n);break;default:Qt(e,n,i,s)}}function es(e,n,i,s,d){for(d=d&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var p=e,v=n,E=i,O=s,X=v.flags;switch(v.tag){case 0:case 11:case 15:es(p,v,E,O,d),Ks(8,v);break;case 23:break;case 22:var te=v.stateNode;v.memoizedState!==null?te._visibility&2?es(p,v,E,O,d):el(p,v):(te._visibility|=2,es(p,v,E,O,d)),d&&X&2048&&Fr(v.alternate,v);break;case 24:es(p,v,E,O,d),d&&X&2048&&Rr(v.alternate,v);break;default:es(p,v,E,O,d)}n=n.sibling}}function el(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,s=n,d=s.flags;switch(s.tag){case 22:el(i,s),d&2048&&Fr(s.alternate,s);break;case 24:el(i,s),d&2048&&Rr(s.alternate,s);break;default:el(i,s)}n=n.sibling}}var tl=8192;function ts(e,n,i){if(e.subtreeFlags&tl)for(e=e.child;e!==null;)Ip(e,n,i),e=e.sibling}function Ip(e,n,i){switch(e.tag){case 26:ts(e,n,i),e.flags&tl&&e.memoizedState!==null&&sm(i,Pt,e.memoizedState,e.memoizedProps);break;case 5:ts(e,n,i);break;case 3:case 4:var s=Pt;Pt=Da(e.stateNode.containerInfo),ts(e,n,i),Pt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=tl,tl=16777216,ts(e,n,i),tl=s):ts(e,n,i));break;default:ts(e,n,i)}}function Op(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function nl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];nt=s,Lp(s,e)}Op(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)_p(e),e=e.sibling}function _p(e){switch(e.tag){case 0:case 11:case 15:nl(e),e.flags&2048&&Wn(9,e,e.return);break;case 3:nl(e);break;case 12:nl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,fa(e)):nl(e);break;default:nl(e)}}function fa(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];nt=s,Lp(s,e)}Op(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Wn(8,n,n.return),fa(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,fa(n));break;default:fa(n)}e=e.sibling}}function Lp(e,n){for(;nt!==null;){var i=nt;switch(i.tag){case 0:case 11:case 15:Wn(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var s=i.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Ls(i.memoizedState.cache)}if(s=i.child,s!==null)s.return=i,nt=s;else e:for(i=e;nt!==null;){s=nt;var d=s.sibling,p=s.return;if(Ap(s),s===i){nt=null;break e}if(d!==null){d.return=p,nt=d;break e}nt=p}}}var vg={getCacheForType:function(e){var n=at(Xe),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i},cacheSignal:function(){return at(Xe).controller.signal}},bg=typeof WeakMap=="function"?WeakMap:Map,Fe=0,He=null,Ee=null,Ce=0,Oe=0,kt=null,Un=!1,ns=!1,Mr=!1,jn=0,Ye=0,Hn=0,gi=0,Nr=0,Tt=0,is=0,il=null,St=null,Ir=!1,ha=0,Wp=0,xa=1/0,ga=null,$n=null,et=0,qn=null,ss=null,Sn=0,Or=0,_r=null,Up=null,sl=0,Lr=null;function Ft(){return(Fe&2)!==0&&Ce!==0?Ce&-Ce:A.T!==null?Gr():id()}function Hp(){if(Tt===0)if((Ce&536870912)===0||we){var e=Rt;Rt<<=1,(Rt&3932160)===0&&(Rt=262144),Tt=e}else Tt=536870912;return e=zt.current,e!==null&&(e.flags|=32),Tt}function Et(e,n,i){(e===He&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)&&(ls(e,0),Gn(e,Ce,Tt,!1)),Cs(e,i),((Fe&2)===0||e!==He)&&(e===He&&((Fe&2)===0&&(gi|=i),Ye===4&&Gn(e,Ce,Tt,!1)),nn(e))}function $p(e,n,i){if((Fe&6)!==0)throw Error(o(327));var s=!i&&(n&127)===0&&(n&e.expiredLanes)===0||zn(e,n),d=s?Eg(e,n):Ur(e,n,!0),p=s;do{if(d===0){ns&&!s&&Gn(e,n,0,!1);break}else{if(i=e.current.alternate,p&&!jg(i)){d=Ur(e,n,!1),p=!1;continue}if(d===2){if(p=n,e.errorRecoveryDisabledLanes&p)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;e:{var E=e;d=il;var O=E.current.memoizedState.isDehydrated;if(O&&(ls(E,v).flags|=256),v=Ur(E,v,!1),v!==2){if(Mr&&!O){E.errorRecoveryDisabledLanes|=p,gi|=p,d=4;break e}p=St,St=d,p!==null&&(St===null?St=p:St.push.apply(St,p))}d=v}if(p=!1,d!==2)continue}}if(d===1){ls(e,0),Gn(e,n,0,!0);break}e:{switch(s=e,p=d,p){case 0:case 1:throw Error(o(345));case 4:if((n&4194048)!==n)break;case 6:Gn(s,n,Tt,!Un);break e;case 2:St=null;break;case 3:case 5:break;default:throw Error(o(329))}if((n&62914560)===n&&(d=ha+300-ft(),10<d)){if(Gn(s,n,Tt,!Un),Jn(s,0,!0)!==0)break e;Sn=n,s.timeoutHandle=jf(qp.bind(null,s,i,St,ga,Ir,n,Tt,gi,is,Un,p,"Throttled",-0,0),d);break e}qp(s,i,St,ga,Ir,n,Tt,gi,is,Un,p,null,-0,0)}}break}while(!0);nn(e)}function qp(e,n,i,s,d,p,v,E,O,X,te,ae,Z,J){if(e.timeoutHandle=-1,ae=n.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:on},Ip(n,p,ae);var pe=(p&62914560)===p?ha-ft():(p&4194048)===p?Wp-ft():0;if(pe=lm(ae,pe),pe!==null){Sn=p,e.cancelPendingCommit=pe(Kp.bind(null,e,n,p,i,s,d,v,E,O,te,ae,null,Z,J)),Gn(e,p,v,!X);return}}Kp(e,n,p,i,s,d,v,E,O)}function jg(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var s=0;s<i.length;s++){var d=i[s],p=d.getSnapshot;d=d.value;try{if(!Dt(p(),d))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Gn(e,n,i,s){n&=~Nr,n&=~gi,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var d=n;0<d;){var p=31-Ie(d),v=1<<p;s[p]=-1,d&=~v}i!==0&&ed(e,i,n)}function ma(){return(Fe&6)===0?(ll(0),!1):!0}function Wr(){if(Ee!==null){if(Oe===0)var e=Ee.return;else e=Ee,un=oi=null,nr(e),Qi=null,Us=0,e=Ee;for(;e!==null;)jp(e.alternate,e),e=e.return;Ee=null}}function ls(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,Ug(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Sn=0,Wr(),He=e,Ee=i=cn(e.current,null),Ce=n,Oe=0,kt=null,Un=!1,ns=zn(e,n),Mr=!1,is=Tt=Nr=gi=Hn=Ye=0,St=il=null,Ir=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var d=31-Ie(s),p=1<<d;n|=e[d],s&=~p}return jn=n,_l(),i}function Gp(e,n){ve=null,A.H=Qs,n===Pi||n===Vl?(n=ou(),Oe=3):n===qo?(n=ou(),Oe=4):Oe=n===yr?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,kt=n,Ee===null&&(Ye=1,aa(e,_t(n,e.current)))}function Vp(){var e=zt.current;return e===null?!0:(Ce&4194048)===Ce?Ht===null:(Ce&62914560)===Ce||(Ce&536870912)!==0?e===Ht:!1}function Yp(){var e=A.H;return A.H=Qs,e===null?Qs:e}function Pp(){var e=A.A;return A.A=vg,e}function ya(){Ye=4,Un||(Ce&4194048)!==Ce&&zt.current!==null||(ns=!0),(Hn&134217727)===0&&(gi&134217727)===0||He===null||Gn(He,Ce,Tt,!1)}function Ur(e,n,i){var s=Fe;Fe|=2;var d=Yp(),p=Pp();(He!==e||Ce!==n)&&(ga=null,ls(e,n)),n=!1;var v=Ye;e:do try{if(Oe!==0&&Ee!==null){var E=Ee,O=kt;switch(Oe){case 8:Wr(),v=6;break e;case 3:case 2:case 9:case 6:zt.current===null&&(n=!0);var X=Oe;if(Oe=0,kt=null,as(e,E,O,X),i&&ns){v=0;break e}break;default:X=Oe,Oe=0,kt=null,as(e,E,O,X)}}Sg(),v=Ye;break}catch(te){Gp(e,te)}while(!0);return n&&e.shellSuspendCounter++,un=oi=null,Fe=s,A.H=d,A.A=p,Ee===null&&(He=null,Ce=0,_l()),v}function Sg(){for(;Ee!==null;)Qp(Ee)}function Eg(e,n){var i=Fe;Fe|=2;var s=Yp(),d=Pp();He!==e||Ce!==n?(ga=null,xa=ft()+500,ls(e,n)):ns=zn(e,n);e:do try{if(Oe!==0&&Ee!==null){n=Ee;var p=kt;t:switch(Oe){case 1:Oe=0,kt=null,as(e,n,p,1);break;case 2:case 9:if(lu(p)){Oe=0,kt=null,Xp(n);break}n=function(){Oe!==2&&Oe!==9||He!==e||(Oe=7),nn(e)},p.then(n,n);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:lu(p)?(Oe=0,kt=null,Xp(n)):(Oe=0,kt=null,as(e,n,p,7));break;case 5:var v=null;switch(Ee.tag){case 26:v=Ee.memoizedState;case 5:case 27:var E=Ee;if(v?If(v):E.stateNode.complete){Oe=0,kt=null;var O=E.sibling;if(O!==null)Ee=O;else{var X=E.return;X!==null?(Ee=X,va(X)):Ee=null}break t}}Oe=0,kt=null,as(e,n,p,5);break;case 6:Oe=0,kt=null,as(e,n,p,6);break;case 8:Wr(),Ye=6;break e;default:throw Error(o(462))}}Bg();break}catch(te){Gp(e,te)}while(!0);return un=oi=null,A.H=s,A.A=d,Fe=i,Ee!==null?0:(He=null,Ce=0,_l(),Ye)}function Bg(){for(;Ee!==null&&!Ja();)Qp(Ee)}function Qp(e){var n=vp(e.alternate,e,jn);e.memoizedProps=e.pendingProps,n===null?va(e):Ee=n}function Xp(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=fp(i,n,n.pendingProps,n.type,void 0,Ce);break;case 11:n=fp(i,n,n.pendingProps,n.type.render,n.ref,Ce);break;case 5:nr(n);default:jp(i,n),n=Ee=Pd(n,jn),n=vp(i,n,jn)}e.memoizedProps=e.pendingProps,n===null?va(e):Ee=n}function as(e,n,i,s){un=oi=null,nr(n),Qi=null,Us=0;var d=n.return;try{if(pg(e,d,n,i,Ce)){Ye=1,aa(e,_t(i,e.current)),Ee=null;return}}catch(p){if(d!==null)throw Ee=d,p;Ye=1,aa(e,_t(i,e.current)),Ee=null;return}n.flags&32768?(we||s===1?e=!0:ns||(Ce&536870912)!==0?e=!1:(Un=e=!0,(s===2||s===9||s===3||s===6)&&(s=zt.current,s!==null&&s.tag===13&&(s.flags|=16384))),Zp(n,e)):va(n)}function va(e){var n=e;do{if((n.flags&32768)!==0){Zp(n,Un);return}e=n.return;var i=xg(n.alternate,n,jn);if(i!==null){Ee=i;return}if(n=n.sibling,n!==null){Ee=n;return}Ee=n=e}while(n!==null);Ye===0&&(Ye=5)}function Zp(e,n){do{var i=gg(e.alternate,e);if(i!==null){i.flags&=32767,Ee=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){Ee=e;return}Ee=e=i}while(e!==null);Ye=6,Ee=null}function Kp(e,n,i,s,d,p,v,E,O){e.cancelPendingCommit=null;do ba();while(et!==0);if((Fe&6)!==0)throw Error(o(327));if(n!==null){if(n===e.current)throw Error(o(177));if(p=n.lanes|n.childLanes,p|=Ao,ix(e,i,p,v,E,O),e===He&&(Ee=He=null,Ce=0),ss=n,qn=e,Sn=i,Or=p,_r=d,Up=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,zg(wn,function(){return sf(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=A.T,A.T=null,d=k.p,k.p=2,v=Fe,Fe|=4;try{mg(e,n,i)}finally{Fe=v,k.p=d,A.T=s}}et=1,Jp(),ef(),tf()}}function Jp(){if(et===1){et=0;var e=qn,n=ss,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=A.T,A.T=null;var s=k.p;k.p=2;var d=Fe;Fe|=4;try{Rp(n,e);var p=Jr,v=Ld(e.containerInfo),E=p.focusedElem,O=p.selectionRange;if(v!==E&&E&&E.ownerDocument&&_d(E.ownerDocument.documentElement,E)){if(O!==null&&Bo(E)){var X=O.start,te=O.end;if(te===void 0&&(te=X),"selectionStart"in E)E.selectionStart=X,E.selectionEnd=Math.min(te,E.value.length);else{var ae=E.ownerDocument||document,Z=ae&&ae.defaultView||window;if(Z.getSelection){var J=Z.getSelection(),pe=E.textContent.length,xe=Math.min(O.start,pe),Ue=O.end===void 0?xe:Math.min(O.end,pe);!J.extend&&xe>Ue&&(v=Ue,Ue=xe,xe=v);var Y=Od(E,xe),$=Od(E,Ue);if(Y&&$&&(J.rangeCount!==1||J.anchorNode!==Y.node||J.anchorOffset!==Y.offset||J.focusNode!==$.node||J.focusOffset!==$.offset)){var Q=ae.createRange();Q.setStart(Y.node,Y.offset),J.removeAllRanges(),xe>Ue?(J.addRange(Q),J.extend($.node,$.offset)):(Q.setEnd($.node,$.offset),J.addRange(Q))}}}}for(ae=[],J=E;J=J.parentNode;)J.nodeType===1&&ae.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<ae.length;E++){var se=ae[E];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Fa=!!Kr,Jr=Kr=null}finally{Fe=d,k.p=s,A.T=i}}e.current=n,et=2}}function ef(){if(et===2){et=0;var e=qn,n=ss,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=A.T,A.T=null;var s=k.p;k.p=2;var d=Fe;Fe|=4;try{zp(e,n.alternate,n)}finally{Fe=d,k.p=s,A.T=i}}et=3}}function tf(){if(et===4||et===3){et=0,eo();var e=qn,n=ss,i=Sn,s=Up;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?et=5:(et=0,ss=qn=null,nf(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&($n=null),so(i),n=n.stateNode,Ne&&typeof Ne.onCommitFiberRoot=="function")try{Ne.onCommitFiberRoot(it,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=A.T,d=k.p,k.p=2,A.T=null;try{for(var p=e.onRecoverableError,v=0;v<s.length;v++){var E=s[v];p(E.value,{componentStack:E.stack})}}finally{A.T=n,k.p=d}}(Sn&3)!==0&&ba(),nn(e),d=e.pendingLanes,(i&261930)!==0&&(d&42)!==0?e===Lr?sl++:(sl=0,Lr=e):sl=0,ll(0)}}function nf(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ls(n)))}function ba(){return Jp(),ef(),tf(),sf()}function sf(){if(et!==5)return!1;var e=qn,n=Or;Or=0;var i=so(Sn),s=A.T,d=k.p;try{k.p=32>i?32:i,A.T=null,i=_r,_r=null;var p=qn,v=Sn;if(et=0,ss=qn=null,Sn=0,(Fe&6)!==0)throw Error(o(331));var E=Fe;if(Fe|=4,_p(p.current),Np(p,p.current,v,i),Fe=E,ll(0,!1),Ne&&typeof Ne.onPostCommitFiberRoot=="function")try{Ne.onPostCommitFiberRoot(it,p)}catch{}return!0}finally{k.p=d,A.T=s,nf(e,n)}}function lf(e,n,i){n=_t(i,n),n=mr(e.stateNode,n,2),e=On(e,n,2),e!==null&&(Cs(e,2),nn(e))}function _e(e,n,i){if(e.tag===3)lf(e,e,i);else for(;n!==null;){if(n.tag===3){lf(n,e,i);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&($n===null||!$n.has(s))){e=_t(i,e),i=lp(2),s=On(n,i,2),s!==null&&(ap(i,s,n,e),Cs(s,2),nn(s));break}}n=n.return}}function Hr(e,n,i){var s=e.pingCache;if(s===null){s=e.pingCache=new bg;var d=new Set;s.set(n,d)}else d=s.get(n),d===void 0&&(d=new Set,s.set(n,d));d.has(i)||(Mr=!0,d.add(i),e=Cg.bind(null,e,n,i),n.then(e,e))}function Cg(e,n,i){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,He===e&&(Ce&i)===i&&(Ye===4||Ye===3&&(Ce&62914560)===Ce&&300>ft()-ha?(Fe&2)===0&&ls(e,0):Nr|=i,is===Ce&&(is=0)),nn(e)}function af(e,n){n===0&&(n=Jc()),e=si(e,n),e!==null&&(Cs(e,n),nn(e))}function Dg(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),af(e,i)}function wg(e,n){var i=0;switch(e.tag){case 31:case 13:var s=e.stateNode,d=e.memoizedState;d!==null&&(i=d.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(o(314))}s!==null&&s.delete(n),af(e,i)}function zg(e,n){return Di(e,n)}var ja=null,os=null,$r=!1,Sa=!1,qr=!1,Vn=0;function nn(e){e!==os&&e.next===null&&(os===null?ja=os=e:os=os.next=e),Sa=!0,$r||($r=!0,kg())}function ll(e,n){if(!qr&&Sa){qr=!0;do for(var i=!1,s=ja;s!==null;){if(e!==0){var d=s.pendingLanes;if(d===0)var p=0;else{var v=s.suspendedLanes,E=s.pingedLanes;p=(1<<31-Ie(42|e)+1)-1,p&=d&~(v&~E),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(i=!0,df(s,p))}else p=Ce,p=Jn(s,s===He?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(p&3)===0||zn(s,p)||(i=!0,df(s,p));s=s.next}while(i);qr=!1}}function Ag(){of()}function of(){Sa=$r=!1;var e=0;Vn!==0&&Wg()&&(e=Vn);for(var n=ft(),i=null,s=ja;s!==null;){var d=s.next,p=rf(s,n);p===0?(s.next=null,i===null?ja=d:i.next=d,d===null&&(os=i)):(i=s,(e!==0||(p&3)!==0)&&(Sa=!0)),s=d}et!==0&&et!==5||ll(e),Vn!==0&&(Vn=0)}function rf(e,n){for(var i=e.suspendedLanes,s=e.pingedLanes,d=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var v=31-Ie(p),E=1<<v,O=d[v];O===-1?((E&i)===0||(E&s)!==0)&&(d[v]=wi(E,n)):O<=n&&(e.expiredLanes|=E),p&=~E}if(n=He,i=Ce,i=Jn(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,i===0||e===n&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Bs(s),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||zn(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(s!==null&&Bs(s),so(i)){case 2:case 8:i=Dl;break;case 32:i=wn;break;case 268435456:i=oe;break;default:i=wn}return s=cf.bind(null,e),i=Di(i,s),e.callbackPriority=n,e.callbackNode=i,n}return s!==null&&s!==null&&Bs(s),e.callbackPriority=2,e.callbackNode=null,2}function cf(e,n){if(et!==0&&et!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(ba()&&e.callbackNode!==i)return null;var s=Ce;return s=Jn(e,e===He?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:($p(e,s,n),rf(e,ft()),e.callbackNode!=null&&e.callbackNode===i?cf.bind(null,e):null)}function df(e,n){if(ba())return null;$p(e,n,!0)}function kg(){Hg(function(){(Fe&6)!==0?Di(Cl,Ag):of()})}function Gr(){if(Vn===0){var e=Vi;e===0&&(e=ut,ut<<=1,(ut&261888)===0&&(ut=256)),Vn=e}return Vn}function uf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:kl(""+e)}function pf(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function Tg(e,n,i,s,d){if(n==="submit"&&i&&i.stateNode===d){var p=uf((d[mt]||null).action),v=s.submitter;v&&(n=(n=v[mt]||null)?uf(n.formAction):v.getAttribute("formAction"),n!==null&&(p=n,v=null));var E=new Ml("action","action",null,s,d);e.push({event:E,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Vn!==0){var O=v?pf(d,v):new FormData(d);ur(i,{pending:!0,data:O,method:d.method,action:p},null,O)}}else typeof p=="function"&&(E.preventDefault(),O=v?pf(d,v):new FormData(d),ur(i,{pending:!0,data:O,method:d.method,action:p},p,O))},currentTarget:d}]})}}for(var Vr=0;Vr<zo.length;Vr++){var Yr=zo[Vr],Fg=Yr.toLowerCase(),Rg=Yr[0].toUpperCase()+Yr.slice(1);Yt(Fg,"on"+Rg)}Yt(Hd,"onAnimationEnd"),Yt($d,"onAnimationIteration"),Yt(qd,"onAnimationStart"),Yt("dblclick","onDoubleClick"),Yt("focusin","onFocus"),Yt("focusout","onBlur"),Yt(Qx,"onTransitionRun"),Yt(Xx,"onTransitionStart"),Yt(Zx,"onTransitionCancel"),Yt(Gd,"onTransitionEnd"),Fi("onMouseEnter",["mouseout","mouseover"]),Fi("onMouseLeave",["mouseout","mouseover"]),Fi("onPointerEnter",["pointerout","pointerover"]),Fi("onPointerLeave",["pointerout","pointerover"]),ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(al));function ff(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],d=s.event;s=s.listeners;e:{var p=void 0;if(n)for(var v=s.length-1;0<=v;v--){var E=s[v],O=E.instance,X=E.currentTarget;if(E=E.listener,O!==p&&d.isPropagationStopped())break e;p=E,d.currentTarget=X;try{p(d)}catch(te){Ol(te)}d.currentTarget=null,p=O}else for(v=0;v<s.length;v++){if(E=s[v],O=E.instance,X=E.currentTarget,E=E.listener,O!==p&&d.isPropagationStopped())break e;p=E,d.currentTarget=X;try{p(d)}catch(te){Ol(te)}d.currentTarget=null,p=O}}}}function Be(e,n){var i=n[lo];i===void 0&&(i=n[lo]=new Set);var s=e+"__bubble";i.has(s)||(hf(n,e,2,!1),i.add(s))}function Pr(e,n,i){var s=0;n&&(s|=4),hf(i,e,s,n)}var Ea="_reactListening"+Math.random().toString(36).slice(2);function Qr(e){if(!e[Ea]){e[Ea]=!0,ad.forEach(function(i){i!=="selectionchange"&&(Mg.has(i)||Pr(i,!1,e),Pr(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ea]||(n[Ea]=!0,Pr("selectionchange",!1,n))}}function hf(e,n,i,s){switch($f(n)){case 2:var d=rm;break;case 8:d=cm;break;default:d=dc}i=d.bind(null,n,i,e),d=void 0,!xo||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),s?d!==void 0?e.addEventListener(n,i,{capture:!0,passive:d}):e.addEventListener(n,i,!0):d!==void 0?e.addEventListener(n,i,{passive:d}):e.addEventListener(n,i,!1)}function Xr(e,n,i,s,d){var p=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var v=s.tag;if(v===3||v===4){var E=s.stateNode.containerInfo;if(E===d)break;if(v===4)for(v=s.return;v!==null;){var O=v.tag;if((O===3||O===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;E!==null;){if(v=Ai(E),v===null)return;if(O=v.tag,O===5||O===6||O===26||O===27){s=p=v;continue e}E=E.parentNode}}s=s.return}yd(function(){var X=p,te=fo(i),ae=[];e:{var Z=Vd.get(e);if(Z!==void 0){var J=Ml,pe=e;switch(e){case"keypress":if(Fl(i)===0)break e;case"keydown":case"keyup":J=wx;break;case"focusin":pe="focus",J=vo;break;case"focusout":pe="blur",J=vo;break;case"beforeblur":case"afterblur":J=vo;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=jd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=xx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=kx;break;case Hd:case $d:case qd:J=yx;break;case Gd:J=Fx;break;case"scroll":case"scrollend":J=fx;break;case"wheel":J=Mx;break;case"copy":case"cut":case"paste":J=bx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Ed;break;case"toggle":case"beforetoggle":J=Ix}var xe=(n&4)!==0,Ue=!xe&&(e==="scroll"||e==="scrollend"),Y=xe?Z!==null?Z+"Capture":null:Z;xe=[];for(var $=X,Q;$!==null;){var se=$;if(Q=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||Q===null||Y===null||(se=zs($,Y),se!=null&&xe.push(ol($,se,Q))),Ue)break;$=$.return}0<xe.length&&(Z=new J(Z,pe,null,i,te),ae.push({event:Z,listeners:xe}))}}if((n&7)===0){e:{if(Z=e==="mouseover"||e==="pointerover",J=e==="mouseout"||e==="pointerout",Z&&i!==po&&(pe=i.relatedTarget||i.fromElement)&&(Ai(pe)||pe[zi]))break e;if((J||Z)&&(Z=te.window===te?te:(Z=te.ownerDocument)?Z.defaultView||Z.parentWindow:window,J?(pe=i.relatedTarget||i.toElement,J=X,pe=pe?Ai(pe):null,pe!==null&&(Ue=u(pe),xe=pe.tag,pe!==Ue||xe!==5&&xe!==27&&xe!==6)&&(pe=null)):(J=null,pe=X),J!==pe)){if(xe=jd,se="onMouseLeave",Y="onMouseEnter",$="mouse",(e==="pointerout"||e==="pointerover")&&(xe=Ed,se="onPointerLeave",Y="onPointerEnter",$="pointer"),Ue=J==null?Z:ws(J),Q=pe==null?Z:ws(pe),Z=new xe(se,$+"leave",J,i,te),Z.target=Ue,Z.relatedTarget=Q,se=null,Ai(te)===X&&(xe=new xe(Y,$+"enter",pe,i,te),xe.target=Q,xe.relatedTarget=Ue,se=xe),Ue=se,J&&pe)t:{for(xe=Ng,Y=J,$=pe,Q=0,se=Y;se;se=xe(se))Q++;se=0;for(var he=$;he;he=xe(he))se++;for(;0<Q-se;)Y=xe(Y),Q--;for(;0<se-Q;)$=xe($),se--;for(;Q--;){if(Y===$||$!==null&&Y===$.alternate){xe=Y;break t}Y=xe(Y),$=xe($)}xe=null}else xe=null;J!==null&&xf(ae,Z,J,xe,!1),pe!==null&&Ue!==null&&xf(ae,Ue,pe,xe,!0)}}e:{if(Z=X?ws(X):window,J=Z.nodeName&&Z.nodeName.toLowerCase(),J==="select"||J==="input"&&Z.type==="file")var ke=Td;else if(Ad(Z))if(Fd)ke=Vx;else{ke=qx;var fe=$x}else J=Z.nodeName,!J||J.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?X&&uo(X.elementType)&&(ke=Td):ke=Gx;if(ke&&(ke=ke(e,X))){kd(ae,ke,i,te);break e}fe&&fe(e,Z,X),e==="focusout"&&X&&Z.type==="number"&&X.memoizedProps.value!=null&&co(Z,"number",Z.value)}switch(fe=X?ws(X):window,e){case"focusin":(Ad(fe)||fe.contentEditable==="true")&&(_i=fe,Co=X,Is=null);break;case"focusout":Is=Co=_i=null;break;case"mousedown":Do=!0;break;case"contextmenu":case"mouseup":case"dragend":Do=!1,Wd(ae,i,te);break;case"selectionchange":if(Px)break;case"keydown":case"keyup":Wd(ae,i,te)}var be;if(jo)e:{switch(e){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else Oi?wd(e,i)&&(De="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(De="onCompositionStart");De&&(Bd&&i.locale!=="ko"&&(Oi||De!=="onCompositionStart"?De==="onCompositionEnd"&&Oi&&(be=vd()):(kn=te,go="value"in kn?kn.value:kn.textContent,Oi=!0)),fe=Ba(X,De),0<fe.length&&(De=new Sd(De,e,null,i,te),ae.push({event:De,listeners:fe}),be?De.data=be:(be=zd(i),be!==null&&(De.data=be)))),(be=_x?Lx(e,i):Wx(e,i))&&(De=Ba(X,"onBeforeInput"),0<De.length&&(fe=new Sd("onBeforeInput","beforeinput",null,i,te),ae.push({event:fe,listeners:De}),fe.data=be)),Tg(ae,e,X,i,te)}ff(ae,n)})}function ol(e,n,i){return{instance:e,listener:n,currentTarget:i}}function Ba(e,n){for(var i=n+"Capture",s=[];e!==null;){var d=e,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=zs(e,i),d!=null&&s.unshift(ol(e,d,p)),d=zs(e,n),d!=null&&s.push(ol(e,d,p))),e.tag===3)return s;e=e.return}return[]}function Ng(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function xf(e,n,i,s,d){for(var p=n._reactName,v=[];i!==null&&i!==s;){var E=i,O=E.alternate,X=E.stateNode;if(E=E.tag,O!==null&&O===s)break;E!==5&&E!==26&&E!==27||X===null||(O=X,d?(X=zs(i,p),X!=null&&v.unshift(ol(i,X,O))):d||(X=zs(i,p),X!=null&&v.push(ol(i,X,O)))),i=i.return}v.length!==0&&e.push({event:n,listeners:v})}var Ig=/\r\n?/g,Og=/\u0000|\uFFFD/g;function gf(e){return(typeof e=="string"?e:""+e).replace(Ig,`
`).replace(Og,"")}function mf(e,n){return n=gf(n),gf(e)===n}function We(e,n,i,s,d,p){switch(i){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||Mi(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&Mi(e,""+s);break;case"className":zl(e,"class",s);break;case"tabIndex":zl(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":zl(e,i,s);break;case"style":gd(e,s,p);break;case"data":if(n!=="object"){zl(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=kl(""+s),e.setAttribute(i,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(i==="formAction"?(n!=="input"&&We(e,n,"name",d.name,d,null),We(e,n,"formEncType",d.formEncType,d,null),We(e,n,"formMethod",d.formMethod,d,null),We(e,n,"formTarget",d.formTarget,d,null)):(We(e,n,"encType",d.encType,d,null),We(e,n,"method",d.method,d,null),We(e,n,"target",d.target,d,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=kl(""+s),e.setAttribute(i,s);break;case"onClick":s!=null&&(e.onclick=on);break;case"onScroll":s!=null&&Be("scroll",e);break;case"onScrollEnd":s!=null&&Be("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(o(61));if(i=s.__html,i!=null){if(d.children!=null)throw Error(o(60));e.innerHTML=i}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}i=kl(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""+s):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":s===!0?e.setAttribute(i,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,s):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(i,s):e.removeAttribute(i);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(i):e.setAttribute(i,s);break;case"popover":Be("beforetoggle",e),Be("toggle",e),wl(e,"popover",s);break;case"xlinkActuate":an(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":an(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":an(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":an(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":an(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":an(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":an(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":an(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":an(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":wl(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=ux.get(i)||i,wl(e,i,s))}}function Zr(e,n,i,s,d,p){switch(i){case"style":gd(e,s,p);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(o(61));if(i=s.__html,i!=null){if(d.children!=null)throw Error(o(60));e.innerHTML=i}}break;case"children":typeof s=="string"?Mi(e,s):(typeof s=="number"||typeof s=="bigint")&&Mi(e,""+s);break;case"onScroll":s!=null&&Be("scroll",e);break;case"onScrollEnd":s!=null&&Be("scrollend",e);break;case"onClick":s!=null&&(e.onclick=on);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!od.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(d=i.endsWith("Capture"),n=i.slice(2,d?i.length-7:void 0),p=e[mt]||null,p=p!=null?p[i]:null,typeof p=="function"&&e.removeEventListener(n,p,d),typeof s=="function")){typeof p!="function"&&p!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,s,d);break e}i in e?e[i]=s:s===!0?e.setAttribute(i,""):wl(e,i,s)}}}function rt(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",e),Be("load",e);var s=!1,d=!1,p;for(p in i)if(i.hasOwnProperty(p)){var v=i[p];if(v!=null)switch(p){case"src":s=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:We(e,n,p,v,i,null)}}d&&We(e,n,"srcSet",i.srcSet,i,null),s&&We(e,n,"src",i.src,i,null);return;case"input":Be("invalid",e);var E=p=v=d=null,O=null,X=null;for(s in i)if(i.hasOwnProperty(s)){var te=i[s];if(te!=null)switch(s){case"name":d=te;break;case"type":v=te;break;case"checked":O=te;break;case"defaultChecked":X=te;break;case"value":p=te;break;case"defaultValue":E=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(o(137,n));break;default:We(e,n,s,te,i,null)}}pd(e,p,E,O,X,v,d,!1);return;case"select":Be("invalid",e),s=v=p=null;for(d in i)if(i.hasOwnProperty(d)&&(E=i[d],E!=null))switch(d){case"value":p=E;break;case"defaultValue":v=E;break;case"multiple":s=E;default:We(e,n,d,E,i,null)}n=p,i=v,e.multiple=!!s,n!=null?Ri(e,!!s,n,!1):i!=null&&Ri(e,!!s,i,!0);return;case"textarea":Be("invalid",e),p=d=s=null;for(v in i)if(i.hasOwnProperty(v)&&(E=i[v],E!=null))switch(v){case"value":s=E;break;case"defaultValue":d=E;break;case"children":p=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(o(91));break;default:We(e,n,v,E,i,null)}hd(e,s,d,p);return;case"option":for(O in i)if(i.hasOwnProperty(O)&&(s=i[O],s!=null))switch(O){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:We(e,n,O,s,i,null)}return;case"dialog":Be("beforetoggle",e),Be("toggle",e),Be("cancel",e),Be("close",e);break;case"iframe":case"object":Be("load",e);break;case"video":case"audio":for(s=0;s<al.length;s++)Be(al[s],e);break;case"image":Be("error",e),Be("load",e);break;case"details":Be("toggle",e);break;case"embed":case"source":case"link":Be("error",e),Be("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in i)if(i.hasOwnProperty(X)&&(s=i[X],s!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:We(e,n,X,s,i,null)}return;default:if(uo(n)){for(te in i)i.hasOwnProperty(te)&&(s=i[te],s!==void 0&&Zr(e,n,te,s,i,void 0));return}}for(E in i)i.hasOwnProperty(E)&&(s=i[E],s!=null&&We(e,n,E,s,i,null))}function _g(e,n,i,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,v=null,E=null,O=null,X=null,te=null;for(J in i){var ae=i[J];if(i.hasOwnProperty(J)&&ae!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":O=ae;default:s.hasOwnProperty(J)||We(e,n,J,null,s,ae)}}for(var Z in s){var J=s[Z];if(ae=i[Z],s.hasOwnProperty(Z)&&(J!=null||ae!=null))switch(Z){case"type":p=J;break;case"name":d=J;break;case"checked":X=J;break;case"defaultChecked":te=J;break;case"value":v=J;break;case"defaultValue":E=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(o(137,n));break;default:J!==ae&&We(e,n,Z,J,s,ae)}}ro(e,v,E,O,X,te,p,d);return;case"select":J=v=E=Z=null;for(p in i)if(O=i[p],i.hasOwnProperty(p)&&O!=null)switch(p){case"value":break;case"multiple":J=O;default:s.hasOwnProperty(p)||We(e,n,p,null,s,O)}for(d in s)if(p=s[d],O=i[d],s.hasOwnProperty(d)&&(p!=null||O!=null))switch(d){case"value":Z=p;break;case"defaultValue":E=p;break;case"multiple":v=p;default:p!==O&&We(e,n,d,p,s,O)}n=E,i=v,s=J,Z!=null?Ri(e,!!i,Z,!1):!!s!=!!i&&(n!=null?Ri(e,!!i,n,!0):Ri(e,!!i,i?[]:"",!1));return;case"textarea":J=Z=null;for(E in i)if(d=i[E],i.hasOwnProperty(E)&&d!=null&&!s.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:We(e,n,E,null,s,d)}for(v in s)if(d=s[v],p=i[v],s.hasOwnProperty(v)&&(d!=null||p!=null))switch(v){case"value":Z=d;break;case"defaultValue":J=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(o(91));break;default:d!==p&&We(e,n,v,d,s,p)}fd(e,Z,J);return;case"option":for(var pe in i)if(Z=i[pe],i.hasOwnProperty(pe)&&Z!=null&&!s.hasOwnProperty(pe))switch(pe){case"selected":e.selected=!1;break;default:We(e,n,pe,null,s,Z)}for(O in s)if(Z=s[O],J=i[O],s.hasOwnProperty(O)&&Z!==J&&(Z!=null||J!=null))switch(O){case"selected":e.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:We(e,n,O,Z,s,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in i)Z=i[xe],i.hasOwnProperty(xe)&&Z!=null&&!s.hasOwnProperty(xe)&&We(e,n,xe,null,s,Z);for(X in s)if(Z=s[X],J=i[X],s.hasOwnProperty(X)&&Z!==J&&(Z!=null||J!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(o(137,n));break;default:We(e,n,X,Z,s,J)}return;default:if(uo(n)){for(var Ue in i)Z=i[Ue],i.hasOwnProperty(Ue)&&Z!==void 0&&!s.hasOwnProperty(Ue)&&Zr(e,n,Ue,void 0,s,Z);for(te in s)Z=s[te],J=i[te],!s.hasOwnProperty(te)||Z===J||Z===void 0&&J===void 0||Zr(e,n,te,Z,s,J);return}}for(var Y in i)Z=i[Y],i.hasOwnProperty(Y)&&Z!=null&&!s.hasOwnProperty(Y)&&We(e,n,Y,null,s,Z);for(ae in s)Z=s[ae],J=i[ae],!s.hasOwnProperty(ae)||Z===J||Z==null&&J==null||We(e,n,ae,Z,s,J)}function yf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Lg(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,i=performance.getEntriesByType("resource"),s=0;s<i.length;s++){var d=i[s],p=d.transferSize,v=d.initiatorType,E=d.duration;if(p&&E&&yf(v)){for(v=0,E=d.responseEnd,s+=1;s<i.length;s++){var O=i[s],X=O.startTime;if(X>E)break;var te=O.transferSize,ae=O.initiatorType;te&&yf(ae)&&(O=O.responseEnd,v+=te*(O<E?1:(E-X)/(O-X)))}if(--s,n+=8*(p+v)/(d.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Kr=null,Jr=null;function Ca(e){return e.nodeType===9?e:e.ownerDocument}function vf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bf(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function ec(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var tc=null;function Wg(){var e=window.event;return e&&e.type==="popstate"?e===tc?!1:(tc=e,!0):(tc=null,!1)}var jf=typeof setTimeout=="function"?setTimeout:void 0,Ug=typeof clearTimeout=="function"?clearTimeout:void 0,Sf=typeof Promise=="function"?Promise:void 0,Hg=typeof queueMicrotask=="function"?queueMicrotask:typeof Sf<"u"?function(e){return Sf.resolve(null).then(e).catch($g)}:jf;function $g(e){setTimeout(function(){throw e})}function Yn(e){return e==="head"}function Ef(e,n){var i=n,s=0;do{var d=i.nextSibling;if(e.removeChild(i),d&&d.nodeType===8)if(i=d.data,i==="/$"||i==="/&"){if(s===0){e.removeChild(d),us(n);return}s--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")s++;else if(i==="html")rl(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,rl(i);for(var p=i.firstChild;p;){var v=p.nextSibling,E=p.nodeName;p[Ds]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&p.rel.toLowerCase()==="stylesheet"||i.removeChild(p),p=v}}else i==="body"&&rl(e.ownerDocument.body);i=d}while(i);us(n)}function Bf(e,n){var i=e;e=0;do{var s=i.nextSibling;if(i.nodeType===1?n?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(n?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),s&&s.nodeType===8)if(i=s.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=s}while(i)}function nc(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":nc(i),ao(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function qg(e,n,i,s){for(;e.nodeType===1;){var d=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Ds])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=$t(e.nextSibling),e===null)break}return null}function Gg(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=$t(e.nextSibling),e===null))return null;return e}function Cf(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=$t(e.nextSibling),e===null))return null;return e}function ic(e){return e.data==="$?"||e.data==="$~"}function sc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Vg(e,n){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||i.readyState!=="loading")n();else{var s=function(){n(),i.removeEventListener("DOMContentLoaded",s)};i.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function $t(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var lc=null;function Df(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(n===0)return $t(e.nextSibling);n--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||n++}e=e.nextSibling}return null}function wf(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(n===0)return e;n--}else i!=="/$"&&i!=="/&"||n++}e=e.previousSibling}return null}function zf(e,n,i){switch(n=Ca(i),e){case"html":if(e=n.documentElement,!e)throw Error(o(452));return e;case"head":if(e=n.head,!e)throw Error(o(453));return e;case"body":if(e=n.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function rl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ao(e)}var qt=new Map,Af=new Set;function Da(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var En=k.d;k.d={f:Yg,r:Pg,D:Qg,C:Xg,L:Zg,m:Kg,X:em,S:Jg,M:tm};function Yg(){var e=En.f(),n=ma();return e||n}function Pg(e){var n=ki(e);n!==null&&n.tag===5&&n.type==="form"?Gu(n):En.r(e)}var rs=typeof document>"u"?null:document;function kf(e,n,i){var s=rs;if(s&&typeof n=="string"&&n){var d=It(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof i=="string"&&(d+='[crossorigin="'+i+'"]'),Af.has(d)||(Af.add(d),e={rel:e,crossOrigin:i,href:n},s.querySelector(d)===null&&(n=s.createElement("link"),rt(n,"link",e),tt(n),s.head.appendChild(n)))}}function Qg(e){En.D(e),kf("dns-prefetch",e,null)}function Xg(e,n){En.C(e,n),kf("preconnect",e,n)}function Zg(e,n,i){En.L(e,n,i);var s=rs;if(s&&e&&n){var d='link[rel="preload"][as="'+It(n)+'"]';n==="image"&&i&&i.imageSrcSet?(d+='[imagesrcset="'+It(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(d+='[imagesizes="'+It(i.imageSizes)+'"]')):d+='[href="'+It(e)+'"]';var p=d;switch(n){case"style":p=cs(e);break;case"script":p=ds(e)}qt.has(p)||(e=b({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),qt.set(p,e),s.querySelector(d)!==null||n==="style"&&s.querySelector(cl(p))||n==="script"&&s.querySelector(dl(p))||(n=s.createElement("link"),rt(n,"link",e),tt(n),s.head.appendChild(n)))}}function Kg(e,n){En.m(e,n);var i=rs;if(i&&e){var s=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+It(s)+'"][href="'+It(e)+'"]',p=d;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=ds(e)}if(!qt.has(p)&&(e=b({rel:"modulepreload",href:e},n),qt.set(p,e),i.querySelector(d)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(dl(p)))return}s=i.createElement("link"),rt(s,"link",e),tt(s),i.head.appendChild(s)}}}function Jg(e,n,i){En.S(e,n,i);var s=rs;if(s&&e){var d=Ti(s).hoistableStyles,p=cs(e);n=n||"default";var v=d.get(p);if(!v){var E={loading:0,preload:null};if(v=s.querySelector(cl(p)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},i),(i=qt.get(p))&&ac(e,i);var O=v=s.createElement("link");tt(O),rt(O,"link",e),O._p=new Promise(function(X,te){O.onload=X,O.onerror=te}),O.addEventListener("load",function(){E.loading|=1}),O.addEventListener("error",function(){E.loading|=2}),E.loading|=4,wa(v,n,s)}v={type:"stylesheet",instance:v,count:1,state:E},d.set(p,v)}}}function em(e,n){En.X(e,n);var i=rs;if(i&&e){var s=Ti(i).hoistableScripts,d=ds(e),p=s.get(d);p||(p=i.querySelector(dl(d)),p||(e=b({src:e,async:!0},n),(n=qt.get(d))&&oc(e,n),p=i.createElement("script"),tt(p),rt(p,"link",e),i.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},s.set(d,p))}}function tm(e,n){En.M(e,n);var i=rs;if(i&&e){var s=Ti(i).hoistableScripts,d=ds(e),p=s.get(d);p||(p=i.querySelector(dl(d)),p||(e=b({src:e,async:!0,type:"module"},n),(n=qt.get(d))&&oc(e,n),p=i.createElement("script"),tt(p),rt(p,"link",e),i.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},s.set(d,p))}}function Tf(e,n,i,s){var d=(d=ue.current)?Da(d):null;if(!d)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=cs(i.href),i=Ti(d).hoistableStyles,s=i.get(n),s||(s={type:"style",instance:null,count:0,state:null},i.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=cs(i.href);var p=Ti(d).hoistableStyles,v=p.get(e);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,v),(p=d.querySelector(cl(e)))&&!p._p&&(v.instance=p,v.state.loading=5),qt.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},qt.set(e,i),p||nm(d,e,i,v.state))),n&&s===null)throw Error(o(528,""));return v}if(n&&s!==null)throw Error(o(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ds(i),i=Ti(d).hoistableScripts,s=i.get(n),s||(s={type:"script",instance:null,count:0,state:null},i.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function cs(e){return'href="'+It(e)+'"'}function cl(e){return'link[rel="stylesheet"]['+e+"]"}function Ff(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function nm(e,n,i,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),rt(n,"link",i),tt(n),e.head.appendChild(n))}function ds(e){return'[src="'+It(e)+'"]'}function dl(e){return"script[async]"+e}function Rf(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+It(i.href)+'"]');if(s)return n.instance=s,tt(s),s;var d=b({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),tt(s),rt(s,"style",d),wa(s,i.precedence,e),n.instance=s;case"stylesheet":d=cs(i.href);var p=e.querySelector(cl(d));if(p)return n.state.loading|=4,n.instance=p,tt(p),p;s=Ff(i),(d=qt.get(d))&&ac(s,d),p=(e.ownerDocument||e).createElement("link"),tt(p);var v=p;return v._p=new Promise(function(E,O){v.onload=E,v.onerror=O}),rt(p,"link",s),n.state.loading|=4,wa(p,i.precedence,e),n.instance=p;case"script":return p=ds(i.src),(d=e.querySelector(dl(p)))?(n.instance=d,tt(d),d):(s=i,(d=qt.get(p))&&(s=b({},i),oc(s,d)),e=e.ownerDocument||e,d=e.createElement("script"),tt(d),rt(d,"link",s),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(o(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,wa(s,i.precedence,e));return n.instance}function wa(e,n,i){for(var s=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=s.length?s[s.length-1]:null,p=d,v=0;v<s.length;v++){var E=s[v];if(E.dataset.precedence===n)p=E;else if(p!==d)break}p?p.parentNode.insertBefore(e,p.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function ac(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function oc(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var za=null;function Mf(e,n,i){if(za===null){var s=new Map,d=za=new Map;d.set(i,s)}else d=za,s=d.get(i),s||(s=new Map,d.set(i,s));if(s.has(e))return s;for(s.set(e,null),i=i.getElementsByTagName(e),d=0;d<i.length;d++){var p=i[d];if(!(p[Ds]||p[st]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var v=p.getAttribute(n)||"";v=e+v;var E=s.get(v);E?E.push(p):s.set(v,[p])}}return s}function Nf(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function im(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function If(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function sm(e,n,i,s){if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=cs(s.href),p=n.querySelector(cl(d));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Aa.bind(e),n.then(e,e)),i.state.loading|=4,i.instance=p,tt(p);return}p=n.ownerDocument||n,s=Ff(s),(d=qt.get(d))&&ac(s,d),p=p.createElement("link"),tt(p);var v=p;v._p=new Promise(function(E,O){v.onload=E,v.onerror=O}),rt(p,"link",s),i.instance=p}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=Aa.bind(e),n.addEventListener("load",i),n.addEventListener("error",i))}}var rc=0;function lm(e,n){return e.stylesheets&&e.count===0&&Ta(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var s=setTimeout(function(){if(e.stylesheets&&Ta(e,e.stylesheets),e.unsuspend){var p=e.unsuspend;e.unsuspend=null,p()}},6e4+n);0<e.imgBytes&&rc===0&&(rc=62500*Lg());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ta(e,e.stylesheets),e.unsuspend)){var p=e.unsuspend;e.unsuspend=null,p()}},(e.imgBytes>rc?50:800)+n);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(d)}}:null}function Aa(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ta(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ka=null;function Ta(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ka=new Map,n.forEach(am,e),ka=null,Aa.call(e))}function am(e,n){if(!(n.state.loading&4)){var i=ka.get(e);if(i)var s=i.get(null);else{i=new Map,ka.set(e,i);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var v=d[p];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(i.set(v.dataset.precedence,v),s=v)}s&&i.set(null,s)}d=n.instance,v=d.getAttribute("data-precedence"),p=i.get(v)||s,p===s&&i.set(null,d),i.set(v,d),this.count++,s=Aa.bind(this),d.addEventListener("load",s),d.addEventListener("error",s),p?p.parentNode.insertBefore(d,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var ul={$$typeof:I,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function om(e,n,i,s,d,p,v,E,O){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=no(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=no(0),this.hiddenUpdates=no(null),this.identifierPrefix=s,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function Of(e,n,i,s,d,p,v,E,O,X,te,ae){return e=new om(e,n,i,v,O,X,te,ae,E),n=1,p===!0&&(n|=24),p=wt(3,null,null,n),e.current=p,p.stateNode=e,n=Uo(),n.refCount++,e.pooledCache=n,n.refCount++,p.memoizedState={element:s,isDehydrated:i,cache:n},Go(p),e}function _f(e){return e?(e=Ui,e):Ui}function Lf(e,n,i,s,d,p){d=_f(d),s.context===null?s.context=d:s.pendingContext=d,s=In(n),s.payload={element:i},p=p===void 0?null:p,p!==null&&(s.callback=p),i=On(e,s,n),i!==null&&(Et(i,e,n),$s(i,e,n))}function Wf(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function cc(e,n){Wf(e,n),(e=e.alternate)&&Wf(e,n)}function Uf(e){if(e.tag===13||e.tag===31){var n=si(e,67108864);n!==null&&Et(n,e,67108864),cc(e,67108864)}}function Hf(e){if(e.tag===13||e.tag===31){var n=Ft();n=io(n);var i=si(e,n);i!==null&&Et(i,e,n),cc(e,n)}}var Fa=!0;function rm(e,n,i,s){var d=A.T;A.T=null;var p=k.p;try{k.p=2,dc(e,n,i,s)}finally{k.p=p,A.T=d}}function cm(e,n,i,s){var d=A.T;A.T=null;var p=k.p;try{k.p=8,dc(e,n,i,s)}finally{k.p=p,A.T=d}}function dc(e,n,i,s){if(Fa){var d=uc(s);if(d===null)Xr(e,n,s,Ra,i),qf(e,s);else if(um(d,e,n,i,s))s.stopPropagation();else if(qf(e,s),n&4&&-1<dm.indexOf(e)){for(;d!==null;){var p=ki(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var v=Vt(p.pendingLanes);if(v!==0){var E=p;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var O=1<<31-Ie(v);E.entanglements[1]|=O,v&=~O}nn(p),(Fe&6)===0&&(xa=ft()+500,ll(0))}}break;case 31:case 13:E=si(p,2),E!==null&&Et(E,p,2),ma(),cc(p,2)}if(p=uc(s),p===null&&Xr(e,n,s,Ra,i),p===d)break;d=p}d!==null&&s.stopPropagation()}else Xr(e,n,s,null,i)}}function uc(e){return e=fo(e),pc(e)}var Ra=null;function pc(e){if(Ra=null,e=Ai(e),e!==null){var n=u(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=f(n),e!==null)return e;e=null}else if(i===31){if(e=x(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ra=e,null}function $f(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(to()){case Cl:return 2;case Dl:return 8;case wn:case V:return 32;case oe:return 268435456;default:return 32}default:return 32}}var fc=!1,Pn=null,Qn=null,Xn=null,pl=new Map,fl=new Map,Zn=[],dm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qf(e,n){switch(e){case"focusin":case"focusout":Pn=null;break;case"dragenter":case"dragleave":Qn=null;break;case"mouseover":case"mouseout":Xn=null;break;case"pointerover":case"pointerout":pl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(n.pointerId)}}function hl(e,n,i,s,d,p){return e===null||e.nativeEvent!==p?(e={blockedOn:n,domEventName:i,eventSystemFlags:s,nativeEvent:p,targetContainers:[d]},n!==null&&(n=ki(n),n!==null&&Uf(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function um(e,n,i,s,d){switch(n){case"focusin":return Pn=hl(Pn,e,n,i,s,d),!0;case"dragenter":return Qn=hl(Qn,e,n,i,s,d),!0;case"mouseover":return Xn=hl(Xn,e,n,i,s,d),!0;case"pointerover":var p=d.pointerId;return pl.set(p,hl(pl.get(p)||null,e,n,i,s,d)),!0;case"gotpointercapture":return p=d.pointerId,fl.set(p,hl(fl.get(p)||null,e,n,i,s,d)),!0}return!1}function Gf(e){var n=Ai(e.target);if(n!==null){var i=u(n);if(i!==null){if(n=i.tag,n===13){if(n=f(i),n!==null){e.blockedOn=n,sd(e.priority,function(){Hf(i)});return}}else if(n===31){if(n=x(i),n!==null){e.blockedOn=n,sd(e.priority,function(){Hf(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ma(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=uc(e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);po=s,i.target.dispatchEvent(s),po=null}else return n=ki(i),n!==null&&Uf(n),e.blockedOn=i,!1;n.shift()}return!0}function Vf(e,n,i){Ma(e)&&i.delete(n)}function pm(){fc=!1,Pn!==null&&Ma(Pn)&&(Pn=null),Qn!==null&&Ma(Qn)&&(Qn=null),Xn!==null&&Ma(Xn)&&(Xn=null),pl.forEach(Vf),fl.forEach(Vf)}function Na(e,n){e.blockedOn===n&&(e.blockedOn=null,fc||(fc=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,pm)))}var Ia=null;function Yf(e){Ia!==e&&(Ia=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Ia===e&&(Ia=null);for(var n=0;n<e.length;n+=3){var i=e[n],s=e[n+1],d=e[n+2];if(typeof s!="function"){if(pc(s||i)===null)continue;break}var p=ki(i);p!==null&&(e.splice(n,3),n-=3,ur(p,{pending:!0,data:d,method:i.method,action:s},s,d))}}))}function us(e){function n(O){return Na(O,e)}Pn!==null&&Na(Pn,e),Qn!==null&&Na(Qn,e),Xn!==null&&Na(Xn,e),pl.forEach(n),fl.forEach(n);for(var i=0;i<Zn.length;i++){var s=Zn[i];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Zn.length&&(i=Zn[0],i.blockedOn===null);)Gf(i),i.blockedOn===null&&Zn.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(s=0;s<i.length;s+=3){var d=i[s],p=i[s+1],v=d[mt]||null;if(typeof p=="function")v||Yf(i);else if(v){var E=null;if(p&&p.hasAttribute("formAction")){if(d=p,v=p[mt]||null)E=v.formAction;else if(pc(d)!==null)continue}else E=v.action;typeof E=="function"?i[s+1]=E:(i.splice(s,3),s-=3),Yf(i)}}}function Pf(){function e(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(v){return d=v})},focusReset:"manual",scroll:"manual"})}function n(){d!==null&&(d(),d=null),s||setTimeout(i,20)}function i(){if(!s&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(i,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),d!==null&&(d(),d=null)}}}function hc(e){this._internalRoot=e}Oa.prototype.render=hc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(o(409));var i=n.current,s=Ft();Lf(i,s,e,n,null,null)},Oa.prototype.unmount=hc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Lf(e.current,2,null,e,null,null),ma(),n[zi]=null}};function Oa(e){this._internalRoot=e}Oa.prototype.unstable_scheduleHydration=function(e){if(e){var n=id();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Zn.length&&n!==0&&n<Zn[i].priority;i++);Zn.splice(i,0,e),i===0&&Gf(e)}};var Qf=r.version;if(Qf!=="19.2.0")throw Error(o(527,Qf,"19.2.0"));k.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=h(n),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var fm={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_a.isDisabled&&_a.supportsFiber)try{it=_a.inject(fm),Ne=_a}catch{}}return gl.createRoot=function(e,n){if(!a(e))throw Error(o(299));var i=!1,s="",d=tp,p=np,v=ip;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError)),n=Of(e,1,!1,null,null,i,s,null,d,p,v,Pf),e[zi]=n.current,Qr(e),new hc(n)},gl.hydrateRoot=function(e,n,i){if(!a(e))throw Error(o(299));var s=!1,d="",p=tp,v=np,E=ip,O=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.formState!==void 0&&(O=i.formState)),n=Of(e,1,!0,n,i??null,s,d,O,p,v,E,Pf),n.context=_f(null),i=n.current,s=Ft(),s=io(s),d=In(s),d.callback=null,On(i,d,s),i=s,n.current.lanes=i,Cs(n,i),nn(n),e[zi]=n.current,Qr(e),new Oa(n)},gl.version="19.2.0",gl}var lh;function Bm(){if(lh)return mc.exports;lh=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(r){console.error(r)}}return l(),mc.exports=Em(),mc.exports}var Cm=Bm();const ct={GITLAB_URL:"gitlab_url",GITLAB_TOKEN:"gitlab_token",PROJECT_ID:"gitlab_project",GROUP_PATH:"gitlab_group_path",FILTER_2025:"gitlab_filter_2025",RISKS:"project_risks",PROJECTS:"portfolio_projects",ACTIVE_PROJECT:"active_project_id"};function Sh(l){localStorage.setItem(ct.GITLAB_URL,l.gitlabUrl||""),localStorage.setItem(ct.GITLAB_TOKEN,l.token||""),localStorage.setItem(ct.PROJECT_ID,l.projectId||""),localStorage.setItem(ct.GROUP_PATH,l.groupPath||""),l.filter2025!==void 0&&localStorage.setItem(ct.FILTER_2025,l.filter2025.toString())}function Dn(){const l=localStorage.getItem(ct.FILTER_2025),r=l!==null?l==="true":!1;return{gitlabUrl:localStorage.getItem(ct.GITLAB_URL)||"https://gitlab.com",token:localStorage.getItem(ct.GITLAB_TOKEN)||"",projectId:localStorage.getItem(ct.PROJECT_ID)||"",groupPath:localStorage.getItem(ct.GROUP_PATH)||"",filter2025:r}}function Cn(){const l=Dn();return!!(l.gitlabUrl&&l.token&&l.projectId)}function ah(){const l=localStorage.getItem(ct.RISKS);return l?JSON.parse(l):[]}function Dm(l){localStorage.setItem(ct.RISKS,JSON.stringify(l))}function ys(){const l=localStorage.getItem(ct.PROJECTS);return l?JSON.parse(l):[]}function wm(l){const r=ys(),c=r.findIndex(o=>o.id===l.id);return c>=0?r[c]={...r[c],...l}:r.push({id:l.id||Date.now().toString(),name:l.name,gitlabUrl:l.gitlabUrl,token:l.token,projectId:l.projectId,groupPath:l.groupPath||"",addedAt:new Date().toISOString()}),localStorage.setItem(ct.PROJECTS,JSON.stringify(r)),r}function zm(l){const c=ys().filter(o=>o.id!==l);return localStorage.setItem(ct.PROJECTS,JSON.stringify(c)),c}function xs(){return localStorage.getItem(ct.ACTIVE_PROJECT)}function kc(l){localStorage.setItem(ct.ACTIVE_PROJECT,l);const c=ys().find(o=>o.id===l);c&&Sh({gitlabUrl:c.gitlabUrl,token:c.token,projectId:c.projectId,groupPath:c.groupPath})}const Am="modulepreload",km=function(l,r){return new URL(l,r).href},oh={},Wc=function(r,c,o){let a=Promise.resolve();if(c&&c.length>0){let h=function(m){return Promise.all(m.map(b=>Promise.resolve(b).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};const f=document.getElementsByTagName("link"),x=document.querySelector("meta[property=csp-nonce]"),g=x?.nonce||x?.getAttribute("nonce");a=h(c.map(m=>{if(m=km(m,o),m in oh)return;oh[m]=!0;const b=m.endsWith(".css"),y=b?'[rel="stylesheet"]':"";if(o)for(let w=f.length-1;w>=0;w--){const D=f[w];if(D.href===m&&(!b||D.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${m}"]${y}`))return;const S=document.createElement("link");if(S.rel=b?"stylesheet":Am,b||(S.as="script"),S.crossOrigin="",S.href=m,g&&S.setAttribute("nonce",g),document.head.appendChild(S),b)return new Promise((w,D)=>{S.addEventListener("load",w),S.addEventListener("error",()=>D(new Error(`Unable to preload CSS for ${m}`)))})}))}function u(f){const x=new Event("vite:preloadError",{cancelable:!0});if(x.payload=f,window.dispatchEvent(x),!x.defaultPrevented)throw f}return a.then(f=>{for(const x of f||[])x.status==="rejected"&&u(x.reason);return r().catch(u)})};async function Tm(l,r,c){const o=encodeURIComponent(r),a=`${l}/api/v4/projects/${o}`;console.log("Validating project access..."),console.log("  URL:",a);const u=await fetch(a,{headers:{"PRIVATE-TOKEN":c}});if(!u.ok){const x=await u.text();throw console.error("Project validation failed:",x),u.status===404?new Error(`Project not found: "${r}"

Possible issues:
- Project ID might be incorrect
- Use either numeric ID (e.g., "12345") or full path (e.g., "namespace/project-name")
- Check if the token has access to this project
- Verify the GitLab URL is correct`):u.status===401?new Error("Authentication failed: Invalid or expired access token"):new Error(`Project validation error: ${u.status} - ${u.statusText}`)}const f=await u.json();return console.log(" Project validated:",f.name),console.log("  Full path:",f.path_with_namespace),console.log("  Numeric ID:",f.id),f}async function Fm(l,r,c){const o=encodeURIComponent(r);let a=[],u=1;const f=100;for(console.log("Fetching issues with pagination..."),console.log("  GitLab URL:",l),console.log("  Project ID:",r),console.log("  Encoded Project ID:",o);;){const x=`${l}/api/v4/projects/${o}/issues?per_page=${f}&page=${u}&scope=all&with_iterations=true`;console.log("  API Request URL:",x);const g=await fetch(x,{headers:{"PRIVATE-TOKEN":c}});if(!g.ok){const m=await g.text();throw console.error("API Error Response:",m),new Error(`Issues API Error: ${g.status} - ${g.statusText}
URL: ${x}
Project ID: ${r}
Encoded: ${o}
Response: ${m}`)}const h=await g.json();if(h.length===0||(a=a.concat(h),console.log(`  Fetched page ${u}: ${h.length} issues (total: ${a.length})`),h.length<f))break;u++}if(console.log(` Loaded ${a.length} total issues from ${u} page(s)`),a.length>0){console.log("=== ITERATION DEBUG ===");const x=Math.min(3,a.length);for(let m=0;m<x;m++){const b=a[m];console.log(`Issue #${b.iid} (${b.title}):`),console.log("  - iteration field:",b.iteration),console.log("  - labels:",b.labels)}const g=a.filter(m=>m.iteration).length,h=a.filter(m=>m.labels&&m.labels.some(b=>b.toLowerCase().startsWith("sprint")||b.toLowerCase().startsWith("iteration"))).length;console.log(`Summary: ${g} issues with iteration field, ${h} with iteration/sprint labels`),console.log("======================")}return a}async function Rm(l,r,c){const o=encodeURIComponent(r);let a=[],u=1;const f=100;for(console.log("Fetching milestones with pagination...");;){const x=await fetch(`${l}/api/v4/projects/${o}/milestones?per_page=${f}&page=${u}`,{headers:{"PRIVATE-TOKEN":c}});if(!x.ok)throw new Error(`Milestones API Error: ${x.status}`);const g=await x.json();if(g.length===0||(a=a.concat(g),console.log(`  Fetched page ${u}: ${g.length} milestones (total: ${a.length})`),g.length<f))break;u++}return console.log(` Loaded ${a.length} total milestones from ${u} page(s)`),a}async function Mm(l,r,c){if(!r)return[];const o=encodeURIComponent(r);let a=[],u=1;const f=100;console.log("Fetching epics with pagination..."),console.log("  GitLab URL:",l),console.log("  Group Path:",r),console.log("  Encoded Group Path:",o);try{for(;;){const x=`${l}/api/v4/groups/${o}/epics?per_page=${f}&page=${u}`;console.log("  Epic API Request URL:",x);const g=await fetch(x,{headers:{"PRIVATE-TOKEN":c}});if(console.log(`  Epic API Response Status: ${g.status}`),g.status===404)return console.warn("Epics not available (requires Premium/Ultimate)"),[];if(!g.ok){const m=await g.text();throw console.error("Epic API Error Response:",m),new Error(`Epics API Error: ${g.status} - ${m}`)}const h=await g.json();if(console.log(`  Epics returned on page ${u}:`,h.length),h.length===0||(a=a.concat(h),console.log(`  Fetched page ${u}: ${h.length} epics (total: ${a.length})`),h.length<f))break;u++}return console.log(` Loaded ${a.length} total epics from ${u} page(s)`),a}catch(x){return console.error("Epic fetch failed:",x),[]}}async function Nm(l,r,c){const o=encodeURIComponent(r);try{const a=await fetch(`${l}/api/v4/projects/${o}/issues?per_page=1`,{headers:{"PRIVATE-TOKEN":c}});if(!a.ok)return{hasLabelHistory:!1,hasResourceEvents:!1};const u=await a.json();if(u.length===0)return{hasLabelHistory:!1,hasResourceEvents:!1};const f=u[0].iid,x=await fetch(`${l}/api/v4/projects/${o}/issues/${f}/resource_state_events`,{headers:{"PRIVATE-TOKEN":c}});if(x.status===404||x.status===403)return console.log("Resource State Events API not available (requires Premium/Ultimate)"),{hasLabelHistory:!1,hasResourceEvents:!1};const h=(await fetch(`${l}/api/v4/projects/${o}/issues/${f}/resource_label_events`,{headers:{"PRIVATE-TOKEN":c}})).ok,m=x.ok;return console.log("GitLab Premium Features:",{hasLabelHistory:h,hasResourceEvents:m}),{hasLabelHistory:h,hasResourceEvents:m}}catch(a){return console.error("Premium feature check failed:",a),{hasLabelHistory:!1,hasResourceEvents:!1}}}function jc(l,r){const c=new Date("2025-01-01").getTime();return l.filter(o=>r.some(a=>{const u=o[a];return u?new Date(u).getTime()>=c:!1}))}async function rh(l){const{gitlabUrl:r,projectId:c,groupPath:o,token:a,filter2025:u}=l;console.log("=== Starting GitLab Data Fetch ==="),console.log("Full config object:",l),console.log("Config values:",{gitlabUrl:r,projectId:c,groupPath:o||"(none)",groupPathType:typeof o,groupPathLength:o?.length}),await Tm(r,c,a);const[f,x,g]=await Promise.all([Fm(r,c,a),Rm(r,c,a),o?Mm(r,o,a):Promise.resolve([])]),h=u!==!1,m=h?jc(f,["created_at","updated_at","due_date"]):f,b=h?jc(x,["start_date","due_date","created_at"]):x,y=h?jc(g,["start_date","end_date","created_at"]):g;console.log(`Filtered data: ${f.length}  ${m.length} issues, ${x.length}  ${b.length} milestones, ${g.length}  ${y.length} epics ${h?"(>= 2025)":"(no filter)"}`);const{linkCrossProjectIssues:S,enhanceEpicsWithCrossProjectData:w,buildEpicHierarchy:D,findOrphanedIssues:M}=await Wc(async()=>{const{linkCrossProjectIssues:_,enhanceEpicsWithCrossProjectData:j,buildEpicHierarchy:G,findOrphanedIssues:P}=await Promise.resolve().then(()=>nx);return{linkCrossProjectIssues:_,enhanceEpicsWithCrossProjectData:j,buildEpicHierarchy:G,findOrphanedIssues:P}},void 0,import.meta.url),W=!0,q=S(m,y);q.singleProjectMode=W,q.selectedProjectId=c,q.limitedView=!0;const{rootEpics:I,epicMap:N}=D(y),B=w(y,q),z=M(m),F=B.map(_=>{const j=m.filter(G=>G.epic&&G.epic.id===_.id);return{..._,issues:j}});return console.log(`Loaded ${y.length} epics with ${F.reduce((_,j)=>_+j.issues.length,0)} total issues`),console.log("Cross-project statistics:",q.statistics),z.length>0&&console.log(`Found ${z.length} orphaned issues that might need epic assignment`),{issues:m,milestones:b,epics:F,crossProjectData:{...q,epicHierarchy:{rootEpics:I,epicMap:N},orphanedIssues:z}}}function Im(){const[l,r]=R.useState({issues:[],milestones:[],epics:[],crossProjectData:null}),[c,o]=R.useState(!1),[a,u]=R.useState(null),[f,x]=R.useState(null);R.useEffect(()=>{const m=Dn();console.log("useGitLabData: Loading config from storage:",m),console.log("  groupPath value:",m.groupPath),console.log("  groupPath type:",typeof m.groupPath),console.log("  groupPath length:",m.groupPath?.length),x(m)},[]);const g=R.useCallback(async()=>{if(xs()==="cross-project"){console.log("useGitLabData: Cross-project mode detected");const b=ys();if(b.length===0){console.warn("useGitLabData: No projects configured for cross-project view");return}o(!0),u(null);try{console.log(`useGitLabData: Fetching data from ${b.length} projects...`);const y=b.map(async F=>{try{console.log(`  Fetching project: ${F.name}`);const _={gitlabUrl:F.gitlabUrl,token:F.token,projectId:F.projectId,groupPath:F.groupPath,filter2025:Dn().filter2025},j=await rh(_);return{projectId:F.id,projectName:F.name,issues:j.issues.map(G=>({...G,_projectId:F.id,_projectName:F.name})),milestones:j.milestones.map(G=>({...G,_projectId:F.id,_projectName:F.name})),epics:j.epics.map(G=>({...G,_projectId:F.id,_projectName:F.name}))}}catch(_){return console.error(`  Failed to fetch project ${F.name}:`,_),{projectId:F.id,projectName:F.name,issues:[],milestones:[],epics:[],error:_.message}}}),S=await Promise.all(y),{linkCrossProjectIssues:w,buildEpicHierarchy:D}=await Wc(async()=>{const{linkCrossProjectIssues:F,buildEpicHierarchy:_}=await Promise.resolve().then(()=>nx);return{linkCrossProjectIssues:F,buildEpicHierarchy:_}},void 0,import.meta.url),M=S.flatMap(F=>F.issues),W=S.flatMap(F=>F.epics),q=S.flatMap(F=>F.milestones),I=w(M,W),N=D(W);I.singleProjectMode=!1,I.limitedView=!1,I.projectCount=b.length;const B={issues:M,milestones:q,epics:W,crossProjectData:{...I,epicHierarchy:N}};console.log("useGitLabData: Cross-project aggregation complete:"),console.log(`  Total issues: ${B.issues.length}`),console.log(`  Total milestones: ${B.milestones.length}`),console.log(`  Total epics: ${B.epics.length}`);const z=S.filter(F=>F.error);z.length>0&&console.warn(`  Failed projects: ${z.map(F=>F.projectName).join(", ")}`),r(B)}catch(y){console.error("Cross-project data fetch failed:",y),u(y.message)}finally{o(!1)}}else{if(!f||!Cn())return;o(!0),u(null);try{const b=await rh(f);r(b)}catch(b){console.error("GitLab data fetch failed:",b),u(b.message)}finally{o(!1)}}},[f]);R.useEffect(()=>{(xs()==="cross-project"||f&&Cn())&&g()},[f,g]);const h=R.useCallback(()=>{const m=Dn();console.log("useGitLabData: Refreshing with fresh config:",m),console.log("  Fresh groupPath:",m.groupPath),x(m)},[]);return{issues:l.issues,milestones:l.milestones,epics:l.epics,crossProjectData:l.crossProjectData,loading:c,error:a,refresh:h,isConfigured:Cn()}}const Tc={completion:.3,schedule:.25,blockers:.25,risk:.2},Fc={schedule:200,blockers:300,risk:200},Rc={good:80,warning:60},Wa={mode:"iteration",days:90},ps={EXECUTIVE:"executive",MANAGER:"manager",TEAM:"team"},Mc=[{id:"overview",label:"Overview",views:[{id:"executive",label:"Dashboard",roles:["executive","manager","team"]},{id:"insights",label:"Insights",roles:["executive","manager","team"]}]},{id:"planning",label:"Planning",views:[{id:"roadmap",label:"Milestones",roles:["executive","manager","team"]},{id:"epicmanagement",label:"Epics",roles:["manager","team"]},{id:"crossteam",label:"Cross-Team Coordination",roles:["executive","manager"]}]},{id:"execution",label:"Execution",views:[{id:"sprintmanagement",label:"Sprints",roles:["manager","team"]},{id:"resources",label:"Resources",roles:["manager","team"]},{id:"resourceplanning",label:"Resource Planning",roles:["manager","team"]}]},{id:"analysis",label:"Analytics",views:[{id:"velocity",label:"Velocity",roles:["manager","team"]},{id:"cycletime",label:"Cycle Time",roles:["manager","team"]},{id:"compliance",label:"Quality",roles:["manager","team"]}]},{id:"governance",label:"Governance",views:[{id:"riskmanagement",label:"Risks",roles:["executive","manager"]},{id:"stakeholders",label:"Stakeholders",roles:["executive","manager"]},{id:"backup",label:"Backup & Restore",roles:["executive","manager","team"]}]}],Om=Mc.flatMap(l=>l.views.map(r=>({id:r.id,label:r.label,group:l.id,groupLabel:l.label,roles:r.roles})));function Eh(l){return l.some(r=>r.toLowerCase().includes("blocker")||r.toLowerCase().includes("blocked"))}function _m(l){const r=l.length,c=l.filter(g=>g.state==="opened").length,o=l.filter(g=>g.state==="closed").length,a=l.filter(g=>Eh(g.labels)).length,u=l.filter(g=>g.due_date&&new Date(g.due_date)<new Date&&g.state==="opened").length,f=l.filter(g=>{if(!g.due_date||g.state==="closed")return!1;const h=Math.floor((new Date(g.due_date)-new Date)/(1e3*60*60*24));return h<=7&&h>=0}).length,x=r>0?Math.round(o/r*100):0;return{total:r,open:c,closed:o,blockers:a,overdue:u,atRisk:f,completionRate:x}}function Lm(){const l=localStorage.getItem("healthScoreConfig");if(l)try{return JSON.parse(l)}catch(r){console.error("Failed to parse health score config:",r)}return{weights:Tc,amplifiers:Fc,thresholds:Rc}}function Wm(l){const r=Lm(),{weights:c,amplifiers:o,thresholds:a}=r,u=l.completionRate,f=l.total>0?Math.max(0,100-l.overdue/l.total*o.schedule):100,x=l.total>0?Math.max(0,100-l.blockers/l.total*o.blockers):100,g=l.total>0?Math.max(0,100-l.atRisk/l.total*o.risk):100,h=Math.round(u*c.completion+f*c.schedule+x*c.blockers+g*c.risk);let m="red";return h>=a.good?m="green":h>=a.warning&&(m="amber"),{score:h,status:m,breakdown:{completionScore:u,scheduleScore:f,blockerScore:x,riskScore:g}}}function Um(l,r){if(!r||r.mode==="all")return l;if(r.mode==="days"){const c=new Date;return c.setDate(c.getDate()-r.days),l.filter(o=>o.state==="opened"?!0:o.closed_at?new Date(o.closed_at)>=c:o.state==="closed"&&o.updated_at?new Date(o.updated_at)>=c:!1)}return l}function Hm(l,r=[]){const c=R.useMemo(()=>{if(!l||l.length===0)return null;const a=localStorage.getItem("healthScoreConfig");let u=Wa;if(a)try{u=JSON.parse(a).timeframe||Wa}catch(x){console.error("Failed to load health score timeframe config:",x)}const f=Um(l,u);return _m(f)},[l,r]),o=R.useMemo(()=>c?Wm(c):null,[c]);return{stats:c,healthScore:o,hasData:c!==null}}function Uc(){const[l,r]=R.useState([]);R.useEffect(()=>{const m=ah();r(m)},[]),R.useEffect(()=>{(l.length>0||l.length!==ah().length)&&Dm(l)},[l]);const c=R.useCallback(m=>{const b={id:Date.now().toString(),title:m.title,description:m.description,probability:m.probability,impact:m.impact,status:m.status||"open",owner:m.owner||"",mitigations:[]};return r(y=>[...y,b]),b},[]),o=R.useCallback((m,b)=>{r(y=>y.map(S=>S.id===m?{...S,...b}:S))},[]),a=R.useCallback(m=>{r(b=>b.filter(y=>y.id!==m))},[]),u=R.useCallback((m,b)=>{const y={id:Date.now().toString(),description:b.description,owner:b.owner||"",deadline:b.deadline||null,status:b.status||"pending",completedDate:null};return r(S=>S.map(w=>w.id===m?{...w,mitigations:[...w.mitigations,y]}:w)),y},[]),f=R.useCallback((m,b,y)=>{r(S=>S.map(w=>w.id===m?{...w,mitigations:w.mitigations.map(D=>D.id===b?{...D,...y}:D)}:w))},[]),x=R.useCallback((m,b)=>{r(y=>y.map(S=>S.id===m?{...S,mitigations:S.mitigations.filter(w=>w.id!==b)}:S))},[]),g=R.useCallback(m=>m.probability*m.impact,[]),h=R.useCallback(()=>({high:l.filter(b=>g(b)>=6&&b.status==="open"),medium:l.filter(b=>g(b)>=3&&g(b)<6&&b.status==="open"),low:l.filter(b=>g(b)<3&&b.status==="open")}),[l,g]);return{risks:l,addRisk:c,updateRisk:o,deleteRisk:a,addMitigation:u,updateMitigation:f,deleteMitigation:x,getRiskScore:g,getRisksBySeverity:h}}function $m(l,r){if(!l)return null;const c=new Date(l),o=r?new Date(r):null,a=x=>{const g=x.getDate(),h=x.toLocaleString("en",{month:"short"}),m=x.getFullYear();return{day:g,month:h,year:m}},u=a(c);if(!o)return`${u.day} ${u.month} ${u.year}`;const f=a(o);return u.year===f.year?`${u.day} ${u.month}  ${f.day} ${f.month} ${f.year}`:`${u.day} ${u.month} ${u.year}  ${f.day} ${f.month} ${f.year}`}function Ei(l){if(!l)return null;if(typeof l=="string")return l;if(typeof l=="object"){if(l.title)return l.title;if(l.start_date){const r=$m(l.start_date,l.due_date);if(r)return r}if(l.iid!==void 0)return`Iteration ${l.iid}`;if(l.sequence!==void 0)return`Iteration ${l.sequence}`;if(l.id!==void 0)return`Iteration ${l.id}`}return null}function xt(l,r=null){const c=Ei(r);if(c)return c;if(!l||l.length===0)return null;const o=l.find(a=>{const u=a.toLowerCase();return u.startsWith("sprint")||u.startsWith("iteration")});return o||null}function qm(l){if(!l||l.length===0)return"Medium";const r=l.find(o=>o.toLowerCase().includes("priority")||o.toLowerCase().includes("p1")||o.toLowerCase().includes("p2")||o.toLowerCase().includes("p3"));if(!r)return"Medium";const c=r.toLowerCase();return c.includes("high")||c.includes("p1")?"High":c.includes("low")||c.includes("p3")?"Low":"Medium"}function Ua(l){return!l||l.length===0?!1:l.some(r=>r.toLowerCase().includes("blocker")||r.toLowerCase().includes("blocked"))}const Bh=R.createContext();function Gm({children:l,issues:r}){const[c,o]=R.useState([]),a=R.useMemo(()=>{if(!r||r.length===0)return[];const m=new Map;return r.forEach(b=>{const y=xt(b.labels,b.iteration);if(!y)return;if(!m.has(y)){const w=b.iteration?.start_date,D=b.iteration?.due_date;m.set(y,{name:y,startDate:w||null,dueDate:D||null,issueCount:0})}const S=m.get(y);S.issueCount++}),Array.from(m.values()).sort((b,y)=>b.startDate&&y.startDate?new Date(y.startDate)-new Date(b.startDate):b.startDate&&!y.startDate?-1:!b.startDate&&y.startDate?1:b.name.localeCompare(y.name))},[r]),u=R.useMemo(()=>r?c.length===0?r:r.filter(m=>{const b=xt(m.labels,m.iteration);return b&&c.includes(b)}):[],[r,c]),h={selectedIterations:c,availableIterations:a,filteredIssues:u,toggleIteration:m=>{o(b=>b.includes(m)?b.filter(y=>y!==m):[...b,m])},selectAllIterations:()=>{o([])},clearSelection:()=>{o([])},isFiltered:c.length>0};return t.jsx(Bh.Provider,{value:h,children:l})}function Bi(){const l=R.useContext(Bh);if(!l)throw new Error("useIterationFilter must be used within IterationFilterProvider");return l}function Vm({stats:l,healthScore:r,onRefresh:c,onConfigure:o,onChangeRole:a,loading:u}){return t.jsx("div",{className:"header",children:t.jsxs("div",{style:{width:"100%",padding:"16px 20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:t.jsxs("div",{children:[t.jsx("h1",{style:{fontSize:"24px",fontWeight:"600",marginBottom:"4px"},children:"GitHarmony"}),t.jsx("div",{style:{fontSize:"11px",color:"var(--text-secondary)",fontStyle:"italic",marginBottom:"4px"},children:"Teams in Tune"}),t.jsx("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginTop:"4px"},children:l&&t.jsxs(t.Fragment,{children:[l.total," Issues  ",l.open," Open  ",l.closed," Closed",l.blockers>0&&t.jsxs("span",{style:{marginLeft:"12px",color:"var(--danger)"},children:[l.blockers," Blockers"]})]})})]})}),t.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[r&&t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",background:"var(--bg-secondary)",borderRadius:"6px"},children:[t.jsx("span",{style:{fontSize:"11px",fontWeight:"600",textTransform:"uppercase",color:"var(--text-secondary)"},children:"Health Score"}),t.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:"700",color:"white",background:r.status==="green"?"var(--success)":r.status==="amber"?"var(--warning)":"var(--danger)"},children:r.score})]}),t.jsx("button",{className:"btn",onClick:c,disabled:u,style:{opacity:u?.6:1},children:u?"Loading...":"Refresh"}),t.jsx("button",{className:"btn btn-secondary",onClick:a,title:"Change your role to customize navigation",children:"Change Role"}),t.jsx("button",{className:"btn btn-primary",onClick:o,children:"Configure"})]})]})})}function Ym({activeView:l,onViewChange:r}){return t.jsx("div",{className:"tabs",children:Om.map(c=>t.jsx("button",{className:`tab ${l===c.id?"active":""}`,onClick:()=>r(c.id),children:c.label},c.id))})}const Hc={USER_ROLE:"githarmony_user_role",VIEW_PREFERENCE:"githarmony_view_preference"};function $c(){return localStorage.getItem(Hc.USER_ROLE)||"manager"}function Pm(l){localStorage.setItem(Hc.USER_ROLE,l)}function Qm(){return localStorage.getItem(Hc.VIEW_PREFERENCE)||"grouped"}function Xm(l){const r=$c();return l.roles&&l.roles.includes(r)}function Sc(l){const r={executive:{label:"Executive",description:"High-level overview, strategic insights, and stakeholder reporting"},manager:{label:"Manager",description:"Full access to planning, execution, and team analytics"},team:{label:"Team Member",description:"Focus on execution, sprints, and operational metrics"}};return r[l]||r.manager}function Zm({onProjectChange:l}){const[r,c]=R.useState([]),[o,a]=R.useState(null),[u,f]=R.useState(!1);R.useEffect(()=>{x()},[]);const x=()=>{const y=ys();c(y);const S=xs();a(S)},g=y=>{kc(y),a(y),f(!1),l&&l(y),window.location.reload()},h=()=>{kc("cross-project"),a("cross-project"),f(!1),l&&l("cross-project")};if(r.length<=1)return null;const m=r.find(y=>y.id===o),b=o==="cross-project"?"Cross-Project View":m?.name||"Select Project";return t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:"#6B7280"},children:"Project:"}),t.jsxs("div",{style:{position:"relative",minWidth:"200px"},children:[t.jsxs("button",{onClick:()=>f(!u),style:{width:"100%",padding:"6px 28px 6px 10px",background:"white",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"13px",fontWeight:"500",color:"#1F2937",cursor:"pointer",textAlign:"left",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"all 0.2s"},onMouseEnter:y=>{y.currentTarget.style.background="#F9FAFB",y.currentTarget.style.borderColor="#9CA3AF"},onMouseLeave:y=>{y.currentTarget.style.background="white",y.currentTarget.style.borderColor="#D1D5DB"},children:[t.jsxs("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[o==="cross-project"&&" ",b]}),t.jsx("span",{style:{position:"absolute",right:"12px",fontSize:"12px",color:"#6B7280",transform:u?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"},children:""})]}),u&&t.jsxs(t.Fragment,{children:[t.jsx("div",{onClick:()=>f(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:999}}),t.jsxs("div",{style:{position:"absolute",top:"100%",left:0,right:0,marginTop:"4px",background:"white",border:"1px solid #E5E7EB",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",zIndex:1e3,maxHeight:"400px",overflowY:"auto"},children:[t.jsxs("div",{onClick:h,style:{padding:"12px 16px",cursor:"pointer",background:o==="cross-project"?"#FEF2F2":"white",borderBottom:"1px solid #E5E7EB",transition:"background 0.2s"},onMouseEnter:y=>y.currentTarget.style.background="#FEF2F2",onMouseLeave:y=>{o!=="cross-project"&&(y.currentTarget.style.background="white")},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"14px",fontWeight:"600",color:"#E60000"},children:[t.jsx("span",{style:{fontSize:"16px"},children:""}),"Cross-Project View"]}),t.jsxs("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"2px",marginLeft:"24px"},children:["Aggregate data across all ",r.length," projects"]})]}),t.jsxs("div",{style:{padding:"8px 0"},children:[t.jsxs("div",{style:{padding:"6px 16px",fontSize:"11px",fontWeight:"600",color:"#6B7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:["Projects (",r.length,")"]}),r.map(y=>{const S=y.id===o;return t.jsx("div",{onClick:()=>g(y.id),style:{padding:"10px 16px",cursor:"pointer",background:S?"#FEF2F2":"white",borderLeft:S?"3px solid #E60000":"3px solid transparent",transition:"all 0.2s"},onMouseEnter:w=>w.currentTarget.style.background="#FEF2F2",onMouseLeave:w=>{S||(w.currentTarget.style.background="white")},children:t.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{fontSize:"14px",fontWeight:S?"600":"500",color:"#1F2937",marginBottom:"2px"},children:[y.name,S&&t.jsx("span",{style:{marginLeft:"8px",fontSize:"12px",color:"#E60000",fontWeight:"600"},children:""})]}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280"},children:y.projectId})]})})},y.id)})]}),t.jsx("div",{onClick:()=>{f(!1),l&&l("portfolio-manage")},style:{padding:"12px 16px",cursor:"pointer",background:"#F9FAFB",borderTop:"1px solid #E5E7EB",fontSize:"13px",fontWeight:"500",color:"#E60000",textAlign:"center",transition:"background 0.2s"},onMouseEnter:y=>y.currentTarget.style.background="#F3F4F6",onMouseLeave:y=>y.currentTarget.style.background="#F9FAFB",children:" Manage Portfolio Projects"})]})]})]})]})}function Km({activeView:l,onViewChange:r,onProjectChange:c}){const[o,a]=R.useState(null),u=$c(),f=Mc.map(y=>({...y,views:y.views.filter(S=>Xm(S))})).filter(y=>y.views.length>0),x=y=>{a(o===y?null:y)},g=y=>{r(y),a(null)},h=(y,S,w)=>{if(y.key==="Enter"||y.key===" ")y.preventDefault(),x(S);else if(y.key==="Escape"&&o===S)a(null);else if(y.key==="ArrowDown"&&o===S&&w.length>0){y.preventDefault();const D=y.currentTarget.parentElement.querySelector("[data-dropdown-item]");D&&D.focus()}},m=(y,S,w,D)=>{if(y.key==="Enter"||y.key===" ")y.preventDefault(),g(S);else if(y.key==="Escape")a(null),y.currentTarget.closest("[style]").querySelector("button").focus();else if(y.key==="ArrowDown"){y.preventDefault();const M=Math.min(D+1,w.length-1),W=y.currentTarget.parentElement.querySelectorAll("[data-dropdown-item]");W[M]&&W[M].focus()}else if(y.key==="ArrowUp"){y.preventDefault();const M=Math.max(D-1,0),W=y.currentTarget.parentElement.querySelectorAll("[data-dropdown-item]");W[M]&&W[M].focus()}},b=Mc.find(y=>y.views.some(S=>S.id===l));return t.jsxs("div",{style:{display:"flex",gap:"4px",borderBottom:"1px solid var(--border-light)",background:"var(--bg-primary)",padding:"0 20px",position:"relative"},children:[f.map(y=>{const S=b?.id===y.id,w=o===y.id;return t.jsxs("div",{style:{position:"relative"},children:[t.jsxs("button",{onClick:()=>x(y.id),onKeyDown:D=>h(D,y.id,y.views),"aria-label":`${y.label} navigation group`,"aria-expanded":w,"aria-haspopup":"true",style:{padding:"12px 20px",fontSize:"14px",fontWeight:"500",color:S?"var(--primary)":"var(--text-secondary)",background:"transparent",border:"none",borderBottom:`2px solid ${S?"var(--primary)":"transparent"}`,cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"8px",outline:"none"},onMouseEnter:D=>{S||(D.target.style.color="var(--text-primary)")},onMouseLeave:D=>{S||(D.target.style.color="var(--text-secondary)")},onFocus:D=>{D.target.style.boxShadow="0 0 0 2px var(--primary)"},onBlur:D=>{D.target.style.boxShadow="none"},children:[t.jsx("span",{children:y.label}),t.jsx("span",{style:{fontSize:"10px",transition:"transform 0.2s",transform:w?"rotate(180deg)":"rotate(0deg)"},children:""})]}),w&&t.jsx("div",{role:"menu","aria-label":`${y.label} views`,style:{position:"absolute",top:"100%",left:0,background:"white",border:"1px solid var(--border-light)",borderRadius:"0 0 6px 6px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",minWidth:"200px",zIndex:1e3,marginTop:"-1px"},children:y.views.map((D,M)=>t.jsx("button",{"data-dropdown-item":!0,role:"menuitem","aria-label":`Navigate to ${D.label} view`,onClick:()=>g(D.id),onKeyDown:W=>m(W,D.id,y.views,M),style:{width:"100%",padding:"12px 20px",fontSize:"14px",fontWeight:D.id===l?"600":"400",color:D.id===l?"var(--primary)":"var(--text-primary)",background:D.id===l?"var(--bg-secondary)":"white",border:"none",textAlign:"left",cursor:"pointer",transition:"all 0.2s",borderBottom:"1px solid var(--border-light)",outline:"none"},onMouseEnter:W=>{D.id!==l&&(W.target.style.background="var(--bg-secondary)")},onMouseLeave:W=>{D.id!==l&&(W.target.style.background="white")},onFocus:W=>{W.target.style.boxShadow="inset 0 0 0 2px var(--primary)"},onBlur:W=>{W.target.style.boxShadow="none"},children:D.label},D.id))})]},y.id)}),t.jsxs("div",{style:{marginLeft:"auto",display:"flex",alignItems:"center",gap:"16px",padding:"12px 0"},children:[c&&t.jsx("div",{style:{marginRight:"8px"},children:t.jsx(Zm,{onProjectChange:c})}),t.jsx("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:t.jsxs("span",{style:{background:"var(--bg-tertiary)",padding:"4px 12px",borderRadius:"12px",fontWeight:"600"},children:[u==="executive"&&"Executive",u==="manager"&&"Manager",u==="team"&&"Team"]})})]})]})}function Jm({show:l,onClose:r}){const[c,o]=R.useState($c());if(!l)return null;const a=()=>{Pm(c),r(),window.location.reload()},u=[{id:ps.EXECUTIVE,...Sc(ps.EXECUTIVE)},{id:ps.MANAGER,...Sc(ps.MANAGER)},{id:ps.TEAM,...Sc(ps.TEAM)}];return t.jsx("div",{className:"modal-overlay",onClick:r,children:t.jsxs("div",{className:"modal",onClick:f=>f.stopPropagation(),style:{maxWidth:"600px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Select Your Role"}),t.jsx("button",{onClick:r,style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"var(--text-secondary)"},children:""})]}),t.jsxs("div",{className:"modal-body",children:[t.jsx("p",{style:{marginBottom:"24px",color:"var(--text-secondary)"},children:"Choose your role to customize the navigation and features you see. This helps reduce clutter and focuses on the views most relevant to your responsibilities."}),t.jsx("div",{style:{display:"grid",gap:"16px"},children:u.map(f=>t.jsxs("div",{onClick:()=>o(f.id),style:{padding:"20px",border:`2px solid ${c===f.id?"var(--primary)":"var(--border-medium)"}`,borderRadius:"8px",cursor:"pointer",background:c===f.id?"var(--bg-secondary)":"white",transition:"all 0.2s"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[t.jsx("div",{children:t.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"var(--text-primary)"},children:f.label})}),c===f.id&&t.jsx("span",{style:{marginLeft:"auto",color:"var(--primary)",fontSize:"20px"},children:""})]}),t.jsx("div",{style:{fontSize:"13px",color:"var(--text-secondary)"},children:f.description})]},f.id))}),t.jsxs("div",{style:{marginTop:"20px",padding:"16px",background:"var(--bg-tertiary)",borderRadius:"6px",fontSize:"13px",color:"var(--text-secondary)"},children:[t.jsx("strong",{children:"Note:"})," You can change your role anytime from the settings menu in the header."]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{className:"btn btn-secondary",onClick:r,children:"Cancel"}),t.jsx("button",{className:"btn btn-primary",onClick:a,children:"Save Role"})]})]})})}function e0(){const{selectedIterations:l,availableIterations:r,toggleIteration:c,clearSelection:o,isFiltered:a}=Bi(),[u,f]=R.useState(!1),x=R.useRef(null);if(R.useEffect(()=>{function m(b){x.current&&!x.current.contains(b.target)&&f(!1)}if(u)return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[u]),r.length===0)return null;const g=l.length===0?"All Iterations":l.length===1?l[0]:`${l.length} iterations selected`,h=m=>{if(!m.startDate||!m.dueDate)return null;const b=new Date(m.startDate),y=new Date(m.dueDate),S=b.toLocaleDateString("en-US",{month:"short",day:"numeric"}),w=y.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return`${S} - ${w}`};return t.jsxs("div",{ref:x,style:{position:"relative",width:"100%",maxWidth:"500px"},children:[t.jsxs("button",{onClick:()=>f(!u),style:{width:"100%",padding:"8px 36px 8px 12px",background:"white",border:`2px solid ${a?"#3B82F6":"#D1D5DB"}`,borderRadius:"6px",fontSize:"14px",textAlign:"left",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",position:"relative",color:a?"#1F2937":"#6B7280",fontWeight:a?"600":"400"},children:[t.jsx("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:g}),t.jsx("span",{style:{position:"absolute",right:"12px",fontSize:"12px"},children:u?"":""})]}),u&&t.jsxs("div",{style:{position:"absolute",top:"100%",left:0,right:0,marginTop:"4px",background:"white",border:"1px solid #D1D5DB",borderRadius:"6px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",maxHeight:"400px",overflowY:"auto",zIndex:1e3},children:[t.jsxs("div",{onClick:()=>{o(),f(!1)},style:{padding:"10px 12px",cursor:"pointer",background:l.length===0?"#EFF6FF":"white",borderBottom:"1px solid #E5E7EB",display:"flex",alignItems:"center",gap:"8px",fontWeight:"600",fontSize:"13px",color:"#1F2937"},onMouseEnter:m=>{l.length>0&&(m.target.style.background="#F9FAFB")},onMouseLeave:m=>{m.target.style.background=l.length===0?"#EFF6FF":"white"},children:[t.jsx("input",{type:"checkbox",checked:l.length===0,readOnly:!0,style:{cursor:"pointer"}}),t.jsxs("span",{children:["All Iterations (",r.reduce((m,b)=>m+b.issueCount,0)," issues)"]})]}),r.map(m=>{const b=l.includes(m.name),y=h(m);return t.jsxs("div",{onClick:()=>c(m.name),style:{padding:"10px 12px",cursor:"pointer",background:b?"#EFF6FF":"white",borderBottom:"1px solid #E5E7EB",display:"flex",alignItems:"flex-start",gap:"8px"},onMouseEnter:S=>{b||(S.target.style.background="#F9FAFB")},onMouseLeave:S=>{S.target.style.background=b?"#EFF6FF":"white"},children:[t.jsx("input",{type:"checkbox",checked:b,readOnly:!0,style:{marginTop:"2px",cursor:"pointer"}}),t.jsxs("div",{style:{flex:1,minWidth:0},children:[t.jsx("div",{style:{fontSize:"13px",fontWeight:"600",color:"#1F2937",marginBottom:"2px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:m.name}),t.jsxs("div",{style:{fontSize:"11px",color:"#6B7280",display:"flex",gap:"8px"},children:[y&&t.jsx("span",{children:y}),t.jsx("span",{children:""}),t.jsxs("span",{children:[m.issueCount," issue",m.issueCount!==1?"s":""]})]})]})]},m.name)})]})]})}function t0({show:l,onClose:r,onSave:c,onProjectSwitch:o}){const a=Dn(),[u,f]=R.useState("connection"),[x,g]=R.useState(a.gitlabUrl||"https://gitlab.com"),[h,m]=R.useState(a.projectId||""),[b,y]=R.useState(a.groupPath||""),[S,w]=R.useState(a.token||""),[D,M]=R.useState(a.filter2025||!1),[W,q]=R.useState(ys()),[I,N]=R.useState(!1),[B,z]=R.useState(null),[F,_]=R.useState({name:"",gitlabUrl:"https://gitlab.com",token:"",projectId:"",groupPath:""});if(!l)return null;const j=()=>{Sh({gitlabUrl:x,projectId:h,groupPath:b,token:S,filter2025:D}),c(),r()},G=()=>{if(!F.name||!F.token||!F.projectId){alert("Please fill in all required fields");return}const T=wm(F);q(T),_({name:"",gitlabUrl:"https://gitlab.com",token:"",projectId:"",groupPath:""}),N(!1),z(null)},P=T=>{z(T.id),_({id:T.id,name:T.name,gitlabUrl:T.gitlabUrl,token:T.token,projectId:T.projectId,groupPath:T.groupPath||""}),N(!0)},ee=()=>{N(!1),z(null),_({name:"",gitlabUrl:"https://gitlab.com",token:"",projectId:"",groupPath:""})},le=T=>{if(!confirm("Are you sure you want to remove this project?"))return;const A=zm(T);q(A)},re=T=>{kc(T),o&&o(T),r()};return t.jsx("div",{className:"modal-overlay",onClick:r,children:t.jsxs("div",{className:"modal",onClick:T=>T.stopPropagation(),style:{maxWidth:"800px"},children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:t.jsx("h2",{children:"Configuration"})}),t.jsx("button",{className:"btn",onClick:r,style:{padding:"4px 8px"},children:""})]}),t.jsxs("div",{className:"tabs",style:{borderBottom:"1px solid var(--border-light)",margin:0},children:[t.jsx("button",{className:`tab ${u==="connection"?"active":""}`,onClick:()=>f("connection"),children:"Connection"}),t.jsx("button",{className:`tab ${u==="projects"?"active":""}`,onClick:()=>f("projects"),children:"Projects"})]}),t.jsxs("div",{className:"modal-body",children:[u==="connection"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"GitLab URL"}),t.jsx("input",{type:"text",className:"form-input",value:x,onChange:T=>g(T.target.value),placeholder:"https://gitlab.com"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Project ID"}),t.jsx("input",{type:"text",className:"form-input",value:h,onChange:T=>m(T.target.value),placeholder:"123 or group/project"}),t.jsx("div",{className:"text-small text-muted",style:{marginTop:"4px"},children:"Find this in your GitLab project settings"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Group Path (Optional)"}),t.jsx("input",{type:"text",className:"form-input",value:b,onChange:T=>y(T.target.value),placeholder:"my-group or parent-group/sub-group"}),t.jsx("div",{className:"text-small text-muted",style:{marginTop:"4px"},children:"Required for Epic support (Premium/Ultimate only)"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Access Token"}),t.jsx("input",{type:"password",className:"form-input",value:S,onChange:T=>w(T.target.value),placeholder:"glpat-xxxxxxxxxxxxxxxxxxxx"}),t.jsx("div",{className:"text-small text-muted",style:{marginTop:"4px"},children:"Create a personal access token with 'api' and 'read_api' scopes"})]}),t.jsx("div",{className:"form-group",children:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",background:"#F9FAFB",borderRadius:"8px",border:"1px solid #E5E7EB"},children:[t.jsx("input",{type:"checkbox",id:"filter2025",checked:D,onChange:T=>M(T.target.checked),style:{width:"18px",height:"18px",cursor:"pointer"}}),t.jsxs("label",{htmlFor:"filter2025",style:{cursor:"pointer",flex:1,margin:0},children:[t.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1F2937",marginBottom:"4px"},children:"Filter data by year 2025+"}),t.jsxs("div",{className:"text-small text-muted",children:["When enabled, only shows issues, epics, and milestones with dates ",">="," 2025-01-01"]})]})]})})]}),u==="projects"&&t.jsx(t.Fragment,{children:t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[t.jsxs("div",{children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"4px"},children:"Manage Projects"}),t.jsx("p",{style:{fontSize:"13px",color:"#6B7280"},children:"Add multiple projects and switch between them"})]}),t.jsx("button",{className:"btn btn-primary",onClick:()=>{I?ee():N(!0)},children:I?"Cancel":"+ Add Project"})]}),I&&t.jsxs("div",{className:"card",style:{padding:"20px",marginBottom:"20px",background:"#F9FAFB"},children:[t.jsx("h4",{style:{fontSize:"14px",fontWeight:"600",marginBottom:"16px"},children:B?"Edit Project":"Add New Project"}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Project Name"}),t.jsx("input",{type:"text",className:"form-input",value:F.name,onChange:T=>_({...F,name:T.target.value}),placeholder:"My Project"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"GitLab URL"}),t.jsx("input",{type:"text",className:"form-input",value:F.gitlabUrl,onChange:T=>_({...F,gitlabUrl:T.target.value}),placeholder:"https://gitlab.com"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Project ID"}),t.jsx("input",{type:"text",className:"form-input",value:F.projectId,onChange:T=>_({...F,projectId:T.target.value}),placeholder:"123 or group/project"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Group Path (Optional)"}),t.jsx("input",{type:"text",className:"form-input",value:F.groupPath,onChange:T=>_({...F,groupPath:T.target.value}),placeholder:"my-group"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Access Token"}),t.jsx("input",{type:"password",className:"form-input",value:F.token,onChange:T=>_({...F,token:T.target.value}),placeholder:"glpat-xxxxxxxxxxxxxxxxxxxx"})]}),t.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end"},children:[t.jsx("button",{className:"btn",onClick:ee,children:"Cancel"}),t.jsxs("button",{className:"btn btn-primary",onClick:G,children:[B?"Update":"Add"," Project"]})]})]}),W.length===0?t.jsxs("div",{className:"card text-center",style:{padding:"40px"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px",opacity:.3},children:""}),t.jsx("h3",{className:"mb-2",children:"No Projects"}),t.jsx("p",{className:"text-muted",children:"Add your first project to get started"})]}):t.jsx("div",{style:{display:"grid",gap:"12px"},children:W.map(T=>t.jsxs("div",{className:"card",style:{padding:"16px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs("div",{children:[t.jsx("h4",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"4px"},children:T.name}),t.jsxs("p",{style:{fontSize:"13px",color:"#6B7280",marginBottom:"4px"},children:[T.projectId,"  ",T.gitlabUrl]})]}),t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsx("button",{className:"btn",onClick:()=>re(T.id),style:{fontSize:"13px"},children:"Switch To"}),t.jsx("button",{className:"btn",onClick:()=>P(T),style:{fontSize:"13px"},children:"Edit"}),t.jsx("button",{className:"btn",onClick:()=>le(T.id),style:{fontSize:"13px",color:"#DC2626"},children:"Remove"})]})]},T.id))})]})})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{className:"btn",onClick:r,children:"Close"}),u==="connection"&&t.jsx("button",{className:"btn btn-primary",onClick:j,disabled:!x||!h||!S,children:"Save Configuration"})]})]})})}function Ch(l,r){const c=new Map;return l.forEach(o=>{const a=o.labels?.find(u=>u.toLowerCase().startsWith("initiative::"));if(a){const u=a.toLowerCase(),f=a.replace(/initiative::/i,"").split("::")[0].replace(/-/g," ").replace(/\b\w/g,x=>x.toUpperCase());c.has(u)||c.set(u,{id:u,name:f,label:a,epics:[],issues:[],dueDate:null,startDate:null}),c.get(u).epics.push(o)}}),c.forEach(o=>{const a=new Set;o.epics.forEach(h=>{r.filter(b=>b.epic?.id===h.id||b.labels?.some(y=>y.toLowerCase()===o.label.toLowerCase())).forEach(b=>a.add(b.id))}),o.issues=Array.from(a).map(h=>r.find(m=>m.id===h)).filter(Boolean);const u=o.epics.filter(h=>h.due_date).map(h=>new Date(h.due_date)),f=o.epics.filter(h=>h.start_date).map(h=>new Date(h.start_date));u.length>0&&(o.dueDate=new Date(Math.max(...u))),f.length>0&&(o.startDate=new Date(Math.min(...f)));const x=o.issues.length,g=o.issues.filter(h=>h.state==="closed").length;o.progress=x>0?Math.round(g/x*100):0,o.totalIssues=x,o.closedIssues=g,o.openIssues=x-g,o.status=n0(o.progress,o.dueDate,o.startDate)}),Array.from(c.values()).sort((o,a)=>o.dueDate&&a.dueDate?new Date(o.dueDate)-new Date(a.dueDate):o.dueDate?-1:a.dueDate?1:o.name.localeCompare(a.name))}function n0(l,r,c){if(!r)return l>=80?"on-track":"at-risk";const o=new Date,a=new Date(r),u=c?new Date(c):new Date(a.getTime()-2160*60*60*1e3),f=a-u,x=o-u,g=Math.max(0,Math.min(100,x/f*100));return o>a&&l<100||l<g-20?"delayed":l<g-10?"at-risk":"on-track"}function i0(l){const r={"on-track":{label:"On Track",icon:"",color:"#059669",background:"#D1FAE5"},"at-risk":{label:"At Risk",icon:"",color:"#D97706",background:"#FEF3C7"},delayed:{label:"Delayed",icon:"",color:"#DC2626",background:"#FEE2E2"}};return r[l]||r["at-risk"]}function s0(l){if(!l)return"No date set";const r=new Date(l),c={month:"short",day:"numeric",year:"numeric"};return r.toLocaleDateString("en-US",c)}function l0(l,r=30){const c=new Date;c.setHours(0,0,0,0);const o=new Date(c.getTime()+r*24*60*60*1e3);return l.filter(a=>{if(!a.due_date)return!1;const u=new Date(a.due_date);return u>=c&&u<=o}).map(a=>({...a,daysUntil:Dh(a.due_date),status:a0(a)})).sort((a,u)=>a.daysUntil-u.daysUntil)}function Dh(l){const r=new Date;r.setHours(0,0,0,0);const o=new Date(l)-r;return Math.round(o/(1e3*60*60*24))}function a0(l){const r=Dh(l.due_date);if(r<0&&l.state!=="closed")return"overdue";let c=0;return l.stats&&l.stats.total_issues>0&&(c=l.stats.closed_issues/l.stats.total_issues*100),c>=80||r>7?"on-track":"at-risk"}function o0(l){const r={"on-track":{label:"On Track",icon:"",color:"#059669",background:"#D1FAE5"},"at-risk":{label:"At Risk",icon:"",color:"#D97706",background:"#FEF3C7"},overdue:{label:"Overdue",icon:"",color:"#DC2626",background:"#FEE2E2"}};return r[l]||r["at-risk"]}function r0(l){if(l==null)return"";const r=String(l);return r.includes(",")||r.includes('"')||r.includes(`
`)?`"${r.replace(/"/g,'""')}"`:r}function Bt(l){return l.map(r=>r0(r)).join(",")}function ch(l){if(!l||l.length===0)return"No data to export";const r=["Issue ID","Title","URL","State","Labels","Assignees","Epic","Milestone","Due Date","Created","Updated","Author","Priority","Weight","Time Estimate","Time Spent","Description"],c=l.map(a=>{const u=a.labels?.join("; ")||"",f=a.assignees?.map(I=>I.name).join("; ")||"Unassigned",x=a.epic?.title||"",g=a.milestone?.title||"",h=a.due_date||a.dueDate||"",m=a.created_at||a.createdAt?new Date(a.created_at||a.createdAt).toLocaleDateString():"",b=a.updated_at||a.updatedAt?new Date(a.updated_at||a.updatedAt).toLocaleDateString():"",y=a.author?.name||"",S=a.labels?.find(I=>I.toLowerCase().includes("priority"))?.split("::")[1]||"",w=a.weight||"",D=a.time_stats?.human_time_estimate||"",M=a.time_stats?.human_total_time_spent||"",W=a.description?.substring(0,500)||"",q=a.web_url||a.webUrl||"";return[a.iid||a.id,a.title,q,a.state,u,f,x,g,h,m,b,y,S,w,D,M,W]});return[Bt(r),...c.map(a=>Bt(a))].join(`
`)}function c0(l){if(!l||l.length===0)return"No data to export";const r=["Epic ID","Title","URL","State","Labels","Start Date","Due Date","Total Issues","Open Issues","Closed Issues","Completion %","Health Score","Author","Description"],c=l.map(a=>{const u=a.labels?.join("; ")||"",f=a.start_date||"",x=a.due_date||a.end_date||"",g=a.issues?.length||0,h=a.issues?.filter(M=>M.state==="opened").length||0,m=a.issues?.filter(M=>M.state==="closed").length||0,b=g>0?Math.round(m/g*100):0,y=a.health?.score||"",S=a.author?.name||"",w=a.description?.substring(0,500)||"",D=a.web_url||"";return[a.iid||a.id,a.title,D,a.state,u,f,x,g,h,m,`${b}%`,y,S,w]});return[Bt(r),...c.map(a=>Bt(a))].join(`
`)}function Xt(l,r){const c=new Blob([l],{type:"text/csv;charset=utf-8;"}),o=document.createElement("a");if(navigator.msSaveBlob)navigator.msSaveBlob(c,r);else{const a=URL.createObjectURL(c);o.href=a,o.download=r,o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(a)}}function d0(l){if(!l||l.length===0)return"No data to export";const r=["Sprint","Velocity","Total Issues","Completed Issues","Open Issues","Completion Rate %","Sprint Start","Sprint End"],c=l.map(a=>[`Sprint ${a.sprint}`,a.velocity,a.totalIssues,a.closedIssues,a.openIssues,a.completionRate?`${a.completionRate}%`:"",a.startDate?new Date(a.startDate).toLocaleDateString():"",a.endDate?new Date(a.endDate).toLocaleDateString():""]);return[Bt(r),...c.map(a=>Bt(a))].join(`
`)}function u0(l){if(!l||l.length===0)return"No data to export";const r=["Risk Title","Description","Impact","Probability","Risk Score","Mitigation Strategy","Owner","Status","Created Date"],c=l.map(a=>[a.title,a.description||"",a.impact,a.probability,a.riskScore||"",a.mitigation||"",a.owner||"",a.status||"Open",a.createdAt?new Date(a.createdAt).toLocaleDateString():""]);return[Bt(r),...c.map(a=>Bt(a))].join(`
`)}function p0(l){const{initiatives:r,healthScore:c,upcomingMilestones:o,topRisks:a,stats:u}=l,f=[];return f.push("HEALTH SCORE"),f.push(`Score,${c?.score||"N/A"}`),f.push(`Status,${c?.status||"N/A"}`),f.push(""),f.push("OVERALL STATISTICS"),f.push(`Total Issues,${u?.totalIssues||0}`),f.push(`Open Issues,${u?.openIssues||0}`),f.push(`Closed Issues,${u?.closedIssues||0}`),f.push(`Total Epics,${u?.totalEpics||0}`),f.push(""),r&&r.length>0&&(f.push("INITIATIVES SUMMARY"),f.push(Bt(["Name","Status","Progress %","Epics","Issues","Due Date"])),r.forEach(x=>{f.push(Bt([x.name,x.status,`${x.progress}%`,x.epics.length,x.totalIssues,x.dueDate?new Date(x.dueDate).toLocaleDateString():""]))}),f.push("")),o&&o.length>0&&(f.push("UPCOMING MILESTONES (Next 30 Days)"),f.push(Bt(["Title","Due Date","Days Until","Status"])),o.forEach(x=>{f.push(Bt([x.title,x.due_date?new Date(x.due_date).toLocaleDateString():"",x.daysUntil||"",x.status||""]))}),f.push("")),a&&a.length>0&&(f.push("TOP RISKS"),f.push(Bt(["Title","Impact","Probability","Description"])),a.forEach(x=>{f.push(Bt([x.title,x.impact,x.probability,x.description||""]))})),f.join(`
`)}function f0({isOpen:l,onClose:r,onSave:c}){const[o,a]=R.useState({weights:{...Tc},amplifiers:{...Fc},thresholds:{...Rc},timeframe:{...Wa}});R.useEffect(()=>{const h=localStorage.getItem("healthScoreConfig");if(h)try{const m=JSON.parse(h);a(m)}catch(m){console.error("Failed to load health score config:",m)}},[l]);const u=()=>{const h=Object.values(o.weights).reduce((m,b)=>m+b,0);if(Math.abs(h-1)>.01){alert("Weights must sum to 100% (1.0). Current sum: "+(h*100).toFixed(1)+"%");return}localStorage.setItem("healthScoreConfig",JSON.stringify(o)),c(o),r()},f=()=>{const h={weights:{...Tc},amplifiers:{...Fc},thresholds:{...Rc},timeframe:{...Wa}};a(h),localStorage.setItem("healthScoreConfig",JSON.stringify(h))};if(!l)return null;const x=Object.values(o.weights).reduce((h,m)=>h+m,0),g=Math.abs(x-1)<.01;return t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:t.jsxs("div",{className:"card",style:{width:"90%",maxWidth:"800px",maxHeight:"90vh",overflow:"auto",padding:"24px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[t.jsx("h2",{style:{fontSize:"20px",fontWeight:"600",margin:0},children:"Health Score Configuration"}),t.jsx("button",{onClick:r,style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"var(--text-secondary)"},children:""})]}),t.jsxs("div",{style:{marginBottom:"24px"},children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Dimension Weights"}),t.jsx("p",{style:{fontSize:"13px",color:"var(--text-secondary)",marginBottom:"16px"},children:"Adjust the importance of each health dimension. Total must equal 100%."}),t.jsx("div",{style:{display:"grid",gap:"12px"},children:Object.entries(o.weights).map(([h,m])=>t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"150px 1fr 100px",gap:"12px",alignItems:"center"},children:[t.jsx("label",{style:{fontSize:"14px",fontWeight:"500",textTransform:"capitalize"},children:h}),t.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:m,onChange:b=>a({...o,weights:{...o.weights,[h]:parseFloat(b.target.value)}}),style:{width:"100%"}}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[t.jsx("input",{type:"number",min:"0",max:"100",step:"5",value:(m*100).toFixed(0),onChange:b=>{const y=parseFloat(b.target.value)||0,S=Math.max(0,Math.min(100,y));a({...o,weights:{...o.weights,[h]:S/100}})},style:{width:"60px",padding:"4px 8px",fontSize:"14px",fontWeight:"600",border:"1px solid var(--border-medium)",borderRadius:"4px",textAlign:"right"}}),t.jsx("span",{style:{fontSize:"14px",fontWeight:"600"},children:"%"})]})]},h))}),t.jsxs("div",{style:{marginTop:"12px",padding:"8px 12px",background:g?"#D1FAE5":"#FEE2E2",border:`1px solid ${g?"#10B981":"#EF4444"}`,borderRadius:"6px",fontSize:"13px",color:g?"#065F46":"#991B1B"},children:["Total: ",(x*100).toFixed(1),"% ",g?"":" Must equal 100%"]})]}),t.jsxs("div",{style:{marginBottom:"24px"},children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Penalty Amplifiers"}),t.jsx("p",{style:{fontSize:"13px",color:"var(--text-secondary)",marginBottom:"16px"},children:"Control how severely issues penalize the health score. Higher = more sensitive to problems."}),t.jsx("div",{style:{display:"grid",gap:"12px"},children:Object.entries(o.amplifiers).map(([h,m])=>t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"150px 1fr 100px",gap:"12px",alignItems:"center"},children:[t.jsx("label",{style:{fontSize:"14px",fontWeight:"500",textTransform:"capitalize"},children:h}),t.jsx("input",{type:"range",min:"100",max:"500",step:"50",value:m,onChange:b=>a({...o,amplifiers:{...o.amplifiers,[h]:parseInt(b.target.value)}}),style:{width:"100%"}}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[t.jsx("span",{style:{fontSize:"14px",fontWeight:"600"},children:""}),t.jsx("input",{type:"number",min:"100",max:"500",step:"10",value:m,onChange:b=>{const y=parseInt(b.target.value)||100,S=Math.max(100,Math.min(500,y));a({...o,amplifiers:{...o.amplifiers,[h]:S}})},style:{width:"60px",padding:"4px 8px",fontSize:"14px",fontWeight:"600",border:"1px solid var(--border-medium)",borderRadius:"4px",textAlign:"right"}})]})]},h))}),t.jsxs("div",{style:{marginTop:"16px",padding:"16px",background:"#F0F9FF",border:"1px solid #3B82F6",borderRadius:"8px"},children:[t.jsx("h4",{style:{fontSize:"13px",fontWeight:"600",color:"#1E40AF",marginBottom:"12px"},children:"Impact Analysis"}),Object.entries(o.amplifiers).map(([h,m])=>{const b=(100/m*100).toFixed(1),y=(50/m*100).toFixed(1);(75/m*100).toFixed(1);const S=(100-.05*m).toFixed(0),w=Math.max(0,100-.1*m).toFixed(0);return Math.max(0,100-.2*m).toFixed(0),t.jsxs("div",{style:{marginBottom:h==="risk"?"0":"12px",paddingBottom:h==="risk"?"0":"12px",borderBottom:h==="risk"?"none":"1px solid #BFDBFE"},children:[t.jsxs("div",{style:{fontSize:"12px",fontWeight:"600",color:"#1E40AF",marginBottom:"6px",textTransform:"capitalize"},children:[h," (",m,")"]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",fontSize:"11px",color:"#1E3A8A"},children:[t.jsxs("div",{children:[t.jsxs("strong",{children:[b,"%"]})," ",h," issues  score drops to ",t.jsx("strong",{style:{color:"#DC2626"},children:"0"})]}),t.jsxs("div",{children:[t.jsxs("strong",{children:[y,"%"]})," ",h," issues  score drops to ",t.jsx("strong",{style:{color:"#D97706"},children:"50"})]}),t.jsxs("div",{children:[t.jsx("strong",{children:"5%"})," ",h," issues  score: ",t.jsx("strong",{style:{color:S>=80?"#059669":S>=60?"#D97706":"#DC2626"},children:S})]}),t.jsxs("div",{children:[t.jsx("strong",{children:"10%"})," ",h," issues  score: ",t.jsx("strong",{style:{color:w>=80?"#059669":w>=60?"#D97706":"#DC2626"},children:w})]})]})]},h)}),t.jsxs("div",{style:{marginTop:"12px",padding:"8px",background:"#DBEAFE",borderRadius:"4px",fontSize:"11px",color:"#1E3A8A"},children:[t.jsx("strong",{children:"Tip:"})," Lower amplifiers = more tolerant (need more issues to drop score). Higher amplifiers = stricter (fewer issues cause bigger penalties)."]})]})]}),t.jsxs("div",{style:{marginBottom:"24px"},children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Status Thresholds"}),t.jsx("p",{style:{fontSize:"13px",color:"var(--text-secondary)",marginBottom:"16px"},children:"Set the score boundaries for green/amber/red status indicators."}),t.jsxs("div",{style:{display:"grid",gap:"12px"},children:[t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"150px 1fr 100px",gap:"12px",alignItems:"center"},children:[t.jsx("label",{style:{fontSize:"14px",fontWeight:"500"},children:"Green (Good)"}),t.jsx("input",{type:"range",min:"60",max:"100",step:"5",value:o.thresholds.good,onChange:h=>a({...o,thresholds:{...o.thresholds,good:parseInt(h.target.value)}}),style:{width:"100%"}}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[t.jsx("span",{style:{fontSize:"14px",fontWeight:"600",color:"var(--success)"},children:""}),t.jsx("input",{type:"number",min:"60",max:"100",step:"5",value:o.thresholds.good,onChange:h=>{const m=parseInt(h.target.value)||60,b=Math.max(60,Math.min(100,m));a({...o,thresholds:{...o.thresholds,good:b}})},style:{width:"50px",padding:"4px 8px",fontSize:"14px",fontWeight:"600",border:"1px solid var(--border-medium)",borderRadius:"4px",textAlign:"right",color:"var(--success)"}})]})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"150px 1fr 100px",gap:"12px",alignItems:"center"},children:[t.jsx("label",{style:{fontSize:"14px",fontWeight:"500"},children:"Amber (Warning)"}),t.jsx("input",{type:"range",min:"30",max:o.thresholds.good-5,step:"5",value:o.thresholds.warning,onChange:h=>a({...o,thresholds:{...o.thresholds,warning:parseInt(h.target.value)}}),style:{width:"100%"}}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[t.jsx("span",{style:{fontSize:"14px",fontWeight:"600",color:"var(--warning)"},children:""}),t.jsx("input",{type:"number",min:"30",max:o.thresholds.good-5,step:"5",value:o.thresholds.warning,onChange:h=>{const m=parseInt(h.target.value)||30,b=o.thresholds.good-5,y=Math.max(30,Math.min(b,m));a({...o,thresholds:{...o.thresholds,warning:y}})},style:{width:"50px",padding:"4px 8px",fontSize:"14px",fontWeight:"600",border:"1px solid var(--border-medium)",borderRadius:"4px",textAlign:"right",color:"var(--warning)"}})]})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"150px 1fr 80px",gap:"12px",alignItems:"center"},children:[t.jsx("label",{style:{fontSize:"14px",fontWeight:"500"},children:"Red (Critical)"}),t.jsx("div",{style:{width:"100%",display:"flex",alignItems:"center"},children:t.jsx("div",{style:{flex:1,height:"4px",background:"var(--danger)",borderRadius:"2px"}})}),t.jsxs("span",{style:{fontSize:"14px",fontWeight:"600",color:"var(--danger)"},children:["<",o.thresholds.warning]})]})]})]}),t.jsxs("div",{style:{marginBottom:"24px"},children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Timeframe Mode"}),t.jsx("p",{style:{fontSize:"13px",color:"var(--text-secondary)",marginBottom:"16px"},children:"Choose which issues to include in health score calculation."}),t.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"12px"},children:[t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[t.jsx("input",{type:"radio",name:"timeframe",value:"iteration",checked:o.timeframe.mode==="iteration",onChange:h=>a({...o,timeframe:{...o.timeframe,mode:h.target.value}})}),t.jsx("span",{style:{fontSize:"14px"},children:"Current Iteration/Sprint"})]}),t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[t.jsx("input",{type:"radio",name:"timeframe",value:"days",checked:o.timeframe.mode==="days",onChange:h=>a({...o,timeframe:{...o.timeframe,mode:h.target.value}})}),t.jsx("span",{style:{fontSize:"14px"},children:"Last N Days"})]}),t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[t.jsx("input",{type:"radio",name:"timeframe",value:"all",checked:o.timeframe.mode==="all",onChange:h=>a({...o,timeframe:{...o.timeframe,mode:h.target.value}})}),t.jsx("span",{style:{fontSize:"14px"},children:"All Issues"})]})]}),o.timeframe.mode==="days"&&t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"150px 1fr 100px",gap:"12px",alignItems:"center"},children:[t.jsx("label",{style:{fontSize:"14px",fontWeight:"500"},children:"Days to include"}),t.jsx("input",{type:"range",min:"7",max:"365",step:"7",value:o.timeframe.days,onChange:h=>a({...o,timeframe:{...o.timeframe,days:parseInt(h.target.value)}}),style:{width:"100%"}}),t.jsx("input",{type:"number",min:"7",max:"365",step:"7",value:o.timeframe.days,onChange:h=>{const m=parseInt(h.target.value)||7,b=Math.max(7,Math.min(365,m));a({...o,timeframe:{...o.timeframe,days:b}})},style:{width:"60px",padding:"4px 8px",fontSize:"14px",fontWeight:"600",border:"1px solid var(--border-medium)",borderRadius:"4px",textAlign:"right"}})]})]}),t.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end",paddingTop:"16px",borderTop:"1px solid var(--border-color)"},children:[t.jsx("button",{className:"btn",onClick:f,style:{background:"var(--bg-secondary)"},children:"Reset to Defaults"}),t.jsx("button",{className:"btn",onClick:r,style:{background:"var(--bg-secondary)"},children:"Cancel"}),t.jsx("button",{className:"btn btn-primary",onClick:u,disabled:!g,children:"Save Configuration"})]})]})})}function h0({stats:l,healthScore:r,issues:c,milestones:o,epics:a,risks:u}){const[f,x]=R.useState(!1),[g,h]=R.useState(0),[m,b]=R.useState({blockers:!1,overdue:!1,highPriority:!1}),y=B=>{b(z=>({...z,[B]:!z[B]}))},{filteredIssues:S}=Bi(),w=R.useMemo(()=>!a||!S?[]:Ch(a,S),[a,S]),D=R.useMemo(()=>o?l0(o,30):[],[o]),M=R.useMemo(()=>{if(!S||S.length===0)return null;const B=new Date;B.setDate(B.getDate()-28);const F=(S.filter(G=>G.state!=="closed"||!G.closed_at?!1:new Date(G.closed_at)>=B).length/4).toFixed(1),_=new Map;S.filter(G=>G.state==="opened").forEach(G=>{G.assignees?.forEach(P=>{const ee=_.get(P.id)||0;_.set(P.id,ee+1)})});const j=_.size>0?(S.filter(G=>G.state==="opened"&&G.assignees?.length>0).length/_.size).toFixed(1):0;return{weeklyVelocity:F,activeMembers:_.size,avgIssuesPerPerson:j}},[S]),W=R.useMemo(()=>{if(!l)return null;const B=S.filter(z=>z.state!=="opened"?!1:(z.labels?.map(_=>_.toLowerCase())||[]).some(_=>_.includes("priority::high")||_.includes("critical")||_.includes("urgent"))).length;return{blockers:l.blockers,overdue:l.overdue,highPriority:B,total:l.blockers+l.overdue+B}},[S,l]),q=R.useMemo(()=>u?u.filter(B=>B.impact==="high"||B.impact==="medium"&&B.probability==="high").slice(0,3):[],[u]),I=()=>{const z=p0({initiatives:w,healthScore:r,upcomingMilestones:D,topRisks:q,stats:l}),F=new Date().toISOString().split("T")[0];Xt(z,`executive-summary-${F}.csv`)},N=B=>{h(z=>z+1),window.location.reload()};return t.jsxs("div",{className:"container",children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"30px"},children:[t.jsxs("div",{children:[t.jsx("h2",{style:{fontSize:"24px",fontWeight:"600",marginBottom:"8px"},children:"Executive Overview"}),t.jsx("p",{style:{fontSize:"14px",color:"var(--text-secondary)"},children:"Comprehensive view of all initiatives and key performance indicators"})]}),t.jsxs("div",{style:{display:"flex",gap:"12px"},children:[t.jsxs("button",{className:"btn",onClick:()=>x(!0),style:{display:"flex",alignItems:"center",gap:"8px",background:"var(--bg-secondary)"},title:"Configure health score calculation",children:[t.jsx("span",{children:""}),t.jsx("span",{children:"Health Score Settings"})]}),t.jsx("button",{className:"btn btn-primary",onClick:I,style:{display:"flex",alignItems:"center",gap:"8px"},children:t.jsx("span",{children:"Export Summary CSV"})})]})]}),t.jsx(f0,{isOpen:f,onClose:()=>x(!1),onSave:N}),t.jsxs("div",{className:"grid grid-4",style:{marginBottom:"30px"},children:[t.jsxs("div",{className:"card metric-card",children:[t.jsx("div",{className:"metric-label",children:"Active Initiatives"}),t.jsx("div",{className:"metric-value",style:{color:"var(--info)"},children:w.filter(B=>B.openIssues>0).length}),t.jsxs("div",{style:{fontSize:"11px",color:"var(--text-tertiary)",marginTop:"4px"},children:[w.filter(B=>B.status==="on-track").length," on track, ",w.filter(B=>B.status==="at-risk").length," at risk"]})]}),t.jsxs("div",{className:"card metric-card",children:[t.jsx("div",{className:"metric-label",children:"Health Score"}),t.jsx("div",{className:"metric-value",style:{color:r?.status==="green"?"var(--success)":r?.status==="amber"?"var(--warning)":"var(--danger)"},children:r?.score||0}),t.jsx("div",{style:{fontSize:"11px",color:"var(--text-tertiary)",marginTop:"4px"},children:"Overall project health"})]}),M&&t.jsxs("div",{className:"card metric-card",children:[t.jsx("div",{className:"metric-label",children:"Velocity & Capacity"}),t.jsx("div",{className:"metric-value",style:{color:"var(--primary)"},children:M.weeklyVelocity}),t.jsxs("div",{style:{fontSize:"11px",color:"var(--text-tertiary)",marginTop:"4px"},children:["issues/week  ",M.activeMembers," members  ",M.avgIssuesPerPerson," avg/person"]})]}),W&&t.jsxs("div",{className:"card metric-card",children:[t.jsx("div",{className:"metric-label",children:"Risk Profile"}),t.jsx("div",{className:"metric-value",style:{color:W.total===0?"var(--success)":W.total<=5?"var(--warning)":"var(--danger)"},children:W.total}),t.jsxs("div",{style:{fontSize:"11px",color:"var(--text-tertiary)",marginTop:"4px"},children:[W.blockers," blockers  ",W.overdue," overdue  ",W.highPriority," high priority"]})]})]}),t.jsxs("div",{className:"grid grid-2",style:{gap:"30px",marginBottom:"30px"},children:[t.jsxs("div",{className:"card",children:[t.jsx("h3",{style:{marginBottom:"20px",fontSize:"18px",fontWeight:"600"},children:"Active Initiatives"}),t.jsx("div",{style:{fontSize:"13px",color:"var(--text-secondary)",marginBottom:"16px"},children:"Current status of ongoing strategic projects"}),w.length===0?t.jsxs("div",{style:{padding:"40px",textAlign:"center",background:"var(--bg-secondary)",borderRadius:"8px"},children:[t.jsx("div",{style:{fontSize:"14px",color:"var(--text-secondary)",marginBottom:"8px"},children:"No initiatives found"}),t.jsx("div",{style:{fontSize:"12px",color:"var(--text-tertiary)"},children:'Tag epics with "initiative::name" labels to group them into initiatives'})]}):t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:w.slice(0,4).map(B=>{const z=i0(B.status);return t.jsxs("div",{style:{padding:"16px",background:"var(--bg-secondary)",borderRadius:"8px",border:"1px solid var(--border-light)"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsx("div",{style:{fontSize:"15px",fontWeight:"600",color:"var(--text-primary)",marginBottom:"4px"},children:B.name}),t.jsxs("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:[B.epics.length," epic",B.epics.length!==1?"s":"","  ",B.totalIssues," issue",B.totalIssues!==1?"s":""]})]}),t.jsxs("span",{style:{padding:"4px 12px",borderRadius:"12px",fontSize:"11px",fontWeight:"600",color:z.color,background:z.background,whiteSpace:"nowrap",display:"flex",alignItems:"center",gap:"4px"},children:[t.jsx("span",{children:z.icon}),t.jsx("span",{children:z.label})]})]}),t.jsxs("div",{style:{marginBottom:"8px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"6px"},children:[t.jsx("span",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:"Progress"}),t.jsxs("span",{style:{fontSize:"12px",fontWeight:"600"},children:[B.progress,"%"]})]}),t.jsx("div",{className:"progress-bar",style:{height:"6px"},children:t.jsx("div",{className:"progress-fill",style:{width:`${B.progress}%`,background:B.status==="on-track"?"var(--success)":B.status==="at-risk"?"var(--warning)":"var(--danger)"}})})]}),B.dueDate&&t.jsxs("div",{style:{fontSize:"12px",color:"var(--text-tertiary)"},children:["Due: ",s0(B.dueDate)]})]},B.id)})})]}),t.jsxs("div",{className:"card",children:[t.jsx("h3",{style:{marginBottom:"20px",fontSize:"18px",fontWeight:"600"},children:"Items Requiring Attention"}),t.jsx("div",{style:{fontSize:"13px",color:"var(--text-secondary)",marginBottom:"16px"},children:"Blockers, overdue items, and high-priority issues"}),W&&W.total===0?t.jsxs("div",{style:{padding:"40px",textAlign:"center",background:"var(--bg-secondary)",borderRadius:"8px"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"12px",opacity:.3},children:""}),t.jsx("div",{style:{fontSize:"14px",color:"var(--text-secondary)"},children:"No critical items requiring attention"})]}):t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[W&&W.blockers>0&&(()=>{const B=S.filter(j=>j.state!=="opened"?!1:Eh(j.labels||[])),z=m.blockers,F=z?B:B.slice(0,3),_=B.length>3;return t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 16px",background:"#FEE2E2",borderRadius:"8px 8px 0 0",borderLeft:"4px solid var(--danger)"},children:[t.jsxs("div",{style:{fontSize:"14px",fontWeight:"600",color:"var(--danger)"},children:[W.blockers," Blocker",W.blockers!==1?"s":""]}),t.jsx("div",{style:{marginLeft:"auto",fontSize:"11px",color:"#991B1B",fontWeight:"600"},children:"CRITICAL"})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",padding:"12px",background:"#FEF2F2",borderRadius:"0 0 8px 8px"},children:[F.map(j=>t.jsxs("a",{href:j.web_url,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"12px",padding:"8px 12px",background:"white",borderRadius:"6px",textDecoration:"none",color:"var(--text-primary)",border:"1px solid #FECACA",transition:"all 0.2s"},onMouseEnter:G=>{G.currentTarget.style.borderColor="var(--danger)",G.currentTarget.style.transform="translateX(4px)"},onMouseLeave:G=>{G.currentTarget.style.borderColor="#FECACA",G.currentTarget.style.transform="translateX(0)"},children:[t.jsx("div",{style:{width:"4px",height:"100%",background:"var(--danger)",borderRadius:"2px",marginRight:"8px"}}),t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{fontSize:"13px",fontWeight:"600",marginBottom:"2px"},children:["#",j.iid," ",j.title]}),j.assignees&&j.assignees.length>0&&t.jsxs("div",{style:{fontSize:"11px",color:"var(--text-secondary)"},children:["Assigned to: ",j.assignees[0].name]})]}),t.jsx("div",{style:{fontSize:"11px",color:"var(--danger)",fontWeight:"600"},children:"View "})]},j.id)),_&&t.jsx("button",{onClick:()=>y("blockers"),style:{padding:"8px 12px",background:"white",border:"1px solid #FCA5A5",borderRadius:"6px",fontSize:"12px",fontWeight:"600",color:"#DC2626",cursor:"pointer",transition:"all 0.2s",marginTop:"4px"},onMouseEnter:j=>{j.currentTarget.style.background="#FEE2E2"},onMouseLeave:j=>{j.currentTarget.style.background="white"},children:z?" Show less":` Show all ${W.blockers} blockers`})]})]})})(),W&&W.overdue>0&&(()=>{const B=S.filter(j=>{if(j.state!=="opened"||!j.due_date)return!1;const G=new Date(j.due_date),P=new Date;return P.setHours(0,0,0,0),G<P}),z=m.overdue,F=z?B:B.slice(0,3),_=B.length>3;return t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 16px",background:"#FEF3C7",borderRadius:"8px 8px 0 0",borderLeft:"4px solid var(--warning)"},children:[t.jsxs("div",{style:{fontSize:"14px",fontWeight:"600",color:"#92400E"},children:[W.overdue," Overdue Issue",W.overdue!==1?"s":""]}),t.jsx("div",{style:{marginLeft:"auto",fontSize:"11px",color:"#92400E",fontWeight:"600"},children:"OVERDUE"})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",padding:"12px",background:"#FFFBEB",borderRadius:"0 0 8px 8px"},children:[F.map(j=>{const G=new Date(j.due_date),ee=Math.floor((new Date-G)/(1440*60*1e3));return t.jsxs("a",{href:j.web_url,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"12px",padding:"8px 12px",background:"white",borderRadius:"6px",textDecoration:"none",color:"var(--text-primary)",border:"1px solid #FDE68A",transition:"all 0.2s"},onMouseEnter:le=>{le.currentTarget.style.borderColor="var(--warning)",le.currentTarget.style.transform="translateX(4px)"},onMouseLeave:le=>{le.currentTarget.style.borderColor="#FDE68A",le.currentTarget.style.transform="translateX(0)"},children:[t.jsx("div",{style:{width:"4px",height:"100%",background:"var(--warning)",borderRadius:"2px",marginRight:"8px"}}),t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{fontSize:"13px",fontWeight:"600",marginBottom:"2px"},children:["#",j.iid," ",j.title]}),t.jsxs("div",{style:{fontSize:"11px",color:"#92400E"},children:[ee," day",ee!==1?"s":""," overdue"]})]}),t.jsx("div",{style:{fontSize:"11px",color:"var(--warning)",fontWeight:"600"},children:"View "})]},j.id)}),_&&t.jsx("button",{onClick:()=>y("overdue"),style:{padding:"8px 12px",background:"white",border:"1px solid #FCD34D",borderRadius:"6px",fontSize:"12px",fontWeight:"600",color:"#D97706",cursor:"pointer",transition:"all 0.2s",marginTop:"4px"},onMouseEnter:j=>{j.currentTarget.style.background="#FEF3C7"},onMouseLeave:j=>{j.currentTarget.style.background="white"},children:z?" Show less":` Show all ${W.overdue} overdue issues`})]})]})})(),W&&W.highPriority>0&&(()=>{const B=S.filter(j=>j.state!=="opened"?!1:(j.labels?.map(P=>P.toLowerCase())||[]).some(P=>P.includes("priority::high")||P.includes("critical")||P.includes("urgent"))),z=m.highPriority,F=z?B:B.slice(0,3),_=B.length>3;return t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 16px",background:"#DBEAFE",borderRadius:"8px 8px 0 0",borderLeft:"4px solid var(--info)"},children:[t.jsxs("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1E40AF"},children:[W.highPriority," High Priority Issue",W.highPriority!==1?"s":""]}),t.jsx("div",{style:{marginLeft:"auto",fontSize:"11px",color:"#1E40AF",fontWeight:"600"},children:"HIGH PRIORITY"})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",padding:"12px",background:"#EFF6FF",borderRadius:"0 0 8px 8px"},children:[F.map(j=>t.jsxs("a",{href:j.web_url,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"12px",padding:"8px 12px",background:"white",borderRadius:"6px",textDecoration:"none",color:"var(--text-primary)",border:"1px solid #BFDBFE",transition:"all 0.2s"},onMouseEnter:G=>{G.currentTarget.style.borderColor="var(--info)",G.currentTarget.style.transform="translateX(4px)"},onMouseLeave:G=>{G.currentTarget.style.borderColor="#BFDBFE",G.currentTarget.style.transform="translateX(0)"},children:[t.jsx("div",{style:{width:"4px",height:"100%",background:"var(--info)",borderRadius:"2px",marginRight:"8px"}}),t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{fontSize:"13px",fontWeight:"600",marginBottom:"2px"},children:["#",j.iid," ",j.title]}),j.assignees&&j.assignees.length>0&&t.jsxs("div",{style:{fontSize:"11px",color:"var(--text-secondary)"},children:["Assigned to: ",j.assignees[0].name]})]}),t.jsx("div",{style:{fontSize:"11px",color:"var(--info)",fontWeight:"600"},children:"View "})]},j.id)),_&&t.jsx("button",{onClick:()=>y("highPriority"),style:{padding:"8px 12px",background:"white",border:"1px solid #93C5FD",borderRadius:"6px",fontSize:"12px",fontWeight:"600",color:"#2563EB",cursor:"pointer",transition:"all 0.2s",marginTop:"4px"},onMouseEnter:j=>{j.currentTarget.style.background="#DBEAFE"},onMouseLeave:j=>{j.currentTarget.style.background="white"},children:z?" Show less":` Show all ${W.highPriority} high priority issues`})]})]})})()]})]})]}),t.jsxs("div",{className:"card",children:[t.jsx("h3",{style:{marginBottom:"20px",fontSize:"18px",fontWeight:"600"},children:"Upcoming Milestones"}),t.jsx("div",{style:{fontSize:"13px",color:"var(--text-secondary)",marginBottom:"16px"},children:"Key deliverables and deadlines in the next 30 days"}),D.length===0?t.jsx("div",{style:{padding:"40px",textAlign:"center",background:"var(--bg-secondary)",borderRadius:"8px"},children:t.jsx("div",{style:{fontSize:"14px",color:"var(--text-secondary)"},children:"No upcoming milestones in the next 30 days"})}):t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:D.map(B=>{const z=o0(B.status),F=B.stats&&B.stats.total_issues>0?Math.round(B.stats.closed_issues/B.stats.total_issues*100):0,_=B.stats?B.stats.total_issues-B.stats.closed_issues:0;let j=null;return B.status==="at-risk"?B.daysUntil<=3?j=`Due in ${B.daysUntil} day${B.daysUntil!==1?"s":""} with ${_} open issue${_!==1?"s":""} (${F}% complete)`:F<50&&B.daysUntil<=7?j=`Only ${F}% complete with ${B.daysUntil} days remaining`:_>0&&(j=`${_} open issue${_!==1?"s":""} remaining (${F}% complete)`):B.status==="overdue"&&(j=`Overdue with ${_} open issue${_!==1?"s":""}`),t.jsx("div",{style:{padding:"16px",background:"var(--bg-secondary)",borderRadius:"8px",borderLeft:B.status==="at-risk"||B.status==="overdue"?`4px solid ${z.color}`:"none"},children:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px"},children:[t.jsxs("div",{style:{width:"80px",textAlign:"center",borderRight:"2px solid var(--border-light)",paddingRight:"20px"},children:[t.jsx("div",{style:{fontSize:"20px",fontWeight:"700",color:"var(--primary)"},children:B.daysUntil}),t.jsx("div",{style:{fontSize:"11px",color:"var(--text-secondary)",marginTop:"2px"},children:B.daysUntil===1?"day":"days"})]}),t.jsxs("div",{style:{flex:1},children:[t.jsx("div",{style:{fontSize:"15px",fontWeight:"600",color:"var(--text-primary)",marginBottom:"4px"},children:B.title}),t.jsx("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginBottom:j?"8px":"0"},children:B.description||"No description"}),j&&t.jsxs("div",{style:{padding:"8px 12px",background:B.status==="overdue"?"#FEE2E2":"#FEF3C7",borderRadius:"6px",marginTop:"8px"},children:[t.jsx("div",{style:{fontSize:"11px",fontWeight:"600",color:B.status==="overdue"?"#991B1B":"#92400E",marginBottom:"4px"},children:"Risk Factor:"}),t.jsx("div",{style:{fontSize:"12px",color:B.status==="overdue"?"#DC2626":"#D97706",lineHeight:"1.4"},children:j})]})]}),t.jsxs("span",{style:{padding:"4px 12px",borderRadius:"12px",fontSize:"11px",fontWeight:"600",color:z.color,background:z.background,whiteSpace:"nowrap",display:"flex",alignItems:"center",gap:"4px",alignSelf:"flex-start"},children:[t.jsx("span",{children:z.icon}),t.jsx("span",{children:z.label})]})]})},B.id)})})]})]})}function x0(l){return l?new Date(l).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):""}function g0({issues:l,milestones:r}){if(r.length===0)return t.jsx("div",{className:"container",children:t.jsxs("div",{className:"card text-center",style:{padding:"60px 20px"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px",opacity:.3},children:""}),t.jsx("h3",{className:"mb-2",children:"No Milestones"}),t.jsx("p",{className:"text-muted",children:"Create milestones in GitLab to see the roadmap view."})]})});const c=[...r].sort((o,a)=>o.due_date?a.due_date?new Date(a.due_date)-new Date(o.due_date):-1:1);return t.jsxs("div",{className:"container-fluid",children:[t.jsx("div",{style:{marginBottom:"20px"},children:t.jsx("h2",{style:{margin:0},children:"Milestones"})}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[c.map(o=>{const a=l.filter(y=>y.milestone?.id===o.id),u=a.filter(y=>y.state==="closed").length,f=a.length,x=f>0?Math.round(u/f*100):0,g=a.filter(y=>Ua(y.labels)).length,h=a.filter(y=>qm(y.labels)==="High").length,m=a.filter(y=>y.due_date&&Math.floor((new Date(y.due_date)-new Date)/(1e3*60*60*24))<=7&&y.state==="opened").length,b=a.filter(y=>y.due_date&&new Date(y.due_date)<new Date&&y.state==="opened").length;return t.jsxs("div",{className:"card",children:[t.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",marginBottom:"16px"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsx("h3",{style:{marginBottom:"8px"},children:o.title}),o.description&&t.jsx("p",{className:"text-muted mb-2",style:{fontSize:"14px"},children:o.description}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",fontSize:"13px"},children:[t.jsx("span",{className:o.state==="active"?"badge badge-success":"badge",children:o.state==="active"?"Active":"Closed"}),o.due_date&&t.jsxs("span",{className:"text-muted",children:[" ",x0(o.due_date)]}),g>0&&t.jsxs("span",{style:{color:"var(--danger)",fontWeight:"600"},children:[" ",g," Blockers"]})]})]}),t.jsxs("div",{style:{textAlign:"right"},children:[t.jsxs("div",{style:{fontSize:"32px",fontWeight:"700",color:"var(--primary)"},children:[x,"%"]}),t.jsxs("div",{className:"text-small text-muted",children:[u," / ",f]})]})]}),t.jsx("div",{className:"progress-bar mb-3",children:t.jsx("div",{className:"progress-fill",style:{width:`${x}%`}})}),t.jsxs("div",{className:"grid grid-3",style:{gap:"12px"},children:[t.jsxs("div",{className:"card",style:{background:"var(--bg-secondary)",padding:"12px",textAlign:"center"},children:[t.jsx("div",{className:"text-small text-muted mb-1",children:"HIGH PRIORITY"}),t.jsx("div",{style:{fontSize:"24px",fontWeight:"700"},children:h})]}),t.jsxs("div",{className:"card",style:{background:"var(--bg-secondary)",padding:"12px",textAlign:"center"},children:[t.jsx("div",{className:"text-small text-muted mb-1",children:"AT RISK"}),t.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"var(--warning)"},children:m})]}),t.jsxs("div",{className:"card",style:{background:"var(--bg-secondary)",padding:"12px",textAlign:"center"},children:[t.jsx("div",{className:"text-small text-muted mb-1",children:"OVERDUE"}),t.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"var(--danger)"},children:b})]})]}),g>0&&t.jsxs("div",{style:{marginTop:"16px",background:"#FEE2E2",borderLeft:"4px solid var(--danger)",padding:"16px",borderRadius:"4px"},children:[t.jsx("h4",{style:{color:"var(--danger)",marginBottom:"12px",fontWeight:"600"},children:" Blockers"}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:a.filter(y=>Ua(y.labels)).map(y=>t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"13px"},children:[t.jsxs("span",{style:{cursor:"pointer",textDecoration:"underline"},onClick:()=>window.open(y.web_url,"_blank"),children:["#",y.iid," ",y.title]}),t.jsx("span",{className:"text-muted",children:y.assignees?.[0]?.name||"Unassigned"})]},y.id))})]})]},o.id)}),l.filter(o=>!o.milestone).length>0&&t.jsxs("div",{className:"card",style:{background:"var(--bg-secondary)"},children:[t.jsx("h3",{className:"mb-2",children:" Backlog"}),t.jsxs("p",{className:"text-muted",children:[l.filter(o=>!o.milestone).length," issues without milestone"]})]})]})]})}function qc(l){if(!l||l.length===0)return[];const r=new Map;l.forEach(a=>{const u=xt(a.labels,a.iteration);if(!u)return;r.has(u)||r.set(u,{sprint:u,totalIssues:0,completedIssues:0,openIssues:0,completedAt:[]});const f=r.get(u);f.totalIssues++,a.state==="closed"?(f.completedIssues++,a.closed_at&&f.completedAt.push(new Date(a.closed_at))):f.openIssues++});const c=new Map;return l.forEach(a=>{const u=xt(a.labels,a.iteration);u&&a.iteration?.start_date&&!c.has(u)&&c.set(u,a.iteration.start_date)}),Array.from(r.values()).sort((a,u)=>{const f=c.get(a.sprint),x=c.get(u.sprint);if(f&&x)return new Date(f)-new Date(x);const g=typeof a.sprint=="number"?a.sprint:parseInt(a.sprint,10),h=typeof u.sprint=="number"?u.sprint:parseInt(u.sprint,10);return!isNaN(g)&&!isNaN(h)?g-h:String(a.sprint).localeCompare(String(u.sprint))}).map(a=>({...a,velocity:a.completedIssues,completionRate:a.totalIssues>0?Math.round(a.completedIssues/a.totalIssues*100):0}))}function m0(l,r=3){if(!l||l.length===0)return 0;const c=l.slice(-r),o=c.reduce((a,u)=>a+u.velocity,0);return Math.round(o/c.length)}function y0(l){if(!l||l.length<2)return 0;const r=l.slice(-3);if(r.length<2)return 0;const c=r.slice(0,Math.floor(r.length/2)).reduce((a,u)=>a+u.velocity,0)/Math.floor(r.length/2),o=r.slice(Math.floor(r.length/2)).reduce((a,u)=>a+u.velocity,0)/Math.ceil(r.length/2);return Math.round((o-c)/c*100)}function v0(l,r){if(!l||!r)return{actual:[],ideal:[],total:0};const c=l.filter(_=>xt(_.labels,_.iteration)===r);if(c.length===0)return{actual:[],ideal:[],total:0};let o=null,a=null;const u=c.find(_=>_.iteration?.start_date);if(u&&u.iteration&&(u.iteration.start_date&&(o=new Date(u.iteration.start_date),o.setHours(0,0,0,0)),u.iteration.due_date&&(a=new Date(u.iteration.due_date),a.setHours(23,59,59,999))),!o){const _=c.map(j=>new Date(j.created_at)).filter(j=>!isNaN(j));if(_.length===0)return{actual:[],ideal:[],total:0};o=new Date(Math.min(..._)),o.setHours(0,0,0,0)}a||(a=new Date(o.getTime()+12096e5),a.setHours(23,59,59,999));const f=new Date,x=new Date(f.getFullYear(),f.getMonth(),f.getDate()),g=c.length,h=[],m=(a-o)/(1440*60*1e3),b=Math.round(m);for(let _=0;_<=b;_++){const j=new Date(o.getTime()+_*24*60*60*1e3),G=j.getFullYear(),P=String(j.getMonth()+1).padStart(2,"0"),ee=String(j.getDate()).padStart(2,"0"),le=`${G}-${P}-${ee}`,re=g-g/b*_;h.push({date:le,remaining:Math.max(0,Math.round(re))})}const y=c.filter(_=>_.state==="closed"&&_.closed_at).map(_=>({date:new Date(_.closed_at),issue:_})).sort((_,j)=>_.date-j.date),S=[];let w=g;const D=new Map;y.forEach(({date:_})=>{const j=new Date(_);j.setHours(0,0,0,0);const G=j.getFullYear(),P=String(j.getMonth()+1).padStart(2,"0"),ee=String(j.getDate()).padStart(2,"0"),le=`${G}-${P}-${ee}`;D.set(le,(D.get(le)||0)+1)}),console.log("Burndown generation:",{sprintStart:o.toISOString(),sprintEnd:a.toISOString(),today:x.toISOString(),days:b,totalIssues:g});for(let _=0;_<=b;_++){const j=new Date(o.getTime()+_*24*60*60*1e3),G=new Date(j.getFullYear(),j.getMonth(),j.getDate());if(G>x)break;const P=G.getFullYear(),ee=String(G.getMonth()+1).padStart(2,"0"),le=String(G.getDate()).padStart(2,"0"),re=`${P}-${ee}-${le}`;console.log(`Day ${_}: ${re}, cleanDate > today: ${G>x}, cleanDate: ${G.toISOString()}, today: ${x.toISOString()}`),_>0&&D.has(re)&&(w-=D.get(re)),S.push({date:re,remaining:Math.max(0,w)})}console.log("Actual data points generated:",S.length,"Last date:",S[S.length-1]?.date);const M=o.getFullYear(),W=String(o.getMonth()+1).padStart(2,"0"),q=String(o.getDate()).padStart(2,"0"),I=`${M}-${W}-${q}`,N=a.getFullYear(),B=String(a.getMonth()+1).padStart(2,"0"),z=String(a.getDate()).padStart(2,"0"),F=`${N}-${B}-${z}`;return{actual:S,ideal:h,total:g,sprintStart:I,sprintEnd:F}}function b0(l,r){if(!l||r===0)return null;const c=l.filter(x=>x.state==="opened").length;if(c===0)return{date:new Date().toISOString().split("T")[0],sprintsRemaining:0,confidence:100};const o=Math.ceil(c/r),a=new Date,u=new Date(a.getTime()+o*14*24*60*60*1e3),f=Math.min(95,60+r*2);return{date:u.toISOString().split("T")[0],sprintsRemaining:o,confidence:Math.round(f),openIssues:c}}function j0(l){if(!l||l.length===0)return null;const r=new Map;if(l.filter(a=>a.state==="opened").forEach(a=>{const u=xt(a.labels,a.iteration);if(!u)return;const f=a.iteration?.start_date;f&&!r.has(u)&&r.set(u,f)}),r.size===0){const a=l.filter(f=>f.state==="opened").map(f=>xt(f.labels,f.iteration)).filter(f=>f!==null);if(a.length===0)return null;const u=a.map(f=>typeof f=="number"?f:parseInt(f,10)).filter(f=>!isNaN(f));return u.length>0?Math.max(...u):a[0]}let c=null,o=null;return r.forEach((a,u)=>{const f=new Date(a);(!o||f>o)&&(o=f,c=u)}),c}function Sl(l){if(!l||l.length===0)return[];const r=new Set;return l.forEach(c=>{const o=xt(c.labels,c.iteration);o&&r.add(o)}),Array.from(r).sort((c,o)=>{const a=l.find(m=>xt(m.labels,m.iteration)===c),u=l.find(m=>xt(m.labels,m.iteration)===o),f=a?.iteration?.start_date,x=u?.iteration?.start_date;if(f&&x)return new Date(x)-new Date(f);if(f)return-1;if(x)return 1;const g=typeof c=="number"?c:parseInt(c,10),h=typeof o=="number"?o:parseInt(o,10);return!isNaN(g)&&!isNaN(h)?h-g:String(o).localeCompare(String(c))})}function S0({issues:l}){const{filteredIssues:r,selectedIterations:c,isFiltered:o}=Bi(),a=(M,W,q)=>{if(!M||M.length<2)return{causes:[],actions:[]};const I=[],N=[];M.slice(-3);const B=M[M.length-1],z=M[M.length-2];if(W<-10){const F=Math.abs(W);I.push({severity:"critical",category:"velocity-decline",description:`Velocity declined by ${F}% (from ${z.velocity} to ${B.velocity} issues/sprint)`,impact:`${z.velocity-B.velocity} fewer issues completed per sprint`}),B.completionRate<70&&(I.push({severity:"warning",category:"completion-rate",description:`Low completion rate: ${B.completionRate}% in Sprint ${B.sprint}`,impact:`${B.openIssues} issues not completed`}),N.push({priority:"high",title:"Reduce sprint scope",description:"Team is taking on too much work. Reduce planned issues by 20-30%",estimatedImpact:"Improve completion rate to 80%+"})),B.openIssues>z.openIssues&&(I.push({severity:"warning",category:"wip-increase",description:`Work in progress increased from ${z.openIssues} to ${B.openIssues} issues`,impact:"More started work not being completed"}),N.push({priority:"high",title:"Implement WIP limits",description:"Focus on completing existing work before starting new issues",estimatedImpact:"Increase completion rate"})),N.push({priority:"high",title:"Investigate blockers",description:"Review issues for blockers, dependencies, or scope creep",estimatedImpact:"Identify and remove impediments"})}else W>10?(I.push({severity:"info",category:"velocity-improvement",description:`Velocity improved by ${W}% (from ${z.velocity} to ${B.velocity} issues/sprint)`,impact:`${B.velocity-z.velocity} more issues completed per sprint`}),B.completionRate>90&&(I.push({severity:"info",category:"high-completion",description:`Excellent completion rate: ${B.completionRate}% in Sprint ${B.sprint}`,impact:"Team is efficiently completing planned work"}),N.push({priority:"low",title:"Consider increasing scope",description:"Team may have capacity for more work. Test with 10-15% increase",estimatedImpact:"Optimize team utilization"})),N.push({priority:"low",title:"Document success factors",description:"Capture what worked well this sprint to replicate in future",estimatedImpact:"Maintain improved velocity"})):(I.push({severity:"info",category:"velocity-stable",description:`Velocity stable at ~${q} issues/sprint`,impact:"Predictable delivery rate"}),q<5&&B.totalIssues>10&&(I.push({severity:"warning",category:"low-velocity",description:`Low velocity despite ${B.totalIssues} issues in sprint`,impact:"Team may be overloaded or issues too large"}),N.push({priority:"medium",title:"Break down issues",description:"Split large issues into smaller chunks (aim for 1-3 day issues)",estimatedImpact:"Increase throughput and visibility"})));return{causes:I,actions:N}},u=R.useMemo(()=>{if(!r||r.length===0)return null;const M=qc(r),W=m0(M,3),q=y0(M);let I;o&&c.length===1||o&&c.length>1?I=c[0]:I=j0(r);const N=v0(r,I),B=b0(r,W);return{velocityData:M,avgVelocity:W,trend:q,currentSprint:I,burndown:N,prediction:B}},[r,c,o]);if(!u||u.velocityData.length===0)return t.jsx("div",{className:"container",children:t.jsxs("div",{className:"card text-center",style:{padding:"60px 20px"},children:[t.jsx("h3",{className:"mb-2",children:"No Velocity Data"}),t.jsx("p",{className:"text-muted",children:'Add "Sprint X" labels to your issues to track velocity and burndown.'})]})});const{velocityData:f,avgVelocity:x,trend:g,currentSprint:h,burndown:m,prediction:b}=u,S=(M=>M>10?{color:"#059669",icon:"",label:"Improving"}:M<-10?{color:"#DC2626",icon:"",label:"Declining"}:{color:"#D97706",icon:"",label:"Stable"})(g),w=Math.max(...f.map(M=>M.velocity),10);m.total;const D=()=>{const M=d0(f),W=new Date().toISOString().split("T")[0];Xt(M,`velocity-data-${W}.csv`)};return t.jsxs("div",{className:"container-fluid",children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"20px"},children:[t.jsxs("div",{children:[t.jsx("h2",{style:{fontSize:"24px",fontWeight:"600",marginBottom:"8px"},children:"Velocity & Burndown Analytics"}),t.jsx("p",{style:{fontSize:"14px",color:"#6B7280"},children:"Sprint velocity, trends, burndown chart, and predictive analytics"})]}),t.jsx("button",{className:"btn btn-primary",onClick:D,style:{display:"flex",alignItems:"center",gap:"8px"},children:t.jsx("span",{children:"Export Velocity CSV"})})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"20px",marginBottom:"30px"},children:[t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Current Sprint"}),t.jsxs("div",{style:{fontSize:"32px",fontWeight:"600",color:"#1F2937"},children:["Sprint ",h||"N/A"]})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Avg. Velocity (Last 3)"}),t.jsxs("div",{style:{fontSize:"32px",fontWeight:"600",color:"#2563EB"},children:[x," ",t.jsx("span",{style:{fontSize:"16px",color:"#6B7280"},children:"issues/sprint"})]})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Velocity Trend"}),t.jsxs("div",{style:{fontSize:"32px",fontWeight:"600",color:S.color,display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("span",{children:S.icon}),t.jsxs("span",{children:[Math.abs(g),"%"]})]}),t.jsx("div",{style:{fontSize:"12px",color:S.color,marginTop:"4px"},children:S.label})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Predicted Completion"}),t.jsx("div",{style:{fontSize:"20px",fontWeight:"600",color:"#059669"},children:b?new Date(b.date).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"}):"N/A"}),b&&t.jsxs("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:[b.sprintsRemaining," sprints (",b.confidence,"% confidence)"]})]})]}),(()=>{const{causes:M,actions:W}=a(f,g,x);return M.length===0?null:t.jsxs("div",{className:"card",style:{marginBottom:"20px",background:"#F9FAFB"},children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"16px"},children:"Velocity Analysis"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1F2937",marginBottom:"12px"},children:"Analysis:"}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:M.map((q,I)=>t.jsxs("div",{style:{padding:"12px",background:"white",borderRadius:"6px",borderLeft:`4px solid ${q.severity==="critical"?"#DC2626":q.severity==="warning"?"#D97706":"#2563EB"}`},children:[t.jsx("div",{style:{fontSize:"13px",fontWeight:"600",color:"#374151",marginBottom:"4px"},children:q.description}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280"},children:q.impact})]},I))})]}),W.length>0&&t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1F2937",marginBottom:"12px"},children:"Recommended Actions:"}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:W.map((q,I)=>t.jsxs("div",{style:{padding:"12px",background:"white",borderRadius:"6px",borderLeft:"4px solid #2563EB"},children:[t.jsx("div",{style:{fontSize:"13px",fontWeight:"600",color:"#374151",marginBottom:"4px"},children:q.title}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:q.description}),t.jsxs("div",{style:{fontSize:"11px",color:"#9CA3AF"},children:["Expected impact: ",q.estimatedImpact]})]},I))})]})]})]})})(),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[t.jsxs("div",{className:"card",children:[t.jsx("h2",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"20px"},children:"Sprint Velocity"}),f.length===0?t.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#6B7280"},children:"No velocity data available"}):t.jsxs("div",{children:[t.jsxs("div",{style:{position:"relative",height:"300px",marginBottom:"20px"},children:[t.jsxs("div",{style:{position:"absolute",left:0,top:0,bottom:40,width:"40px",display:"flex",flexDirection:"column",justifyContent:"space-between",fontSize:"12px",color:"#6B7280",textAlign:"right",paddingRight:"8px"},children:[t.jsx("div",{children:w}),t.jsx("div",{children:Math.round(w*.75)}),t.jsx("div",{children:Math.round(w*.5)}),t.jsx("div",{children:Math.round(w*.25)}),t.jsx("div",{children:"0"})]}),t.jsx("div",{style:{position:"absolute",left:"50px",right:0,top:0,bottom:40,borderLeft:"2px solid #E5E7EB",borderBottom:"2px solid #E5E7EB",display:"flex",alignItems:"flex-end",gap:"8px",padding:"10px"},children:f.map((M,W)=>{const q=M.velocity/w*100,I=W>=f.length-3,B=Math.max(q/100*240,24);return t.jsx("div",{style:{flex:1,height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-end"},children:t.jsx("div",{style:{width:"100%",height:`${B}px`,background:I?"#2563EB":"#93C5FD",borderRadius:"4px 4px 0 0",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"12px",fontWeight:"600"},children:M.velocity})},M.sprint)})}),t.jsx("div",{style:{position:"absolute",left:"50px",right:0,bottom:0,height:"40px",display:"flex",gap:"8px",padding:"0 10px"},children:f.map(M=>t.jsx("div",{style:{flex:1,fontSize:"11px",color:"#6B7280",textAlign:"center",paddingTop:"8px",lineHeight:"1.2"},children:M.sprint},M.sprint))})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"16px",padding:"12px",background:"#F3F4F6",borderRadius:"8px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("div",{style:{width:"20px",height:"3px",background:"#2563EB"}}),t.jsx("span",{style:{fontSize:"12px",color:"#6B7280"},children:"Recent Sprint"})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("div",{style:{width:"20px",height:"3px",background:"#93C5FD"}}),t.jsx("span",{style:{fontSize:"12px",color:"#6B7280"},children:"Previous Sprint"})]})]})]})]}),t.jsxs("div",{className:"card",children:[t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("h2",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"8px"},children:["Sprint ",h," Burndown"]}),t.jsx("p",{style:{fontSize:"13px",color:"#6B7280",marginBottom:"0"},children:"Track daily progress vs. ideal burndown rate"})]}),o&&c.length>1?t.jsxs("div",{style:{textAlign:"center",padding:"60px 20px",background:"#F9FAFB",borderRadius:"8px"},children:[t.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#6B7280",marginBottom:"8px"},children:"Multiple Iterations Selected"}),t.jsx("p",{style:{fontSize:"13px",color:"#9CA3AF"},children:"Burndown chart shows a single sprint. Please select one iteration to view its burndown chart."})]}):m.total===0?t.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#6B7280"},children:"No burndown data for current sprint"}):t.jsxs("div",{children:[t.jsxs("div",{style:{position:"relative",height:"300px",marginBottom:"20px"},children:[t.jsxs("div",{style:{position:"absolute",left:0,top:0,bottom:60,width:"40px",display:"flex",flexDirection:"column",justifyContent:"space-between",fontSize:"12px",color:"#6B7280",textAlign:"right",paddingRight:"8px"},children:[t.jsx("div",{children:m.total}),t.jsx("div",{children:Math.round(m.total*.75)}),t.jsx("div",{children:Math.round(m.total*.5)}),t.jsx("div",{children:Math.round(m.total*.25)}),t.jsx("div",{children:"0"})]}),t.jsx("div",{style:{position:"absolute",left:"50px",right:0,top:0,bottom:60,borderLeft:"2px solid #E5E7EB",borderBottom:"2px solid #E5E7EB"},children:t.jsx("svg",{width:"100%",height:"100%",style:{overflow:"visible"},children:(()=>{const M=new Date(m.sprintStart),W=new Date(m.sprintEnd),q=(W-M)/(1440*60*1e3),I=B=>`${(new Date(B)-M)/(1440*60*1e3)/q*100}%`,N=B=>`${100-B/m.total*100}%`;return t.jsxs(t.Fragment,{children:[m.ideal.length>0&&t.jsxs(t.Fragment,{children:[m.ideal.length>1&&m.ideal.slice(0,-1).map((B,z)=>{const F=m.ideal[z+1],_=I(B.date),j=N(B.remaining),G=I(F.date),P=N(F.remaining);return t.jsx("line",{x1:_,y1:j,x2:G,y2:P,stroke:"#9CA3AF",strokeWidth:"2",strokeDasharray:"4,3",strokeLinecap:"round"},`ideal-line-${z}`)}),m.ideal.map((B,z)=>{const F=I(B.date),_=N(B.remaining);return t.jsx("g",{children:t.jsx("circle",{cx:F,cy:_,r:"3",fill:"white",stroke:"#9CA3AF",strokeWidth:"1.5",style:{pointerEvents:"none"}})},`ideal-${z}`)})]}),m.actual.length>0&&t.jsxs(t.Fragment,{children:[m.actual.length>1&&m.actual.slice(0,-1).map((B,z)=>{const F=m.actual[z+1],_=I(B.date),j=N(B.remaining),G=I(F.date),P=N(F.remaining);return t.jsx("line",{x1:_,y1:j,x2:G,y2:P,stroke:"#DC2626",strokeWidth:"2.5",strokeLinecap:"round"},`actual-line-${z}`)}),m.actual.map((B,z)=>{const F=I(B.date),_=N(B.remaining),j=new Date(B.date),G=j.toLocaleDateString("en-US",{weekday:"long"}),P=m.ideal.find(H=>H.date===B.date),ee=P?B.remaining-P.remaining:0,re=((m.total-B.remaining)/m.total*100).toFixed(0),A=((m.total-(P?P.remaining:0))/m.total*100).toFixed(0);let k="";ee>0?k=`Behind by ${ee} issue${ee>1?"s":""}`:ee<0?k=`Ahead by ${Math.abs(ee)} issue${Math.abs(ee)>1?"s":""}`:k="On track";const L=[`${G}, ${j.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})}`,"",`Remaining: ${B.remaining} of ${m.total} issues (${re}% complete)`,`Ideal: ${P?P.remaining:0} remaining (${A}% complete)`,"",`Status: ${k}`].join(`
`);return t.jsxs("g",{children:[t.jsx("title",{children:L}),t.jsx("circle",{cx:F,cy:_,r:"8",fill:"transparent",style:{cursor:"pointer",pointerEvents:"all"}}),t.jsx("circle",{cx:F,cy:_,r:"4",fill:"#DC2626",stroke:"white",strokeWidth:"1",style:{cursor:"pointer",transition:"all 0.2s",pointerEvents:"all"},onMouseEnter:H=>{H.target.setAttribute("r","5"),H.target.setAttribute("stroke-width","1.5")},onMouseLeave:H=>{H.target.setAttribute("r","4"),H.target.setAttribute("stroke-width","1")},children:t.jsx("title",{children:L})})]},`actual-${z}`)})]}),(()=>{const B=[],z=Math.ceil(q);for(let _=0;_<=z;_+=7)if(_>0&&_<z){const j=`${_/q*100}%`;B.push(t.jsx("line",{x1:j,y1:"0%",x2:j,y2:"100%",stroke:"#E5E7EB",strokeWidth:"0.3",strokeDasharray:"1,1",opacity:"0.5",vectorEffect:"non-scaling-stroke"},`week-${_}`))}const F=new Date;if(F.setHours(0,0,0,0),F>=M&&F<=W){const j=`${(F-M)/864e5/q*100}%`;B.push(t.jsxs("g",{children:[t.jsx("line",{x1:j,y1:"-5%",x2:j,y2:"100%",stroke:"#EF4444",strokeWidth:"2",style:{cursor:"default"},children:t.jsx("title",{children:`Today: ${F.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}`})}),t.jsxs("text",{x:j,y:"-1%",textAnchor:"middle",fill:"#EF4444",fontSize:"12",fontWeight:"600",style:{cursor:"default"},children:[t.jsx("title",{children:`Today: ${F.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}`}),"TODAY"]})]},"today-marker"))}return B})()]})})()})}),t.jsx("div",{style:{position:"absolute",left:"50px",right:0,bottom:0,height:"60px"},children:t.jsx("div",{style:{position:"relative",paddingTop:"8px",borderTop:"1px solid #E5E7EB",height:"100%"},children:m.sprintStart&&m.sprintEnd&&(()=>{const M=new Date(m.sprintStart),W=new Date(m.sprintEnd),q=new Date;q.setHours(0,0,0,0);const I=(W-M)/(1440*60*1e3),N=Math.ceil(I),B=[];let z;N<=7?z=1:N<=14?z=2:N<=21?z=3:z=5,B.push(t.jsxs("div",{style:{position:"absolute",left:"0%",fontSize:"11px",color:"#1F2937",textAlign:"left",transform:"translateX(0)",fontWeight:"600"},children:[t.jsx("div",{children:M.toLocaleDateString("en-US",{month:"short",day:"numeric"})}),t.jsx("div",{style:{fontSize:"9px",color:"#9CA3AF",fontWeight:"400"},children:M.toLocaleDateString("en-US",{weekday:"short"})})]},"start"));for(let F=z;F<N;F+=z){const _=new Date(M.getTime()+F*24*60*60*1e3),j=F/I*100,G=q>=M&&q<=W,ee=(q-M)/(1440*60*1e3)/I*100;G&&Math.abs(j-ee)<5||B.push(t.jsxs("div",{style:{position:"absolute",left:`${j}%`,fontSize:"10px",color:"#6B7280",textAlign:"center",transform:"translateX(-50%)"},children:[t.jsx("div",{children:_.toLocaleDateString("en-US",{month:"short",day:"numeric"})}),t.jsx("div",{style:{fontSize:"8px",color:"#9CA3AF"},children:_.toLocaleDateString("en-US",{weekday:"short"})})]},`day-${F}`))}if(q>=M&&q<=W){const _=(q-M)/864e5/I*100;B.push(t.jsxs("div",{style:{position:"absolute",left:`${_}%`,fontSize:"11px",color:"#EF4444",fontWeight:"700",textAlign:"center",transform:"translateX(-50%)",zIndex:10},children:[t.jsx("div",{children:"Today"}),t.jsx("div",{style:{fontSize:"9px",fontWeight:"600"},children:q.toLocaleDateString("en-US",{weekday:"short"})})]},"today"))}return B.push(t.jsxs("div",{style:{position:"absolute",right:"0%",fontSize:"11px",color:"#1F2937",textAlign:"right",transform:"translateX(0)",fontWeight:"600"},children:[t.jsx("div",{children:W.toLocaleDateString("en-US",{month:"short",day:"numeric"})}),t.jsx("div",{style:{fontSize:"9px",color:"#9CA3AF",fontWeight:"400"},children:W.toLocaleDateString("en-US",{weekday:"short"})})]},"end")),B})()})})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"16px",padding:"12px",background:"#F3F4F6",borderRadius:"8px",marginBottom:"16px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("div",{style:{width:"20px",height:"3px",background:"#DC2626"}}),t.jsx("span",{style:{fontSize:"12px",color:"#6B7280"},children:"Actual Progress"})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("div",{style:{width:"20px",height:"3px",background:"#D1D5DB",borderTop:"2px dashed #D1D5DB"}}),t.jsx("span",{style:{fontSize:"12px",color:"#6B7280"},children:"Ideal Burndown"})]})]}),m.actual.length>0&&(()=>{const M=m.actual[m.actual.length-1],W=m.ideal[m.actual.length-1]||m.ideal[m.ideal.length-1],q=M.remaining,I=W?W.remaining:0,N=q-I,B=(m.total-q)/m.total*100,z=(m.total-I)/m.total*100;return t.jsxs("div",{style:{padding:"16px 20px",background:N>0?"#FEF2F2":N<0?"#ECFDF5":"#F9FAFB",borderRadius:"8px",border:`2px solid ${N>0?"#FEE2E2":N<0?"#D1FAE5":"#E5E7EB"}`,textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"12px",fontWeight:"600",color:"#6B7280",textTransform:"uppercase",marginBottom:"8px"},children:"Current Sprint Status"}),t.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"baseline",gap:"8px",marginBottom:"8px"},children:[t.jsx("span",{style:{fontSize:"32px",fontWeight:"700",color:"#1F2937"},children:q}),t.jsxs("span",{style:{fontSize:"16px",color:"#6B7280"},children:["/ ",m.total," issues remaining"]})]}),t.jsxs("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:[B.toFixed(0),"% complete  Ideal: ",z.toFixed(0),"%"]}),N!==0&&t.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:N>0?"#DC2626":"#059669"},children:N>0?`${N} issue${N!==1?"s":""} behind schedule`:`${Math.abs(N)} issue${Math.abs(N)!==1?"s":""} ahead of schedule`}),N===0&&t.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#059669"},children:"On track"})]})})()]})]})]}),t.jsxs("div",{className:"card",children:[t.jsx("h2",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"20px"},children:"Sprint History"}),t.jsx("div",{style:{overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{borderBottom:"2px solid #E5E7EB"},children:[t.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6B7280"},children:"Sprint"}),t.jsx("th",{style:{padding:"12px",textAlign:"center",fontSize:"12px",fontWeight:"600",color:"#6B7280"},children:"Total Issues"}),t.jsx("th",{style:{padding:"12px",textAlign:"center",fontSize:"12px",fontWeight:"600",color:"#6B7280"},children:"Completed"}),t.jsx("th",{style:{padding:"12px",textAlign:"center",fontSize:"12px",fontWeight:"600",color:"#6B7280"},children:"Open"}),t.jsx("th",{style:{padding:"12px",textAlign:"center",fontSize:"12px",fontWeight:"600",color:"#6B7280"},children:"Velocity"}),t.jsx("th",{style:{padding:"12px",textAlign:"center",fontSize:"12px",fontWeight:"600",color:"#6B7280"},children:"Completion Rate"})]})}),t.jsx("tbody",{children:[...f].reverse().map(M=>t.jsxs("tr",{style:{borderBottom:"1px solid #E5E7EB"},children:[t.jsxs("td",{style:{padding:"12px",fontWeight:"600"},children:["Sprint ",M.sprint]}),t.jsx("td",{style:{padding:"12px",textAlign:"center"},children:M.totalIssues}),t.jsx("td",{style:{padding:"12px",textAlign:"center",color:"#059669"},children:M.completedIssues}),t.jsx("td",{style:{padding:"12px",textAlign:"center",color:"#DC2626"},children:M.openIssues}),t.jsx("td",{style:{padding:"12px",textAlign:"center",fontWeight:"600",color:"#2563EB"},children:M.velocity}),t.jsx("td",{style:{padding:"12px",textAlign:"center"},children:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",justifyContent:"center"},children:[t.jsx("div",{style:{flex:1,maxWidth:"100px",height:"8px",background:"#E5E7EB",borderRadius:"4px",overflow:"hidden"},children:t.jsx("div",{style:{width:`${M.completionRate}%`,height:"100%",background:M.completionRate>=80?"#059669":M.completionRate>=50?"#D97706":"#DC2626"}})}),t.jsxs("span",{style:{fontSize:"14px",fontWeight:"600",minWidth:"40px"},children:[M.completionRate,"%"]})]})})]},M.sprint))})]})})]})]})}const wh="gitlab_team_config",zh="gitlab_sprint_capacity",Ah="gitlab_capacity_settings";function vs(l){const r=xs();return!r||r==="cross-project"?l:`${l}_${r}`}const yi=["Data Engineer","Business Analyst","Scrum Master","SRE","Product Owner","Initiative Manager","Developer","QA Engineer","DevOps Engineer","Custom"],kh={technical:["Developer","Data Engineer","SRE","DevOps Engineer","QA Engineer"],analysis:["Business Analyst","Product Owner","Initiative Manager"],management:["Scrum Master"]};function E0(l,r){if(l===r)return!0;if(l==="Custom"||r==="Custom")return!1;for(const c of Object.values(kh))if(c.includes(l)&&c.includes(r))return!0;return!1}function dh(l){if(l==="Custom")return[];for(const r of Object.values(kh))if(r.includes(l))return r.filter(c=>c!==l);return[]}function B0(l){const r=l.filter(f=>f.state==="closed"&&f.weight>0&&f.time_stats?.total_time_spent>0);if(r.length===0)return{hoursPerStoryPoint:8,sampleSize:0,totalHours:0,totalPoints:0,confidence:"low"};const c=r.reduce((f,x)=>f+x.time_stats.total_time_spent/3600,0),o=r.reduce((f,x)=>f+x.weight,0),a=c/o;let u="low";return r.length>=50?u="high":r.length>=20&&(u="medium"),{hoursPerStoryPoint:Math.round(a*100)/100,sampleSize:r.length,totalHours:Math.round(c*10)/10,totalPoints:o,confidence:u}}function bi(l,r,c={}){return c[l.id]?c[l.id]:l.weight&&l.weight>0?l.weight*r.hoursPerStoryPoint:r.defaultHoursPerIssue||4}function Ct(){try{const l=vs(wh),r=localStorage.getItem(l);if(r){const c=JSON.parse(r);return console.log(`Loaded team config from ${l}:`,c),console.log(`  Team members: ${c.teamMembers?.length||0}`),c.teamMembers?.forEach(o=>{console.log(`    - ${o.username} (${o.role}): ${o.defaultCapacity}h/week`)}),c}console.log(`No saved team config found for key: ${l}`)}catch(l){console.error("Error loading team config:",l)}return{teamMembers:[],lastUpdated:null}}function Gc(l){try{const r=vs(wh),c={...l,lastUpdated:new Date().toISOString()};return localStorage.setItem(r,JSON.stringify(c)),!0}catch(r){return console.error("Error saving team config:",r),!1}}function uh(l){const r=Ct(),c=r.teamMembers.findIndex(a=>a.username===l.username);c>=0?(console.log(`Updating existing team member ${l.username}:`,l),r.teamMembers[c]=l):(console.log(`Adding new team member ${l.username}:`,l),r.teamMembers.push(l));const o=Gc(r);return console.log(`Team member ${l.username} saved successfully:`,o),console.log("Updated team config:",r),o}function C0(l){const r=Ct();return r.teamMembers=r.teamMembers.filter(c=>c.username!==l),Gc(r)}function gs(){try{const l=vs(zh),r=localStorage.getItem(l);if(r)return JSON.parse(r)}catch(l){console.error("Error loading sprint capacity:",l)}return{sprints:[]}}function Th(l){try{const r=vs(zh);return localStorage.setItem(r,JSON.stringify(l)),!0}catch(r){return console.error("Error saving sprint capacity:",r),!1}}function D0(l,r,c,o,a=""){const u=gs();let f=u.sprints.find(g=>g.sprintId===l);f||(f={sprintId:l,sprintName:r,memberCapacity:[]},u.sprints.push(f));let x=f.memberCapacity.find(g=>g.username===c);return x?(x.availableHours=o,x.reason=a):f.memberCapacity.push({username:c,availableHours:o,reason:a}),Th(u)}function Nc(l,r,c=40,o=null){const u=gs().sprints.find(f=>f.sprintId===l);if(u){const f=u.memberCapacity.find(x=>x.username===r);if(f)return f.availableHours}if(o&&o.startDate&&o.dueDate)try{const x=require("./absenceService.js").calculateSprintCapacityWithAbsences(r,o,c);if(x.hoursLost>0)return x.adjustedCapacity}catch(f){console.warn("Absence service not available:",f)}return c}function Ga(){try{const l=vs(Ah),r=localStorage.getItem(l);if(r)return JSON.parse(r)}catch(l){console.error("Error loading capacity settings:",l)}return{hoursPerStoryPoint:8,defaultHoursPerIssue:4,defaultWeeklyCapacity:40,lastCalculated:null,historicalData:null}}function Fh(l){try{const r=vs(Ah);return localStorage.setItem(r,JSON.stringify(l)),!0}catch(r){return console.error("Error saving capacity settings:",r),!1}}function w0(l){const r=B0(l),c=Ga();return c.hoursPerStoryPoint=r.hoursPerStoryPoint,c.lastCalculated=new Date().toISOString(),c.historicalData=r,Fh(c),c}function z0(l){const r=new Set;return l.forEach(c=>{c.assignees?.forEach(o=>{r.add(JSON.stringify({username:o.username,name:o.name,avatar:o.avatar_url}))})}),Array.from(r).map(c=>JSON.parse(c))}function A0({isOpen:l,onClose:r,issues:c}){const[o,a]=R.useState([]),[u,f]=R.useState({}),[x,g]=R.useState(null),[h,m]=R.useState(!1),[b,y]=R.useState(null),[S,w]=R.useState({username:"",name:"",role:yi[0],customRole:"",defaultCapacity:40,email:""}),[D,M]=R.useState("members");R.useEffect(()=>{if(l){const j=Ct();a(j.teamMembers||[]);const G=Ga();f(G),g(G.historicalData),m(!1),y(null)}},[l]);const W=()=>{m(!0),y(null),w({username:"",name:"",role:yi[0],customRole:"",defaultCapacity:40,email:""})},q=j=>{m(!0),y(j),w({username:j.username,name:j.name,role:j.role,customRole:j.customRole||"",defaultCapacity:j.defaultCapacity,email:j.email||""})},I=()=>{m(!1),y(null),w({username:"",name:"",role:yi[0],customRole:"",defaultCapacity:40,email:""})},N=()=>{const j=S.role==="Custom"?S.customRole:S.role;if(!S.username||!S.name||!j){alert("Username, name, and role are required");return}const G={username:S.username,name:S.name,role:j,customRole:S.role==="Custom"?S.customRole:"",defaultCapacity:S.defaultCapacity,email:S.email};uh(G);const P=Ct();a(P.teamMembers||[]),m(!1),y(null),w({username:"",name:"",role:yi[0],customRole:"",defaultCapacity:40,email:""})},B=j=>{if(confirm(`Remove ${j} from team?`)){C0(j);const G=Ct();a(G.teamMembers||[])}},z=()=>{const j=z0(c);if(j.length===0){alert("No assignees found in issues");return}j.forEach(P=>{if(!o.some(le=>le.username===P.username)){const le={username:P.username,name:P.name,role:"Developer",customRole:"",defaultCapacity:40,email:""};uh(le)}});const G=Ct();a(G.teamMembers||[]),alert(`Imported ${j.length} team members from issues`)},F=()=>{const j=w0(c);f(j),g(j.historicalData),alert(`Updated hours per story point to ${j.hoursPerStoryPoint} (based on ${j.historicalData.sampleSize} completed issues)`)},_=()=>{Fh(u),alert("Capacity settings saved")};return l?t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:t.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",width:"900px",maxHeight:"90vh",overflow:"auto",boxShadow:"0 4px 20px rgba(0,0,0,0.15)"},children:[t.jsxs("div",{style:{padding:"20px 24px",borderBottom:"1px solid #E5E7EB",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("h2",{style:{margin:0,fontSize:"20px",fontWeight:"600"},children:"Team Configuration"}),t.jsx("button",{onClick:r,style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#6B7280"},children:""})]}),t.jsxs("div",{style:{display:"flex",borderBottom:"1px solid #E5E7EB",padding:"0 24px"},children:[t.jsxs("button",{onClick:()=>M("members"),style:{padding:"12px 20px",background:"none",border:"none",borderBottom:D==="members"?"2px solid #2563EB":"2px solid transparent",color:D==="members"?"#2563EB":"#6B7280",fontWeight:D==="members"?"600":"400",cursor:"pointer"},children:["Team Members (",o.length,")"]}),t.jsx("button",{onClick:()=>M("settings"),style:{padding:"12px 20px",background:"none",border:"none",borderBottom:D==="settings"?"2px solid #2563EB":"2px solid transparent",color:D==="settings"?"#2563EB":"#6B7280",fontWeight:D==="settings"?"600":"400",cursor:"pointer"},children:"Capacity Settings"})]}),t.jsxs("div",{style:{padding:"24px"},children:[D==="members"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{marginBottom:"20px",display:"flex",gap:"10px"},children:[t.jsx("button",{onClick:W,style:{padding:"8px 16px",background:"#2563EB",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"+ Add Team Member"}),t.jsx("button",{onClick:z,style:{padding:"8px 16px",background:"#10B981",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Import from Issues"})]}),h&&t.jsxs("div",{style:{border:"2px solid #2563EB",borderRadius:"8px",padding:"16px",marginBottom:"20px",backgroundColor:"#EFF6FF"},children:[t.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"16px"},children:b?"Edit Team Member":"Add New Team Member"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",marginBottom:"4px"},children:"Username *"}),t.jsx("input",{type:"text",value:S.username,onChange:j=>w({...S,username:j.target.value}),disabled:b!==null,style:{width:"100%",padding:"8px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",marginBottom:"4px"},children:"Full Name *"}),t.jsx("input",{type:"text",value:S.name,onChange:j=>w({...S,name:j.target.value}),style:{width:"100%",padding:"8px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",marginBottom:"4px"},children:"Role *"}),t.jsx("select",{value:S.role,onChange:j=>w({...S,role:j.target.value}),style:{width:"100%",padding:"8px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px"},children:yi.map(j=>t.jsx("option",{value:j,children:j},j))})]}),S.role==="Custom"&&t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",marginBottom:"4px"},children:"Custom Role Name *"}),t.jsx("input",{type:"text",value:S.customRole,onChange:j=>w({...S,customRole:j.target.value}),style:{width:"100%",padding:"8px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",marginBottom:"4px"},children:"Default Weekly Capacity (hours)"}),t.jsx("input",{type:"number",value:S.defaultCapacity,onChange:j=>w({...S,defaultCapacity:parseFloat(j.target.value)}),min:"0",max:"80",step:"0.5",style:{width:"100%",padding:"8px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",marginBottom:"4px"},children:"Email"}),t.jsx("input",{type:"email",value:S.email,onChange:j=>w({...S,email:j.target.value}),style:{width:"100%",padding:"8px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px"}})]})]}),t.jsxs("div",{style:{marginTop:"12px",display:"flex",gap:"8px"},children:[t.jsx("button",{onClick:N,style:{padding:"8px 16px",background:"#2563EB",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px"},children:"Save Member"}),t.jsx("button",{onClick:I,style:{padding:"8px 16px",background:"#9CA3AF",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px"},children:"Cancel"})]})]}),o.length===0?t.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#6B7280",fontSize:"14px"},children:'No team members configured. Click "Add Team Member" or "Import from Issues" to get started.'}):t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{backgroundColor:"#F9FAFB",borderBottom:"1px solid #E5E7EB"},children:[t.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6B7280"},children:"Username"}),t.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6B7280"},children:"Name"}),t.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6B7280"},children:"Role"}),t.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6B7280"},children:"Weekly Capacity"}),t.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6B7280"},children:"Actions"})]})}),t.jsx("tbody",{children:o.map(j=>t.jsxs("tr",{style:{borderBottom:"1px solid #E5E7EB"},children:[t.jsx("td",{style:{padding:"12px",fontSize:"14px"},children:j.username}),t.jsx("td",{style:{padding:"12px",fontSize:"14px"},children:j.name}),t.jsx("td",{style:{padding:"12px",fontSize:"14px"},children:t.jsx("span",{style:{padding:"4px 8px",backgroundColor:"#EFF6FF",color:"#2563EB",borderRadius:"4px",fontSize:"12px",fontWeight:"500"},children:j.role})}),t.jsxs("td",{style:{padding:"12px",fontSize:"14px"},children:[j.defaultCapacity,"h"]}),t.jsxs("td",{style:{padding:"12px",fontSize:"14px"},children:[t.jsx("button",{onClick:()=>q(j),style:{marginRight:"8px",padding:"4px 8px",background:"#3B82F6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Edit"}),t.jsx("button",{onClick:()=>B(j.username),style:{padding:"4px 8px",background:"#EF4444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Delete"})]})]},j.username))})]})]}),D==="settings"&&t.jsxs("div",{children:[x&&t.jsxs("div",{style:{padding:"16px",backgroundColor:"#F0F9FF",borderRadius:"8px",marginBottom:"20px",border:"1px solid #BAE6FD"},children:[t.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"16px",color:"#0369A1"},children:"Historical Velocity Data"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"12px",fontSize:"14px"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{color:"#6B7280",fontSize:"12px"},children:"Sample Size"}),t.jsxs("div",{style:{fontWeight:"600",fontSize:"18px",color:"#0369A1"},children:[x.sampleSize," issues"]})]}),t.jsxs("div",{children:[t.jsx("div",{style:{color:"#6B7280",fontSize:"12px"},children:"Total Hours"}),t.jsxs("div",{style:{fontWeight:"600",fontSize:"18px",color:"#0369A1"},children:[x.totalHours,"h"]})]}),t.jsxs("div",{children:[t.jsx("div",{style:{color:"#6B7280",fontSize:"12px"},children:"Total Story Points"}),t.jsx("div",{style:{fontWeight:"600",fontSize:"18px",color:"#0369A1"},children:x.totalPoints})]}),t.jsxs("div",{children:[t.jsx("div",{style:{color:"#6B7280",fontSize:"12px"},children:"Confidence"}),t.jsx("div",{style:{fontWeight:"600",fontSize:"18px",color:x.confidence==="high"?"#059669":x.confidence==="medium"?"#D97706":"#DC2626"},children:x.confidence.toUpperCase()})]})]})]}),t.jsxs("div",{style:{display:"grid",gap:"16px"},children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",marginBottom:"6px"},children:"Hours per Story Point"}),t.jsx("input",{type:"number",value:u.hoursPerStoryPoint||8,onChange:j=>f({...u,hoursPerStoryPoint:parseFloat(j.target.value)}),min:"0.5",max:"40",step:"0.1",style:{width:"100%",padding:"10px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px"}}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:"Used to convert story points to estimated hours for capacity planning"})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",marginBottom:"6px"},children:"Default Hours per Issue (without weight)"}),t.jsx("input",{type:"number",value:u.defaultHoursPerIssue||4,onChange:j=>f({...u,defaultHoursPerIssue:parseFloat(j.target.value)}),min:"0.5",max:"40",step:"0.5",style:{width:"100%",padding:"10px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px"}}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:"Used for issues that don't have story points assigned"})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",marginBottom:"6px"},children:"Default Weekly Capacity"}),t.jsx("input",{type:"number",value:u.defaultWeeklyCapacity||40,onChange:j=>f({...u,defaultWeeklyCapacity:parseFloat(j.target.value)}),min:"1",max:"80",step:"0.5",style:{width:"100%",padding:"10px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px"}}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:"Default hours per week for new team members"})]})]}),t.jsxs("div",{style:{marginTop:"24px",display:"flex",gap:"10px"},children:[t.jsx("button",{onClick:F,style:{padding:"10px 16px",background:"#10B981",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Recalculate from History"}),t.jsx("button",{onClick:_,style:{padding:"10px 16px",background:"#2563EB",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Save Settings"})]}),u.lastCalculated&&t.jsxs("div",{style:{marginTop:"12px",fontSize:"12px",color:"#6B7280"},children:["Last calculated: ",new Date(u.lastCalculated).toLocaleString()]})]})]})]})}):null}function k0({isOpen:l,onClose:r,issues:c}){const[o,a]=R.useState([]),[u,f]=R.useState(null),[x,g]=R.useState({}),[h,m]=R.useState({}),b=R.useMemo(()=>Sl(c).map(B=>{const z=c.find(F=>Ei(F.iteration)===B);return{name:B,id:z?.iteration?.id||B,startDate:z?.iteration?.start_date,dueDate:z?.iteration?.due_date}}).sort((B,z)=>B.startDate?z.startDate?new Date(z.startDate)-new Date(B.startDate):-1:1),[c]);R.useEffect(()=>{if(l){const N=Ct();a(N.teamMembers||[]),b.length>0&&!u&&f(b[0])}},[l,b,u]),R.useEffect(()=>{if(u){const N={};o.forEach(F=>{const _=Nc(u.id,F.username,F.defaultCapacity);N[F.username]={hours:_,reason:""}}),g(N);const z=gs().sprints.find(F=>F.sprintId===u.id);z&&z.memberCapacity.forEach(F=>{N[F.username]&&(N[F.username].reason=F.reason||"")}),g(N)}},[u,o]);const y=N=>{const B=b.find(z=>z.name===N);f(B),m({})},S=N=>{m({...h,[N]:!0})},w=N=>{const B=x[N];D0(u.id,u.name,N,B.hours,B.reason),m({...h,[N]:!1})},D=(N,B)=>{const z=Nc(u.id,N,B.defaultCapacity);g({...x,[N]:{...x[N],hours:z}}),m({...h,[N]:!1})},M=(N,B,z)=>{g({...x,[N]:{hours:parseFloat(B),reason:z}})},W=R.useMemo(()=>Object.values(x).reduce((N,B)=>N+B.hours,0),[x]),q=R.useMemo(()=>o.reduce((N,B)=>N+B.defaultCapacity,0),[o]),I=W-q;return l?t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:t.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",width:"900px",maxHeight:"90vh",overflow:"auto",boxShadow:"0 4px 20px rgba(0,0,0,0.15)"},children:[t.jsxs("div",{style:{padding:"20px 24px",borderBottom:"1px solid #E5E7EB",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("h2",{style:{margin:0,fontSize:"20px",fontWeight:"600"},children:"Sprint Capacity Planning"}),t.jsx("button",{onClick:r,style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#6B7280"},children:""})]}),t.jsx("div",{style:{padding:"24px"},children:o.length===0?t.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#6B7280",fontSize:"14px"},children:"No team members configured. Please configure your team first in Team Configuration."}):b.length===0?t.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#6B7280",fontSize:"14px"},children:"No sprints found. Make sure your issues have iterations assigned."}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",marginBottom:"6px"},children:"Select Sprint"}),t.jsx("select",{value:u?.name||"",onChange:N=>y(N.target.value),style:{width:"100%",padding:"10px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px"},children:b.map(N=>t.jsxs("option",{value:N.name,children:[N.name," ",N.startDate&&`(${new Date(N.startDate).toLocaleDateString()})`]},N.id))})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px",marginBottom:"20px",padding:"16px",backgroundColor:"#F9FAFB",borderRadius:"8px"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280"},children:"Default Capacity"}),t.jsxs("div",{style:{fontSize:"24px",fontWeight:"600",color:"#374151"},children:[q,"h"]})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280"},children:"Adjusted Capacity"}),t.jsxs("div",{style:{fontSize:"24px",fontWeight:"600",color:"#2563EB"},children:[W,"h"]})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280"},children:"Difference"}),t.jsxs("div",{style:{fontSize:"24px",fontWeight:"600",color:I<0?"#DC2626":I>0?"#059669":"#6B7280"},children:[I>0?"+":"",I,"h"]})]})]}),t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{backgroundColor:"#F9FAFB",borderBottom:"1px solid #E5E7EB"},children:[t.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6B7280"},children:"Team Member"}),t.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6B7280"},children:"Role"}),t.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6B7280"},children:"Default"}),t.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6B7280"},children:"Sprint Capacity"}),t.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6B7280"},children:"Reason"}),t.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6B7280"},children:"Actions"})]})}),t.jsx("tbody",{children:o.map(N=>{const B=x[N.username]||{hours:N.defaultCapacity,reason:""},z=h[N.username],F=B.hours!==N.defaultCapacity;return t.jsxs("tr",{style:{borderBottom:"1px solid #E5E7EB"},children:[t.jsxs("td",{style:{padding:"12px",fontSize:"14px"},children:[t.jsx("div",{style:{fontWeight:"500"},children:N.name}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280"},children:N.username})]}),t.jsx("td",{style:{padding:"12px",fontSize:"14px"},children:t.jsx("span",{style:{padding:"4px 8px",backgroundColor:"#EFF6FF",color:"#2563EB",borderRadius:"4px",fontSize:"12px",fontWeight:"500"},children:N.role})}),t.jsxs("td",{style:{padding:"12px",fontSize:"14px",color:"#6B7280"},children:[N.defaultCapacity,"h"]}),t.jsx("td",{style:{padding:"12px",fontSize:"14px"},children:z?t.jsx("input",{type:"number",value:B.hours,onChange:_=>M(N.username,_.target.value,B.reason),min:"0",max:N.defaultCapacity*2,step:"0.5",style:{width:"80px",padding:"6px",border:"1px solid #D1D5DB",borderRadius:"4px",fontSize:"14px"}}):t.jsxs("span",{style:{fontWeight:"600",color:F?B.hours<N.defaultCapacity?"#DC2626":"#059669":"#374151"},children:[B.hours,"h"]})}),t.jsx("td",{style:{padding:"12px",fontSize:"14px"},children:z?t.jsx("input",{type:"text",value:B.reason,onChange:_=>M(N.username,B.hours,_.target.value),placeholder:"Holiday, PTO, training...",style:{width:"100%",padding:"6px",border:"1px solid #D1D5DB",borderRadius:"4px",fontSize:"14px"}}):t.jsx("span",{style:{fontSize:"13px",color:"#6B7280",fontStyle:B.reason?"normal":"italic"},children:B.reason||"Standard capacity"})}),t.jsx("td",{style:{padding:"12px",fontSize:"14px"},children:z?t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>w(N.username),style:{marginRight:"4px",padding:"4px 8px",background:"#10B981",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Save"}),t.jsx("button",{onClick:()=>D(N.username,N),style:{padding:"4px 8px",background:"#9CA3AF",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Cancel"})]}):t.jsx("button",{onClick:()=>S(N.username),style:{padding:"4px 8px",background:"#3B82F6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Edit"})})]},N.username)})})]}),t.jsxs("div",{style:{marginTop:"20px",padding:"12px",backgroundColor:"#FEF3C7",border:"1px solid #FCD34D",borderRadius:"6px",fontSize:"13px",color:"#92400E"},children:[t.jsx("strong",{children:"Tip:"})," Adjust capacity for team members who will be on holiday, PTO, training, or have other commitments during this sprint. The system will use these values for capacity planning calculations."]})]})})]})}):null}const fs={DISCOVERY:{name:"Discovery",order:1,description:"Stakeholder conversations, requirement gathering",primaryRoles:["Product Owner","Business Analyst","Initiative Manager"],supportingRoles:["Scrum Master"],indicators:["requirement","stakeholder","analysis","research","discovery","explore","investigate"]},ANALYSIS:{name:"Analysis",order:2,description:"Technical analysis, data assessment, solution design",primaryRoles:["Business Analyst","Data Engineer","Developer"],supportingRoles:["Product Owner","Initiative Manager"],indicators:["analyze","design","architect","assess","evaluate","data analysis","technical design"]},PLANNING:{name:"Planning",order:3,description:"Sprint planning, task breakdown, estimation",primaryRoles:["Scrum Master","Product Owner","Developer"],supportingRoles:["Business Analyst","Initiative Manager"],indicators:["plan","estimate","breakdown","story point","sprint planning"]},IMPLEMENTATION:{name:"Implementation",order:4,description:"Development, coding, building features",primaryRoles:["Developer","Data Engineer","DevOps Engineer"],supportingRoles:["SRE","QA Engineer"],indicators:["implement","develop","code","build","create","feature","fix","refactor"]},TESTING:{name:"Testing",order:5,description:"Quality assurance, testing, validation",primaryRoles:["QA Engineer","Developer"],supportingRoles:["Business Analyst","Product Owner"],indicators:["test","qa","validate","verify","quality","bug","defect"]},DEPLOYMENT:{name:"Deployment",order:6,description:"Release, deployment, monitoring",primaryRoles:["DevOps Engineer","SRE"],supportingRoles:["Developer","QA Engineer"],indicators:["deploy","release","rollout","production","monitoring","ci/cd"]}},hs={Developer:{primary:["IMPLEMENTATION","TESTING"],secondary:["ANALYSIS","PLANNING"],cannotDo:["DISCOVERY"]},"Data Engineer":{primary:["IMPLEMENTATION","ANALYSIS"],secondary:["TESTING","DEPLOYMENT"],cannotDo:["DISCOVERY"]},"Business Analyst":{primary:["DISCOVERY","ANALYSIS"],secondary:["PLANNING","TESTING"],cannotDo:["IMPLEMENTATION","DEPLOYMENT"]},"Product Owner":{primary:["DISCOVERY","PLANNING"],secondary:["ANALYSIS","TESTING"],cannotDo:["IMPLEMENTATION","DEPLOYMENT"]},"Initiative Manager":{primary:["DISCOVERY"],secondary:["ANALYSIS","PLANNING"],cannotDo:["IMPLEMENTATION","TESTING","DEPLOYMENT"]},"Scrum Master":{primary:["PLANNING"],secondary:["DISCOVERY"],cannotDo:["IMPLEMENTATION","ANALYSIS","TESTING","DEPLOYMENT"]},"QA Engineer":{primary:["TESTING"],secondary:["IMPLEMENTATION","DEPLOYMENT"],cannotDo:["DISCOVERY","ANALYSIS"]},"DevOps Engineer":{primary:["DEPLOYMENT","IMPLEMENTATION"],secondary:["TESTING"],cannotDo:["DISCOVERY","ANALYSIS"]},SRE:{primary:["DEPLOYMENT","IMPLEMENTATION"],secondary:["TESTING"],cannotDo:["DISCOVERY","ANALYSIS"]}};function T0(l){if(!l||l.length===0)return null;const r=l.filter(x=>x.state==="opened"),c=l.filter(x=>x.state==="closed"),o=l.length>0?c.length/l.length*100:0,a={};Object.entries(fs).forEach(([x,g])=>{a[x]=0,r.forEach(h=>{const m=(h.title||"").toLowerCase(),b=(h.description||"").toLowerCase(),y=(h.labels||[]).map(w=>w.toLowerCase()).join(" "),S=`${m} ${b} ${y}`;g.indicators.forEach(w=>{S.includes(w.toLowerCase())&&(a[x]+=1)})})});let u="IMPLEMENTATION",f=0;return Object.entries(a).forEach(([x,g])=>{g>f&&(f=g,u=x)}),o>80?u="TESTING":o>90?u="DEPLOYMENT":o<10&&r.length>0&&r.filter(g=>{const h=(g.labels||[]).map(m=>m.toLowerCase()).join(" ");return h.includes("analysis")||h.includes("discovery")||h.includes("requirement")}).length>r.length*.5&&(u="ANALYSIS"),{current:u,details:fs[u],scores:a,completionPercentage:Math.round(o)}}function ph(l,r,c){const o=hs[r];if(!o)return[];const a=[];return l.forEach(u=>{if(u.state!=="opened"||u.assignees?.length>0)return;const f=(u.title||"").toLowerCase(),x=(u.description||"").toLowerCase(),g=(u.labels||[]).map(b=>b.toLowerCase()).join(" "),h=`${f} ${x} ${g}`;[...o.primary||[],...o.secondary||[]].forEach(b=>{const y=fs[b];if(!y)return;let S=0;y.indicators.forEach(w=>{h.includes(w.toLowerCase())&&(S+=1)}),S>0&&a.push({issue:u,phase:b,matchScore:S,isPrimary:o.primary.includes(b),reason:`Suitable for ${y.name} work`})})}),a.sort((u,f)=>u.isPrimary!==f.isPrimary?u.isPrimary?-1:1:f.matchScore-u.matchScore),a.slice(0,5)}function F0(l,r,c,o){const a=[],u=l.role||"Developer",f=hs[u];if(!f)return a;const x=f.primary.includes(r.current),g=x||f.secondary.includes(r.current);if(!g&&l.capacity.utilization<50){const h=r.details.order+1,m=Object.values(fs).find(b=>b.order===h);m&&f.primary.includes(Object.keys(fs).find(b=>fs[b]===m))&&a.push({type:"PREPARE_NEXT_PHASE",priority:"high",title:`Start ${m.name} for next sprint`,description:`As a ${u}, you can prepare for the upcoming ${m.name} phase while the team completes ${r.details.name}`,impact:"Accelerate next sprint startup",suggestedWork:ph(c,u).slice(0,3)})}if(g&&l.capacity.utilization<60){const h=ph(c,u);h.length>0&&a.push({type:"BACKLOG_PICKUP",priority:x?"high":"medium",title:"Pick up aligned backlog items",description:`You have ${100-l.capacity.utilization}% available capacity for additional ${r.details.name} work`,impact:`Increase sprint velocity by ~${Math.round((100-l.capacity.utilization)/20)} story points`,suggestedWork:h.slice(0,3)})}if(l.capacity.utilization<40&&!x){const h=o.filter(m=>m.capacity.utilization>80&&hs[m.role]?.primary.includes(r.current));h.length>0&&a.push({type:"CROSS_TRAINING",priority:"low",title:"Cross-training opportunity",description:`Shadow ${h[0].name} to learn ${r.details.name} skills`,impact:"Build team resilience and flexibility",suggestedWork:[]})}return l.capacity.utilization<50&&a.push({type:"KNOWLEDGE_SHARING",priority:"low",title:"Document and share knowledge",description:`Use available capacity to document ${u} best practices or create knowledge base articles`,impact:"Improve team knowledge and onboarding",suggestedWork:[]}),a}function R0(l,r){let c=0,o=0;return l.forEach(a=>{a.type==="BACKLOG_PICKUP"&&a.suggestedWork&&a.suggestedWork.forEach(u=>{const f=u.issue.weight||0;c+=f,o+=f*(r.hoursPerStoryPoint||8)})}),{storyPoints:c,hours:o,velocityIncrease:c>0?`+${Math.round(c*100/20)}%`:"0%"}}function M0(l,r,c){const o=r.current,a=r.details,u=l.filter(m=>hs[m.role]?.primary.includes(o)),f=l.filter(m=>hs[m.role]?.secondary.includes(o)),x=l.filter(m=>hs[m.role]?.cannotDo.includes(o)),g=l.length,h=g>0?Math.round((u.length*100+f.length*50)/g):0;return{phase:a.name,efficiencyScore:h,optimal:u.length,suboptimal:f.length,mismatched:x.length,recommendations:N0(h,u,f,x,a)}}function N0(l,r,c,o,a){const u=[];return l<50&&u.push({severity:"critical",title:"Phase-Role Mismatch",description:`Only ${r.length} team members are optimally suited for current ${a.name} phase`,action:"Consider phase-appropriate task distribution or timeline adjustment"}),o.length>0&&u.push({severity:"warning",title:"Underutilized Skills",description:`${o.length} team members cannot contribute effectively to ${a.name}`,action:"Assign preparatory work for upcoming phases or cross-training"}),c.length>r.length&&u.push({severity:"info",title:"Suboptimal Resource Allocation",description:`More team members in supporting roles than primary roles for ${a.name}`,action:"Consider skill development or team composition review"}),u}function I0({issues:l}){const{filteredIssues:r}=Bi(),[c,o]=R.useState(!1),[a,u]=R.useState(!1),[f,x]=R.useState({teamMembers:[]}),[g,h]=R.useState({hoursPerStoryPoint:8,defaultHoursPerIssue:4,defaultWeeklyCapacity:40}),[m,b]=R.useState(null);R.useEffect(()=>{const j=Ct(),G=Ga();x(j),h(G)},[c,a]);const y=R.useMemo(()=>Sl(r).map(G=>{const P=r.find(ee=>Ei(ee.iteration)===G);return{name:G,id:P?.iteration?.id||G,startDate:P?.iteration?.start_date,dueDate:P?.iteration?.due_date}}).sort((G,P)=>G.startDate?P.startDate?new Date(P.startDate)-new Date(G.startDate):-1:1),[r]);R.useEffect(()=>{y.length>0&&!m&&b(y[0])},[y,m]);const S=R.useMemo(()=>{if(!r||r.length===0)return{members:[],unassigned:0,totalIssues:0,teamMetrics:null};const j=new Map;let G=0;r.forEach(H=>{const K=H.assignees||[];if(K.length===0){G++;return}K.forEach(C=>{const U=C.username;if(!j.has(U)){const ie=f.teamMembers.find(de=>de.username===C.username);j.set(U,{username:C.username,name:C.name,avatar:C.avatar_url,role:ie?.role||"Unknown",defaultCapacity:ie?.defaultCapacity||g.defaultWeeklyCapacity,openIssues:0,closedIssues:0,totalIssues:0,totalWeight:0,issues:[]})}const ne=j.get(U);ne.totalIssues++,ne.issues.push(H),ne.totalWeight+=H.weight||0,H.state==="opened"?ne.openIssues++:ne.closedIssues++})});const P=Array.from(j.values()).map(H=>{const K=m?Nc(m.id,H.username,H.defaultCapacity,m):H.defaultCapacity,C=H.issues.filter(ce=>ce.state==="opened").reduce((ce,ye)=>ce+bi(ye,g),0),U=K>0?C/K*100:0,ne=Math.max(0,K-C),ie=K>0?Math.ceil(C/K):0;let de="Available",ue="#059669";return K===0?(de="Not Available",ue="#6B7280"):U>=100?(de="Overloaded",ue="#DC2626"):U>=80?(de="At Capacity",ue="#D97706"):U>=60&&(de="Busy",ue="#2563EB"),{...H,capacity:{weeklyCapacity:K,allocatedHours:Math.round(C*10)/10,availableHours:Math.round(ne*10)/10,utilization:Math.round(U),weeksToComplete:ie,status:de,statusColor:ue,isSprintAdjusted:K!==H.defaultCapacity}}}).sort((H,K)=>K.capacity.utilization-H.capacity.utilization),ee=P.reduce((H,K)=>H+K.capacity.weeklyCapacity,0),le=P.reduce((H,K)=>H+K.capacity.allocatedHours,0),re=ee-le,T=ee>0?le/ee*100:0,A=P.filter(H=>H.capacity.utilization>=100).length,k=P.filter(H=>H.capacity.utilization>=80&&H.capacity.utilization<100).length,L={totalCapacity:Math.round(ee),totalAllocated:Math.round(le*10)/10,totalAvailable:Math.round(re*10)/10,teamUtilization:Math.round(T),overloadedMembers:A,atCapacityMembers:k,avgUtilization:P.length>0?Math.round(P.reduce((H,K)=>H+K.capacity.utilization,0)/P.length):0};return{members:P,unassigned:G,totalIssues:r.length,teamMetrics:L}},[r,g,f,m]),{members:w,unassigned:D,teamMetrics:M}=S,W=j=>{const G=[],P=[];if(j.capacity.utilization>=100){const ee=j.capacity.allocatedHours-j.capacity.weeklyCapacity,le=new Map;j.issues.filter(A=>A.state==="opened").forEach(A=>{const k=A.epic?.id||"no-epic",L=A.epic?.title||"No Epic";le.has(k)||le.set(k,{title:L,count:0,weight:0});const H=le.get(k);H.count++,H.weight+=A.weight||0});const re=Array.from(le.values()).sort((A,k)=>k.count-A.count);re.length>2&&(G.push({severity:"critical",category:"multi-epic",description:`Assigned to ${re.length} different epics simultaneously`,impact:`Spread across: ${re.slice(0,3).map(A=>`${A.title} (${A.count} issues, ${A.weight} pts)`).join(", ")}`}),P.push({priority:"high",title:"Focus on fewer epics",description:`Reduce to 1-2 epics. Consider moving ${re[re.length-1].title} issues to another team member`,estimatedImpact:"Reduce context switching, improve focus"})),j.openIssues>8&&(G.push({severity:"critical",category:"wip",description:`Too many open issues (${j.openIssues}) - WIP limit exceeded`,impact:`${ee.toFixed(1)} hours over capacity`}),P.push({priority:"high",title:"Implement WIP limits",description:`Move ${Math.ceil(j.openIssues*.3)} issues to available team members`,estimatedImpact:`Free up ${(ee*.3).toFixed(1)} hours`}));const T=j.issues.filter(A=>A.state==="opened"&&(A.labels?.some(k=>k.toLowerCase().includes("blocked"))||A.labels?.some(k=>k.toLowerCase().includes("waiting"))));if(T.length>0){const A=T.reduce((k,L)=>k+bi(L,g),0);G.push({severity:"warning",category:"blockers",description:`${T.length} blocked or waiting issues`,impact:`${A.toFixed(1)} hours tied up in blocked work`}),P.push({priority:"medium",title:"Resolve blockers",description:`Escalate blocked issues: ${T.slice(0,2).map(k=>k.title).join(", ")}`,estimatedImpact:`Free up ${A.toFixed(1)} hours`})}}else j.capacity.utilization>=80?(G.push({severity:"warning",category:"at-capacity",description:`Operating at ${j.capacity.utilization}% capacity`,impact:`Only ${j.capacity.availableHours} hours available`}),P.push({priority:"medium",title:"Monitor workload closely",description:"Avoid assigning new work until current issues are completed",estimatedImpact:"Prevent overload"})):j.capacity.utilization<50&&(G.push({severity:"info",category:"underutilized",description:`Operating at only ${j.capacity.utilization}% capacity`,impact:`${j.capacity.availableHours} hours available`}),P.push({priority:"low",title:"Assign more work",description:"Can take on additional work",estimatedImpact:"Better team balance"}));return{causes:G,actions:P}},I=(()=>{if(!w||w.length<2)return[];const j=w.filter(ee=>ee.capacity.utilization>100),G=w.filter(ee=>ee.capacity.utilization<80&&ee.capacity.weeklyCapacity>0),P=[];return j.forEach(ee=>{if(G.length===0)return;const le=G.filter(re=>{const T=ee.role||"Developer",A=re.role||"Developer";return E0(T,A)});if(le.sort((re,T)=>re.capacity.utilization-T.capacity.utilization),le.length>0){const re=le[0],T=Math.ceil(ee.openIssues*.3),A=ee.capacity.allocatedHours*.3,k=ee.capacity.utilization,L=Math.round(k-30);P.push({from:ee.name,fromRole:ee.role||"Developer",to:re.name,toRole:re.role||"Developer",issues:T,hours:Math.round(A*10)/10,impact:`Would reduce ${ee.name}'s utilization from ${k}% to ~${L}%`,compatibilityReason:ee.role===re.role?"Same role":`Compatible roles (${dh(ee.role||"Developer").join(", ")})`})}else P.push({from:ee.name,fromRole:ee.role||"Developer",to:null,toRole:null,issues:0,hours:0,impact:`No available team members with compatible role (${ee.role||"Developer"})`,warning:!0,compatibilityReason:`Needs: ${dh(ee.role||"Developer").join(", ")||ee.role}`})}),P})(),N=R.useMemo(()=>{if(!m||!r||r.length===0)return null;const j=r.filter(G=>Ei(G.iteration)===m.name);return T0(j)},[r,m]),B=R.useMemo(()=>l?l.filter(j=>{const G=j.iteration&&(j.iteration.title||j.iteration.name||j.iteration.id),P=j.assignees&&j.assignees.length>0;return!G&&!P&&j.state==="opened"}):[],[l]),z=R.useMemo(()=>{if(!w||!N||!B)return[];const j=[];return w.forEach(G=>{if(G.capacity.utilization<60&&G.capacity.weeklyCapacity>0){const P=F0(G,N,B,w);P.length>0&&j.push({member:G.name,role:G.role,utilization:G.capacity.utilization,recommendations:P})}}),j},[w,N,B]),F=R.useMemo(()=>!w||!N||!r?null:M0(w,N),[w,N,r]),_=R.useMemo(()=>{if(!z||z.length===0)return null;const j=z.flatMap(G=>G.recommendations);return R0(j,g)},[z,g]);return t.jsxs("div",{className:"container-fluid",children:[t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("h2",{style:{fontSize:"24px",fontWeight:"600",marginBottom:"8px"},children:"Resource Capacity Planning"}),t.jsx("p",{style:{fontSize:"14px",color:"#6B7280"},children:"Advanced resource management with capacity allocation and forecasting"})]}),t.jsxs("div",{className:"card",style:{marginBottom:"30px",background:"#F0F9FF",borderColor:"#BFDBFE"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs("div",{children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"6px",color:"#1E40AF"},children:"Team Resource Management"}),t.jsx("div",{style:{fontSize:"13px",color:"#1E40AF"},children:"Configure your team, roles, and capacity settings to get accurate resource planning"})]}),t.jsxs("div",{style:{display:"flex",gap:"10px"},children:[t.jsx("button",{onClick:()=>o(!0),style:{padding:"10px 20px",background:"#2563EB",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Team Configuration"}),t.jsx("button",{onClick:()=>u(!0),style:{padding:"10px 20px",background:"#059669",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Sprint Capacity"})]})]}),g.historicalData&&t.jsxs("div",{style:{marginTop:"16px",padding:"12px",background:"white",borderRadius:"6px",fontSize:"13px",display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px"},children:[t.jsxs("div",{children:[t.jsx("span",{style:{color:"#6B7280"},children:"Hours per Story Point:"})," ",t.jsxs("strong",{style:{color:"#1E40AF"},children:[g.hoursPerStoryPoint,"h"]}),t.jsxs("span",{style:{fontSize:"11px",color:"#9CA3AF",marginLeft:"6px"},children:["(based on ",g.historicalData.sampleSize," issues)"]})]}),t.jsxs("div",{children:[t.jsx("span",{style:{color:"#6B7280"},children:"Default Hours per Issue:"})," ",t.jsxs("strong",{style:{color:"#1E40AF"},children:[g.defaultHoursPerIssue,"h"]})]}),t.jsxs("div",{children:[t.jsx("span",{style:{color:"#6B7280"},children:"Team Members:"})," ",t.jsx("strong",{style:{color:"#1E40AF"},children:f.teamMembers.length})]})]})]}),t.jsx(A0,{isOpen:c,onClose:()=>o(!1),issues:r}),t.jsx(k0,{isOpen:a,onClose:()=>u(!1),issues:r}),M&&t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:"30px"},children:[t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Team Utilization"}),t.jsxs("div",{style:{fontSize:"32px",fontWeight:"600",color:M.teamUtilization>=90?"#DC2626":M.teamUtilization>=70?"#D97706":"#059669"},children:[M.teamUtilization,"%"]}),t.jsxs("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:["Avg: ",M.avgUtilization,"%"]})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Total Capacity"}),t.jsxs("div",{style:{fontSize:"32px",fontWeight:"600",color:"#1F2937"},children:[M.totalCapacity,"h"]}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:"per week"})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Allocated"}),t.jsxs("div",{style:{fontSize:"32px",fontWeight:"600",color:"#DC2626"},children:[M.totalAllocated,"h"]}),t.jsxs("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:[M.totalAvailable,"h available"]})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Capacity Issues"}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"600",color:M.overloadedMembers>0?"#DC2626":"#059669"},children:M.overloadedMembers}),t.jsxs("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:[M.atCapacityMembers," at capacity"]})]})]}),I.length>0&&t.jsxs("div",{className:"card",style:{marginBottom:"30px",background:"#FEF3C7",borderColor:"#D97706"},children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#92400E",marginBottom:"8px"},children:" Workload Rebalancing Recommendations"}),t.jsx("p",{style:{fontSize:"13px",color:"#92400E",marginBottom:"16px"},children:"Suggestions respect role compatibility - only team members with compatible skills are considered"}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:I.map((j,G)=>t.jsx("div",{style:{padding:"12px",background:j.warning?"#FEE2E2":"white",borderRadius:"6px",fontSize:"14px",borderLeft:j.warning?"4px solid #DC2626":"4px solid #059669"},children:j.warning?t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{fontWeight:"600",color:"#991B1B",marginBottom:"4px",display:"flex",alignItems:"center",gap:"6px"},children:[t.jsx("span",{children:""}),t.jsxs("span",{children:[j.from," (",j.fromRole,")"]})]}),t.jsx("div",{style:{fontSize:"12px",color:"#991B1B",marginBottom:"4px"},children:j.impact}),t.jsx("div",{style:{fontSize:"11px",color:"#7F1D1D",fontStyle:"italic"},children:j.compatibilityReason})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{fontWeight:"600",color:"#78350F",marginBottom:"4px"},children:["Move ",j.issues," issue",j.issues>1?"s":""," (~",j.hours,"h) from ",j.from,"  ",j.to]}),t.jsx("div",{style:{fontSize:"12px",color:"#92400E",marginBottom:"4px"},children:j.impact}),t.jsxs("div",{style:{fontSize:"11px",color:"#78350F",display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("span",{style:{padding:"2px 6px",background:"#FDE68A",borderRadius:"4px",fontWeight:"500"},children:j.fromRole}),t.jsx("span",{children:""}),t.jsx("span",{style:{padding:"2px 6px",background:"#FDE68A",borderRadius:"4px",fontWeight:"500"},children:j.toRole}),t.jsxs("span",{style:{marginLeft:"8px",fontStyle:"italic"},children:["(",j.compatibilityReason,")"]})]})]})},G))})]}),N&&F&&t.jsxs("div",{className:"card",style:{marginBottom:"30px",background:"#F0F9FF",borderColor:"#2563EB"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[t.jsxs("div",{children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#1E40AF",marginBottom:"8px"},children:" Sprint Workflow Intelligence"}),t.jsxs("p",{style:{fontSize:"13px",color:"#3B82F6",marginBottom:"0"},children:["Current Phase: ",t.jsx("strong",{children:N.details.name})," (",N.completionPercentage,"% complete)"]})]}),t.jsxs("div",{style:{padding:"8px 16px",background:F.efficiencyScore>=70?"#10B981":F.efficiencyScore>=50?"#F59E0B":"#EF4444",color:"white",borderRadius:"20px",fontSize:"14px",fontWeight:"600"},children:["Efficiency: ",F.efficiencyScore,"%"]})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"12px",marginBottom:"16px"},children:[t.jsxs("div",{style:{padding:"12px",background:"white",borderRadius:"6px"},children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:"Optimal for phase"}),t.jsx("div",{style:{fontSize:"20px",fontWeight:"600",color:"#059669"},children:F.optimal}),t.jsx("div",{style:{fontSize:"11px",color:"#6B7280"},children:"team members"})]}),t.jsxs("div",{style:{padding:"12px",background:"white",borderRadius:"6px"},children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:"Can contribute"}),t.jsx("div",{style:{fontSize:"20px",fontWeight:"600",color:"#D97706"},children:F.suboptimal}),t.jsx("div",{style:{fontSize:"11px",color:"#6B7280"},children:"in supporting role"})]}),t.jsxs("div",{style:{padding:"12px",background:"white",borderRadius:"6px"},children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:"Mismatched"}),t.jsx("div",{style:{fontSize:"20px",fontWeight:"600",color:"#DC2626"},children:F.mismatched}),t.jsx("div",{style:{fontSize:"11px",color:"#6B7280"},children:"for current phase"})]})]}),F.recommendations&&F.recommendations.length>0&&t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:F.recommendations.map((j,G)=>t.jsxs("div",{style:{padding:"8px 12px",background:j.severity==="critical"?"#FEE2E2":j.severity==="warning"?"#FEF3C7":"#E0E7FF",borderRadius:"4px",fontSize:"12px",borderLeft:`3px solid ${j.severity==="critical"?"#DC2626":j.severity==="warning"?"#D97706":"#2563EB"}`},children:[t.jsx("div",{style:{fontWeight:"600",marginBottom:"2px"},children:j.title}),t.jsx("div",{style:{marginBottom:"2px"},children:j.description}),t.jsxs("div",{style:{fontStyle:"italic",fontSize:"11px"},children:[" ",j.action]})]},G))})]}),z.length>0&&_&&t.jsxs("div",{className:"card",style:{marginBottom:"30px",background:"#F0FDF4",borderColor:"#10B981"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[t.jsxs("div",{children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#14532D",marginBottom:"8px"},children:" Velocity Optimization Opportunities"}),t.jsx("p",{style:{fontSize:"13px",color:"#166534"},children:"Proactive recommendations for underutilized team members"})]}),_.storyPoints>0&&t.jsxs("div",{style:{padding:"8px 16px",background:"#10B981",color:"white",borderRadius:"20px",fontSize:"14px",fontWeight:"600"},children:["Potential: +",_.storyPoints," SP"]})]}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:z.map((j,G)=>t.jsxs("div",{style:{background:"white",borderRadius:"8px",padding:"16px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[t.jsxs("div",{children:[t.jsx("span",{style:{fontWeight:"600",fontSize:"14px"},children:j.member}),t.jsx("span",{style:{marginLeft:"8px",padding:"2px 8px",background:"#E0F2FE",color:"#0369A1",borderRadius:"12px",fontSize:"12px"},children:j.role})]}),t.jsxs("div",{style:{fontSize:"13px",color:j.utilization<30?"#DC2626":j.utilization<50?"#D97706":"#059669"},children:[j.utilization,"% utilized"]})]}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:j.recommendations.map((P,ee)=>t.jsxs("div",{style:{padding:"10px",background:"#F9FAFB",borderRadius:"6px",borderLeft:`3px solid ${P.priority==="high"?"#DC2626":P.priority==="medium"?"#F59E0B":"#3B82F6"}`},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"6px"},children:[t.jsx("div",{style:{fontWeight:"600",fontSize:"13px"},children:P.title}),t.jsx("div",{style:{padding:"2px 6px",background:P.priority==="high"?"#FEE2E2":P.priority==="medium"?"#FEF3C7":"#DBEAFE",color:P.priority==="high"?"#991B1B":P.priority==="medium"?"#92400E":"#1E3A8A",borderRadius:"4px",fontSize:"10px",fontWeight:"600",textTransform:"uppercase"},children:P.priority})]}),t.jsx("div",{style:{fontSize:"12px",color:"#4B5563",marginBottom:"4px"},children:P.description}),t.jsxs("div",{style:{fontSize:"11px",color:"#6B7280",fontStyle:"italic"},children:["Impact: ",P.impact]}),P.suggestedWork&&P.suggestedWork.length>0&&t.jsxs("div",{style:{marginTop:"8px",paddingTop:"8px",borderTop:"1px solid #E5E7EB"},children:[t.jsx("div",{style:{fontSize:"11px",fontWeight:"600",marginBottom:"4px",color:"#374151"},children:"Suggested backlog items:"}),P.suggestedWork.map((le,re)=>t.jsxs("div",{style:{fontSize:"11px",color:"#6B7280",marginLeft:"12px"},children:[" ",le.issue.title," (",le.reason,")"]},re))]})]},ee))})]},G))}),_.storyPoints>0&&t.jsxs("div",{style:{marginTop:"16px",padding:"12px",background:"#ECFDF5",borderRadius:"6px",display:"flex",alignItems:"center",gap:"16px"},children:[t.jsx("span",{style:{fontSize:"24px"},children:""}),t.jsxs("div",{children:[t.jsxs("div",{style:{fontSize:"13px",fontWeight:"600",color:"#065F46"},children:["Potential Velocity Increase: ",_.velocityIncrease]}),t.jsxs("div",{style:{fontSize:"12px",color:"#047857"},children:["By implementing these recommendations, the team could add ",_.storyPoints," story points (~",_.hours," hours) to the current sprint"]})]})]})]}),t.jsxs("div",{className:"card",children:[t.jsx("h2",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"20px"},children:"Team Capacity Planning"}),w.length===0?t.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#6B7280"},children:"No team members found. Assign issues to team members to see capacity planning."}):t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:w.map(j=>{const G=j.capacity;return t.jsxs("div",{style:{padding:"16px",background:"#F9FAFB",borderRadius:"8px",border:`2px solid ${G.statusColor}20`},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[j.avatar&&t.jsx("img",{src:j.avatar,alt:j.name,style:{width:"48px",height:"48px",borderRadius:"50%",objectFit:"cover"},onError:P=>{P.target.style.display="none"}}),t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[t.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#1F2937"},children:j.name}),j.role&&j.role!=="Unknown"&&t.jsx("span",{style:{padding:"3px 10px",backgroundColor:"#EFF6FF",color:"#2563EB",borderRadius:"12px",fontSize:"11px",fontWeight:"600"},children:j.role})]}),t.jsxs("div",{style:{fontSize:"14px",color:"#6B7280"},children:["@",j.username]})]}),t.jsx("div",{style:{padding:"6px 16px",background:G.statusColor+"20",color:G.statusColor,borderRadius:"12px",fontSize:"13px",fontWeight:"600"},children:G.status})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:"16px",marginBottom:"16px"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",color:"#6B7280",marginBottom:"4px"},children:"UTILIZATION"}),t.jsxs("div",{style:{fontSize:"24px",fontWeight:"700",color:G.statusColor},children:[G.utilization,"%"]})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",color:"#6B7280",marginBottom:"4px"},children:"ALLOCATED"}),t.jsxs("div",{style:{fontSize:"24px",fontWeight:"700",color:"#DC2626"},children:[G.allocatedHours,"h"]}),t.jsxs("div",{style:{fontSize:"11px",color:"#6B7280",display:"flex",alignItems:"center",gap:"4px"},children:["of ",G.weeklyCapacity,"h/week",G.isSprintAdjusted&&t.jsx("span",{style:{fontSize:"10px",background:"#FEF3C7",color:"#92400E",padding:"2px 6px",borderRadius:"4px",fontWeight:"600"},title:`Default: ${j.defaultCapacity}h/week. Adjusted for this sprint (holidays, PTO, etc.)`,children:""})]})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",color:"#6B7280",marginBottom:"4px"},children:"AVAILABLE"}),t.jsxs("div",{style:{fontSize:"24px",fontWeight:"700",color:"#059669"},children:[G.availableHours,"h"]}),t.jsx("div",{style:{fontSize:"11px",color:"#6B7280"},children:"this week"})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",color:"#6B7280",marginBottom:"4px"},children:"TIME TO COMPLETE"}),t.jsxs("div",{style:{fontSize:"24px",fontWeight:"700",color:"#2563EB"},children:[G.weeksToComplete,"w"]}),t.jsx("div",{style:{fontSize:"11px",color:"#6B7280"},children:"at current rate"})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",color:"#6B7280",marginBottom:"4px"},children:"OPEN ISSUES"}),t.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"#1F2937"},children:j.openIssues})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",color:"#6B7280",marginBottom:"4px"},children:"COMPLETION RATE"}),t.jsxs("div",{style:{fontSize:"24px",fontWeight:"700",color:"#059669"},children:[Math.round(j.closedIssues/j.totalIssues*100),"%"]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"6px"},children:["Capacity Utilization: ",G.allocatedHours,"h / ",G.weeklyCapacity,"h"]}),t.jsxs("div",{style:{width:"100%",height:"12px",background:"#E5E7EB",borderRadius:"6px",overflow:"hidden",position:"relative"},children:[t.jsx("div",{style:{width:`${Math.min(G.utilization,100)}%`,height:"100%",background:G.statusColor,transition:"width 0.3s ease"}}),G.utilization>100&&t.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:`repeating-linear-gradient(45deg, ${G.statusColor}, ${G.statusColor} 10px, ${G.statusColor}dd 10px, ${G.statusColor}dd 20px)`}})]})]}),(()=>{const{causes:P,actions:ee}=W(j);return P.length===0?null:t.jsxs("div",{style:{marginTop:"12px",padding:"12px",background:"#F3F4F6",borderRadius:"6px",fontSize:"13px"},children:[t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("div",{style:{fontSize:"12px",fontWeight:"600",color:"#1F2937",marginBottom:"8px"},children:" Root Cause Analysis:"}),P.map((le,re)=>t.jsxs("div",{style:{marginBottom:"8px",paddingLeft:"8px",borderLeft:`3px solid ${le.severity==="critical"?"#DC2626":le.severity==="warning"?"#D97706":"#6B7280"}`},children:[t.jsxs("div",{style:{fontWeight:"600",color:"#374151",marginBottom:"2px"},children:[le.severity==="critical"&&""," ",le.severity==="warning"&&""," ",le.severity==="info"&&""," ",le.description]}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280"},children:le.impact})]},re))]}),ee.length>0&&t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"12px",fontWeight:"600",color:"#1F2937",marginBottom:"8px"},children:" Recommended Actions:"}),ee.map((le,re)=>t.jsxs("div",{style:{marginBottom:"8px",paddingLeft:"8px",borderLeft:"3px solid #2563EB"},children:[t.jsx("div",{style:{fontWeight:"600",color:"#374151",marginBottom:"2px"},children:le.title}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"2px"},children:le.description}),t.jsxs("div",{style:{fontSize:"11px",color:"#9CA3AF"},children:["Impact: ",le.estimatedImpact]})]},re))]})]})})(),j.openIssues>0&&t.jsxs("div",{style:{marginTop:"16px"},children:[t.jsxs("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1F2937",marginBottom:"12px"},children:["Open Issues (",j.openIssues,") - ",j.totalWeight," story points"]}),t.jsx("div",{style:{overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{backgroundColor:"#F9FAFB",borderBottom:"2px solid #E5E7EB"},children:[t.jsx("th",{style:{padding:"8px 12px",textAlign:"left",fontSize:"11px",fontWeight:"600",color:"#6B7280",whiteSpace:"nowrap"},children:"ID"}),t.jsx("th",{style:{padding:"8px 12px",textAlign:"left",fontSize:"11px",fontWeight:"600",color:"#6B7280"},children:"Title"}),t.jsx("th",{style:{padding:"8px 12px",textAlign:"left",fontSize:"11px",fontWeight:"600",color:"#6B7280"},children:"Epic"}),t.jsx("th",{style:{padding:"8px 12px",textAlign:"center",fontSize:"11px",fontWeight:"600",color:"#6B7280",whiteSpace:"nowrap"},children:"Weight"}),t.jsx("th",{style:{padding:"8px 12px",textAlign:"center",fontSize:"11px",fontWeight:"600",color:"#6B7280",whiteSpace:"nowrap"},children:"Est. Hours"}),t.jsx("th",{style:{padding:"8px 12px",textAlign:"left",fontSize:"11px",fontWeight:"600",color:"#6B7280",whiteSpace:"nowrap"},children:"Due Date"}),t.jsx("th",{style:{padding:"8px 12px",textAlign:"left",fontSize:"11px",fontWeight:"600",color:"#6B7280"},children:"State"})]})}),t.jsx("tbody",{children:j.issues.filter(P=>P.state==="opened").sort((P,ee)=>P.due_date&&ee.due_date?new Date(P.due_date)-new Date(ee.due_date):P.due_date?-1:ee.due_date?1:(ee.weight||0)-(P.weight||0)).map(P=>{const ee=bi(P,g),le=P.due_date&&new Date(P.due_date)<new Date,re=P.due_date&&!le&&new Date(P.due_date)-new Date<10080*60*1e3;return t.jsxs("tr",{style:{borderBottom:"1px solid #E5E7EB"},children:[t.jsxs("td",{style:{padding:"8px 12px",color:"#6B7280"},children:["#",P.iid]}),t.jsx("td",{style:{padding:"8px 12px"},children:t.jsx("div",{style:{maxWidth:"300px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:"#374151"},children:P.title})}),t.jsx("td",{style:{padding:"8px 12px",fontSize:"12px",color:"#6B7280"},children:t.jsx("div",{style:{maxWidth:"150px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:P.epic?.title||"-"})}),t.jsx("td",{style:{padding:"8px 12px",textAlign:"center"},children:P.weight?t.jsx("span",{style:{padding:"3px 8px",background:"#DBEAFE",color:"#1E40AF",borderRadius:"4px",fontSize:"12px",fontWeight:"600"},children:P.weight}):t.jsx("span",{style:{color:"#9CA3AF",fontSize:"12px"},children:"-"})}),t.jsxs("td",{style:{padding:"8px 12px",textAlign:"center",fontWeight:"600",color:"#374151"},children:[ee.toFixed(1),"h"]}),t.jsx("td",{style:{padding:"8px 12px",fontSize:"12px"},children:P.due_date?t.jsxs("span",{style:{color:le?"#DC2626":re?"#D97706":"#6B7280",fontWeight:le||re?"600":"400"},children:[new Date(P.due_date).toLocaleDateString(),le&&" "]}):t.jsx("span",{style:{color:"#9CA3AF"},children:"-"})}),t.jsx("td",{style:{padding:"8px 12px",fontSize:"12px"},children:t.jsx("span",{style:{padding:"3px 8px",background:"#FEF3C7",color:"#92400E",borderRadius:"4px",fontSize:"11px",fontWeight:"500"},children:P.state})})]},P.id)})})]})})]})]},j.username)})})]}),D>0&&t.jsx("div",{className:"card",style:{marginTop:"20px",background:"#FEF3C7",borderColor:"#D97706"},children:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("div",{style:{fontSize:"24px"},children:""}),t.jsxs("div",{children:[t.jsxs("div",{style:{fontSize:"16px",fontWeight:"600",color:"#92400E",marginBottom:"4px"},children:[D," Unassigned Issues"]}),t.jsxs("div",{style:{fontSize:"14px",color:"#78350F"},children:["Estimated impact: ",(D*g.defaultHoursPerIssue).toFixed(1)," hours of unallocated work"]})]})]})})]})}const gt={STAKEHOLDERS:"stakeholders",COMMUNICATION_HISTORY:"communication_history",TEMPLATES:"communication_templates",DECISIONS:"decisions",DOCUMENTS:"documents"};function Vc(){const l=localStorage.getItem(gt.STAKEHOLDERS);return l?JSON.parse(l):[]}function O0(l){const r=Vc(),c=r.findIndex(o=>o.id===l.id);return c>=0?r[c]={...r[c],...l}:r.push({id:l.id||Date.now().toString(),name:l.name,role:l.role,email:l.email,frequency:l.frequency||"weekly",interests:l.interests||[],createdAt:new Date().toISOString()}),localStorage.setItem(gt.STAKEHOLDERS,JSON.stringify(r)),r}function _0(l){const c=Vc().filter(o=>o.id!==l);return localStorage.setItem(gt.STAKEHOLDERS,JSON.stringify(c)),c}function ji(){const l=localStorage.getItem(gt.COMMUNICATION_HISTORY);return l?JSON.parse(l):[]}function fh(l){const r=ji();r.unshift({id:Date.now().toString(),stakeholderIds:l.stakeholderIds||[],subject:l.subject,content:l.content,type:l.type||"status_update",sentAt:new Date().toISOString()});const c=r.slice(0,100);return localStorage.setItem(gt.COMMUNICATION_HISTORY,JSON.stringify(c)),c}function L0(l){const c=ji().filter(o=>o.id!==l);return localStorage.setItem(gt.COMMUNICATION_HISTORY,JSON.stringify(c)),c}function Rh(){const l=localStorage.getItem(gt.TEMPLATES);return l?JSON.parse(l):[{id:"weekly_status",name:"Weekly Status Update",subject:"Project Status Update - Week of {date}",body:`Hi {stakeholder_name},

Here's your weekly project status update for {project_name}:

**Overall Health:** {health_score}/100 ({health_label})
**Completion:** {completion_rate}%
**Open Issues:** {open_issues}
**Blockers:** {blockers}

{status_summary}

{upcoming_milestones}

Best regards,
{sender_name}`},{id:"milestone_complete",name:"Milestone Achievement",subject:"Milestone Achieved: {milestone_name}",body:`Hi {stakeholder_name},

Great news! We've successfully completed the {milestone_name} milestone.

**Achievement Highlights:**
- {completed_issues} issues completed
- Delivered on {milestone_date}
- {completion_rate}% completion rate

{next_steps}

Best regards,
{sender_name}`},{id:"risk_alert",name:"Risk Alert",subject:"Risk Alert: {risk_description}",body:`Hi {stakeholder_name},

I wanted to bring to your attention a risk that requires management awareness:

**Risk:** {risk_description}
**Probability:** {risk_probability}
**Impact:** {risk_impact}
**Mitigation Plan:** {risk_mitigation}

Please let me know if you'd like to discuss this further.

Best regards,
{sender_name}`},{id:"executive_summary",name:"Executive Summary",subject:"Executive Summary - {project_name}",body:`Hi {stakeholder_name},

Please find below the executive summary for {project_name}:

**Project Health:** {health_score}/100
**Status:** {health_label}

**Key Metrics:**
- Total Issues: {total_issues}
- Completion Rate: {completion_rate}%
- Active Blockers: {blockers}
- Team Utilization: {team_utilization}%

{ai_summary}

**Action Required:**
{action_items}

Best regards,
{sender_name}`}]}function W0(l){const r=Rh(),c=r.findIndex(o=>o.id===l.id);return c>=0?r[c]=l:r.push({...l,id:l.id||Date.now().toString()}),localStorage.setItem(gt.TEMPLATES,JSON.stringify(r)),r}function Ec(l,r){let c=l.body;const o={"{stakeholder_name}":r.stakeholderName||"all","{project_name}":r.projectName||"Project","{date}":new Date().toLocaleDateString(),"{health_score}":r.healthScore?.score||"N/A","{health_label}":r.healthScore?.label||"Unknown","{completion_rate}":r.stats?.completionRate||"0","{open_issues}":r.stats?.openIssues||"0","{total_issues}":r.stats?.totalIssues||"0","{blockers}":r.stats?.blockers||"0","{team_utilization}":r.teamUtilization||"N/A","{status_summary}":r.statusSummary||"","{upcoming_milestones}":r.upcomingMilestones||"","{action_items}":r.actionItems||"","{ai_summary}":r.aiSummary||"","{sender_name}":r.senderName||"Project Manager","{milestone_name}":r.milestoneName||"","{milestone_date}":r.milestoneDate||"","{completed_issues}":r.completedIssues||"0","{next_steps}":r.nextSteps||"","{risk_description}":r.riskDescription||"","{risk_probability}":r.riskProbability||"","{risk_impact}":r.riskImpact||"","{risk_mitigation}":r.riskMitigation||""};return Object.entries(o).forEach(([a,u])=>{c=c.replace(new RegExp(a,"g"),u)}),c}function Va(){const l=localStorage.getItem(gt.DECISIONS);return l?JSON.parse(l):[]}function U0(l){const r=Va(),c={id:l.id||Date.now().toString(),title:l.title,description:l.description,decisionDate:l.decisionDate||new Date().toISOString(),stakeholderIds:l.stakeholderIds||[],linkedEpics:l.linkedEpics||[],linkedIssues:l.linkedIssues||[],status:l.status||"active",reversedBy:l.reversedBy||null,reversedDate:l.reversedDate||null,reversedReason:l.reversedReason||null,tags:l.tags||[],approvedBy:l.approvedBy||[],communicationId:l.communicationId||null,createdAt:l.createdAt||new Date().toISOString()},o=r.findIndex(a=>a.id===c.id);return o>=0?r[o]=c:r.unshift(c),localStorage.setItem(gt.DECISIONS,JSON.stringify(r)),r}function H0(l){const c=Va().filter(o=>o.id!==l);return localStorage.setItem(gt.DECISIONS,JSON.stringify(c)),c}function $0(l,r,c=null){const o=Va(),a=o.find(u=>u.id===l);return a&&(a.status=c?"superseded":"reversed",a.reversedDate=new Date().toISOString(),a.reversedReason=r,a.reversedBy=c,localStorage.setItem(gt.DECISIONS,JSON.stringify(o))),o}function Ic(){const l=localStorage.getItem(gt.DOCUMENTS);return l?JSON.parse(l):[]}function q0(l){const c=Ic().filter(o=>o.id!==l);return localStorage.setItem(gt.DOCUMENTS,JSON.stringify(c)),c}function G0(l,r){const c=[],o=[...l.to,...l.cc].map(x=>x.email.toLowerCase());r.forEach(x=>{o.includes(x.email.toLowerCase())&&c.push(x.id)});const a={id:Date.now().toString(),type:"email",source:"imported",from:l.from,to:l.to,cc:l.cc,stakeholderIds:c,subject:l.subject,content:l.body,sentAt:l.date.toISOString(),messageId:l.messageId,tags:l.tags||[],references:l.references||[],linkedEpics:[],linkedIssues:[],attachments:l.attachments||[]},u=ji();u.unshift(a);const f=u.slice(0,100);return localStorage.setItem(gt.COMMUNICATION_HISTORY,JSON.stringify(f)),a}function hh(l){const r=l.split(`
`),c={};let o="",a=!1,u="";for(let x=0;x<r.length;x++){const g=r[x];if(a)o+=g+`
`;else{if(g.trim()===""){a=!0;continue}if(g.match(/^\s/)&&u)c[u]+=" "+g.trim();else{const h=g.match(/^([^:]+):\s*(.*)/);h&&(u=h[1].toLowerCase(),c[u]=h[2].trim())}}}const f=P0(o,c["content-type"]);return{from:Mh(c.from||""),to:Bc(c.to||""),cc:Bc(c.cc||""),bcc:Bc(c.bcc||""),subject:V0(c.subject||""),date:Y0(c.date||""),messageId:c["message-id"]||"",body:f,rawHeaders:c}}function Mh(l){if(!l)return{name:"",email:""};const r=l.match(/(.*)<(.+?)>/);return r?{name:r[1].trim().replace(/^["']|["']$/g,""),email:r[2].trim()}:{name:"",email:l.trim()}}function Bc(l){return l?l.split(",").map(r=>Mh(r.trim())):[]}function V0(l){return l?l.replace(/=\?([^?]+)\?([QB])\?([^?]+)\?=/gi,(r,c,o,a)=>{try{if(o.toUpperCase()==="Q")return a.replace(/_/g," ").replace(/=([0-9A-F]{2})/g,(u,f)=>String.fromCharCode(parseInt(f,16)));if(o.toUpperCase()==="B")return atob(a)}catch(u){console.warn("Failed to decode header:",u)}return r}):""}function Y0(l){if(!l)return new Date;try{const r=l.replace(/\s+/g," ").trim();return new Date(r)}catch{return new Date}}function P0(l,r){if(!l)return"";const c=r?.match(/boundary=["']?([^"'\s;]+)/);if(c){const o=c[1],a=l.split(`--${o}`);for(const u of a)if(u.includes("Content-Type: text/plain")){const f=u.indexOf(`

`);if(f!==-1)return Cc(u.substring(f).trim())}for(const u of a){const f=u.indexOf(`

`);if(f!==-1){const x=u.substring(f).trim();if(x&&!x.startsWith("<"))return Cc(x)}}}return Cc(l)}function Cc(l){if(!l)return"";let r=l.replace(/<[^>]+>/g," ");return r=r.replace(/=([0-9A-F]{2})/g,(c,o)=>{try{return String.fromCharCode(parseInt(o,16))}catch{return c}}),r=r.replace(/=\n/g,""),r=r.replace(/\s+/g," ").trim(),r}function Dc(l,r){const c=[],o=`${l} ${r}`.toLowerCase();return o.match(/\b(approve|approved|approval|decision|decided|go ahead|green light)\b/)&&c.push("decision"),o.match(/\b(sign[ -]?off|signed[ -]?off|approved|approval|accept|accepted)\b/)&&c.push("approval"),o.match(/\b(urgent|critical|escalate|escalation|help needed|blocker)\b/)&&c.push("escalation"),o.match(/\b(scope change|change request|additional|requirement|add feature)\b/)&&c.push("scope-change"),o.match(/\b(priority|re-?prioritize|priority change|urgent|high priority)\b/)&&c.push("priority"),o.match(/\b(risk|concern|issue|problem|delay|slippage)\b/)&&c.push("risk"),[...new Set(c)]}function wc(l,r){const c=[],o=`${l} ${r}`,a=o.match(/#(\d+)|issue[- ](\d+)/gi);a&&a.forEach(f=>{const x=f.match(/\d+/);x&&c.push({type:"issue",id:x[0]})});const u=o.match(/epic[- ](\d+)|&(\d+)/gi);return u&&u.forEach(f=>{const x=f.match(/\d+/);x&&c.push({type:"epic",id:x[0]})}),c}async function Q0(l){try{const r=new TextDecoder("utf-8",{fatal:!1}),c=new TextDecoder("utf-16le",{fatal:!1}),o=r.decode(l),a=c.decode(l);console.log("MSG Parser - UTF-8 text length:",o.length),console.log("MSG Parser - UTF-16LE text length:",a.length);const u={from:{name:"",email:""},to:[],cc:[],bcc:[],subject:"",date:new Date,messageId:"",body:"",rawHeaders:{},attachments:[]},f=(S,w)=>{console.log(`Trying extraction with ${w}...`);const D={subject:"",from:"",to:"",body:""},M=S.match(/Subject[:\s]+([^\x00\r\n]{3,200})/i);M&&(D.subject=ml(M[1]),console.log(`${w} subject:`,D.subject.substring(0,100)));const W=S.match(/From[:\s]+([^\x00\r\n]{3,200})/i);W&&(D.from=ml(W[1]),console.log(`${w} from:`,D.from.substring(0,100)));let q=S.match(/To[:\s]+([^\x00\r\n]{3,200})/i);q||(q=S.match(/To[:\s]*([^\x00]+?(?:@[^\x00;,\s]+[;,\s]?){1,5})/i)),q&&(D.to=ml(q[1]),console.log(`${w} to:`,D.to.substring(0,100)));const I=/([a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,})/g,N=S.match(I);if(N&&N.length>0){const j=[...new Set(N)];D.emails=j.slice(0,10),console.log(`${w} found ${j.length} email addresses`)}const B=S.match(/[\x00-\xFF]{0,1000}([a-zA-Z0-9\s.,!?;:'"()\-]{200,})/g),z=S.split(/Subject.*?\n/i).slice(1).join(`
`),F=S.match(/([a-zA-Z0-9\s.,!?;:'"()\-\n]{100,})/g);let _="";return B&&B.length>0&&(_=B.reduce((j,G)=>j.length>G.length?j:G,"")),(!_||_.length<50)&&z&&z.length>50&&(_=z),(!_||_.length<50)&&F&&F.length>0&&(_=F.reduce((j,G)=>j.length>G.length?j:G,"")),D.body=_,console.log(`${w} body length:`,_.length),D},x=f(o,"UTF-8"),g=f(a,"UTF-16LE"),h=(x.subject?1:0)+(x.from?1:0)+(x.to?1:0)+(x.body.length>50?2:0),m=(g.subject?1:0)+(g.from?1:0)+(g.to?1:0)+(g.body.length>50?2:0);console.log("UTF-8 score:",h,"UTF-16LE score:",m);const b=m>h?g:x,y=m>h?a:o;if(console.log("Using",m>h?"UTF-16LE":"UTF-8","extraction"),u.subject=b.subject,b.from&&(u.from=Nh(b.from)),b.to&&(u.to=Z0(b.to)),u.to.length===0&&b.emails&&(u.to=b.emails.map(S=>({name:"",email:ml(S)}))),u.to.length===0){const S=/([a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,})/g,w=y.match(S);if(w&&w.length>0){const D=[...new Set(w)];u.to=D.slice(0,5).map(M=>({name:"",email:ml(M)}))}}return u.body=X0(b.body),console.log("Final result:",{subject:u.subject,from:u.from,toCount:u.to.length,bodyLength:u.body.length}),u}catch(r){throw console.error("Error parsing MSG file:",r),new Error("Failed to parse MSG file: "+r.message)}}function X0(l){return l?l.replace(/\x00/g,"").replace(/[\x01-\x08\x0B-\x0C\x0E-\x1F]/g," ").replace(/\s+/g," ").trim().substring(0,5e4):""}function ml(l){return l?l.replace(/\x00/g,"").replace(/[\x01-\x08\x0B-\x0C\x0E-\x1F]/g,"").trim():""}function Nh(l){if(!l)return{name:"",email:""};const r=l.match(/(.*)<(.+?)>/);if(r)return{name:r[1].trim().replace(/^["']|["']$/g,""),email:r[2].trim()};const c=l.match(/([a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,})/);return c?{name:"",email:c[1].trim()}:{name:"",email:l.trim()}}function Z0(l){return l?l.split(/[;,]/).map(r=>Nh(r.trim())).filter(r=>r.email):[]}function xh(l){try{const c=new DOMParser().parseFromString(l,"text/html"),o={from:{name:"",email:""},to:[],cc:[],bcc:[],subject:"",date:new Date,messageId:"",body:"",rawHeaders:{},attachments:[]},a=g=>{const h=c.querySelector(g);return h?h.textContent.trim():""};o.subject=c.title||a('[name="Subject"]')||a("div.Subject");const u=[{pattern:/From:\s*([^\n<]+)/i,field:"from"},{pattern:/To:\s*([^\n<]+)/i,field:"to"},{pattern:/Subject:\s*([^\n<]+)/i,field:"subject"},{pattern:/Date:\s*([^\n<]+)/i,field:"date"}],f=c.body?c.body.textContent:l;u.forEach(({pattern:g,field:h})=>{const m=f.match(g);if(m){if(h==="from")o.from=Ih(m[1]);else if(h==="to")o.to=K0(m[1]);else if(h==="subject"&&!o.subject)o.subject=m[1].trim();else if(h==="date")try{o.date=new Date(m[1].trim()),isNaN(o.date.getTime())&&(o.date=new Date)}catch{o.date=new Date}}});const x=c.querySelector("body")||c.querySelector(".EmailBody")||c.querySelector("#bodyContent");if(x?(x.querySelectorAll("script, style").forEach(h=>h.remove()),o.body=x.textContent.replace(/\s+/g," ").trim().substring(0,5e4)):o.body=f.replace(/\s+/g," ").trim().substring(0,5e4),o.to.length===0){const g=/([a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,})/g,h=l.match(g);if(h&&h.length>0){const m=[...new Set(h)].filter(b=>!b.includes("w3.org")&&!b.includes("schemas"));o.to=m.slice(0,5).map(b=>({name:"",email:b.trim()}))}}return o}catch(r){throw console.error("Error parsing HTML email:",r),new Error("Failed to parse HTML email: "+r.message)}}function Ih(l){if(!l)return{name:"",email:""};const r=l.match(/(.*)<(.+?)>/);if(r)return{name:r[1].trim().replace(/^["']|["']$/g,""),email:r[2].trim()};const c=l.match(/([a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,})/);return c?{name:"",email:c[1].trim()}:{name:"",email:l.trim()}}function K0(l){return l?l.split(/[;,]/).map(r=>Ih(r.trim())).filter(r=>r.email):[]}function J0({stats:l,healthScore:r}){const[c,o]=R.useState(Vc()),[a,u]=R.useState(ji()),[f,x]=R.useState(Rh()),[g,h]=R.useState(Va()),[m,b]=R.useState(Ic()),[y,S]=R.useState("email-upload"),[w,D]=R.useState(!1),[M,W]=R.useState(!1),[q,I]=R.useState(null),[N,B]=R.useState([]),[z,F]=R.useState(null),[_,j]=R.useState({subject:"",body:""}),[G,P]=R.useState(!1),[ee,le]=R.useState(null),[re,T]=R.useState(!1),[A,k]=R.useState(!1),[L,H]=R.useState(""),[K,C]=R.useState("list"),[U,ne]=R.useState(null),[ie,de]=R.useState(!1),[ue,ce]=R.useState({name:"",role:"",email:"",frequency:"weekly",interests:[]}),[ye,Se]=R.useState({title:"",description:"",stakeholderIds:[],linkedEpics:[],linkedIssues:[],tags:[],approvedBy:[]}),Zt=()=>{const V=O0(ue);o(V),ce({name:"",role:"",email:"",frequency:"weekly",interests:[]}),D(!1)},Kt=V=>{if(confirm("Remove this stakeholder?")){const oe=_0(V);o(oe)}},sn=V=>{I(V),j({subject:V.subject,body:V.body}),F(null),W(!0)},El=()=>{if(N.length===0){alert("Please select at least one stakeholder");return}const V=Dn();let oe="all";if(N.length===1){const Me=c.find(it=>it.id===N[0]);Me&&Me.name&&(oe=Me.name.split(" ")[0])}const ge=Ec(q,{stakeholderName:oe,projectName:V.projectId||"Project",healthScore:r,stats:l,statusSummary:"Project is progressing as planned.",senderName:"Project Manager"});fh({stakeholderIds:N,subject:q.subject,content:ge,type:q.id}),u(ji()),W(!1),B([]),alert("Communication logged!")},ln=V=>{if(confirm("Delete this communication from history?")){const oe=L0(V);u(oe)}},js=V=>{F(V.id),j({subject:V.subject,body:V.body})},Ss=V=>{const oe=f.find(Me=>Me.id===V),ge=W0({...oe,subject:_.subject,body:_.body});x(ge),F(null)},Ka=()=>{if(N.length===0){alert("Please select at least one stakeholder");return}const V=Dn();let oe="all";if(N.length===1){const Ie=c.find(Gt=>Gt.id===N[0]);Ie&&Ie.name&&(oe=Ie.name.split(" ")[0])}const ge=Ec({...q,subject:_.subject,body:_.body},{stakeholderName:oe,projectName:V.projectId||"Project",healthScore:r,stats:l,statusSummary:"Project is progressing as planned.",senderName:"Project Manager"}),Me=c.filter(Ie=>N.includes(Ie.id)).map(Ie=>Ie.email).join(","),it=encodeURIComponent(_.subject),Ne=encodeURIComponent(ge),Ae=`mailto:${Me}?subject=${it}&body=${Ne}`;window.location.href=Ae,fh({stakeholderIds:N,subject:_.subject,content:ge,type:q.id}),u(ji()),W(!1),B([])},Bl=V=>{V.preventDefault(),k(!1);const oe=V.dataTransfer.getData("text/html");if(oe){console.log("Detected HTML data from drag & drop"),Bs(oe);return}const ge=V.dataTransfer.getData("text/plain");if(ge){console.log("Detected plain text data from drag & drop"),Ja(ge);return}const Me=V.dataTransfer.files[0];Me?(console.log("Detected file from drag & drop:",Me.name,"Type:",Me.type,"Size:",Me.size),Di(Me)):alert("Unable to process dropped content. Please save the email as a file (.msg, .eml, or .html) and try again.")},Es=V=>{const oe=V.target.files[0];oe&&Di(oe)},Di=V=>{const oe=V.name.toLowerCase(),ge=oe.endsWith(".msg"),Me=oe.endsWith(".html")||oe.endsWith(".htm");console.log("=== File Processing Debug ==="),console.log("File name:",V.name),console.log("File size:",V.size,"bytes"),console.log("File type:",V.type),console.log("File last modified:",new Date(V.lastModified)),console.log("Detected format - MSG:",ge,"HTML:",Me);const it=new FileReader;it.onload=async Ne=>{try{console.log("File read successfully, result type:",typeof Ne.target.result),console.log("Result size:",Ne.target.result?.byteLength||Ne.target.result?.length||0);let Ae;if(ge){const ze=Ne.target.result;console.log("Parsing as MSG format, buffer size:",ze.byteLength);const dt=new Uint8Array(ze.slice(0,16));console.log("First 16 bytes:",Array.from(dt).map(ut=>ut.toString(16).padStart(2,"0")).join(" ")),Ae=await Q0(ze)}else if(Me){let ze;const dt=Ne.target.result,ut=["UTF-8","windows-1252","ISO-8859-1","UTF-16LE"];let Rt=null,Mt=1/0;for(const Vt of ut)try{const zn=new TextDecoder(Vt,{fatal:!1}).decode(dt),wi=(zn.match(//g)||[]).length;if(console.log(`Encoding ${Vt}: ${wi} replacement characters`),wi<Mt&&(Mt=wi,Rt=zn),wi===0)break}catch(Jn){console.log(`Encoding ${Vt} failed:`,Jn.message)}ze=Rt||new TextDecoder("UTF-8",{fatal:!1}).decode(dt),console.log("Parsing as HTML format, content length:",ze.length),console.log("HTML preview (first 500 chars):",ze.substring(0,500)),console.log("Best encoding had",Mt,"replacement characters"),Ae=xh(ze)}else{const ze=Ne.target.result;console.log("Parsing as EML format, content length:",ze.length),console.log("EML preview (first 500 chars):",ze.substring(0,500)),Ae=hh(ze)}console.log("Parsed result:",{from:Ae.from,to:Ae.to,subject:Ae.subject,bodyLength:Ae.body?.length||0,bodyPreview:Ae.body?.substring(0,200)||""});const Ie=Dc(Ae.subject,Ae.body),Gt=wc(Ae.subject,Ae.body);le({...Ae,tags:Ie,references:Gt,attachments:[]}),P(!0)}catch(Ae){console.error("Error parsing email file:",Ae),console.error("Error stack:",Ae.stack),alert("Failed to parse email file: "+Ae.message)}},it.onerror=Ne=>{console.error("FileReader error:",Ne),alert("Failed to read email file")},ge?(console.log("Reading file as ArrayBuffer..."),it.readAsArrayBuffer(V)):Me?(console.log("Reading HTML file as ArrayBuffer to detect encoding..."),it.readAsArrayBuffer(V)):(console.log("Reading file as Text..."),it.readAsText(V,"UTF-8"))},Bs=V=>{try{console.log("Parsing HTML content, length:",V.length);const oe=xh(V),ge=Dc(oe.subject,oe.body),Me=wc(oe.subject,oe.body);le({...oe,tags:ge,references:Me,attachments:[]}),P(!0)}catch(oe){console.error("Error parsing HTML content:",oe),alert("Failed to parse email content: "+oe.message)}},Ja=V=>{try{if(console.log("Parsing text content, length:",V.length),console.log("Text content preview:",V.substring(0,200)),V.length<100){alert("Dragging directly from Outlook is not supported. Please save the email as a file (.msg, .eml, or .html) first, then drag the file here.");return}const oe=hh(V),ge=Dc(oe.subject,oe.body),Me=wc(oe.subject,oe.body);le({...oe,tags:ge,references:Me,attachments:[]}),P(!0)}catch(oe){console.error("Error parsing text content:",oe),alert("Failed to parse email content. Please save the email as a file (.msg, .eml, or .html) and try again.")}},eo=()=>{G0(ee,c),u(ji()),b(Ic()),P(!1),le(null),alert("Email imported successfully!")},ft=()=>{const V=U0(ye);h(V),Se({title:"",description:"",stakeholderIds:[],linkedEpics:[],linkedIssues:[],tags:[],approvedBy:[]}),T(!1)},to=V=>{if(confirm("Delete this decision?")){const oe=H0(V);h(oe)}},Cl=V=>{const oe=prompt("Reason for reversing this decision:");if(oe){const ge=$0(V,oe);h(ge)}},Dl=V=>{if(confirm("Delete this document?")){const oe=q0(V);b(oe)}},wn=()=>{const V=[];return a.forEach(oe=>{let ge="Unknown";oe.from&&(typeof oe.from=="object"?ge=oe.from.name||oe.from.email||"Unknown":ge=oe.from),V.push({type:"communication",date:new Date(oe.sentAt),title:oe.subject,description:oe.content?.substring(0,150),creator:ge,data:oe})}),g.forEach(oe=>{V.push({type:"decision",date:new Date(oe.decisionDate),title:oe.title,description:oe.description?.substring(0,150),data:oe})}),m.forEach(oe=>{V.push({type:"document",date:new Date(oe.uploadDate),title:oe.filename,description:oe.description,data:oe})}),V.sort((oe,ge)=>ge.date-oe.date)};return t.jsxs("div",{className:"container-fluid",children:[t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("h2",{style:{fontSize:"24px",fontWeight:"600",marginBottom:"8px"},children:"Communication Hub"}),t.jsx("p",{style:{fontSize:"14px",color:"#6B7280"},children:"Manage stakeholders and communication templates"})]}),t.jsx("div",{style:{borderBottom:"2px solid #E5E7EB",marginBottom:"30px"},children:t.jsx("div",{style:{display:"flex",gap:"24px",flexWrap:"wrap"},children:[{id:"email-upload",label:"Email Upload"},{id:"timeline",label:"Timeline"},{id:"decisions",label:"Decisions"},{id:"documents",label:"Documents"},{id:"stakeholders",label:"Stakeholders"},{id:"templates",label:"Templates"}].map(V=>t.jsx("button",{onClick:()=>S(V.id),style:{padding:"12px 0",background:"none",border:"none",borderBottom:y===V.id?"2px solid #E60000":"2px solid transparent",fontSize:"14px",fontWeight:"600",color:y===V.id?"#E60000":"#6B7280",cursor:"pointer"},children:V.label},V.id))})}),y==="stakeholders"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"20px"},children:[t.jsx("h2",{style:{fontSize:"20px",fontWeight:"600"},children:"Stakeholder Registry"}),t.jsx("button",{className:"btn btn-primary",onClick:()=>D(!w),children:w?"Cancel":"+ Add Stakeholder"})]}),w&&t.jsxs("div",{className:"card",style:{marginBottom:"20px",background:"#F9FAFB"},children:[t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[t.jsx("input",{type:"text",placeholder:"Name *",value:ue.name,onChange:V=>ce({...ue,name:V.target.value}),style:{padding:"8px 12px",border:"1px solid #D1D5DB",borderRadius:"6px"}}),t.jsx("input",{type:"text",placeholder:"Role *",value:ue.role,onChange:V=>ce({...ue,role:V.target.value}),style:{padding:"8px 12px",border:"1px solid #D1D5DB",borderRadius:"6px"}}),t.jsx("input",{type:"email",placeholder:"Email *",value:ue.email,onChange:V=>ce({...ue,email:V.target.value}),style:{padding:"8px 12px",border:"1px solid #D1D5DB",borderRadius:"6px"}}),t.jsxs("select",{value:ue.frequency,onChange:V=>ce({...ue,frequency:V.target.value}),style:{padding:"8px 12px",border:"1px solid #D1D5DB",borderRadius:"6px"},children:[t.jsx("option",{value:"daily",children:"Daily Updates"}),t.jsx("option",{value:"weekly",children:"Weekly Updates"}),t.jsx("option",{value:"biweekly",children:"Bi-weekly Updates"}),t.jsx("option",{value:"monthly",children:"Monthly Updates"})]})]}),t.jsx("button",{className:"btn btn-primary",onClick:Zt,style:{marginTop:"16px"},children:"Add Stakeholder"})]}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:c.map(V=>t.jsxs("div",{className:"card",children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[t.jsxs("div",{children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"4px"},children:V.name}),t.jsx("div",{style:{fontSize:"13px",color:"#6B7280"},children:V.role})]}),t.jsx("button",{className:"btn btn-secondary",onClick:()=>Kt(V.id),style:{padding:"4px 8px",fontSize:"12px"},children:"Remove"})]}),t.jsxs("div",{style:{fontSize:"13px",color:"#6B7280",marginBottom:"8px"},children:[" ",V.email]}),t.jsxs("div",{style:{fontSize:"12px",color:"#6B7280"},children:["Frequency: ",V.frequency]})]},V.id))}),c.length===0&&!w&&t.jsxs("div",{className:"card text-center",style:{padding:"40px"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px",opacity:.3},children:""}),t.jsx("h3",{children:"No Stakeholders Yet"}),t.jsx("p",{className:"text-muted",children:"Add stakeholders to track communications"})]})]}),y==="templates"&&t.jsxs(t.Fragment,{children:[t.jsx("h2",{style:{fontSize:"20px",fontWeight:"600",marginBottom:"20px"},children:"Communication Templates"}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"20px"},children:f.map(V=>t.jsxs("div",{className:"card",children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"8px"},children:V.name}),z===V.id?t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6B7280",display:"block",marginBottom:"4px"},children:"Subject:"}),t.jsx("input",{type:"text",value:_.subject,onChange:oe=>j({..._,subject:oe.target.value}),style:{width:"100%",padding:"6px 8px",border:"1px solid #D1D5DB",borderRadius:"4px",fontSize:"12px"}})]}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6B7280",display:"block",marginBottom:"4px"},children:"Body:"}),t.jsx("textarea",{value:_.body,onChange:oe=>j({..._,body:oe.target.value}),rows:10,style:{width:"100%",padding:"8px",border:"1px solid #D1D5DB",borderRadius:"4px",fontSize:"12px",fontFamily:"monospace"}})]}),t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsx("button",{className:"btn btn-primary",onClick:()=>Ss(V.id),style:{flex:1},children:"Save"}),t.jsx("button",{className:"btn btn-secondary",onClick:()=>F(null),style:{flex:1},children:"Cancel"})]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"12px"},children:["Subject: ",V.subject]}),t.jsxs("div",{style:{fontSize:"12px",color:"#6B7280",background:"#F3F4F6",padding:"12px",borderRadius:"6px",fontFamily:"monospace",maxHeight:"120px",overflow:"hidden",marginBottom:"12px"},children:[V.body.substring(0,150),"..."]}),t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsx("button",{className:"btn btn-primary",onClick:()=>sn(V),style:{flex:1},children:"Use Template"}),t.jsx("button",{className:"btn btn-secondary",onClick:()=>js(V),style:{flex:1},children:"Edit"})]})]})]},V.id))})]}),y==="email-upload"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{marginBottom:"20px"},children:t.jsx("h2",{style:{fontSize:"20px",fontWeight:"600"},children:"Email Communication Upload"})}),t.jsxs("label",{onDragOver:V=>{V.preventDefault(),k(!0)},onDragLeave:()=>k(!1),onDrop:Bl,style:{display:"block",border:A?"3px solid #3B82F6":"3px dashed #3B82F6",borderRadius:"8px",padding:"32px",textAlign:"center",marginBottom:"20px",background:A?"#EFF6FF":"#F9FAFB",transition:"all 0.2s",animation:A?"none":"pulse 2s ease-in-out infinite",cursor:"pointer"},children:[t.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Drag & drop email files here"}),t.jsx("div",{style:{fontSize:"12px",color:"#9CA3AF"},children:"Save email as .msg, .eml, or .html file first"}),t.jsx("input",{type:"file",accept:".eml,.msg,.html,.htm",onChange:Es,style:{display:"none"}})]}),a.length===0?t.jsxs("div",{className:"card text-center",style:{padding:"40px"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px",opacity:.3},children:""}),t.jsx("h3",{children:"No Communications Yet"}),t.jsx("p",{className:"text-muted",children:"Start using templates or import emails to track communications"})]}):t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:a.slice(0,20).map(V=>t.jsxs("div",{className:"card",style:{background:"#F9FAFB"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",marginBottom:"4px"},children:[t.jsx("div",{style:{fontSize:"14px",fontWeight:"600"},children:V.subject}),V.source==="imported"&&t.jsx("span",{style:{fontSize:"10px",background:"#DBEAFE",color:"#1E40AF",padding:"2px 6px",borderRadius:"4px"},children:"IMPORTED"})]}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280"},children:new Date(V.sentAt).toLocaleString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}),V.tags&&V.tags.length>0&&t.jsx("div",{style:{display:"flex",gap:"4px",marginTop:"4px"},children:V.tags.map(oe=>t.jsx("span",{style:{fontSize:"10px",background:"#FEF3C7",color:"#92400E",padding:"2px 6px",borderRadius:"4px"},children:oe},oe))})]}),t.jsx("button",{onClick:()=>ln(V.id),style:{padding:"4px 8px",background:"#FEE2E2",color:"#DC2626",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer",fontWeight:"500"},children:"Delete"})]}),t.jsxs("div",{style:{fontSize:"13px",color:"#6B7280",maxHeight:"100px",overflow:"hidden"},children:[V.content.substring(0,200),"..."]})]},V.id))})]}),y==="decisions"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"20px"},children:[t.jsx("h2",{style:{fontSize:"20px",fontWeight:"600"},children:"Decision Log"}),t.jsx("button",{className:"btn btn-primary",onClick:()=>T(!re),children:re?"Cancel":"+ Add Decision"})]}),re&&t.jsxs("div",{className:"card",style:{marginBottom:"20px",background:"#F9FAFB"},children:[t.jsx("div",{style:{marginBottom:"12px"},children:t.jsx("input",{type:"text",placeholder:"Decision Title *",value:ye.title,onChange:V=>Se({...ye,title:V.target.value}),style:{width:"100%",padding:"8px 12px",border:"1px solid #D1D5DB",borderRadius:"6px"}})}),t.jsx("div",{style:{marginBottom:"12px"},children:t.jsx("textarea",{placeholder:"Description *",value:ye.description,onChange:V=>Se({...ye,description:V.target.value}),rows:4,style:{width:"100%",padding:"8px 12px",border:"1px solid #D1D5DB",borderRadius:"6px"}})}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6B7280",display:"block",marginBottom:"4px"},children:"Stakeholders Involved:"}),c.map(V=>t.jsxs("label",{style:{display:"block",marginBottom:"4px",cursor:"pointer"},children:[t.jsx("input",{type:"checkbox",checked:ye.stakeholderIds.includes(V.id),onChange:oe=>{oe.target.checked?Se({...ye,stakeholderIds:[...ye.stakeholderIds,V.id]}):Se({...ye,stakeholderIds:ye.stakeholderIds.filter(ge=>ge!==V.id)})},style:{marginRight:"8px"}}),t.jsx("span",{style:{fontSize:"13px"},children:V.name})]},V.id))]}),t.jsx("button",{className:"btn btn-primary",onClick:ft,children:"Add Decision"})]}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:g.length===0?t.jsxs("div",{className:"card text-center",style:{padding:"40px"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px",opacity:.3},children:""}),t.jsx("h3",{children:"No Decisions Yet"}),t.jsx("p",{className:"text-muted",children:"Track important project decisions and sign-offs"})]}):g.map(V=>t.jsx("div",{className:"card",style:{background:V.status!=="active"?"#FEF2F2":"#F9FAFB"},children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",marginBottom:"4px"},children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",margin:0},children:V.title}),t.jsx("span",{style:{fontSize:"10px",background:V.status==="active"?"#D1FAE5":"#FEE2E2",color:V.status==="active"?"#065F46":"#991B1B",padding:"2px 6px",borderRadius:"4px",textTransform:"uppercase"},children:V.status})]}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"8px"},children:new Date(V.decisionDate).toLocaleString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}),t.jsx("div",{style:{fontSize:"13px",color:"#374151",marginBottom:"8px"},children:V.description}),V.status!=="active"&&V.reversedReason&&t.jsxs("div",{style:{fontSize:"12px",color:"#DC2626",marginTop:"8px",padding:"8px",background:"#FEE2E2",borderRadius:"4px"},children:[t.jsx("strong",{children:"Reversed:"})," ",V.reversedReason]})]}),t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[V.status==="active"&&t.jsx("button",{onClick:()=>Cl(V.id),style:{padding:"4px 8px",background:"#FEF3C7",color:"#92400E",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer",fontWeight:"500"},children:"Reverse"}),t.jsx("button",{onClick:()=>to(V.id),style:{padding:"4px 8px",background:"#FEE2E2",color:"#DC2626",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer",fontWeight:"500"},children:"Delete"})]})]})},V.id))})]}),y==="documents"&&t.jsxs(t.Fragment,{children:[t.jsx("h2",{style:{fontSize:"20px",fontWeight:"600",marginBottom:"20px"},children:"Document Archive"}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:m.length===0?t.jsxs("div",{className:"card text-center",style:{padding:"40px"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px",opacity:.3},children:""}),t.jsx("h3",{children:"No Documents Yet"}),t.jsx("p",{className:"text-muted",children:"Documents from imported emails will appear here"})]}):m.map(V=>t.jsx("div",{className:"card",style:{background:"#F9FAFB"},children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",marginBottom:"4px"},children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",margin:0},children:V.filename}),t.jsx("span",{style:{fontSize:"10px",background:"#DBEAFE",color:"#1E40AF",padding:"2px 6px",borderRadius:"4px"},children:V.fileType})]}),t.jsxs("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:["Uploaded: ",new Date(V.uploadDate).toLocaleString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),V.description&&t.jsx("div",{style:{fontSize:"13px",color:"#374151"},children:V.description})]}),t.jsx("button",{onClick:()=>Dl(V.id),style:{padding:"4px 8px",background:"#FEE2E2",color:"#DC2626",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer",fontWeight:"500"},children:"Delete"})]})},V.id))})]}),y==="timeline"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[t.jsx("h2",{style:{fontSize:"20px",fontWeight:"600"},children:"Timeline"}),t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsx("button",{onClick:()=>C("list"),style:{padding:"8px 16px",background:K==="list"?"#3B82F6":"white",color:K==="list"?"white":"#374151",border:K==="list"?"none":"1px solid #D1D5DB",borderRadius:"6px",fontSize:"13px",fontWeight:K==="list"?"600":"500",cursor:"pointer",transition:"all 0.15s"},children:" List View"}),t.jsx("button",{onClick:()=>C("gantt"),style:{padding:"8px 16px",background:K==="gantt"?"#3B82F6":"white",color:K==="gantt"?"white":"#374151",border:K==="gantt"?"none":"1px solid #D1D5DB",borderRadius:"6px",fontSize:"13px",fontWeight:K==="gantt"?"600":"500",cursor:"pointer",transition:"all 0.15s"},children:" Gantt View"})]})]}),wn().length===0?t.jsxs("div",{className:"card text-center",style:{padding:"40px"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px",opacity:.3},children:""}),t.jsx("h3",{children:"No Activity Yet"}),t.jsx("p",{className:"text-muted",children:"Timeline will show all communications, decisions, and documents"})]}):K==="list"?t.jsxs("div",{style:{position:"relative"},children:[t.jsx("div",{style:{position:"absolute",left:"20px",top:"0",bottom:"0",width:"2px",background:"#E5E7EB"}}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:wn().map((V,oe)=>t.jsxs("div",{style:{position:"relative",paddingLeft:"50px"},children:[t.jsx("div",{style:{position:"absolute",left:"12px",top:"8px",width:"18px",height:"18px",borderRadius:"50%",background:V.type==="communication"?"#3B82F6":V.type==="decision"?"#10B981":"#F59E0B",border:"3px solid white",boxShadow:"0 0 0 2px #E5E7EB"}}),t.jsxs("div",{className:"card",style:{background:"#F9FAFB",cursor:"pointer",transition:"all 0.2s"},onClick:()=>{ne(V),de(!0)},onMouseEnter:ge=>ge.currentTarget.style.background="#EEF2FF",onMouseLeave:ge=>ge.currentTarget.style.background="#F9FAFB",children:[t.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",marginBottom:"4px"},children:[t.jsx("span",{style:{fontSize:"10px",background:V.type==="communication"?"#DBEAFE":V.type==="decision"?"#D1FAE5":"#FEF3C7",color:V.type==="communication"?"#1E40AF":V.type==="decision"?"#065F46":"#92400E",padding:"2px 6px",borderRadius:"4px",textTransform:"uppercase"},children:V.type}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280"},children:V.date.toLocaleString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),t.jsx("h3",{style:{fontSize:"15px",fontWeight:"600",marginBottom:"4px"},children:V.title}),t.jsxs("div",{style:{fontSize:"13px",color:"#6B7280"},children:[V.description,"..."]})]})]},`${V.type}-${V.data.id}`))})]}):(()=>{const V=wn(),oe=new Date;oe.setHours(0,0,0,0);const ge=new Date(oe);ge.setDate(ge.getDate()-90);const Me=new Date(oe);Me.setDate(Me.getDate()+30);const it=(Me-ge)/(1e3*60*60*24),Ne=ze=>{const dt=new Date(ze);return dt.setHours(0,0,0,0),(dt-ge)/(1e3*60*60*24)/it*100},Ae=Ne(oe),Ie=[];let Gt=new Date(ge);for(Gt.setDate(1);Gt<Me;)Ie.push(new Date(Gt)),Gt.setMonth(Gt.getMonth()+1);return t.jsxs("div",{className:"card",style:{padding:"16px",position:"relative",overflow:"visible"},children:[t.jsxs("div",{style:{display:"flex",borderBottom:"2px solid #E5E7EB",paddingBottom:"8px",marginBottom:"16px"},children:[t.jsx("div",{style:{width:"250px",fontWeight:"600",fontSize:"12px",color:"#6B7280",textTransform:"uppercase"},children:"Activity"}),t.jsx("div",{style:{flex:1,position:"relative",minHeight:"40px"},children:t.jsx("div",{style:{display:"flex",fontSize:"11px",color:"#6B7280",fontWeight:"600",marginBottom:"4px",position:"relative"},children:Ie.map((ze,dt)=>{const ut=Ne(ze),Rt=dt<Ie.length-1?Ie[dt+1]:Me,Mt=Ne(Rt)-ut;return t.jsx("div",{style:{position:"absolute",left:`${ut}%`,width:`${Mt}%`,textAlign:"center",borderRight:dt<Ie.length-1?"1px solid #E5E7EB":"none",paddingTop:"4px"},children:ze.toLocaleDateString("en-US",{month:"short",year:"numeric"})},dt)})})})]}),Ae>=0&&Ae<=100&&t.jsx("div",{style:{position:"absolute",left:`calc(250px + (100% - 250px - 32px) * ${Ae/100})`,top:"60px",bottom:"0",width:"2px",background:"#EF4444",zIndex:5},title:`Today: ${oe.toLocaleDateString()}`,children:t.jsx("div",{style:{position:"absolute",top:"0",left:"-18px",fontSize:"10px",color:"#EF4444",fontWeight:"600",whiteSpace:"nowrap",background:"white",padding:"2px 4px",borderRadius:"3px",border:"1px solid #EF4444"},children:"TODAY"})}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:V.map((ze,dt)=>{const ut=Ne(ze.date),Rt=ze.type==="communication"?"#3B82F6":ze.type==="decision"?"#10B981":"#F59E0B",Mt=ze.type==="communication"?"#DBEAFE":ze.type==="decision"?"#D1FAE5":"#FEF3C7";return t.jsxs("div",{style:{display:"flex",alignItems:"center",minHeight:"40px",borderBottom:dt<V.length-1?"1px solid #F3F4F6":"none",paddingBottom:"12px"},children:[t.jsxs("div",{style:{width:"250px",paddingRight:"16px"},children:[t.jsx("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"2px"},children:t.jsx("span",{style:{fontSize:"9px",background:Mt,color:ze.type==="communication"?"#1E40AF":ze.type==="decision"?"#065F46":"#92400E",padding:"2px 6px",borderRadius:"3px",textTransform:"uppercase",fontWeight:"600"},children:ze.type})}),t.jsx("div",{style:{fontSize:"13px",fontWeight:"600",color:"#1F2937",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:ze.title}),t.jsx("div",{style:{fontSize:"11px",color:"#6B7280"},children:ze.date.toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"})})]}),t.jsx("div",{style:{flex:1,position:"relative",height:"32px"},children:ut>=0&&ut<=100&&t.jsx("div",{style:{position:"absolute",left:`${ut}%`,width:"12px",height:"12px",borderRadius:"50%",background:Rt,border:"2px solid white",boxShadow:"0 0 0 2px "+Rt+"40",cursor:"pointer",transform:"translateX(-50%)",top:"10px",zIndex:10},title:`${ze.title}
${ze.date.toLocaleString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}`})})]},`${ze.type}-${ze.data.id}`)})})]})})()]}),M&&q&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:t.jsxs("div",{style:{background:"white",borderRadius:"12px",maxWidth:"700px",width:"100%",maxHeight:"80vh",display:"flex",flexDirection:"column",boxShadow:"0 20px 25px -5px rgba(0,0,0,0.1)"},children:[t.jsx("div",{style:{padding:"24px",borderBottom:"1px solid #E5E7EB"},children:t.jsxs("h2",{style:{fontSize:"18px",fontWeight:"600"},children:["Compose: ",q.name]})}),t.jsxs("div",{style:{flex:1,padding:"24px",overflowY:"auto"},children:[t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{fontSize:"14px",fontWeight:"600",marginBottom:"8px",display:"block"},children:"Recipients"}),c.map(V=>t.jsxs("label",{style:{display:"block",marginBottom:"8px",cursor:"pointer"},children:[t.jsx("input",{type:"checkbox",checked:N.includes(V.id),onChange:oe=>{oe.target.checked?B([...N,V.id]):B(N.filter(ge=>ge!==V.id))},style:{marginRight:"8px"}}),V.name," (",V.email,")"]},V.id))]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{fontSize:"14px",fontWeight:"600",marginBottom:"8px",display:"block"},children:"Subject"}),t.jsx("input",{type:"text",value:_.subject,onChange:V=>j({..._,subject:V.target.value}),style:{width:"100%",padding:"8px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px"}})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{fontSize:"14px",fontWeight:"600",marginBottom:"8px",display:"block"},children:"Message Body"}),t.jsx("textarea",{value:Ec({...q,subject:_.subject,body:_.body},{stakeholderName:N.length===1&&c.find(V=>V.id===N[0])?.name.split(" ")[0]||"all",projectName:Dn().projectId||"Project",healthScore:r,stats:l,statusSummary:"Project progressing as planned.",senderName:"Project Manager"}),onChange:V=>{j({..._,body:V.target.value})},rows:15,style:{width:"100%",padding:"12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"13px",fontFamily:"monospace",whiteSpace:"pre-wrap"}})]})]}),t.jsxs("div",{style:{padding:"16px 24px",borderTop:"1px solid #E5E7EB",display:"flex",gap:"12px",justifyContent:"flex-end"},children:[t.jsx("button",{className:"btn btn-secondary",onClick:()=>{W(!1),B([])},children:"Cancel"}),t.jsx("button",{className:"btn",onClick:Ka,style:{background:"#10B981",color:"white",border:"none"},children:" Open in Email"}),t.jsx("button",{className:"btn btn-primary",onClick:El,children:"Log Communication"})]})]})}),G&&ee&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:t.jsxs("div",{style:{background:"white",borderRadius:"12px",maxWidth:"700px",width:"100%",maxHeight:"80vh",display:"flex",flexDirection:"column",boxShadow:"0 20px 25px -5px rgba(0,0,0,0.1)"},children:[t.jsx("div",{style:{padding:"24px",borderBottom:"1px solid #E5E7EB"},children:t.jsx("h2",{style:{fontSize:"18px",fontWeight:"600"},children:"Import Email"})}),t.jsxs("div",{style:{flex:1,padding:"24px",overflowY:"auto"},children:[t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6B7280",display:"block",marginBottom:"4px"},children:"From:"}),t.jsx("div",{style:{fontSize:"14px"},children:ee.from.name?`${ee.from.name} <${ee.from.email}>`:ee.from.email})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6B7280",display:"block",marginBottom:"4px"},children:"To:"}),t.jsx("div",{style:{fontSize:"14px"},children:ee.to.map(V=>V.email).join(", ")})]}),ee.cc&&ee.cc.length>0&&t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6B7280",display:"block",marginBottom:"4px"},children:"CC:"}),t.jsx("div",{style:{fontSize:"14px"},children:ee.cc.map(V=>V.email).join(", ")})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6B7280",display:"block",marginBottom:"4px"},children:"Subject:"}),t.jsx("div",{style:{fontSize:"14px",fontWeight:"600"},children:ee.subject})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6B7280",display:"block",marginBottom:"4px"},children:"Date:"}),t.jsx("div",{style:{fontSize:"14px"},children:ee.date.toLocaleString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),ee.tags&&ee.tags.length>0&&t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6B7280",display:"block",marginBottom:"4px"},children:"Auto-detected Tags:"}),t.jsx("div",{style:{display:"flex",gap:"4px",flexWrap:"wrap"},children:ee.tags.map(V=>t.jsx("span",{style:{fontSize:"11px",background:"#FEF3C7",color:"#92400E",padding:"4px 8px",borderRadius:"4px"},children:V},V))})]}),ee.references&&ee.references.length>0&&t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6B7280",display:"block",marginBottom:"4px"},children:"Detected References:"}),t.jsx("div",{style:{display:"flex",gap:"4px",flexWrap:"wrap"},children:ee.references.map((V,oe)=>t.jsxs("span",{style:{fontSize:"11px",background:"#DBEAFE",color:"#1E40AF",padding:"4px 8px",borderRadius:"4px"},children:[V.type," #",V.id]},oe))})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6B7280",display:"block",marginBottom:"4px"},children:"Body Preview:"}),t.jsxs("div",{style:{fontSize:"13px",background:"#F3F4F6",padding:"12px",borderRadius:"6px",maxHeight:"200px",overflowY:"auto",whiteSpace:"pre-wrap"},children:[ee.body.substring(0,500),"..."]})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6B7280",display:"block",marginBottom:"8px"},children:"Matched Stakeholders:"}),t.jsx("div",{style:{fontSize:"13px",color:"#374151"},children:(()=>{const V=[...ee.to,...ee.cc].map(ge=>ge.email.toLowerCase()),oe=c.filter(ge=>V.includes(ge.email.toLowerCase()));return oe.length>0?t.jsx("ul",{style:{margin:0,paddingLeft:"20px"},children:oe.map(ge=>t.jsxs("li",{children:[ge.name," (",ge.email,")"]},ge.id))}):t.jsx("div",{style:{color:"#6B7280",fontStyle:"italic"},children:"No stakeholders matched"})})()})]})]}),t.jsxs("div",{style:{padding:"16px 24px",borderTop:"1px solid #E5E7EB",display:"flex",gap:"12px",justifyContent:"flex-end"},children:[t.jsx("button",{className:"btn btn-secondary",onClick:()=>{P(!1),le(null)},children:"Cancel"}),t.jsx("button",{className:"btn btn-primary",onClick:eo,children:"Import Email"})]})]})}),ie&&U&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>de(!1),children:t.jsxs("div",{style:{background:"white",borderRadius:"8px",maxWidth:"600px",width:"90%",maxHeight:"80vh",overflow:"auto",boxShadow:"0 20px 25px -5px rgba(0,0,0,0.1)"},onClick:V=>V.stopPropagation(),children:[t.jsx("div",{style:{padding:"24px",borderBottom:"1px solid #E5E7EB"},children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"8px"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",marginBottom:"8px"},children:[t.jsx("span",{style:{fontSize:"11px",background:U.type==="communication"?"#DBEAFE":U.type==="decision"?"#D1FAE5":"#FEF3C7",color:U.type==="communication"?"#1E40AF":U.type==="decision"?"#065F46":"#92400E",padding:"3px 8px",borderRadius:"4px",textTransform:"uppercase",fontWeight:"600"},children:U.type}),t.jsx("span",{style:{fontSize:"13px",color:"#6B7280"},children:U.date.toLocaleString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),t.jsx("h2",{style:{fontSize:"20px",fontWeight:"600",marginBottom:"4px"},children:U.title})]}),t.jsx("button",{onClick:()=>de(!1),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#6B7280",padding:"0",marginLeft:"16px"},children:""})]})}),t.jsxs("div",{style:{padding:"24px"},children:[U.type==="communication"&&t.jsxs(t.Fragment,{children:[U.data.from&&t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6B7280",display:"block",marginBottom:"4px"},children:"From:"}),t.jsx("div",{style:{fontSize:"14px"},children:typeof U.data.from=="object"?`${U.data.from.name||""} <${U.data.from.email||""}>`:U.data.from})]}),U.data.to&&U.data.to.length>0&&t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6B7280",display:"block",marginBottom:"4px"},children:"To:"}),t.jsx("div",{style:{fontSize:"14px"},children:U.data.to.map((V,oe)=>t.jsx("div",{children:typeof V=="object"?`${V.name||""} <${V.email||""}>`:V},oe))})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6B7280",display:"block",marginBottom:"4px"},children:"Content:"}),t.jsx("div",{style:{fontSize:"14px",whiteSpace:"pre-wrap",lineHeight:"1.6"},children:U.data.content})]})]}),U.type==="decision"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6B7280",display:"block",marginBottom:"4px"},children:"Status:"}),t.jsx("span",{style:{fontSize:"12px",background:U.data.status==="active"?"#D1FAE5":"#FEE2E2",color:U.data.status==="active"?"#065F46":"#991B1B",padding:"4px 8px",borderRadius:"4px",textTransform:"uppercase"},children:U.data.status})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6B7280",display:"block",marginBottom:"4px"},children:"Description:"}),t.jsx("div",{style:{fontSize:"14px",whiteSpace:"pre-wrap",lineHeight:"1.6"},children:U.data.description})]}),U.data.tags&&U.data.tags.length>0&&t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6B7280",display:"block",marginBottom:"4px"},children:"Tags:"}),t.jsx("div",{style:{display:"flex",gap:"4px",flexWrap:"wrap"},children:U.data.tags.map((V,oe)=>t.jsx("span",{style:{fontSize:"11px",background:"#F3F4F6",color:"#374151",padding:"3px 8px",borderRadius:"4px"},children:V},oe))})]})]}),U.type==="document"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6B7280",display:"block",marginBottom:"4px"},children:"File Type:"}),t.jsx("div",{style:{fontSize:"14px"},children:U.data.fileType})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6B7280",display:"block",marginBottom:"4px"},children:"File Size:"}),t.jsxs("div",{style:{fontSize:"14px"},children:[(U.data.fileSize/1024).toFixed(2)," KB"]})]}),U.data.description&&t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"600",color:"#6B7280",display:"block",marginBottom:"4px"},children:"Description:"}),t.jsx("div",{style:{fontSize:"14px"},children:U.data.description})]})]})]})]})})]})}function ey({issues:l,milestones:r,epics:c,stats:o,healthScore:a,risks:u}){const f=[],x=ty(l);f.push(...x);const g=ny(l);f.push(...g);const h=iy(l);f.push(...h);const m=sy(l,r);f.push(...m);const b=ly(c);f.push(...b);const y=ay(u);f.push(...y);const S=oy(l,o);f.push(...S);const w=ry(l);f.push(...w);const D={critical:0,warning:1,info:2,success:3};return f.sort((M,W)=>D[M.type]-D[W.type])}function ty(l){const r=[],c=qc(l);if(c.length<2)return r;const o=c.slice(-3),a=o.reduce((m,b)=>m+b.velocity,0)/o.length,u=c.slice(-6,-3);if(u.length>0){const m=u.reduce((y,S)=>y+S.velocity,0)/u.length,b=(a-m)/m*100;b<-20?r.push({type:"critical",category:"Velocity",title:"Significant Velocity Decline",description:`Team velocity has dropped by ${Math.abs(Math.round(b))}% over the last 3 sprints (${Math.round(a)} vs ${Math.round(m)} issues/sprint).`,impact:"High - Delivery timeline at risk",recommendation:"Conduct retrospective to identify blockers. Review team capacity and workload distribution.",confidence:"High"}):b<-10?r.push({type:"warning",category:"Velocity",title:"Velocity Declining",description:`Team velocity decreased by ${Math.abs(Math.round(b))}% in recent sprints.`,impact:"Medium - Monitor closely",recommendation:"Review sprint planning and identify potential bottlenecks.",confidence:"Medium"}):b>20&&r.push({type:"success",category:"Velocity",title:"Velocity Improvement",description:`Team velocity increased by ${Math.round(b)}% - excellent progress!`,impact:"Positive - Ahead of schedule",recommendation:"Document what is working well to maintain momentum.",confidence:"High"})}const f=c.map(m=>m.velocity),x=cy(f),g=f.reduce((m,b)=>m+b,0)/f.length,h=x/g*100;return h>40&&r.push({type:"warning",category:"Velocity",title:"Inconsistent Velocity",description:`Velocity varies significantly between sprints (CV: ${Math.round(h)}%).`,impact:"Medium - Unpredictable delivery",recommendation:"Standardize sprint planning process. Ensure consistent team capacity.",confidence:"Medium"}),r}function ny(l){const r=[],c=l.filter(x=>x.state==="opened"),o=c.filter(x=>x.labels.some(g=>g.toLowerCase().includes("blocker")||g.toLowerCase().includes("blocked"))),a=o.length/c.length*100;a>20?r.push({type:"critical",category:"Bottlenecks",title:"High Blocker Rate",description:`${o.length} issues blocked (${Math.round(a)}% of open issues).`,impact:"Critical - Team productivity severely impacted",recommendation:"Immediate blocker resolution session required. Escalate to leadership if needed.",confidence:"High"}):a>10&&r.push({type:"warning",category:"Bottlenecks",title:"Elevated Blocker Count",description:`${o.length} issues are blocked.`,impact:"Medium - Productivity impact",recommendation:"Schedule daily blocker review. Assign owners to resolve each blocker.",confidence:"High"});const u=new Date;u.setDate(u.getDate()-30);const f=c.filter(x=>new Date(x.created_at)<u);return f.length>c.length*.3&&r.push({type:"warning",category:"Bottlenecks",title:"High Number of Stale Issues",description:`${f.length} issues open for >30 days (${Math.round(f.length/c.length*100)}%).`,impact:"Medium - Work in progress accumulation",recommendation:"Review and close or update stale issues. Consider breaking down large issues.",confidence:"Medium"}),r}function iy(l){const r=[],c=new Map;l.forEach(u=>{if(u.state!=="opened")return;(u.assignees||[]).forEach(x=>{const g=c.get(x.username)||0;c.set(x.username,g+1)})});const o=Array.from(c.entries()).filter(([u,f])=>f>8).sort((u,f)=>f[1]-u[1]);o.length>0&&r.push({type:"warning",category:"Resources",title:"Team Members Overloaded",description:`${o.length} team member(s) have >8 open issues. Most loaded: ${o[0][1]} issues.`,impact:"High - Risk of burnout and delays",recommendation:`Rebalance workload. Redistribute ${Math.ceil(o[0][1]*.3)} issues from most loaded member.`,confidence:"High"});const a=l.filter(u=>u.state==="opened"&&(!u.assignees||u.assignees.length===0));return a.length>10&&r.push({type:"warning",category:"Resources",title:"Many Unassigned Issues",description:`${a.length} issues are unassigned.`,impact:"Medium - Unclear ownership",recommendation:"Assign all issues to team members. Consider capacity planning.",confidence:"High"}),r}function sy(l,r){const c=[];return r.filter(a=>a.state==="active").forEach(a=>{const u=l.filter(g=>g.milestone?.id===a.id),f=u.filter(g=>g.state==="opened"),x=(u.length-f.length)/u.length*100;if(a.due_date){const g=new Date(a.due_date),m=Math.ceil((g-new Date)/(1e3*60*60*24));x<50&&m<14&&m>0&&c.push({type:"critical",category:"Milestones",title:`Milestone At Risk: ${a.title}`,description:`Only ${Math.round(x)}% complete with ${m} days remaining.`,impact:"Critical - Milestone deadline at risk",recommendation:`Escalate. Reduce scope or extend deadline. ${f.length} issues need completion.`,confidence:"High"}),m<0&&f.length>0&&c.push({type:"critical",category:"Milestones",title:`Milestone Overdue: ${a.title}`,description:`${Math.abs(m)} days overdue with ${f.length} open issues.`,impact:"Critical - Milestone missed",recommendation:"Immediate action required. Update timeline or close incomplete work.",confidence:"High"})}}),c}function ly(l){const r=[];return!l||l.length===0||l.forEach(c=>{const o=c.issues||[],a=o.filter(f=>f.state==="opened"),u=(o.length-a.length)/o.length*100;c.state==="opened"&&u<20&&o.length>5&&r.push({type:"info",category:"Epics",title:`Epic Needs Attention: ${c.title}`,description:`Only ${Math.round(u)}% complete with ${a.length} open issues.`,impact:"Medium - Epic progress slow",recommendation:"Review epic scope and prioritization. Consider breaking into smaller epics.",confidence:"Medium"})}),r}function ay(l){const r=[];if(!l||l.length===0)return r;const o=l.filter(a=>a.status==="active").filter(a=>a.probability==="high"&&a.impact==="high");return o.length>3&&r.push({type:"critical",category:"Risks",title:"Multiple High-Priority Risks",description:`${o.length} active high-probability, high-impact risks.`,impact:"Critical - Project success threatened",recommendation:"Executive risk review required. Implement mitigation plans immediately.",confidence:"High"}),r}function oy(l,r){const c=[],o=qc(l);if(o.length<2)return c;const a=o.slice(-3).reduce((f,x)=>f+x.velocity,0)/Math.min(3,o.length),u=r.openIssues;if(a>0){const f=Math.ceil(u/(a/2)),x=new Date;x.setDate(x.getDate()+f*14),f>12?c.push({type:"warning",category:"Forecast",title:"Extended Completion Timeline",description:`At current velocity (${Math.round(a)} issues/sprint), ${f} weeks to complete.`,impact:"Medium - Long delivery timeline",recommendation:"Consider scope reduction or team augmentation.",confidence:"Medium"}):f<4&&c.push({type:"success",category:"Forecast",title:"On Track for Completion",description:`Estimated ${f} weeks to complete at current velocity.`,impact:"Positive - Delivery on schedule",recommendation:"Maintain current pace. Prepare for release activities.",confidence:"Medium"})}return c}function ry(l){const r=[];l.filter(a=>a.state==="closed");const c=l.filter(a=>a.labels.some(u=>u.toLowerCase().includes("bug"))),o=c.length/l.length*100;return o>30&&r.push({type:"warning",category:"Quality",title:"High Bug Rate",description:`${Math.round(o)}% of issues are bugs (${c.length} total).`,impact:"Medium - Quality concerns",recommendation:"Review testing processes. Consider adding automated tests.",confidence:"Medium"}),r}function cy(l){const r=l.reduce((o,a)=>o+a,0)/l.length,c=l.reduce((o,a)=>o+Math.pow(a-r,2),0)/l.length;return Math.sqrt(c)}function dy(l){return{total:l.length,critical:l.filter(r=>r.type==="critical").length,warning:l.filter(r=>r.type==="warning").length,info:l.filter(r=>r.type==="info").length,success:l.filter(r=>r.type==="success").length}}function uy(l){if(!l)return[];const r=[];return[/depends on #(\d+)/gi,/blocked by #(\d+)/gi,/requires #(\d+)/gi,/needs #(\d+)/gi,/waiting for #(\d+)/gi,/blocks? #(\d+)/gi,/dependency:? #(\d+)/gi,/(?:^|\s)#(\d+)(?:\s|$)/g].forEach(o=>{let a;for(;(a=o.exec(l))!==null;){const u=parseInt(a[1],10);u&&!r.includes(u)&&r.push(u)}}),r}function py(l){return[]}function Ya(l){const r=new Map,c=new Map;return l.forEach(o=>{r.set(o.iid,o)}),l.forEach(o=>{const a=`${o.title} ${o.description||""}`,u=uy(a),f=py(),x=[...new Set([...u,...f])];if(x.length>0){const g=x.map(h=>r.get(h)).filter(h=>h!==void 0);g.length>0&&c.set(o.iid,{issue:o,dependencies:g,dependencyCount:g.length,openDependencies:g.filter(h=>h.state==="opened"),closedDependencies:g.filter(h=>h.state==="closed")})}}),c}function Oh(l){const r=Ya(l),c=[];return r.forEach((o,a)=>{if(o.openDependencies.length>0){const u=o.openDependencies.length;let f="low";u>=3?f="high":u>=1&&(f="medium");const x=[];r.forEach((g,h)=>{h!==a&&g.dependencies.some(b=>b.iid===a)&&x.push(g.issue)}),c.push({...o,severity:f,blocksCount:x.length,blocksIssues:x,impact:fy(u,x.length)})}}),c.sort((o,a)=>{const u={high:3,medium:2,low:1};return u[o.severity]!==u[a.severity]?u[a.severity]-u[o.severity]:a.impact-o.impact}),c}function fy(l,r){return l*10+r*20}function hy(l){const r=Oh(l),c=Ya(l),o=c.size,a=r.length,u=r.filter(g=>g.severity==="high").length,f=r.filter(g=>g.severity==="medium").length;let x=0;return c.forEach(g=>{x+=g.openDependencies.length}),{totalIssuesWithDependencies:o,totalBlockedIssues:a,highSeverityBlocked:u,mediumSeverityBlocked:f,totalOpenDependencies:x,hasBlockers:a>0}}function _h(l){const r=[];return l.severity==="high"&&r.push({priority:"urgent",action:"Escalate to leadership",details:`This issue is blocked by ${l.openDependencies.length} open dependencies. Consider daily standup focus.`}),l.blocksCount>0&&r.push({priority:"high",action:"Prioritize unblocking",details:`Unblocking this will unblock ${l.blocksCount} other issue(s).`}),l.openDependencies.forEach(c=>{c.state==="opened"&&!c.assignees?.length&&r.push({priority:"medium",action:`Assign dependency #${c.iid}`,details:`"${c.title}" has no assignee. Assign to accelerate unblocking.`})}),r.length===0&&r.push({priority:"low",action:"Monitor dependencies",details:"Track progress on open dependencies in daily standups."}),r}function xy(l){const r=Ya(l),c=[];r.forEach((a,u)=>{a.dependencies.forEach(f=>{const x=r.get(f.iid);x&&x.dependencies.some(h=>h.iid===u)&&c.push({issue1:a.issue,issue2:f,type:"circular"})})});const o=[];return c.forEach(a=>{o.some(f=>f.issue1.iid===a.issue1.iid&&f.issue2.iid===a.issue2.iid||f.issue1.iid===a.issue2.iid&&f.issue2.iid===a.issue1.iid)||o.push(a)}),o}function gy(l){const r=["Issue ID","Title","State","Severity","Open Dependencies","Blocks Other Issues","Impact Score","Dependency Issues","Recommended Action","URL"],c=l.map(a=>{const u=a.openDependencies.map(g=>`#${g.iid}: ${g.title}`).join("; "),x=_h(a)[0]?.action||"Monitor";return[a.issue.iid,`"${a.issue.title.replace(/"/g,'""')}"`,a.issue.state,a.severity,a.openDependencies.length,a.blocksCount,a.impact,`"${u}"`,`"${x}"`,a.issue.web_url]});return[r.join(","),...c.map(a=>a.join(","))].join(`
`)}function my(l,r="dependency-blockers.csv"){const c=new Blob([l],{type:"text/csv;charset=utf-8;"}),o=document.createElement("a"),a=URL.createObjectURL(c);o.setAttribute("href",a),o.setAttribute("download",r),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o)}function yy({issues:l}){const[r,c]=R.useState(null),o=Oh(l),a=hy(l),u=xy(l),f=()=>{const h=gy(o);my(h)};if(!a.hasBlockers&&u.length===0)return t.jsxs("div",{className:"card",style:{marginBottom:"24px"},children:[t.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"12px"},children:" Dependency Blockers"}),t.jsxs("div",{style:{padding:"24px",background:"#F0FDF4",border:"1px solid #86EFAC",borderRadius:"8px",textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"24px",marginBottom:"8px"},children:""}),t.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#166534",marginBottom:"4px"},children:"No Dependency Blockers"}),t.jsx("div",{style:{fontSize:"14px",color:"#15803D"},children:"All issues are unblocked and ready to work on"})]})]});const x=h=>{switch(h){case"high":return"#EF4444";case"medium":return"#F59E0B";case"low":return"#10B981";default:return"#6B7280"}},g=h=>{const m=x(h);return t.jsx("span",{style:{display:"inline-block",padding:"4px 12px",background:`${m}15`,color:m,borderRadius:"12px",fontSize:"12px",fontWeight:"600",textTransform:"uppercase"},children:h})};return t.jsxs("div",{className:"card",style:{marginBottom:"24px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[t.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",margin:0},children:" Dependency Blockers"}),o.length>0&&t.jsx("button",{onClick:f,style:{padding:"6px 12px",background:"#E60000",color:"white",border:"none",borderRadius:"6px",fontSize:"13px",fontWeight:"500",cursor:"pointer"},children:"Export CSV"})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px",marginBottom:"20px"},children:[t.jsxs("div",{style:{padding:"12px",background:"#F9FAFB",borderRadius:"8px",textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"#EF4444"},children:a.totalBlockedIssues}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280"},children:"Blocked Issues"})]}),t.jsxs("div",{style:{padding:"12px",background:"#F9FAFB",borderRadius:"8px",textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"#F59E0B"},children:a.totalOpenDependencies}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280"},children:"Open Dependencies"})]}),t.jsxs("div",{style:{padding:"12px",background:"#F9FAFB",borderRadius:"8px",textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"#EF4444"},children:a.highSeverityBlocked}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280"},children:"High Severity"})]}),t.jsxs("div",{style:{padding:"12px",background:"#F9FAFB",borderRadius:"8px",textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"#A855F7"},children:u.length}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280"},children:"Circular Deps"})]})]}),u.length>0&&t.jsxs("div",{style:{padding:"12px",background:"#FEF3C7",border:"1px solid #F59E0B",borderRadius:"8px",marginBottom:"20px"},children:[t.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"#D97706",marginBottom:"8px"},children:" Circular Dependencies Detected"}),u.map((h,m)=>t.jsxs("div",{style:{fontSize:"13px",color:"#92400E",marginBottom:"4px"},children:["#",h.issue1.iid,"  #",h.issue2.iid,': "',h.issue1.title,'" and "',h.issue2.title,'"']},m))]}),o.length>0&&t.jsxs("div",{children:[t.jsxs("h4",{style:{fontSize:"14px",fontWeight:"600",color:"#4B5563",marginBottom:"12px"},children:["Blocked Issues (",o.length,")"]}),o.map(h=>{const m=r===h.issue.iid,b=_h(h);return t.jsxs("div",{style:{border:`2px solid ${x(h.severity)}`,borderRadius:"8px",marginBottom:"12px",overflow:"hidden"},children:[t.jsxs("div",{onClick:()=>c(m?null:h.issue.iid),style:{padding:"12px 16px",background:"#F9FAFB",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[t.jsxs("span",{style:{fontSize:"14px",fontWeight:"600",color:"#1F2937"},children:["#",h.issue.iid]}),g(h.severity),h.blocksCount>0&&t.jsxs("span",{style:{fontSize:"12px",color:"#DC2626",fontWeight:"500"},children:[" Blocks ",h.blocksCount," issue",h.blocksCount>1?"s":""]})]}),t.jsx("div",{style:{fontSize:"13px",color:"#4B5563"},children:h.issue.title})]}),t.jsx("div",{style:{fontSize:"20px",color:"#6B7280",transform:m?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"},children:""})]}),m&&t.jsxs("div",{style:{padding:"16px",background:"white"},children:[t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("div",{style:{fontSize:"13px",fontWeight:"600",color:"#4B5563",marginBottom:"8px"},children:["Open Dependencies (",h.openDependencies.length,"):"]}),h.openDependencies.map(y=>t.jsxs("div",{style:{padding:"8px 12px",background:"#FEF2F2",border:"1px solid #FCA5A5",borderRadius:"6px",marginBottom:"6px",fontSize:"13px"},children:[t.jsxs("div",{style:{fontWeight:"600",color:"#DC2626",marginBottom:"2px"},children:["#",y.iid,": ",y.title]}),t.jsx("div",{style:{fontSize:"12px",color:"#991B1B"},children:y.assignees&&y.assignees.length>0?`Assigned to: ${y.assignees.map(S=>S.name).join(", ")}`:" No assignee"})]},y.iid))]}),h.closedDependencies.length>0&&t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("div",{style:{fontSize:"13px",fontWeight:"600",color:"#4B5563",marginBottom:"8px"},children:["Resolved Dependencies (",h.closedDependencies.length,"):"]}),h.closedDependencies.map(y=>t.jsxs("div",{style:{padding:"6px 12px",background:"#F0FDF4",border:"1px solid #86EFAC",borderRadius:"6px",marginBottom:"4px",fontSize:"12px",color:"#166534"},children:[" #",y.iid,": ",y.title]},y.iid))]}),h.blocksCount>0&&t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("div",{style:{fontSize:"13px",fontWeight:"600",color:"#4B5563",marginBottom:"8px"},children:[" Blocks These Issues (",h.blocksCount,"):"]}),h.blocksIssues.map(y=>t.jsxs("div",{style:{padding:"6px 12px",background:"#FEF3C7",border:"1px solid #FCD34D",borderRadius:"6px",marginBottom:"4px",fontSize:"12px",color:"#92400E"},children:["#",y.iid,": ",y.title]},y.iid))]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"13px",fontWeight:"600",color:"#4B5563",marginBottom:"8px"},children:" Recommended Actions:"}),b.map((y,S)=>t.jsxs("div",{style:{padding:"8px 12px",background:y.priority==="urgent"?"#FEE2E2":"#EFF6FF",border:`1px solid ${y.priority==="urgent"?"#DC2626":"#3B82F6"}`,borderRadius:"6px",marginBottom:"6px"},children:[t.jsx("div",{style:{fontSize:"13px",fontWeight:"600",color:y.priority==="urgent"?"#DC2626":"#1E40AF",marginBottom:"2px"},children:y.action}),t.jsx("div",{style:{fontSize:"12px",color:y.priority==="urgent"?"#991B1B":"#1E3A8A"},children:y.details})]},S))]}),t.jsx("div",{style:{marginTop:"12px"},children:t.jsx("a",{href:h.issue.web_url,target:"_blank",rel:"noopener noreferrer",style:{fontSize:"13px",color:"#E60000",textDecoration:"none",fontWeight:"500"},children:"View Issue in GitLab "})})]})]},h.issue.iid)})]})]})}function vy({issues:l,milestones:r,epics:c,stats:o,healthScore:a,risks:u}){const f=R.useMemo(()=>!l||l.length===0?[]:ey({issues:l,milestones:r,epics:c,stats:o,healthScore:a,risks:u}),[l,r,c,o,a,u]),x=dy(f),g=b=>{switch(b){case"critical":return"#DC2626";case"warning":return"#D97706";case"info":return"#2563EB";case"success":return"#059669";default:return"#6B7280"}},h=b=>{switch(b){case"critical":return"CRITICAL";case"warning":return"WARNING";case"info":return"INFO";case"success":return"SUCCESS";default:return"INSIGHT"}},m=b=>b;return t.jsxs("div",{className:"container-fluid",children:[t.jsxs("div",{style:{marginBottom:"30px"},children:[t.jsx("h2",{style:{fontSize:"24px",fontWeight:"600",marginBottom:"8px"},children:"Insights"}),t.jsx("p",{style:{fontSize:"14px",color:"#6B7280"},children:"Intelligent pattern detection and recommendations"})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"20px",marginBottom:"30px"},children:[t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Total Insights"}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"600",color:"#1F2937"},children:x.total})]}),t.jsxs("div",{className:"card",style:{borderLeft:"4px solid #DC2626"},children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Critical"}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"600",color:"#DC2626"},children:x.critical})]}),t.jsxs("div",{className:"card",style:{borderLeft:"4px solid #D97706"},children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Warnings"}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"600",color:"#D97706"},children:x.warning})]}),t.jsxs("div",{className:"card",style:{borderLeft:"4px solid #059669"},children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Success"}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"600",color:"#059669"},children:x.success})]})]}),t.jsx(yy,{issues:l}),f.length===0?t.jsxs("div",{className:"card text-center",style:{padding:"60px 20px"},children:[t.jsx("h3",{className:"mb-2",children:"No Insights Available"}),t.jsxs("p",{className:"text-muted",children:["The AI engine needs more project data to generate insights.",t.jsx("br",{}),"Add more issues, milestones, and sprint data to see recommendations."]})]}):t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:f.map((b,y)=>t.jsx("div",{className:"card",style:{borderLeft:`4px solid ${g(b.type)}`,background:b.type==="critical"?"#FEF2F2":b.type==="warning"?"#FFFBEB":b.type==="success"?"#F0FDF4":"white"},children:t.jsx("div",{style:{display:"flex",alignItems:"flex-start",gap:"16px",marginBottom:"16px"},children:t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[t.jsx("span",{style:{padding:"4px 12px",background:g(b.type),color:"white",borderRadius:"4px",fontSize:"11px",fontWeight:"700",textTransform:"uppercase",letterSpacing:"0.5px"},children:h(b.type)}),t.jsx("span",{style:{padding:"4px 12px",background:"#F3F4F6",color:"#6B7280",borderRadius:"4px",fontSize:"11px",fontWeight:"600"},children:m(b.category)})]}),t.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#1F2937",marginBottom:"8px"},children:b.title}),t.jsx("p",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"12px",lineHeight:"1.6"},children:b.description}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("span",{style:{fontSize:"12px",fontWeight:"600",color:"#1F2937"},children:"Impact: "}),t.jsx("span",{style:{fontSize:"12px",color:"#6B7280"},children:b.impact})]}),t.jsxs("div",{style:{padding:"12px 16px",background:"#F9FAFB",borderLeft:"3px solid "+g(b.type),borderRadius:"6px"},children:[t.jsx("div",{style:{fontSize:"12px",fontWeight:"600",color:"#1F2937",marginBottom:"4px"},children:" Recommended Action"}),t.jsx("div",{style:{fontSize:"13px",color:"#374151",lineHeight:"1.5"},children:b.recommendation})]})]})})},y))})]})}const Yc="gitlab-pm-quality-criteria-config",La={staleThresholds:{warning:30,critical:60},criteria:{assignee:{name:"Assignee",description:"Issue must be assigned to a team member",enabled:!0,severity:"high"},weight:{name:"Weight/Estimation",description:"Issue must have story points or time estimate",enabled:!0,severity:"high"},epic:{name:"Epic Assignment",description:"Issue must be assigned to an epic",enabled:!0,severity:"medium"},description:{name:"Description",description:"Issue must have a meaningful description",enabled:!0,severity:"high",threshold:20},labels:{name:"Type Label",description:"Issue must have a type label (Bug, Feature, etc.)",enabled:!0,severity:"high"},milestone:{name:"Milestone",description:"Issue should be assigned to a milestone",enabled:!0,severity:"medium"},dueDate:{name:"Due Date",description:"Issue should have a due date (for tracking)",enabled:!0,severity:"low"},priority:{name:"Priority",description:"Issue should have a priority label",enabled:!0,severity:"medium"},stale:{name:"Stale Issue",description:"Issue has been open too long",enabled:!0,severity:"low"}}};function Ha(){try{const l=localStorage.getItem(Yc);if(!l)return La;const r=JSON.parse(l);return{staleThresholds:{...La.staleThresholds,...r.staleThresholds||{}},criteria:{...La.criteria,...r.criteria||{}}}}catch(l){return console.error("Error loading criteria config:",l),La}}function by(l){try{return localStorage.setItem(Yc,JSON.stringify(l)),!0}catch(r){return console.error("Error saving criteria config:",r),!1}}function jy(){try{return localStorage.removeItem(Yc),!0}catch(l){return console.error("Error resetting criteria config:",l),!1}}function Sy(){const l=Ha(),r={};return Object.entries(l.criteria).forEach(([c,o])=>{o.enabled&&(r[c]={name:o.name,description:o.description,severity:o.severity,threshold:o.threshold})}),r}function Ey(){return Ha().staleThresholds}function Pc(){return Ey()}Pc();function By(l){const r=new Date(l.created_at),o=Math.abs(new Date-r);return Math.ceil(o/(1e3*60*60*24))}function Pa(l){if(l.state!=="opened")return{isStale:!1,daysOpen:0,severity:null};const r=By(l),c=Pc();return r>=c.critical?{isStale:!0,daysOpen:r,severity:"critical"}:r>=c.warning?{isStale:!0,daysOpen:r,severity:"warning"}:{isStale:!1,daysOpen:r,severity:null}}const Cy={assignee:l=>l.assignees&&l.assignees.length>0,weight:l=>l.weight!==null&&l.weight!==void 0&&l.weight>0,epic:l=>l.epic!==null&&l.epic!==void 0,description:(l,r)=>{const c=r?.threshold||20;return l.description&&l.description.trim().length>=c},labels:l=>!l.labels||l.labels.length===0?!1:l.labels.some(c=>c.toLowerCase().includes("bug")||c.toLowerCase().includes("feature")||c.toLowerCase().includes("enhancement")||c.toLowerCase().includes("type::")),milestone:l=>l.milestone!==null&&l.milestone!==void 0,dueDate:l=>l.due_date!==null&&l.due_date!==void 0,priority:l=>!l.labels||l.labels.length===0?!1:l.labels.some(r=>r.toLowerCase().includes("priority")||r.toLowerCase().includes("p1")||r.toLowerCase().includes("p2")||r.toLowerCase().includes("p3")),stale:l=>!Pa(l).isStale},gh={stale:l=>{const r=Pa(l);return r.severity==="critical"?"high":r.severity==="warning"?"medium":"low"}};function Dy(){const l=Sy(),r=Pc(),c={};return Object.entries(l).forEach(([o,a])=>{c[o]={name:a.name,description:a.description,severity:a.severity,validate:u=>{const f=Cy[o];return f?f(u,a):!0},...gh[o]&&{getDynamicSeverity:gh[o]}}}),c.stale&&(c.stale.description=`Issue has been open too long (Warning: ${r.warning} days, Critical: ${r.critical} days)`),c}const $a=Dy();function Lh(l){const r=[],c=[],o=Pa(l);return Object.entries($a).forEach(([a,u])=>{if(u.validate(l))c.push(a);else{const x=u.getDynamicSeverity?u.getDynamicSeverity(l):u.severity;r.push({criterion:a,name:u.name,description:u.description,severity:x,...a==="stale"&&{daysOpen:o.daysOpen}})}}),{issueId:l.id,iid:l.iid,title:l.title,state:l.state,violations:r,passed:c,complianceScore:Math.round(c.length/Object.keys($a).length*100),isCompliant:r.length===0,staleStatus:o}}function wy(l){return l.map(o=>({...Lh(o),createdAt:o.created_at,updatedAt:o.updated_at,author:o.author,assignees:o.assignees||[],labels:o.labels||[],milestone:o.milestone,epic:o.epic,weight:o.weight,description:o.description,dueDate:o.due_date,webUrl:o.web_url})).filter(o=>!o.isCompliant).sort((o,a)=>o.complianceScore!==a.complianceScore?o.complianceScore-a.complianceScore:(a.staleStatus?.daysOpen||0)-(o.staleStatus?.daysOpen||0))}function Wh(l){return l.filter(r=>r.state==="opened").map(r=>{const c=Pa(r);return{...r,staleStatus:c}}).filter(r=>r.staleStatus.isStale).sort((r,c)=>c.staleStatus.daysOpen-r.staleStatus.daysOpen)}function zy(l){const r=l.map(Lh),c=r.length,o=r.filter(S=>S.isCompliant).length,a=c-o,u=c>0?Math.round(o/c*100):0,f={};Object.keys($a).forEach(S=>{f[S]=0}),r.forEach(S=>{S.violations.forEach(w=>{f[w.criterion]++})});const x=r.filter(S=>S.violations.some(w=>w.severity==="high")).length,g=r.filter(S=>S.violations.some(w=>w.severity==="medium")&&!S.violations.some(w=>w.severity==="high")).length,h=r.filter(S=>S.violations.some(w=>w.severity==="low")&&!S.violations.some(w=>w.severity==="high"||w.severity==="medium")).length,m=Wh(l),b=m.filter(S=>S.staleStatus.severity==="warning").length,y=m.filter(S=>S.staleStatus.severity==="critical").length;return{total:c,compliant:o,nonCompliant:a,complianceRate:u,violationsByCriterion:f,highSeverity:x,mediumSeverity:g,lowSeverity:h,staleIssues:{total:m.length,warning:b,critical:y}}}function Uh(){return Object.entries($a).map(([l,r])=>({key:l,...r}))}function Qc({value:l,onChange:r,placeholder:c="Search...",onClear:o}){return t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsxs("div",{style:{position:"relative",maxWidth:"600px"},children:[t.jsx("input",{type:"text",value:l,onChange:a=>r(a.target.value),placeholder:c,style:{width:"100%",padding:"12px 45px 12px 45px",fontSize:"14px",border:"2px solid #D1D5DB",borderRadius:"8px",outline:"none",transition:"border-color 0.2s"},onFocus:a=>a.target.style.borderColor="#2563EB",onBlur:a=>a.target.style.borderColor="#D1D5DB"}),t.jsx("div",{style:{position:"absolute",left:"15px",top:"50%",transform:"translateY(-50%)",color:"#6B7280",fontSize:"18px"},children:""}),l&&t.jsx("button",{onClick:()=>{r(""),o&&o()},style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"#F3F4F6",border:"none",borderRadius:"50%",width:"28px",height:"28px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"center",color:"#6B7280",transition:"background 0.2s"},onMouseEnter:a=>a.target.style.background="#E5E7EB",onMouseLeave:a=>a.target.style.background="#F3F4F6",children:""})]}),l&&t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"8px",marginLeft:"4px"},children:" Searching: title, labels, assignees, epic, milestone, description, ID"})]})}function Hh(l,r){if(!r||r.trim()==="")return l;const c=r.toLowerCase().trim();return l.filter(o=>!!(o.title?.toLowerCase().includes(c)||o.description?.toLowerCase().includes(c)||o.labels?.some(a=>a.toLowerCase().includes(c))||o.assignees?.some(a=>a.name?.toLowerCase().includes(c)||a.username?.toLowerCase().includes(c))||o.epic?.title?.toLowerCase().includes(c)||o.milestone?.title?.toLowerCase().includes(c)||o.author?.name?.toLowerCase().includes(c)||o.author?.username?.toLowerCase().includes(c)||o.iid?.toString().includes(c)||o.id?.toString().includes(c)||o.references?.short?.toLowerCase().includes(c)))}function Ay(l,r){if(!r||r.trim()==="")return l;const c=r.toLowerCase().trim();return l.filter(o=>!!(o.title?.toLowerCase().includes(c)||o.description?.toLowerCase().includes(c)||o.labels?.some(a=>a.toLowerCase().includes(c))||o.author?.name?.toLowerCase().includes(c)||o.author?.username?.toLowerCase().includes(c)||o.iid?.toString().includes(c)||o.id?.toString().includes(c)))}function ky({isOpen:l,onClose:r}){const[c,o]=R.useState(()=>Ha()),[a,u]=R.useState(!1);if(!l)return null;const f=D=>{const M={...c,criteria:{...c.criteria,[D]:{...c.criteria[D],enabled:!c.criteria[D].enabled}}};o(M),u(!0)},x=(D,M)=>{const W={...c,criteria:{...c.criteria,[D]:{...c.criteria[D],severity:M}}};o(W),u(!0)},g=(D,M)=>{const W={...c,criteria:{...c.criteria,[D]:{...c.criteria[D],threshold:parseInt(M,10)}}};o(W),u(!0)},h=(D,M)=>{const W={...c,staleThresholds:{...c.staleThresholds,[D]:parseInt(M,10)}};o(W),u(!0)},m=()=>{by(c),u(!1),r(),window.location.reload()},b=()=>{window.confirm("Reset to default quality criteria? This will remove all customizations.")&&(jy(),o(Ha()),u(!0))},y=D=>{switch(D){case"high":return"#DC2626";case"medium":return"#F59E0B";case"low":return"#6B7280";default:return"#6B7280"}},S=Object.entries(c.criteria).map(([D,M])=>({key:D,...M})),w=S.filter(D=>D.enabled).length;return t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:t.jsxs("div",{style:{background:"white",borderRadius:"12px",maxWidth:"900px",width:"100%",maxHeight:"90vh",display:"flex",flexDirection:"column",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[t.jsxs("div",{style:{padding:"24px",borderBottom:"1px solid #E5E7EB",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs("div",{children:[t.jsx("h2",{style:{fontSize:"20px",fontWeight:"600",marginBottom:"4px"},children:"Quality Criteria Configuration"}),t.jsx("p",{style:{fontSize:"14px",color:"#6B7280"},children:"Enable/disable criteria and adjust severity levels"})]}),t.jsx("button",{onClick:r,style:{padding:"8px",background:"transparent",border:"none",fontSize:"24px",cursor:"pointer",color:"#6B7280",lineHeight:1},children:""})]}),t.jsxs("div",{style:{padding:"16px 24px",background:"#F9FAFB",borderBottom:"1px solid #E5E7EB",display:"flex",gap:"24px"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"2px"},children:"Active Criteria"}),t.jsxs("div",{style:{fontSize:"20px",fontWeight:"600",color:"#1F2937"},children:[w," / ",S.length]})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"2px"},children:"Stale Warning"}),t.jsxs("div",{style:{fontSize:"20px",fontWeight:"600",color:"#F59E0B"},children:[c.staleThresholds.warning,"d"]})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"2px"},children:"Stale Critical"}),t.jsxs("div",{style:{fontSize:"20px",fontWeight:"600",color:"#DC2626"},children:[c.staleThresholds.critical,"d"]})]})]}),t.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"24px"},children:[t.jsxs("div",{style:{marginBottom:"32px"},children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"16px",color:"#1F2937"},children:"Stale Issue Thresholds"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",marginBottom:"6px",color:"#374151"},children:"Warning (days)"}),t.jsx("input",{type:"number",value:c.staleThresholds.warning,onChange:D=>h("warning",D.target.value),min:"1",max:"365",style:{width:"100%",padding:"8px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px"}}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:"Issues open longer than this are marked as warnings"})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",marginBottom:"6px",color:"#374151"},children:"Critical (days)"}),t.jsx("input",{type:"number",value:c.staleThresholds.critical,onChange:D=>h("critical",D.target.value),min:"1",max:"365",style:{width:"100%",padding:"8px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px"}}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:"Issues open longer than this are marked as critical"})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"16px",color:"#1F2937"},children:"Quality Criteria"}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:S.map(D=>t.jsx("div",{style:{padding:"16px",background:D.enabled?"white":"#F9FAFB",border:"1px solid #E5E7EB",borderRadius:"8px",opacity:D.enabled?1:.6,transition:"all 0.2s"},children:t.jsxs("div",{style:{display:"flex",gap:"16px",alignItems:"flex-start"},children:[t.jsx("div",{style:{paddingTop:"4px"},children:t.jsx("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:t.jsx("input",{type:"checkbox",checked:D.enabled,onChange:()=>f(D.key),style:{width:"18px",height:"18px",cursor:"pointer"}})})}),t.jsx("div",{style:{width:"6px",alignSelf:"stretch",background:y(D.severity),borderRadius:"3px"}}),t.jsxs("div",{style:{flex:1},children:[t.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1F2937",marginBottom:"6px"},children:D.name}),t.jsx("div",{style:{fontSize:"13px",color:"#6B7280",marginBottom:"12px"},children:D.description}),t.jsxs("div",{style:{display:"flex",gap:"16px",alignItems:"center"},children:[t.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"500",color:"#6B7280"},children:"Severity:"}),t.jsx("div",{style:{display:"flex",gap:"6px"},children:["high","medium","low"].map(M=>t.jsx("button",{onClick:()=>x(D.key,M),disabled:!D.enabled,style:{padding:"4px 10px",fontSize:"11px",fontWeight:"600",border:D.severity===M?"2px solid":"1px solid",borderColor:D.severity===M?y(M):"#D1D5DB",borderRadius:"4px",background:D.severity===M?`${y(M)}15`:"white",color:D.severity===M?y(M):"#6B7280",cursor:D.enabled?"pointer":"not-allowed",textTransform:"capitalize",transition:"all 0.2s"},children:M},M))})]}),D.key==="description"&&D.threshold!==void 0&&t.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[t.jsx("label",{style:{fontSize:"12px",fontWeight:"500",color:"#6B7280"},children:"Min length:"}),t.jsx("input",{type:"number",value:D.threshold,onChange:M=>g(D.key,M.target.value),disabled:!D.enabled,min:"1",max:"1000",style:{width:"70px",padding:"4px 8px",border:"1px solid #D1D5DB",borderRadius:"4px",fontSize:"12px"}}),t.jsx("span",{style:{fontSize:"12px",color:"#6B7280"},children:"chars"})]})]})]})]})},D.key))})]})]}),t.jsxs("div",{style:{padding:"20px 24px",borderTop:"1px solid #E5E7EB",display:"flex",justifyContent:"space-between",gap:"12px"},children:[t.jsx("button",{onClick:b,style:{padding:"10px 20px",background:"white",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",fontWeight:"500",color:"#DC2626",cursor:"pointer"},children:"Reset to Defaults"}),t.jsxs("div",{style:{display:"flex",gap:"12px"},children:[t.jsx("button",{onClick:r,style:{padding:"10px 20px",background:"white",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",fontWeight:"500",color:"#374151",cursor:"pointer"},children:"Cancel"}),t.jsx("button",{onClick:m,disabled:!a,style:{padding:"10px 20px",background:a?"#E60000":"#D1D5DB",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"600",color:"white",cursor:a?"pointer":"not-allowed"},children:"Save Changes"})]})]})]})})}const Ty="dodTemplates",Oc={feature:{name:"Feature",checklist:[{id:"code-review",label:"Code reviewed (2+ approvals)",required:!0},{id:"unit-tests",label:"Unit tests written (>80% coverage)",required:!0},{id:"integration-tests",label:"Integration tests passed",required:!0},{id:"documentation",label:"Documentation updated",required:!0},{id:"demo",label:"Demoed to Product Owner",required:!1},{id:"acceptance-criteria",label:"Acceptance criteria met",required:!0}]},bug:{name:"Bug Fix",checklist:[{id:"root-cause",label:"Root cause documented",required:!0},{id:"code-review",label:"Code reviewed",required:!0},{id:"test-case",label:"Test case added to prevent regression",required:!0},{id:"regression-test",label:"Regression test passed",required:!0},{id:"fix-verified",label:"Fix verified in staging",required:!0}]},enhancement:{name:"Enhancement",checklist:[{id:"code-review",label:"Code reviewed",required:!0},{id:"backward-compatible",label:"Backward compatible",required:!0},{id:"performance-tested",label:"Performance tested",required:!1},{id:"documentation",label:"Documentation updated",required:!0},{id:"acceptance-criteria",label:"Acceptance criteria met",required:!0}]}};function $h(){try{const l=localStorage.getItem(Ty);return l?JSON.parse(l):Oc}catch(l){return console.error("Error loading DoD templates:",l),Oc}}function Fy(l){const r=$h(),c=l?.toLowerCase()||"feature";return r[c]?r[c]:r.feature||Oc.feature}function Ry(l){if(!l.labels||l.labels.length===0)return"feature";const r=l.labels.map(c=>c.toLowerCase());return r.some(c=>c.includes("bug")||c.includes("defect"))?"bug":r.some(c=>c.includes("enhancement")||c.includes("improvement"))?"enhancement":"feature"}function qh(l){const r=Ry(l),c=Fy(r),o=[],a=[];c.checklist.forEach(g=>{let h=!1;switch(g.id){case"code-review":h=l.description&&(l.description.includes("!")||l.description.toLowerCase().includes("merge request")||l.description.toLowerCase().includes("reviewed"));break;case"unit-tests":case"integration-tests":case"regression-test":h=l.description&&(l.description.toLowerCase().includes("test")||l.description.toLowerCase().includes("coverage"));break;case"documentation":h=l.description&&(l.description.toLowerCase().includes("documentation")||l.description.toLowerCase().includes("readme")||l.description.length>=200);break;case"acceptance-criteria":h=l.description&&(l.description.toLowerCase().includes("acceptance criteria")||l.description.toLowerCase().includes("acceptance:")||l.description.includes("- [ ]"));break;case"root-cause":h=l.description&&(l.description.toLowerCase().includes("root cause")||l.description.toLowerCase().includes("cause:")||l.description.toLowerCase().includes("reason:"));break;case"test-case":case"fix-verified":case"demo":case"backward-compatible":case"performance-tested":h=!1;break;default:h=!1}h?o.push(g):g.required&&a.push(g)});const u=c.checklist.filter(g=>g.required),f=o.filter(g=>g.required).length,x=u.length>0?Math.round(f/u.length*100):100;return{issueType:r,dodTemplate:c.name,totalItems:c.checklist.length,requiredItems:u.length,checkedItems:o,missingItems:a,compliancePercentage:x,isCompliant:a.length===0}}function My(l){const c=l.filter(o=>o.state==="closed"||o.labels?.some(a=>a.toLowerCase().includes("review"))).map(o=>({issue:o,dod:qh(o)})).filter(o=>!o.dod.isCompliant);return c.sort((o,a)=>o.dod.compliancePercentage-a.dod.compliancePercentage),c}function Ny(l){const r=l.filter(x=>x.state==="closed"||x.labels?.some(g=>g.toLowerCase().includes("review")));if(r.length===0)return{totalIssues:0,compliantIssues:0,violatingIssues:0,complianceRate:100,avgCompliancePercentage:100};const c=r.map(x=>qh(x)),o=c.filter(x=>x.isCompliant).length,a=c.filter(x=>!x.isCompliant).length,u=Math.round(o/r.length*100),f=Math.round(c.reduce((x,g)=>x+g.compliancePercentage,0)/c.length);return{totalIssues:r.length,compliantIssues:o,violatingIssues:a,complianceRate:u,avgCompliancePercentage:f}}function Iy(l){const r=["Issue ID","Title","Type","State","DoD Template","Compliance %","Missing Items","URL"],c=l.map(({issue:a,dod:u})=>[a.iid,`"${a.title.replace(/"/g,'""')}"`,u.issueType,a.state,u.dodTemplate,`${u.compliancePercentage}%`,`"${u.missingItems.map(f=>f.label).join("; ")}"`,a.web_url]);return[r.join(","),...c.map(a=>a.join(","))].join(`
`)}function Oy(l,r="dod-violations.csv"){const c=new Blob([l],{type:"text/csv;charset=utf-8;"}),o=document.createElement("a"),a=URL.createObjectURL(c);o.setAttribute("href",a),o.setAttribute("download",r),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o)}function _y({issues:l}){const[r,c]=R.useState(null),o=My(l),a=Ny(l),u=$h(),f=()=>{const g=Iy(o);Oy(g)},x=g=>g>=80?"#10B981":g>=60?"#F59E0B":"#EF4444";return t.jsxs("div",{children:[t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px",marginBottom:"24px"},children:[t.jsxs("div",{className:"card",style:{textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Compliance Rate"}),t.jsxs("div",{style:{fontSize:"36px",fontWeight:"700",color:x(a.complianceRate)},children:[a.complianceRate,"%"]})]}),t.jsxs("div",{className:"card",style:{textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Compliant Issues"}),t.jsx("div",{style:{fontSize:"36px",fontWeight:"700",color:"#10B981"},children:a.compliantIssues})]}),t.jsxs("div",{className:"card",style:{textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Violations"}),t.jsx("div",{style:{fontSize:"36px",fontWeight:"700",color:"#EF4444"},children:a.violatingIssues})]}),t.jsxs("div",{className:"card",style:{textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Avg Compliance"}),t.jsxs("div",{style:{fontSize:"36px",fontWeight:"700",color:x(a.avgCompliancePercentage)},children:[a.avgCompliancePercentage,"%"]})]})]}),t.jsxs("div",{className:"card",style:{marginBottom:"24px",background:"#EFF6FF",borderColor:"#BFDBFE"},children:[t.jsx("div",{style:{marginBottom:"12px",fontSize:"14px",fontWeight:"600",color:"#1E40AF"},children:" Definition of Done Templates"}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px"},children:Object.entries(u).map(([g,h])=>t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"13px",fontWeight:"600",color:"#1E40AF",marginBottom:"4px"},children:h.name}),t.jsxs("div",{style:{fontSize:"12px",color:"#1E3A8A"},children:[h.checklist.filter(m=>m.required).length," required items"]})]},g))})]}),o.length>0?t.jsxs("div",{className:"card",children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[t.jsxs("h3",{style:{fontSize:"18px",fontWeight:"600",margin:0},children:["DoD Violations (",o.length,")"]}),t.jsx("button",{onClick:f,style:{padding:"6px 12px",background:"#E60000",color:"white",border:"none",borderRadius:"6px",fontSize:"13px",fontWeight:"500",cursor:"pointer"},children:"Export CSV"})]}),o.map(({issue:g,dod:h})=>{const m=r===g.iid;return t.jsxs("div",{style:{border:`2px solid ${x(h.compliancePercentage)}`,borderRadius:"8px",marginBottom:"12px",overflow:"hidden"},children:[t.jsxs("div",{onClick:()=>c(m?null:g.iid),style:{padding:"12px 16px",background:"#F9FAFB",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[t.jsxs("span",{style:{fontSize:"14px",fontWeight:"600",color:"#1F2937"},children:["#",g.iid]}),t.jsxs("span",{style:{display:"inline-block",padding:"2px 8px",background:x(h.compliancePercentage)+"20",color:x(h.compliancePercentage),borderRadius:"10px",fontSize:"11px",fontWeight:"600"},children:[h.compliancePercentage,"% DoD"]}),t.jsx("span",{style:{fontSize:"12px",color:"#6B7280",fontWeight:"500"},children:h.dodTemplate})]}),t.jsx("div",{style:{fontSize:"13px",color:"#4B5563"},children:g.title})]}),t.jsx("div",{style:{fontSize:"20px",color:"#6B7280",transform:m?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"},children:""})]}),m&&t.jsxs("div",{style:{padding:"16px",background:"white"},children:[h.missingItems.length>0&&t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("div",{style:{fontSize:"13px",fontWeight:"600",color:"#4B5563",marginBottom:"8px"},children:[" Missing Required Items (",h.missingItems.length,"):"]}),h.missingItems.map(b=>t.jsx("div",{style:{padding:"8px 12px",background:"#FEF2F2",border:"1px solid #FCA5A5",borderRadius:"6px",marginBottom:"6px",fontSize:"13px",color:"#DC2626"},children:b.label},b.id))]}),h.checkedItems.length>0&&t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("div",{style:{fontSize:"13px",fontWeight:"600",color:"#4B5563",marginBottom:"8px"},children:[" Completed Items (",h.checkedItems.length,"):"]}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"6px"},children:h.checkedItems.map(b=>t.jsxs("div",{style:{padding:"6px 12px",background:"#F0FDF4",border:"1px solid #86EFAC",borderRadius:"6px",fontSize:"12px",color:"#166534"},children:[" ",b.label]},b.id))})]}),t.jsxs("div",{style:{padding:"12px",background:"#EFF6FF",border:"1px solid #3B82F6",borderRadius:"6px"},children:[t.jsx("div",{style:{fontSize:"13px",fontWeight:"600",color:"#1E40AF",marginBottom:"4px"},children:" Recommendation:"}),t.jsxs("div",{style:{fontSize:"12px",color:"#1E3A8A"},children:["Update issue description to include missing DoD items before marking as Done.",h.missingItems.some(b=>b.id==="acceptance-criteria")&&t.jsx(t.Fragment,{children:' Add an "Acceptance Criteria" section with clear success criteria.'})]})]}),t.jsx("div",{style:{marginTop:"12px"},children:t.jsx("a",{href:g.web_url,target:"_blank",rel:"noopener noreferrer",style:{fontSize:"13px",color:"#E60000",textDecoration:"none",fontWeight:"500"},children:"View Issue in GitLab "})})]})]},g.iid)})]}):t.jsxs("div",{className:"card",style:{padding:"40px",textAlign:"center",background:"#F0FDF4",border:"2px solid #86EFAC"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),t.jsx("div",{style:{fontSize:"18px",fontWeight:"600",color:"#166534",marginBottom:"8px"},children:"Perfect DoD Compliance!"}),t.jsx("div",{style:{fontSize:"14px",color:"#15803D"},children:"All closed issues meet the Definition of Done criteria."})]})]})}function Ly({nonCompliantIssues:l}){const[r,c]=R.useState(null),[o,a]=R.useState(null),u=Uh(),f=R.useMemo(()=>{if(!l||l.length===0)return new Map;const m=new Map;return u.forEach(b=>{m.set(b.key,{key:b.key,name:b.name,description:b.description,severity:b.severity,issues:new Set,totalViolations:0})}),l.forEach(b=>{b.violations.forEach(y=>{const S=m.get(y.criterion);S&&(S.issues.add(b),S.totalViolations++)})}),m.forEach((b,y)=>{b.issues=Array.from(b.issues)}),m},[l,u]),x=R.useMemo(()=>{if(!r||!f.has(r))return[];const m=f.get(r),b=new Map;return m.issues.forEach(y=>{const S=[];if(y.assignees&&y.assignees.length>0)y.assignees.forEach(w=>{const D=w.name||w.username||"Unknown";S.push(D)});else if(y.author){const w=y.author.name||y.author.username||"Unknown";S.push(w)}else S.push("Unassigned");S.forEach(w=>{b.has(w)||b.set(w,{name:w,issues:[],violationCount:0});const D=b.get(w);D.issues.push(y);const M=y.violations.filter(W=>W.criterion===r).length;D.violationCount+=M})}),Array.from(b.values()).sort((y,S)=>S.issues.length-y.issues.length)},[r,f,l]),g=R.useMemo(()=>!o||!x?[]:x.find(b=>b.name===o)?.issues||[],[o,x]),h=m=>{switch(m){case"high":return"#DC2626";case"medium":return"#D97706";case"low":return"#2563EB";default:return"#6B7280"}};return!l||l.length===0?t.jsxs("div",{className:"card text-center",style:{padding:"60px 20px"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px",opacity:.3},children:""}),t.jsx("h3",{className:"mb-2",children:"All Issues Compliant"}),t.jsx("p",{className:"text-muted",children:"No quality violations found. Great job!"})]}):t.jsxs("div",{children:[t.jsxs("div",{className:"card",style:{marginBottom:"20px"},children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:"Step 1: Select a Quality Criterion"}),t.jsx("p",{style:{fontSize:"13px",color:"#6B7280",marginBottom:"16px"},children:"Choose a quality criterion to see how violations are distributed across team members."}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"12px"},children:u.map(m=>{const b=f.get(m.key),y=r===m.key,S=b&&b.issues.length>0;return t.jsx("div",{onClick:()=>{S&&(c(y?null:m.key),a(null))},style:{padding:"16px",background:y?"#FEF2F2":"white",borderRadius:"8px",border:y?"2px solid #DC2626":"1px solid #E5E7EB",cursor:S?"pointer":"default",opacity:S?1:.5,transition:"all 0.2s",transform:y?"scale(0.98)":"scale(1)"},children:t.jsxs("div",{style:{display:"flex",gap:"12px"},children:[t.jsx("div",{style:{width:"8px",background:h(m.severity),borderRadius:"4px"}}),t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1F2937",marginBottom:"4px",display:"flex",alignItems:"center",gap:"8px"},children:[m.name,y&&t.jsx("span",{style:{fontSize:"11px",padding:"2px 8px",background:"#DC2626",color:"white",borderRadius:"10px",fontWeight:"600"},children:"SELECTED"})]}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"8px"},children:m.description}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("div",{style:{fontSize:"13px",fontWeight:"600",color:S?"#DC2626":"#6B7280"},children:b?t.jsxs(t.Fragment,{children:[b.issues.length," issue",b.issues.length!==1?"s":"",b.totalViolations>b.issues.length&&t.jsxs("span",{style:{fontSize:"11px",color:"#6B7280",marginLeft:"8px"},children:["(",b.totalViolations," total violations)"]})]}):"0 issues"}),S&&t.jsx("div",{style:{fontSize:"11px",color:"#3B82F6",fontWeight:"600"},children:"Click to analyze "})]})]})]})},m.key)})})]}),r&&x.length>0&&t.jsxs("div",{className:"card",style:{marginBottom:"20px"},children:[t.jsxs("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:['Step 2: Person Distribution for "',f.get(r)?.name,'"']}),t.jsxs("p",{style:{fontSize:"13px",color:"#6B7280",marginBottom:"16px"},children:["Shows how the ",f.get(r)?.issues.length," issues with this violation are distributed across team members. Click on a person to see their specific issues."]}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gap:"12px"},children:x.map(m=>{const b=o===m.name,y=(m.issues.length/f.get(r).issues.length*100).toFixed(0);return t.jsxs("div",{onClick:()=>a(b?null:m.name),style:{padding:"16px",background:b?"#EFF6FF":"white",border:b?"2px solid #3B82F6":"1px solid #E5E7EB",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1F2937",marginBottom:"4px"},children:m.name}),t.jsxs("div",{style:{fontSize:"12px",color:"#6B7280"},children:[m.issues.length," issue",m.issues.length!==1?"s":"",m.violationCount>m.issues.length&&t.jsxs("span",{style:{fontSize:"11px",marginLeft:"4px"},children:["(",m.violationCount," violations)"]})]})]}),t.jsx("div",{style:{fontSize:"20px",fontWeight:"700",color:"#DC2626"},children:m.issues.length})]}),t.jsxs("div",{style:{marginBottom:"8px"},children:[t.jsxs("div",{style:{fontSize:"11px",color:"#6B7280",marginBottom:"4px"},children:[y,"% of issues with this violation"]}),t.jsx("div",{style:{width:"100%",height:"6px",background:"#F3F4F6",borderRadius:"3px",overflow:"hidden"},children:t.jsx("div",{style:{width:`${y}%`,height:"100%",background:"linear-gradient(90deg, #3B82F6 0%, #60A5FA 100%)",transition:"width 0.3s"}})})]}),b&&t.jsx("div",{style:{fontSize:"11px",color:"#3B82F6",fontWeight:"600",textAlign:"center",marginTop:"8px"},children:"Click to hide issues"})]},m.name)})})]}),o&&g.length>0&&t.jsxs("div",{className:"card",children:[t.jsxs("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:[o,`'s Issues with "`,f.get(r)?.name,'" Violations']}),t.jsxs("p",{style:{fontSize:"13px",color:"#6B7280",marginBottom:"16px"},children:[g.length," issue",g.length!==1?"s":""," found. Click on an issue to open it in GitLab."]}),t.jsx("div",{style:{display:"grid",gap:"8px"},children:g.map(m=>{const b=m.violations.filter(y=>y.criterion===r).length;return t.jsxs("a",{href:m.webUrl,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 16px",background:"white",border:"1px solid #E5E7EB",borderRadius:"6px",textDecoration:"none",color:"#1F2937",transition:"all 0.2s"},onMouseEnter:y=>{y.currentTarget.style.borderColor="#3B82F6",y.currentTarget.style.background="#F0F9FF",y.currentTarget.style.transform="translateX(4px)"},onMouseLeave:y=>{y.currentTarget.style.borderColor="#E5E7EB",y.currentTarget.style.background="white",y.currentTarget.style.transform="translateX(0)"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{fontSize:"14px",fontWeight:"600",marginBottom:"4px"},children:["#",m.iid," ",m.title]}),t.jsxs("div",{style:{fontSize:"12px",color:"#6B7280"},children:[m.state==="opened"?"Open":"Closed"," ",m.assignees&&m.assignees.length>0?t.jsxs("span",{children:[" Assigned to: ",m.assignees.map(y=>y.name||y.username).join(", ")]}):t.jsxs("span",{children:[" Created by: ",m.author?.name||m.author?.username||"Unknown"]})]}),t.jsxs("div",{style:{fontSize:"11px",color:"#9CA3AF",marginTop:"4px"},children:[b," violation",b!==1?"s":""," of this criterion"]})]}),t.jsx("div",{style:{padding:"6px 12px",background:"#3B82F6",color:"white",borderRadius:"6px",fontSize:"12px",fontWeight:"600",display:"flex",alignItems:"center",gap:"4px"},children:"Open in GitLab "})]},m.id)})})]})]})}function Wy({issues:l}){const{filteredIssues:r}=Bi(),[c,o]=R.useState(""),[a,u]=R.useState(null),[f,x]=R.useState(!1),[g,h]=R.useState("quality"),[m,b]=R.useState(()=>localStorage.getItem("quality.showOpenOnly")!=="false"),[y,S]=R.useState(()=>localStorage.getItem("quality.legendCollapsed")==="true"),w=()=>{S(j=>{const G=!j;return localStorage.setItem("quality.legendCollapsed",String(G)),G})},D=()=>{b(j=>{const G=!j;return localStorage.setItem("quality.showOpenOnly",String(G)),G})},{nonCompliantIssues:M,stats:W,staleIssues:q}=R.useMemo(()=>{if(!r||r.length===0)return{nonCompliantIssues:[],stats:null,staleIssues:[]};const j=m?r.filter(le=>le.state==="opened"):r,G=wy(j),P=zy(j),ee=Wh(j);return{nonCompliantIssues:G,stats:P,staleIssues:ee}},[r,m]),I=Uh(),N=R.useMemo(()=>{let j=M;if(c&&(j=Hh(j,c)),a)switch(a){case"highSeverity":j=j.filter(G=>G.violations.some(P=>P.severity==="high"));break;case"mediumSeverity":j=j.filter(G=>G.violations.some(P=>P.severity==="medium"));break;case"lowSeverity":j=j.filter(G=>G.violations.some(P=>P.severity==="low"));break;case"stale":j=j.filter(G=>G.staleStatus?.isStale);break;default:j=j.filter(G=>G.violations.some(P=>P.criterion===a));break}return j},[M,c,a]),B=()=>{const j=ch(N),G=new Date().toISOString().split("T")[0];Xt(j,`issue-compliance-report-${G}.csv`)},z=()=>{const P=Ct().teamMembers?.find(C=>C.role==="Scrum Master")?.email||"",ee=`Issue Quality Compliance Report - ${new Date().toLocaleDateString()}`,le=N.length,re=N.filter(C=>C.violations.some(U=>U.severity==="high")).length,T=N.filter(C=>C.violations.some(U=>U.severity==="medium")).length,A=N.filter(C=>C.violations.some(U=>U.severity==="low")).length,k=`Hi,

Please find the Issue Quality Compliance Report attached.

Summary:
- Total non-compliant issues: ${le}
- High severity: ${re}
- Medium severity: ${T}
- Low severity: ${A}
- Compliance rate: ${W?.complianceRate}%

The CSV report has been downloaded to your Downloads folder. Please attach it to this email before sending.

Best regards`,L=ch(N),H=new Date().toISOString().split("T")[0];Xt(L,`issue-compliance-report-${H}.csv`);const K=`mailto:${P}?subject=${encodeURIComponent(ee)}&body=${encodeURIComponent(k)}`;window.location.href=K},F=j=>{u(a===j?null:j)},_=j=>{switch(j){case"high":return"#DC2626";case"medium":return"#D97706";case"low":return"#2563EB";default:return"#6B7280"}};return t.jsxs("div",{className:"container-fluid",children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"20px"},children:[t.jsxs("div",{children:[t.jsx("h2",{style:{fontSize:"24px",fontWeight:"600",marginBottom:"8px"},children:"Issue Quality Compliance"}),t.jsx("p",{style:{fontSize:"14px",color:"#6B7280"},children:"Quality criteria validation for all issues"})]}),t.jsxs("div",{style:{display:"flex",gap:"12px"},children:[t.jsx("button",{className:"btn",onClick:()=>x(!0),style:{display:"flex",alignItems:"center",gap:"6px"},children:"Configure Criteria"}),N.length>0&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"btn btn-primary",onClick:z,children:"Email Report"}),t.jsx("button",{className:"btn",onClick:B,children:"Export CSV"})]})]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"2px solid #E5E7EB",marginBottom:"24px"},children:[t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsx("button",{onClick:()=>h("quality"),style:{padding:"12px 24px",background:g==="quality"?"white":"transparent",border:"none",borderBottom:g==="quality"?"3px solid #E60000":"3px solid transparent",fontSize:"14px",fontWeight:g==="quality"?"600":"500",color:g==="quality"?"#E60000":"#6B7280",cursor:"pointer",transition:"all 0.2s",marginBottom:"-2px"},children:"Quality Criteria"}),t.jsx("button",{onClick:()=>h("byauthor"),style:{padding:"12px 24px",background:g==="byauthor"?"white":"transparent",border:"none",borderBottom:g==="byauthor"?"3px solid #E60000":"3px solid transparent",fontSize:"14px",fontWeight:g==="byauthor"?"600":"500",color:g==="byauthor"?"#E60000":"#6B7280",cursor:"pointer",transition:"all 0.2s",marginBottom:"-2px"},children:"By Author"}),t.jsx("button",{onClick:()=>h("dod"),style:{padding:"12px 24px",background:g==="dod"?"white":"transparent",border:"none",borderBottom:g==="dod"?"3px solid #E60000":"3px solid transparent",fontSize:"14px",fontWeight:g==="dod"?"600":"500",color:g==="dod"?"#E60000":"#6B7280",cursor:"pointer",transition:"all 0.2s",marginBottom:"-2px"},children:"Definition of Done"})]}),(g==="quality"||g==="byauthor")&&t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",background:"#F9FAFB",borderRadius:"6px",marginBottom:"-2px"},children:[t.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",fontSize:"13px",fontWeight:"500",color:"#374151"},children:[t.jsx("input",{type:"checkbox",checked:m,onChange:D,style:{width:"16px",height:"16px",cursor:"pointer"}}),t.jsx("span",{children:"Show open issues only"})]}),t.jsx("div",{style:{fontSize:"11px",color:"#6B7280",padding:"2px 8px",background:m?"#DCFCE7":"#FEF3C7",borderRadius:"10px",fontWeight:"600"},children:m?"Open only":"All issues"})]})]}),t.jsx(ky,{isOpen:f,onClose:()=>x(!1)}),g==="dod"?t.jsx(_y,{issues:r}):g==="byauthor"?t.jsx(Ly,{nonCompliantIssues:M}):t.jsxs(t.Fragment,{children:[t.jsx(Qc,{value:c,onChange:o,placeholder:"Search issues by title, labels, assignees, epic, milestone, description...",onClear:()=>u(null)}),W&&t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:"30px"},children:[t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Compliance Rate"}),t.jsxs("div",{style:{fontSize:"32px",fontWeight:"600",color:W.complianceRate>=80?"#059669":W.complianceRate>=60?"#D97706":"#DC2626"},children:[W.complianceRate,"%"]}),t.jsxs("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:[W.compliant," / ",W.total," issues"]})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Non-Compliant"}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"600",color:"#DC2626"},children:W.nonCompliant}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:"Need attention"})]}),t.jsxs("div",{className:"card",onClick:()=>F("highSeverity"),style:{borderLeft:"4px solid #DC2626",cursor:"pointer",transform:a==="highSeverity"?"scale(0.98)":"scale(1)",boxShadow:a==="highSeverity"?"0 0 0 3px #DC262633":void 0,transition:"all 0.2s"},children:[t.jsxs("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:["High Severity ",a==="highSeverity"&&"[Active]"]}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"600",color:"#DC2626"},children:W.highSeverity}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:a==="highSeverity"?"Click to clear filter":"Click to filter"})]}),t.jsxs("div",{className:"card",onClick:()=>F("mediumSeverity"),style:{borderLeft:"4px solid #D97706",cursor:"pointer",transform:a==="mediumSeverity"?"scale(0.98)":"scale(1)",boxShadow:a==="mediumSeverity"?"0 0 0 3px #D9770633":void 0,transition:"all 0.2s"},children:[t.jsxs("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:["Medium Severity ",a==="mediumSeverity"&&"[Active]"]}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"600",color:"#D97706"},children:W.mediumSeverity}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:a==="mediumSeverity"?"Click to clear filter":"Click to filter"})]}),t.jsxs("div",{className:"card",onClick:()=>F("lowSeverity"),style:{borderLeft:"4px solid #6B7280",cursor:"pointer",transform:a==="lowSeverity"?"scale(0.98)":"scale(1)",boxShadow:a==="lowSeverity"?"0 0 0 3px rgba(107, 114, 128, 0.2)":void 0,transition:"all 0.2s"},children:[t.jsxs("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:["Low Severity ",a==="lowSeverity"&&"[Active]"]}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"600",color:"#6B7280"},children:W.lowSeverity}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:a==="lowSeverity"?"Click to clear filter":"Click to filter"})]}),t.jsxs("div",{className:"card",onClick:()=>F("stale"),style:{borderLeft:"4px solid #9CA3AF",cursor:"pointer",transform:a==="stale"?"scale(0.98)":"scale(1)",boxShadow:a==="stale"?"0 0 0 3px rgba(156, 163, 175, 0.2)":void 0,transition:"all 0.2s"},children:[t.jsxs("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:["Stale Issues ",a==="stale"&&"[Active]"]}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"600",color:"#6B7280"},children:W.staleIssues.total}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:a==="stale"?"Click to clear filter":`${W.staleIssues.critical} critical, ${W.staleIssues.warning} warning`})]})]}),t.jsxs("div",{className:"card",style:{marginBottom:"30px",background:"#F0F9FF",borderColor:"#3B82F6"},children:[t.jsxs("div",{onClick:w,style:{display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",marginBottom:y?"0":"16px"},children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#1E40AF",margin:0},children:" Color Coding Guide"}),t.jsx("span",{style:{fontSize:"14px",color:"#1E40AF",transform:y?"rotate(-90deg)":"rotate(0deg)",transition:"transform 0.2s",display:"inline-block"},children:""})]}),!y&&t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[t.jsxs("div",{children:[t.jsx("h4",{style:{fontSize:"14px",fontWeight:"600",color:"#1E40AF",marginBottom:"8px"},children:"Compliance Score Calculation"}),t.jsxs("div",{style:{fontSize:"13px",color:"#1E3A8A",padding:"12px",background:"#DBEAFE",borderRadius:"6px",marginBottom:"4px",border:"1px solid #93C5FD"},children:[t.jsx("strong",{children:"Score = (Passed Criteria / Total Criteria)  100"}),t.jsx("div",{style:{marginTop:"8px",lineHeight:"1.5"},children:"Each issue is checked against all enabled quality criteria (assignee, weight, epic, description, labels, milestone, due date, priority, stale). The score reflects how many criteria the issue passes. For example, if 6 out of 9 criteria pass, the score is 67%."})]})]}),t.jsxs("div",{children:[t.jsx("h4",{style:{fontSize:"14px",fontWeight:"600",color:"#1E40AF",marginBottom:"8px"},children:"Issue Card Backgrounds"}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("div",{style:{width:"40px",height:"24px",background:"#FEF2F2",border:"1px solid #FEE2E2",borderRadius:"4px"}}),t.jsx("span",{style:{fontSize:"13px",color:"#374151"},children:"Red/pink background = Compliance score below 50% (critical)"})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("div",{style:{width:"40px",height:"24px",background:"white",border:"1px solid #E5E7EB",borderRadius:"4px"}}),t.jsx("span",{style:{fontSize:"13px",color:"#374151"},children:"White background = Compliance score 50% or above"})]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{style:{fontSize:"14px",fontWeight:"600",color:"#1E40AF",marginBottom:"8px"},children:"Left Border Colors"}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("div",{style:{width:"4px",height:"24px",background:"#DC2626",borderRadius:"2px"}}),t.jsx("span",{style:{fontSize:"13px",color:"#374151"},children:"Red = Score below 50%"})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("div",{style:{width:"4px",height:"24px",background:"#D97706",borderRadius:"2px"}}),t.jsx("span",{style:{fontSize:"13px",color:"#374151"},children:"Orange = Score 50-74%"})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("div",{style:{width:"4px",height:"24px",background:"#2563EB",borderRadius:"2px"}}),t.jsx("span",{style:{fontSize:"13px",color:"#374151"},children:"Blue = Score 75% or above"})]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{style:{fontSize:"14px",fontWeight:"600",color:"#1E40AF",marginBottom:"8px"},children:"Violation Badges"}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("div",{style:{padding:"4px 8px",background:"#FEE2E2",color:"#991B1B",fontSize:"11px",fontWeight:"500",borderRadius:"4px"},children:"HIGH"}),t.jsx("span",{style:{fontSize:"13px",color:"#374151"},children:"High severity violations (red background)"})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("div",{style:{padding:"4px 8px",background:"#FEF3C7",color:"#92400E",fontSize:"11px",fontWeight:"500",borderRadius:"4px"},children:"MED"}),t.jsx("span",{style:{fontSize:"13px",color:"#374151"},children:"Medium severity violations (yellow background)"})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("div",{style:{padding:"4px 8px",background:"#DBEAFE",color:"#1E40AF",fontSize:"11px",fontWeight:"500",borderRadius:"4px"},children:"LOW"}),t.jsx("span",{style:{fontSize:"13px",color:"#374151"},children:"Low severity violations (blue background)"})]})]})]})]})]}),t.jsxs("div",{className:"card",style:{marginBottom:"30px",background:"#F9FAFB"},children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"16px"},children:"Issue Quality Criteria"}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"12px"},children:I.map(j=>{const G=a===j.key,P=W?.violationsByCriterion[j.key]||0;return t.jsxs("div",{onClick:()=>P>0&&F(j.key),style:{display:"flex",gap:"12px",padding:"12px",background:"white",borderRadius:"6px",border:G?`2px solid ${_(j.severity)}`:"1px solid #E5E7EB",cursor:P>0?"pointer":"default",opacity:P===0?.5:1,transform:G?"scale(0.98)":"scale(1)",boxShadow:G?`0 0 0 3px ${_(j.severity)}33`:void 0,transition:"all 0.2s"},children:[t.jsx("div",{style:{width:"8px",background:_(j.severity),borderRadius:"4px"}}),t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{fontSize:"13px",fontWeight:"600",color:"#1F2937",marginBottom:"4px"},children:[j.name," ",G&&"[Active]"]}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280"},children:j.description}),W&&t.jsxs("div",{style:{fontSize:"11px",color:P>0?"#DC2626":"#6B7280",marginTop:"6px",fontWeight:P>0?"600":"400"},children:[P," violation",P!==1?"s":"",P>0&&"  Click to filter"]})]})]},j.key)})})]}),a&&N.length>0&&t.jsxs("div",{style:{marginBottom:"20px",padding:"12px 16px",background:"#F9FAFB",borderRadius:"8px",border:"1px solid #E5E7EB",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("span",{style:{fontSize:"14px",color:"#374151"},children:"Filtered by:"}),t.jsxs("span",{style:{padding:"4px 12px",background:"#E5E7EB",color:"#1F2937",borderRadius:"12px",fontSize:"13px",fontWeight:"600"},children:[a==="highSeverity"&&"High Severity",a==="mediumSeverity"&&"Medium Severity",a==="lowSeverity"&&"Low Severity",a==="stale"&&"Stale Issues",!["highSeverity","mediumSeverity","lowSeverity","stale"].includes(a)&&(I.find(j=>j.key===a)?.name||a)]}),t.jsxs("span",{style:{fontSize:"13px",color:"#6B7280"},children:["(",N.length," ",N.length===1?"issue":"issues",")"]})]}),t.jsx("button",{onClick:()=>u(null),style:{padding:"4px 12px",background:"#E60000",color:"white",border:"none",borderRadius:"6px",fontSize:"12px",fontWeight:"600",cursor:"pointer"},children:"Clear Filter"})]}),N.length===0?t.jsxs("div",{className:"card text-center",style:{padding:"60px 20px"},children:[t.jsx("h3",{className:"mb-2",children:M.length===0?"All Issues Compliant!":"No Issues in Selected Filter"}),t.jsx("p",{className:"text-muted",children:M.length===0?"All issues meet quality criteria. Great work!":"Try selecting a different severity filter."})]}):t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:N.map(j=>{const G=j.violations.filter(le=>le.severity==="high"),P=j.violations.filter(le=>le.severity==="medium"),ee=j.violations.filter(le=>le.severity==="low");return t.jsxs("div",{className:"card",style:{borderLeft:`4px solid ${j.complianceScore<50?"#DC2626":j.complianceScore<75?"#D97706":"#2563EB"}`,background:j.complianceScore<50?"#FEF2F2":"white"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[t.jsx("div",{style:{flex:1},children:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px",flexWrap:"wrap"},children:[t.jsxs("span",{style:{fontSize:"14px",fontWeight:"600",color:"#6B7280"},children:["#",j.iid]}),t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#1F2937",margin:0},children:j.title}),t.jsx("span",{style:{padding:"4px 8px",background:j.state==="opened"?"#DBEAFE":"#D1FAE5",color:j.state==="opened"?"#1E40AF":"#065F46",borderRadius:"4px",fontSize:"11px",fontWeight:"600",textTransform:"capitalize"},children:j.state}),j.staleStatus?.isStale&&t.jsxs("span",{style:{padding:"4px 8px",background:j.staleStatus.severity==="critical"?"#FEE2E2":"#FEF3C7",color:j.staleStatus.severity==="critical"?"#991B1B":"#92400E",borderRadius:"4px",fontSize:"11px",fontWeight:"600",display:"flex",alignItems:"center",gap:"4px"},children:[j.staleStatus.daysOpen," days open"]})]})}),t.jsxs("div",{style:{minWidth:"80px",textAlign:"center",padding:"8px 12px",background:j.complianceScore<50?"#DC262620":j.complianceScore<75?"#D9770620":"#2563EB20",borderRadius:"8px"},children:[t.jsx("div",{style:{fontSize:"11px",color:"#6B7280",marginBottom:"2px"},children:"Score"}),t.jsxs("div",{style:{fontSize:"20px",fontWeight:"700",color:j.complianceScore<50?"#DC2626":j.complianceScore<75?"#D97706":"#2563EB"},children:[j.complianceScore,"%"]})]})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("div",{style:{fontSize:"13px",fontWeight:"600",color:"#1F2937",marginBottom:"8px"},children:["Violations (",j.violations.length,")"]}),t.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[G.map((le,re)=>t.jsxs("span",{style:{padding:"4px 12px",background:"#FEE2E2",color:"#991B1B",borderRadius:"12px",fontSize:"12px",fontWeight:"600"},children:[le.name,le.criterion==="stale"&&le.daysOpen&&` (${le.daysOpen}d)`]},re)),P.map((le,re)=>t.jsxs("span",{style:{padding:"4px 12px",background:"#FEF3C7",color:"#92400E",borderRadius:"12px",fontSize:"12px",fontWeight:"600"},children:[le.name,le.criterion==="stale"&&le.daysOpen&&` (${le.daysOpen}d)`]},re)),ee.map((le,re)=>t.jsxs("span",{style:{padding:"4px 12px",background:"#DBEAFE",color:"#1E40AF",borderRadius:"12px",fontSize:"12px",fontWeight:"600"},children:[le.name,le.criterion==="stale"&&le.daysOpen&&` (${le.daysOpen}d)`]},re))]})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"12px",marginBottom:"12px",padding:"12px",background:"#F9FAFB",borderRadius:"6px"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",color:"#6B7280",marginBottom:"4px"},children:"CREATED"}),t.jsx("div",{style:{fontSize:"13px",color:"#1F2937"},children:new Date(j.createdAt).toLocaleDateString()})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",color:"#6B7280",marginBottom:"4px"},children:"UPDATED"}),t.jsx("div",{style:{fontSize:"13px",color:"#1F2937"},children:new Date(j.updatedAt).toLocaleDateString()})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",color:"#6B7280",marginBottom:"4px"},children:"AUTHOR"}),t.jsx("div",{style:{fontSize:"13px",color:"#1F2937"},children:j.author?j.author.name:"Unknown"})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",color:"#6B7280",marginBottom:"4px"},children:"ASSIGNEES"}),t.jsx("div",{style:{fontSize:"13px",color:"#1F2937"},children:j.assignees.length>0?j.assignees.map(le=>le.name).join(", "):"None"})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",color:"#6B7280",marginBottom:"4px"},children:"EPIC"}),t.jsx("div",{style:{fontSize:"13px",color:"#1F2937"},children:j.epic?j.epic.title:"None"})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",color:"#6B7280",marginBottom:"4px"},children:"MILESTONE"}),t.jsx("div",{style:{fontSize:"13px",color:"#1F2937"},children:j.milestone?j.milestone.title:"None"})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",color:"#6B7280",marginBottom:"4px"},children:"WEIGHT"}),t.jsx("div",{style:{fontSize:"13px",color:"#1F2937"},children:j.weight||"Not set"})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",color:"#6B7280",marginBottom:"4px"},children:"DUE DATE"}),t.jsx("div",{style:{fontSize:"13px",color:"#1F2937"},children:j.dueDate?new Date(j.dueDate).toLocaleDateString():"Not set"})]})]}),t.jsx("div",{style:{display:"flex",gap:"8px"},children:j.webUrl&&t.jsx("a",{href:j.webUrl,target:"_blank",rel:"noopener noreferrer",className:"btn btn-secondary",style:{fontSize:"13px",padding:"6px 12px",textDecoration:"none"},children:"View in GitLab "})})]},j.issueId)})}),M.length>0&&t.jsxs("div",{className:"card",style:{marginTop:"30px",background:"#EFF6FF",borderColor:"#BFDBFE"},children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#1E40AF",marginBottom:"12px"},children:"Summary for Scrum Master"}),t.jsxs("div",{style:{fontSize:"14px",color:"#1E40AF",lineHeight:"1.6"},children:[t.jsxs("p",{style:{marginBottom:"12px"},children:[t.jsx("strong",{children:M.length})," issue(s) need attention to meet quality standards."]}),t.jsx("p",{style:{marginBottom:"12px"},children:"Top violations:"}),t.jsx("ul",{style:{marginLeft:"20px",marginBottom:"12px"},children:Object.entries(W.violationsByCriterion).sort((j,G)=>G[1]-j[1]).slice(0,5).filter(([j,G])=>G>0).map(([j,G])=>{const P=I.find(ee=>ee.key===j);return t.jsxs("li",{children:[t.jsxs("strong",{children:[P.name,":"]})," ",G," issues"]},j)})}),t.jsx("p",{style:{fontSize:"13px",color:"#1E40AF"},children:'Click "Export CSV Report" above to download the full report for review.'})]})]})]})]})}const Xc={backlog:["backlog","new","open","todo","to do"],analysis:["analysis","analyzing","refinement","planning","design","in analysis"],inProgress:["in progress","doing","wip","development","started","active"],review:["review","code review","peer review","reviewing"],testing:["in testing","testing","qa","test","validation","verification"],awaitingTesting:["awaiting testing","awaiting qa","ready for testing","to test"],awaitingRelease:["awaiting release","ready for release","to release","pending release"],released:["released","deployed","in production"],cancelled:["cancelled","canceled","rejected","wont fix","won't fix"],done:["done","completed","closed","resolved","finished"],blocked:["blocked","blocker","waiting","on hold","paused"]};function ms(l,r=Xc){if(!l.labels||l.labels.length===0)return l.state==="closed"?"done":"backlog";const c=l.labels.map(o=>o.toLowerCase());return c.some(o=>r.cancelled.some(a=>o.includes(a)))?"cancelled":c.some(o=>r.released.some(a=>o.includes(a)))?"released":c.some(o=>r.blocked.some(a=>o.includes(a)))?"blocked":c.some(o=>r.awaitingRelease.some(a=>o.includes(a)))?"awaitingRelease":c.some(o=>r.awaitingTesting.some(a=>o.includes(a)))?"awaitingTesting":c.some(o=>r.testing.some(a=>o.includes(a)))?"testing":c.some(o=>r.review.some(a=>o.includes(a)))?"review":c.some(o=>r.inProgress.some(a=>o.includes(a)))?"inProgress":c.some(o=>r.analysis.some(a=>o.includes(a)))?"analysis":c.some(o=>r.done.some(a=>o.includes(a)))?"done":c.some(o=>r.backlog.some(a=>o.includes(a)))?"backlog":l.state==="closed"?"done":"backlog"}function Gh(l){const r=new Date,c=new Date(l.updated_at),o=Math.abs(r-c);return Math.ceil(o/(1e3*60*60*24))}function Qa(l){const r=new Date(l.created_at),c=l.closed_at?new Date(l.closed_at):new Date,o=Math.abs(c-r);return Math.ceil(o/(1e3*60*60*24))}function Uy(l){const r=ms(l);if(r==="backlog"||r==="analysis")return null;const c=new Date(l.updated_at),o=l.closed_at?new Date(l.closed_at):new Date,a=Math.abs(o-c);return Math.ceil(a/(1e3*60*60*24))}function Hy(l){const r=l.filter(u=>u.state==="closed");if(r.length===0)return{count:0,avgLeadTime:0,medianLeadTime:0,minLeadTime:0,maxLeadTime:0,leadTimes:[]};const c=r.map(u=>Qa(u)).sort((u,f)=>u-f),o=Math.round(c.reduce((u,f)=>u+f,0)/c.length),a=c[Math.floor(c.length/2)];return{count:r.length,avgLeadTime:o,medianLeadTime:a,minLeadTime:c[0],maxLeadTime:c[c.length-1],leadTimes:c}}function Vh(l,r=Xc){const c={backlog:[],analysis:[],inProgress:[],review:[],testing:[],awaitingTesting:[],awaitingRelease:[],released:[],cancelled:[],done:[],blocked:[]};return l.forEach(o=>{const a=ms(o,r);c[a]?c[a].push(o):c.backlog.push(o)}),c}function $y(l){const r=l.filter(o=>o.state==="closed");if(r.length===0)return{backlog:0,analysis:0,inProgress:0,review:0,testing:0,total:0};const c=r.reduce((o,a)=>o+Qa(a),0)/r.length;return{backlog:Math.round(c*.2),analysis:Math.round(c*.15),inProgress:Math.round(c*.4),review:Math.round(c*.1),testing:Math.round(c*.15),total:Math.round(c)}}function qy(l){const r=Vh(l.filter(f=>f.state==="opened")),c=[],a=[...Object.entries(r).map(([f,x])=>({phase:f,count:x.length,avgTimeInPhase:x.length>0?Math.round(x.reduce((g,h)=>g+Gh(h),0)/x.length):0,issues:x}))].sort((f,x)=>x.count-f.count),u=(f,x)=>{const g=[],h=[];return(f==="testing"||f==="awaitingTesting")&&(x.avgTimeInPhase>7&&(g.push("Security or QA team backlog"),h.push("Request additional QA resources or auto-approve low-risk changes")),x.count>5&&(g.push(`${x.count} issues waiting for testing`),h.push("Prioritize testing queue, enable parallel testing"))),f==="awaitingRelease"&&(x.avgTimeInPhase>5&&(g.push("Infrequent deployment schedule"),h.push("Enable more frequent deployments or continuous delivery")),x.count>3&&(g.push(`${x.count} issues ready but waiting for release window`),h.push("Deploy batches more frequently (daily vs weekly)"))),f==="review"&&x.avgTimeInPhase>3&&(g.push("Code review backlog or slow review process"),h.push("Assign dedicated reviewers, set SLA for reviews (24-48 hours)")),f==="blocked"&&(g.push("External dependencies or blockers"),h.push("Escalate blockers to management, find workarounds")),f==="inProgress"&&(x.count>8&&(g.push("Too much work in progress (WIP)"),h.push("Implement WIP limits, focus on completing vs starting")),x.avgTimeInPhase>10&&(g.push("Issues are more complex than estimated"),h.push("Break down large issues, improve estimation process"))),g.length===0&&x.count>5&&(g.push(`High volume of issues in ${vi(f)}`),h.push("Increase throughput or reduce incoming work to this phase")),g.length===0&&x.avgTimeInPhase>10&&(g.push("Issues spending excessive time in this phase"),h.push("Investigate process inefficiencies or resource constraints")),{causes:g,actions:h}};return a.forEach((f,x)=>{if(f.count===0)return;let g="low",h="";if(x===0&&f.count>5?(g="high",h=`Highest concentration of issues (${f.count})`):f.avgTimeInPhase>14?(g="medium",h=`Long average time in phase (${f.avgTimeInPhase} days)`):f.count>3&&(g="low",h=`${f.count} issues currently in this phase`),g){const{causes:m,actions:b}=u(f.phase,f);c.push({phase:f.phase,count:f.count,avgTimeInPhase:f.avgTimeInPhase,severity:g,reason:h,rootCauses:m,recommendedActions:b})}}),c.filter(f=>f.count>0)}function _c(l){return{iid:l.iid,title:l.title,state:l.state,currentPhase:ms(l),createdAt:l.created_at,updatedAt:l.updated_at,closedAt:l.closed_at,leadTime:Qa(l),cycleTime:Uy(l),timeInCurrentPhase:Gh(l),labels:l.labels||[],assignees:l.assignees||[],milestone:l.milestone,epic:l.epic}}function Gy(l){const c=l.filter(a=>a.state==="closed").map(a=>Qa(a)),o={"0-7 days":0,"8-14 days":0,"15-30 days":0,"31-60 days":0,"61-90 days":0,"90+ days":0};return c.forEach(a=>{a<=7?o["0-7 days"]++:a<=14?o["8-14 days"]++:a<=30?o["15-30 days"]++:a<=60?o["31-60 days"]++:a<=90?o["61-90 days"]++:o["90+ days"]++}),o}function Vy(l){const r=new Set;l.forEach(o=>{o.labels&&o.labels.forEach(a=>r.add(a))});const c={status:[],phase:[],workflow:[],other:[]};return Array.from(r).forEach(o=>{const a=o.toLowerCase();a.includes("status")?c.status.push(o):Object.values(Xc).flat().some(u=>a.includes(u))?c.phase.push(o):a.includes("workflow")||a.includes("work")?c.workflow.push(o):c.other.push(o)}),c}function Yy(l){const r=["Issue ID","Title","State","Current Phase","Lead Time (days)","Cycle Time (days)","Time in Current Phase (days)","Created At","Updated At","Closed At","Labels","Assignees","Milestone","Epic"],c=l.map(a=>{const u=_c(a);return[u.iid,`"${u.title.replace(/"/g,'""')}"`,u.state,u.currentPhase,u.leadTime,u.cycleTime||"N/A",u.timeInCurrentPhase,new Date(u.createdAt).toLocaleDateString(),new Date(u.updatedAt).toLocaleDateString(),u.closedAt?new Date(u.closedAt).toLocaleDateString():"N/A",u.labels.join("; ")||"None",u.assignees.map(f=>f.name).join("; ")||"None",u.milestone?u.milestone.title:"None",u.epic?u.epic.title:"None"]});return[r.join(","),...c.map(a=>a.join(","))].join(`
`)}function Py(l,r="cycle-time-report.csv"){const c=new Blob([l],{type:"text/csv;charset=utf-8;"}),o=document.createElement("a"),a=URL.createObjectURL(c);o.setAttribute("href",a),o.setAttribute("download",r),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o)}function vi(l){return{backlog:"Backlog",analysis:"Analysis",inProgress:"In Progress",review:"Review",testing:"In Testing",awaitingTesting:"Awaiting Testing",awaitingRelease:"Awaiting Release",released:"Released",cancelled:"Cancelled",done:"Done",blocked:"Blocked"}[l]||l}function mi(l){return{backlog:"#6B7280",analysis:"#3B82F6",inProgress:"#F59E0B",review:"#8B5CF6",testing:"#EC4899",awaitingTesting:"#F59E0B",awaitingRelease:"#10B981",released:"#059669",cancelled:"#9CA3AF",done:"#10B981",blocked:"#EF4444"}[l]||"#6B7280"}function Qy({issues:l}){const{filteredIssues:r}=Bi(),[c,o]=R.useState("all"),[a,u]=R.useState(!1),[f,x]=R.useState(null),[g,h]=R.useState(!0),[m,b]=R.useState(""),[y,S]=R.useState(()=>localStorage.getItem("cycleTime.bottleneckCollapsed")==="true"),w=()=>{S(B=>{const z=!B;return localStorage.setItem("cycleTime.bottleneckCollapsed",String(z)),z})},D=R.useMemo(()=>m?Hh(r,m):r,[r,m]);R.useEffect(()=>{async function B(){const z=Dn();if(!z){h(!1);return}const F=await Nm(z.gitlabUrl,z.projectId,z.token);x(F),h(!1)}B()},[]);const M=R.useMemo(()=>!D||D.length===0?null:{cycleTimeStats:Hy(D),phaseDistribution:Vh(D),avgTimePerPhase:$y(D),bottlenecks:qy(D),leadTimeDistribution:Gy(D),detectedLabels:Vy(D)},[D]),W=R.useMemo(()=>!D||c==="all"?D:D.filter(B=>_c(B).currentPhase===c),[D,c]),q=()=>{const B=Yy(D),z=new Date().toISOString().split("T")[0];Py(B,`cycle-time-report-${z}.csv`)};if(!M)return t.jsx("div",{className:"container",children:t.jsx("div",{className:"card text-center",children:t.jsx("p",{children:"No data available"})})});const I=D.filter(B=>B.state==="opened"),N=Object.entries(M.phaseDistribution).filter(([B])=>B!=="done").reduce((B,[z,F])=>B+F.length,0);return t.jsxs("div",{className:"container-fluid",children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"20px"},children:[t.jsxs("div",{children:[t.jsx("h2",{style:{fontSize:"24px",fontWeight:"600",marginBottom:"8px"},children:"Cycle Time Analytics"}),t.jsx("p",{style:{fontSize:"14px",color:"#6B7280"},children:"Issue lifecycle and workflow efficiency metrics"})]}),t.jsxs("div",{style:{display:"flex",gap:"12px"},children:[t.jsx("button",{className:"btn btn-secondary",onClick:()=>u(!a),children:" Detected Labels"}),t.jsx("button",{className:"btn btn-primary",onClick:q,children:" Export CSV"})]})]}),t.jsx(Qc,{value:m,onChange:b,placeholder:"Search issues by title, labels, assignees, epic, milestone, description..."}),!g&&f&&t.jsx("div",{className:"card",style:{marginBottom:"30px",background:f.hasLabelHistory?"#D1FAE5":"#FEF3C7",borderColor:f.hasLabelHistory?"#10B981":"#F59E0B"},children:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("div",{style:{fontSize:"24px"},children:f.hasLabelHistory?"":""}),t.jsxs("div",{style:{flex:1},children:[t.jsx("h3",{style:{fontSize:"14px",fontWeight:"600",color:f.hasLabelHistory?"#065F46":"#92400E",marginBottom:"4px"},children:f.hasLabelHistory?"GitLab Premium/Ultimate Detected":"GitLab Free/Community Edition Detected"}),t.jsx("p",{style:{fontSize:"12px",color:f.hasLabelHistory?"#065F46":"#92400E",margin:0},children:f.hasLabelHistory?" Label history API available - Precise cycle time tracking enabled":" Using estimated cycle times. Upgrade to Premium/Ultimate for exact label-change history and more accurate metrics."})]})]})}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:"30px"},children:[t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Avg Lead Time"}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"600",color:"#3B82F6"},children:M.cycleTimeStats.avgLeadTime}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:"days (created  closed)"})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Median Lead Time"}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"600",color:"#3B82F6"},children:M.cycleTimeStats.medianLeadTime}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:"days (50th percentile)"})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Completed Issues"}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"600",color:"#10B981"},children:M.cycleTimeStats.count}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:"closed & analyzed"})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"In Progress"}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"600",color:"#F59E0B"},children:N}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:"currently active"})]})]}),a&&t.jsxs("div",{className:"card",style:{marginBottom:"30px",background:"#F0F9FF",borderColor:"#BFDBFE"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#1E40AF"},children:" Detected Labels in Your Project"}),t.jsx("button",{onClick:()=>u(!1),style:{background:"none",border:"none",fontSize:"20px",cursor:"pointer",color:"#6B7280"},children:""})]}),t.jsx("p",{style:{fontSize:"13px",color:"#1E40AF",marginBottom:"16px"},children:"Cycle time detection uses these labels to identify issue phases. If your labels don't match, the system will use fallback detection based on issue state."}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"16px"},children:Object.entries(M.detectedLabels).map(([B,z])=>z.length>0&&t.jsxs("div",{children:[t.jsxs("div",{style:{fontSize:"12px",fontWeight:"600",color:"#1E40AF",marginBottom:"8px",textTransform:"capitalize"},children:[B," Labels"]}),t.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:z.map(F=>t.jsx("span",{style:{padding:"4px 8px",background:"#DBEAFE",color:"#1E40AF",borderRadius:"4px",fontSize:"11px",fontWeight:"600"},children:F},F))})]},B))})]}),M.bottlenecks.length>0&&t.jsxs("div",{className:"card",style:{marginBottom:"30px",background:"#FEF3C7",borderColor:"#FCD34D"},children:[t.jsxs("div",{onClick:w,style:{display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer",marginBottom:y?"0":"16px"},children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#92400E",margin:0},children:" Bottleneck Analysis"}),t.jsx("span",{style:{fontSize:"14px",color:"#92400E",transform:y?"rotate(-90deg)":"rotate(0deg)",transition:"transform 0.2s",display:"inline-block"},children:""})]}),!y&&t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:M.bottlenecks.map(B=>t.jsxs("div",{style:{padding:"12px",background:"white",borderRadius:"6px",borderLeft:`4px solid ${B.severity==="high"?"#DC2626":B.severity==="medium"?"#F59E0B":"#3B82F6"}`},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1F2937",marginBottom:"4px"},children:vi(B.phase)}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280"},children:B.reason})]}),t.jsxs("div",{style:{display:"flex",gap:"16px",alignItems:"center"},children:[t.jsxs("div",{style:{textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"20px",fontWeight:"600",color:"#1F2937"},children:B.count}),t.jsx("div",{style:{fontSize:"10px",color:"#6B7280"},children:"issues"})]}),t.jsxs("div",{style:{textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"20px",fontWeight:"600",color:"#F59E0B"},children:B.avgTimeInPhase}),t.jsx("div",{style:{fontSize:"10px",color:"#6B7280"},children:"avg days"})]})]})]}),(B.rootCauses?.length>0||B.recommendedActions?.length>0)&&t.jsxs("div",{style:{borderTop:"1px solid #E5E7EB",paddingTop:"12px",marginTop:"12px"},children:[B.rootCauses?.length>0&&t.jsxs("div",{style:{marginBottom:"8px"},children:[t.jsx("div",{style:{fontSize:"11px",fontWeight:"600",color:"#92400E",marginBottom:"4px",textTransform:"uppercase"},children:" Likely Root Cause:"}),B.rootCauses.map((z,F)=>t.jsxs("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"2px"},children:[" ",z]},F))]}),B.recommendedActions?.length>0&&t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",fontWeight:"600",color:"#92400E",marginBottom:"4px",textTransform:"uppercase"},children:" Recommended Action:"}),B.recommendedActions.map((z,F)=>t.jsxs("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"2px"},children:[" ",z]},F))]})]})]},B.phase))})]}),t.jsxs("div",{className:"card",style:{marginBottom:"30px"},children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"16px"},children:"Phase Distribution (Open Issues)"}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"12px"},children:Object.entries(M.phaseDistribution).filter(([B])=>B!=="done").map(([B,z])=>t.jsxs("div",{onClick:()=>o(c===B?"all":B),style:{padding:"16px",background:c===B?mi(B)+"20":"#F9FAFB",borderRadius:"8px",border:`2px solid ${c===B?mi(B):"#E5E7EB"}`,cursor:"pointer",transition:"all 0.2s"},children:[t.jsx("div",{style:{fontSize:"11px",color:"#6B7280",marginBottom:"4px",textTransform:"uppercase",fontWeight:"600"},children:vi(B)}),t.jsx("div",{style:{fontSize:"28px",fontWeight:"700",color:mi(B)},children:z.length}),t.jsxs("div",{style:{fontSize:"10px",color:"#6B7280",marginTop:"4px"},children:[I.length>0?Math.round(z.length/I.length*100):0,"% of open"]})]},B))})]}),t.jsxs("div",{className:"card",style:{marginBottom:"30px"},children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"8px"},children:"Estimated Time Per Phase"}),t.jsx("p",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"16px"},children:"Based on closed issues (averages). Note: These are estimates without full label history."}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:"12px"},children:Object.entries(M.avgTimePerPhase).filter(([B])=>B!=="total").map(([B,z])=>t.jsxs("div",{style:{textAlign:"center",padding:"12px",background:"#F9FAFB",borderRadius:"6px"},children:[t.jsx("div",{style:{fontSize:"10px",color:"#6B7280",marginBottom:"4px",textTransform:"uppercase"},children:vi(B)}),t.jsx("div",{style:{fontSize:"24px",fontWeight:"600",color:mi(B)},children:z}),t.jsx("div",{style:{fontSize:"10px",color:"#6B7280",marginTop:"2px"},children:"days avg"})]},B))})]}),t.jsxs("div",{className:"card",style:{marginBottom:"30px"},children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"16px"},children:"Lead Time Distribution (Closed Issues)"}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:Object.entries(M.leadTimeDistribution).map(([B,z])=>{const F=Math.max(...Object.values(M.leadTimeDistribution)),_=F>0?z/F*100:0;return t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("div",{style:{minWidth:"90px",fontSize:"12px",color:"#6B7280"},children:B}),t.jsx("div",{style:{flex:1,height:"24px",background:"#F3F4F6",borderRadius:"4px",overflow:"hidden",position:"relative"},children:t.jsx("div",{style:{width:`${_}%`,height:"100%",background:"#6B7280",transition:"width 0.3s"}})}),t.jsx("div",{style:{minWidth:"40px",fontSize:"14px",fontWeight:"600",color:"#1F2937",textAlign:"right"},children:z})]},B)})})]}),t.jsxs("div",{className:"card",children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[t.jsxs("h3",{style:{fontSize:"16px",fontWeight:"600"},children:["Issue Lifecycle Details",c!=="all"&&` - ${vi(c)}`]}),c!=="all"&&t.jsx("button",{onClick:()=>o("all"),className:"btn btn-secondary",style:{fontSize:"12px",padding:"4px 12px"},children:"Show All"})]}),t.jsxs("div",{style:{overflowX:"auto"},children:[t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{background:"#F9FAFB",borderBottom:"2px solid #E5E7EB"},children:[t.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"11px",fontWeight:"600",color:"#6B7280",textTransform:"uppercase"},children:"Issue"}),t.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"11px",fontWeight:"600",color:"#6B7280",textTransform:"uppercase"},children:"Phase"}),t.jsx("th",{style:{padding:"12px",textAlign:"center",fontSize:"11px",fontWeight:"600",color:"#6B7280",textTransform:"uppercase"},children:"Lead Time"}),t.jsx("th",{style:{padding:"12px",textAlign:"center",fontSize:"11px",fontWeight:"600",color:"#6B7280",textTransform:"uppercase"},children:"Time in Phase"}),t.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"11px",fontWeight:"600",color:"#6B7280",textTransform:"uppercase"},children:"Assignees"}),t.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"11px",fontWeight:"600",color:"#6B7280",textTransform:"uppercase"},children:"Updated"})]})}),t.jsx("tbody",{children:W.slice(0,50).map(B=>{const z=_c(B);return t.jsxs("tr",{onClick:()=>window.open(B.web_url,"_blank"),style:{borderBottom:"1px solid #E5E7EB",cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:F=>F.currentTarget.style.backgroundColor="#F9FAFB",onMouseLeave:F=>F.currentTarget.style.backgroundColor="transparent",children:[t.jsx("td",{style:{padding:"12px"},children:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsxs("span",{style:{fontSize:"12px",fontWeight:"600",color:"#6B7280"},children:["#",z.iid]}),t.jsx("span",{style:{fontSize:"13px",color:"#1F2937"},children:z.title})]})}),t.jsx("td",{style:{padding:"12px"},children:t.jsx("span",{style:{padding:"4px 8px",background:mi(z.currentPhase)+"20",color:mi(z.currentPhase),borderRadius:"4px",fontSize:"11px",fontWeight:"600"},children:vi(z.currentPhase)})}),t.jsxs("td",{style:{padding:"12px",textAlign:"center",fontSize:"13px",fontWeight:"600",color:"#1F2937"},children:[z.leadTime,"d"]}),t.jsxs("td",{style:{padding:"12px",textAlign:"center",fontSize:"13px",color:"#6B7280"},children:[z.timeInCurrentPhase,"d"]}),t.jsx("td",{style:{padding:"12px",fontSize:"12px",color:"#6B7280"},children:z.assignees.length>0?z.assignees.map(F=>F.name).join(", "):"Unassigned"}),t.jsx("td",{style:{padding:"12px",fontSize:"12px",color:"#6B7280"},children:new Date(z.updatedAt).toLocaleDateString()})]},B.id)})})]}),W.length>50&&t.jsxs("div",{style:{padding:"16px",textAlign:"center",fontSize:"12px",color:"#6B7280",background:"#F9FAFB"},children:["Showing first 50 of ",W.length," issues"]})]})]})]})}const bl="1.0.0";function Zc(){return{gitlabUrl:"gitlab_url",gitlabToken:"gitlab_token",projectId:"gitlab_project",groupPath:"gitlab_group_path",filter2025:"gitlab_filter_2025",portfolioProjects:"portfolio_projects",activeProject:"active_project_id",risks:"project_risks",teamConfig:"team_config",teamCapacity:"team_capacity",velocitySettings:"velocity_settings",absences:"absences",stakeholders:"stakeholders",communicationHistory:"communication_history",communicationTemplates:"communication_templates",decisions:"decisions",documents:"documents",healthScoreConfig:"healthScoreConfig",criteriaConfig:"criteriaConfig",dodTemplates:"dodTemplates",sprintGoals:"sprint_goals",retroActions:"retro_actions",backlogHealthHistory:"backlogHealthHistory",userRole:"user_role",viewPreference:"view_preference",favoriteViews:"favorite_views",qualityShowOpenOnly:"quality.showOpenOnly",qualityLegendCollapsed:"quality.legendCollapsed",cycleTimeBottleneckCollapsed:"cycleTime.bottleneckCollapsed"}}function je(l){try{const r=localStorage.getItem(l);return r?JSON.parse(r):null}catch(r){return console.warn(`Failed to load ${l}:`,r),null}}function Re(l,r){try{return localStorage.setItem(l,JSON.stringify(r)),!0}catch(c){return console.error(`Failed to save ${l}:`,c),!1}}function mh(l){return!l||l.length<8?"***":l.substring(0,4)+"***"+l.substring(l.length-4)}function Xy(l={}){const{includeTokens:r=!1,encrypt:c=!1,password:o=null}=l,a=Zc(),u=[],f={},x=(_,j,G=null)=>{const P=je(j);P!==null&&(f[_]=G?G(P):P,u.push(_))},g=je(a.gitlabToken),h=je(a.gitlabUrl),m=je(a.projectId),b=je(a.groupPath),y=je(a.filter2025);(g||h||m||b||y)&&(f.gitlabConfig={gitlabUrl:h,gitlabToken:r?g:g?mh(g):null,projectId:m,groupPath:b,filter2025:y},u.push("gitlabConfig"));const S=je(a.portfolioProjects);S&&(!r&&Array.isArray(S)?f.portfolioProjects=S.map(_=>({..._,accessToken:_.accessToken?mh(_.accessToken):null})):f.portfolioProjects=S,u.push("portfolioProjects")),x("activeProject",a.activeProject),x("risks",a.risks),x("teamConfig",a.teamConfig),x("teamCapacity",a.teamCapacity),x("velocitySettings",a.velocitySettings),x("absences",a.absences);const w=je(a.stakeholders),D=je(a.communicationHistory),M=je(a.communicationTemplates),W=je(a.decisions),q=je(a.documents);(w||D||M||W||q)&&(f.stakeholderHub={stakeholders:w,communicationHistory:D,communicationTemplates:M,decisions:W,documents:q},u.push("stakeholderHub")),x("healthScoreConfig",a.healthScoreConfig),x("criteriaConfig",a.criteriaConfig),x("dodTemplates",a.dodTemplates),x("sprintGoals",a.sprintGoals),x("retroActions",a.retroActions),x("backlogHealthHistory",a.backlogHealthHistory),x("userRole",a.userRole),x("viewPreference",a.viewPreference),x("favoriteViews",a.favoriteViews);const I={},N=je(a.qualityShowOpenOnly),B=je(a.qualityLegendCollapsed),z=je(a.cycleTimeBottleneckCollapsed);return(N!==null||B!==null||z!==null)&&(I.qualityShowOpenOnly=N,I.qualityLegendCollapsed=B,I.cycleTimeBottleneckCollapsed=z,f.uiState=I,u.push("uiState")),{metadata:{version:bl,timestamp:new Date().toISOString(),appVersion:"1.0.0",backupType:c?"encrypted":"plain",includedData:u,tokensIncluded:r,itemCount:Object.keys(f).length},data:f}}function Zy(l,r=null){const o=`gitlab-pm-backup-${new Date().toISOString().replace(/[:.]/g,"-").slice(0,-5)}.json`,a=new Blob([JSON.stringify(l,null,2)],{type:"application/json"}),u=URL.createObjectURL(a),f=document.createElement("a");return f.href=u,f.download=r||o,document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(u),r||o}async function Ky(l){return new Promise((r,c)=>{const o=new FileReader;o.onload=a=>{try{const u=JSON.parse(a.target.result);if(!u.metadata||!u.data){c(new Error("Invalid backup file structure"));return}u.metadata.version!==bl&&console.warn(`Backup version ${u.metadata.version} may not be fully compatible with current version ${bl}`),r(u)}catch(u){c(new Error("Failed to parse backup file: "+u.message))}},o.onerror=()=>{c(new Error("Failed to read file"))},o.readAsText(l)})}function Jy(l){const r={valid:!0,warnings:[],errors:[],info:{}};if(!l.metadata||!l.data)return r.valid=!1,r.errors.push("Invalid backup structure: missing metadata or data"),r;if(l.metadata.version!==bl&&r.warnings.push(`Backup version (${l.metadata.version}) differs from current version (${bl})`),!l.metadata.tokensIncluded){let c=!1;l.data.gitlabConfig&&l.data.gitlabConfig.gitlabToken&&l.data.gitlabConfig.gitlabToken.includes("***")&&(c=!0),l.data.portfolioProjects&&Array.isArray(l.data.portfolioProjects)&&l.data.portfolioProjects.some(o=>o.accessToken&&o.accessToken.includes("***"))&&(c=!0),c&&r.warnings.push("Access tokens are masked - you will need to re-enter them manually")}return r.info={createdAt:l.metadata.timestamp,itemCount:l.metadata.itemCount,includedData:l.metadata.includedData||[],backupAge:Math.floor((Date.now()-new Date(l.metadata.timestamp).getTime())/(1e3*60*60*24))+" days"},r}function ev(l,r={}){const{overwrite:c=!0,merge:o=!1,selectiveRestore:a=null}=r,u=Zc(),f={success:!0,restored:[],failed:[],skipped:[]};return(a||Object.keys(l.data)).forEach(g=>{const h=l.data[g];if(!h&&h!==!1&&h!==0&&h!==""){f.skipped.push(g);return}try{switch(g){case"gitlabConfig":c||!je(u.gitlabUrl)?(h.gitlabUrl&&Re(u.gitlabUrl,h.gitlabUrl),h.gitlabToken&&Re(u.gitlabToken,h.gitlabToken),h.projectId&&Re(u.projectId,h.projectId),h.groupPath&&Re(u.groupPath,h.groupPath),h.filter2025!==null&&Re(u.filter2025,h.filter2025),f.restored.push("gitlabConfig")):f.skipped.push("gitlabConfig (already exists)");break;case"portfolioProjects":if(c||!je(u.portfolioProjects))Re(u.portfolioProjects,h),f.restored.push("portfolioProjects");else if(o&&Array.isArray(h)){const b=[...je(u.portfolioProjects)||[],...h];Re(u.portfolioProjects,b),f.restored.push("portfolioProjects (merged)")}else f.skipped.push("portfolioProjects (already exists)");break;case"activeProject":(c||!je(u.activeProject))&&(Re(u.activeProject,h),f.restored.push("activeProject"));break;case"risks":(c||!je(u.risks))&&(Re(u.risks,h),f.restored.push("risks"));break;case"teamConfig":(c||!je(u.teamConfig))&&(Re(u.teamConfig,h),f.restored.push("teamConfig"));break;case"teamCapacity":(c||!je(u.teamCapacity))&&(Re(u.teamCapacity,h),f.restored.push("teamCapacity"));break;case"velocitySettings":(c||!je(u.velocitySettings))&&(Re(u.velocitySettings,h),f.restored.push("velocitySettings"));break;case"absences":(c||!je(u.absences))&&(Re(u.absences,h),f.restored.push("absences"));break;case"stakeholderHub":h.stakeholders&&(c||!je(u.stakeholders))&&(Re(u.stakeholders,h.stakeholders),f.restored.push("stakeholders")),h.communicationHistory&&(c||!je(u.communicationHistory))&&(Re(u.communicationHistory,h.communicationHistory),f.restored.push("communicationHistory")),h.communicationTemplates&&(c||!je(u.communicationTemplates))&&(Re(u.communicationTemplates,h.communicationTemplates),f.restored.push("communicationTemplates")),h.decisions&&(c||!je(u.decisions))&&(Re(u.decisions,h.decisions),f.restored.push("decisions")),h.documents&&(c||!je(u.documents))&&(Re(u.documents,h.documents),f.restored.push("documents"));break;case"healthScoreConfig":(c||!je(u.healthScoreConfig))&&(Re(u.healthScoreConfig,h),f.restored.push("healthScoreConfig"));break;case"criteriaConfig":(c||!je(u.criteriaConfig))&&(Re(u.criteriaConfig,h),f.restored.push("criteriaConfig"));break;case"dodTemplates":(c||!je(u.dodTemplates))&&(Re(u.dodTemplates,h),f.restored.push("dodTemplates"));break;case"sprintGoals":(c||!je(u.sprintGoals))&&(Re(u.sprintGoals,h),f.restored.push("sprintGoals"));break;case"retroActions":(c||!je(u.retroActions))&&(Re(u.retroActions,h),f.restored.push("retroActions"));break;case"backlogHealthHistory":(c||!je(u.backlogHealthHistory))&&(Re(u.backlogHealthHistory,h),f.restored.push("backlogHealthHistory"));break;case"userRole":(c||!je(u.userRole))&&(Re(u.userRole,h),f.restored.push("userRole"));break;case"viewPreference":(c||!je(u.viewPreference))&&(Re(u.viewPreference,h),f.restored.push("viewPreference"));break;case"favoriteViews":(c||!je(u.favoriteViews))&&(Re(u.favoriteViews,h),f.restored.push("favoriteViews"));break;case"uiState":h.qualityShowOpenOnly!==null&&h.qualityShowOpenOnly!==void 0&&Re(u.qualityShowOpenOnly,h.qualityShowOpenOnly),h.qualityLegendCollapsed!==null&&h.qualityLegendCollapsed!==void 0&&Re(u.qualityLegendCollapsed,h.qualityLegendCollapsed),h.cycleTimeBottleneckCollapsed!==null&&h.cycleTimeBottleneckCollapsed!==void 0&&Re(u.cycleTimeBottleneckCollapsed,h.cycleTimeBottleneckCollapsed),f.restored.push("uiState");break;default:f.skipped.push(g+" (unknown category)")}}catch(m){console.error(`Failed to restore ${g}:`,m),f.failed.push(g),f.success=!1}}),f}function tv(){const l=Zc(),r={totalItems:0,categories:[],estimatedSize:0};return Object.entries(l).forEach(([c,o])=>{const a=je(o);if(a){r.totalItems++,r.categories.push(c);const u=JSON.stringify(a);r.estimatedSize+=u.length}}),r.estimatedSizeKB=Math.round(r.estimatedSize/1024),r}function nv(){const[l,r]=R.useState(!1),[c,o]=R.useState(null),[a,u]=R.useState(null),[f,x]=R.useState(null),[g,h]=R.useState(null),[m,b]=R.useState(null),[y,S]=R.useState(!1),w=R.useRef(null);jh.useEffect(()=>{D()},[]);const D=()=>{const B=tv();o(B)},M=()=>{try{S(!0),b(null);const B=Xy({includeTokens:l}),z=Zy(B);u({filename:z,timestamp:B.metadata.timestamp,itemCount:B.metadata.itemCount,includedData:B.metadata.includedData,tokensIncluded:l}),D()}catch(B){b("Failed to create backup: "+B.message)}finally{S(!1)}},W=()=>{w.current?.click()},q=async B=>{const z=B.target.files?.[0];if(z)try{S(!0),b(null),h(null),x(null);const F=await Ky(z),_=Jy(F);if(h(_),!_.valid){b("Backup validation failed: "+_.errors.join(", "));return}window.__pendingBackup=F}catch(F){b("Failed to import backup: "+F.message)}finally{S(!1),B.target.value=""}},I=(B=!0)=>{try{S(!0),b(null);const z=window.__pendingBackup;if(!z){b("No backup loaded. Please import a backup file first.");return}const F=ev(z,{overwrite:B});x(F),F.success&&(delete window.__pendingBackup,h(null),D(),setTimeout(()=>{window.confirm("Backup restored successfully! Refresh the page to apply changes?")&&window.location.reload()},500))}catch(z){b("Failed to restore backup: "+z.message)}finally{S(!1)}},N=()=>{delete window.__pendingBackup,h(null),x(null)};return t.jsxs("div",{className:"backup-restore-view",children:[t.jsxs("div",{className:"view-header",children:[t.jsx("h2",{children:"Backup & Restore"}),t.jsx("p",{className:"subtitle",children:"Export and import all your configurations to share with team members or backup your settings"})]}),m&&t.jsxs("div",{className:"alert alert-error",children:[t.jsx("strong",{children:"Error:"})," ",m]}),t.jsxs("div",{className:"card",children:[t.jsx("h3",{children:"Current Data"}),c&&t.jsxs("div",{className:"stats-grid",children:[t.jsxs("div",{className:"stat-item",children:[t.jsx("div",{className:"stat-label",children:"Total Categories"}),t.jsx("div",{className:"stat-value",children:c.totalItems})]}),t.jsxs("div",{className:"stat-item",children:[t.jsx("div",{className:"stat-label",children:"Estimated Size"}),t.jsxs("div",{className:"stat-value",children:[c.estimatedSizeKB," KB"]})]}),t.jsxs("div",{className:"stat-item",children:[t.jsx("div",{className:"stat-label",children:"Categories"}),t.jsx("div",{className:"stat-value-small",children:c.categories.join(", ")})]})]})]}),t.jsxs("div",{className:"card",children:[t.jsx("h3",{children:"Export Backup"}),t.jsx("p",{children:"Create a backup file that can be shared with team members or stored for safekeeping."}),t.jsxs("div",{className:"form-group",children:[t.jsxs("label",{children:[t.jsx("input",{type:"checkbox",checked:l,onChange:B=>r(B.target.checked)}),"Include access tokens ( sensitive data)"]}),t.jsx("p",{className:"help-text",children:"By default, access tokens are masked for security. Enable this only if you need to share functional configurations with trusted team members."})]}),t.jsx("button",{className:"btn btn-primary",onClick:M,disabled:y,children:y?"Creating Backup...":"Export Backup"}),a&&t.jsxs("div",{className:"alert alert-success",style:{marginTop:"1rem"},children:[t.jsx("strong",{children:"Backup Created!"}),t.jsxs("ul",{style:{margin:"0.5rem 0 0 1rem"},children:[t.jsxs("li",{children:["File: ",a.filename]}),t.jsxs("li",{children:["Items: ",a.itemCount," categories"]}),t.jsxs("li",{children:["Tokens: ",a.tokensIncluded?"Included":"Masked"]}),t.jsxs("li",{children:["Time: ",new Date(a.timestamp).toLocaleString()]})]})]})]}),t.jsxs("div",{className:"card",children:[t.jsx("h3",{children:"Import Backup"}),t.jsx("p",{children:"Restore configurations from a backup file. This can overwrite existing data."}),t.jsx("input",{ref:w,type:"file",accept:".json",onChange:q,style:{display:"none"}}),t.jsx("button",{className:"btn btn-secondary",onClick:W,disabled:y,children:y?"Loading Backup...":"Select Backup File"}),g&&t.jsxs("div",{className:"validation-results",style:{marginTop:"1rem"},children:[t.jsxs("div",{className:`alert ${g.valid?"alert-info":"alert-error"}`,children:[t.jsx("h4",{children:"Backup Validation"}),g.errors.length>0&&t.jsxs("div",{children:[t.jsx("strong",{children:"Errors:"}),t.jsx("ul",{children:g.errors.map((B,z)=>t.jsx("li",{children:B},z))})]}),g.warnings.length>0&&t.jsxs("div",{children:[t.jsx("strong",{children:"Warnings:"}),t.jsx("ul",{children:g.warnings.map((B,z)=>t.jsx("li",{children:B},z))})]}),g.info&&t.jsxs("div",{children:[t.jsx("strong",{children:"Backup Info:"}),t.jsxs("ul",{children:[t.jsxs("li",{children:["Created: ",new Date(g.info.createdAt).toLocaleString()]}),t.jsxs("li",{children:["Age: ",g.info.backupAge]}),t.jsxs("li",{children:["Items: ",g.info.itemCount]}),t.jsxs("li",{children:["Categories: ",g.info.includedData.join(", ")]})]})]})]}),g.valid&&t.jsxs("div",{className:"restore-actions",children:[t.jsx("button",{className:"btn btn-primary",onClick:()=>I(!0),disabled:y,children:"Restore & Overwrite"}),t.jsx("button",{className:"btn btn-secondary",onClick:N,disabled:y,children:"Cancel"}),t.jsx("p",{className:"help-text",children:'"Restore & Overwrite" will replace existing data with backup data.'})]})]}),f&&t.jsxs("div",{className:"alert alert-success",style:{marginTop:"1rem"},children:[t.jsx("h4",{children:"Restore Complete"}),t.jsxs("ul",{children:[t.jsxs("li",{children:["Restored: ",f.restored.join(", ")]}),f.skipped.length>0&&t.jsxs("li",{children:["Skipped: ",f.skipped.join(", ")]}),f.failed.length>0&&t.jsxs("li",{style:{color:"red"},children:["Failed: ",f.failed.join(", ")]})]})]})]}),t.jsxs("div",{className:"card",children:[t.jsx("h3",{children:"Team Collaboration"}),t.jsx("p",{children:t.jsx("strong",{children:"To share configurations with team members:"})}),t.jsxs("ol",{children:[t.jsx("li",{children:'Export a backup using the "Export Backup" button above'}),t.jsx("li",{children:"Share the downloaded JSON file with your team member (via email, Slack, etc.)"}),t.jsx("li",{children:"Team member opens the GitLab PM Dashboard in their browser"}),t.jsx("li",{children:'Team member imports the file using "Select Backup File"'}),t.jsx("li",{children:'Team member clicks "Restore & Overwrite" to apply your configurations'})]}),t.jsxs("div",{className:"alert alert-warning",children:[t.jsx("strong",{children:"Important:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Access tokens are masked by default for security"}),t.jsx("li",{children:"Team members will need to enter their own GitLab access tokens after restore"}),t.jsx("li",{children:"Backup files contain all project configurations, team settings, and custom rules"}),t.jsx("li",{children:"Restoring will overwrite existing configurations"})]})]})]}),t.jsx("style",{jsx:!0,children:`
        .backup-restore-view {
          padding: 1rem;
          max-width: 1000px;
        }

        .view-header {
          margin-bottom: 2rem;
        }

        .view-header h2 {
          margin: 0 0 0.5rem 0;
          font-size: 1.8rem;
        }

        .subtitle {
          color: #666;
          margin: 0;
        }

        .card {
          background: white;
          border: 1px solid #ddd;
          border-radius: 8px;
          padding: 1.5rem;
          margin-bottom: 1.5rem;
        }

        .card h3 {
          margin: 0 0 1rem 0;
          font-size: 1.3rem;
        }

        .card p {
          margin: 0 0 1rem 0;
          color: #666;
        }

        .stats-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
          gap: 1rem;
          margin-top: 1rem;
        }

        .stat-item {
          padding: 1rem;
          background: #f5f5f5;
          border-radius: 6px;
        }

        .stat-label {
          font-size: 0.85rem;
          color: #666;
          margin-bottom: 0.5rem;
        }

        .stat-value {
          font-size: 1.5rem;
          font-weight: bold;
          color: #333;
        }

        .stat-value-small {
          font-size: 0.9rem;
          color: #333;
        }

        .form-group {
          margin-bottom: 1rem;
        }

        .form-group label {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          cursor: pointer;
        }

        .help-text {
          font-size: 0.85rem;
          color: #666;
          margin: 0.5rem 0 0 1.5rem;
        }

        .btn {
          padding: 0.6rem 1.2rem;
          border: none;
          border-radius: 6px;
          font-size: 0.95rem;
          cursor: pointer;
          transition: all 0.2s;
        }

        .btn:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        .btn-primary {
          background: #1f77b4;
          color: white;
        }

        .btn-primary:hover:not(:disabled) {
          background: #155a8a;
        }

        .btn-secondary {
          background: #6c757d;
          color: white;
          margin-left: 0.5rem;
        }

        .btn-secondary:hover:not(:disabled) {
          background: #545b62;
        }

        .alert {
          padding: 1rem;
          border-radius: 6px;
          margin-bottom: 1rem;
        }

        .alert h4 {
          margin: 0 0 0.5rem 0;
        }

        .alert ul {
          margin: 0.5rem 0 0 1rem;
        }

        .alert-success {
          background: #d4edda;
          border: 1px solid #c3e6cb;
          color: #155724;
        }

        .alert-error {
          background: #f8d7da;
          border: 1px solid #f5c6cb;
          color: #721c24;
        }

        .alert-warning {
          background: #fff3cd;
          border: 1px solid #ffeeba;
          color: #856404;
        }

        .alert-info {
          background: #d1ecf1;
          border: 1px solid #bee5eb;
          color: #0c5460;
        }

        .restore-actions {
          margin-top: 1rem;
          padding-top: 1rem;
          border-top: 1px solid #ddd;
        }

        .validation-results {
          border-top: 1px solid #ddd;
          padding-top: 1rem;
        }

        ol {
          margin: 0.5rem 0 1rem 1.5rem;
        }

        ol li {
          margin-bottom: 0.5rem;
        }
      `})]})}function iv({epics:l,issues:r}){const c=R.useMemo(()=>!l||l.length===0?[]:l.map(a=>{const u=a.issues||[],f=u.length,x=u.filter(b=>b.state==="opened").length,g=u.filter(b=>b.state==="closed").length,h=f>0?Math.round(g/f*100):0,m=sv({completionRate:h,openIssues:x,totalIssues:f,startDate:a.start_date,dueDate:a.end_date});return{...a,totalIssues:f,openIssues:x,closedIssues:g,completionRate:h,health:m}}).sort((a,u)=>a.state!==u.state?a.state==="opened"?-1:1:u.health.score-a.health.score),[l]),o=R.useMemo(()=>{if(c.length===0)return null;const a=c.filter(h=>h.state==="opened"),u=c.reduce((h,m)=>h+m.totalIssues,0),f=c.reduce((h,m)=>h+m.closedIssues,0),x=Math.round(c.reduce((h,m)=>h+m.completionRate,0)/c.length),g=Math.round(c.reduce((h,m)=>h+m.health.score,0)/c.length);return{totalEpics:c.length,openEpics:a.length,totalIssues:u,closedIssues:f,avgCompletion:x,avgHealth:g}},[c]);return!l||l.length===0?t.jsx("div",{className:"container",children:t.jsxs("div",{className:"card text-center",style:{padding:"60px 20px"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px",opacity:.3},children:""}),t.jsx("h3",{className:"mb-2",children:"No Epics Found"}),t.jsxs("p",{className:"text-muted",children:["Epic support requires GitLab Premium or Ultimate.",t.jsx("br",{}),"Configure your Group Path in settings to enable epic tracking."]})]})}):t.jsxs("div",{className:"container-fluid",children:[o&&t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:"30px"},children:[t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Total Epics"}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"600",color:"#1F2937"},children:o.totalEpics}),t.jsxs("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:[o.openEpics," in progress"]})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Total Issues"}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"600",color:"#1F2937"},children:o.totalIssues}),t.jsxs("div",{style:{fontSize:"12px",color:"#059669",marginTop:"4px"},children:[o.closedIssues," completed"]})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Avg. Completion"}),t.jsxs("div",{style:{fontSize:"32px",fontWeight:"600",color:"#2563EB"},children:[o.avgCompletion,"%"]})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Portfolio Health"}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"600",color:yl(o.avgHealth)},children:o.avgHealth}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:Yh(o.avgHealth)})]})]}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:c.map(a=>t.jsxs("div",{className:"card",style:{borderLeft:`4px solid ${yl(a.health.score)}`,opacity:a.state==="closed"?.7:1},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[t.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#1F2937",margin:0},children:a.title}),t.jsx("span",{style:{padding:"4px 8px",background:a.state==="opened"?"#DBEAFE":"#D1FAE5",color:a.state==="opened"?"#1E40AF":"#065F46",borderRadius:"4px",fontSize:"12px",fontWeight:"600",textTransform:"capitalize"},children:a.state})]}),a.description&&t.jsxs("p",{style:{fontSize:"14px",color:"#6B7280",margin:"8px 0",lineHeight:"1.5"},children:[a.description.substring(0,200),a.description.length>200&&"..."]}),t.jsxs("div",{style:{display:"flex",gap:"16px",fontSize:"12px",color:"#6B7280",marginTop:"8px"},children:[a.start_date&&t.jsxs("div",{children:[t.jsx("strong",{children:"Start:"})," ",new Date(a.start_date).toLocaleDateString()]}),a.end_date&&t.jsxs("div",{children:[t.jsx("strong",{children:"Due:"})," ",new Date(a.end_date).toLocaleDateString()]}),a.web_url&&t.jsx("div",{children:t.jsx("a",{href:a.web_url,target:"_blank",rel:"noopener noreferrer",style:{color:"#2563EB"},children:"View in GitLab "})})]})]}),t.jsxs("div",{style:{minWidth:"100px",textAlign:"center",padding:"12px",background:yl(a.health.score)+"20",borderRadius:"8px"},children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:"Health"}),t.jsx("div",{style:{fontSize:"28px",fontWeight:"700",color:yl(a.health.score)},children:a.health.score}),t.jsx("div",{style:{fontSize:"10px",color:"#6B7280",marginTop:"4px"},children:a.health.label})]})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"16px",marginBottom:"16px"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:"Total Issues"}),t.jsx("div",{style:{fontSize:"24px",fontWeight:"600",color:"#1F2937"},children:a.totalIssues})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:"Open Issues"}),t.jsx("div",{style:{fontSize:"24px",fontWeight:"600",color:"#DC2626"},children:a.openIssues})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:"Closed Issues"}),t.jsx("div",{style:{fontSize:"24px",fontWeight:"600",color:"#059669"},children:a.closedIssues})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:"Completion"}),t.jsxs("div",{style:{fontSize:"24px",fontWeight:"600",color:"#2563EB"},children:[a.completionRate,"%"]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"6px"},children:["Progress: ",a.closedIssues," / ",a.totalIssues," issues completed"]}),t.jsx("div",{style:{width:"100%",height:"12px",background:"#E5E7EB",borderRadius:"6px",overflow:"hidden"},children:t.jsx("div",{style:{width:`${a.completionRate}%`,height:"100%",background:yl(a.health.score),transition:"width 0.3s ease"}})})]}),a.health.issues.length>0&&t.jsxs("div",{style:{marginTop:"16px",padding:"12px",background:"#FEF3C7",borderRadius:"8px",fontSize:"12px"},children:[t.jsx("div",{style:{fontWeight:"600",color:"#92400E",marginBottom:"6px"},children:" Health Issues:"}),t.jsx("ul",{style:{margin:0,paddingLeft:"20px",color:"#78350F"},children:a.health.issues.map((u,f)=>t.jsx("li",{children:u},f))})]})]},a.id))})]})}function sv({completionRate:l,openIssues:r,totalIssues:c,startDate:o,dueDate:a}){let u=100;const f=[];if(l<30?(u-=30,f.push("Low completion rate (<30%)")):l<50?(u-=20,f.push("Below average completion rate")):l<70&&(u-=10),c>0){const x=r/c;x>.8?(u-=25,f.push("Most issues still open (>80%)")):x>.6&&(u-=15)}if(a){const x=new Date,g=new Date(a),h=o?new Date(o):null;if(g<x&&r>0)u-=30,f.push("Overdue with open issues");else if(h&&g){const m=g-h,y=(x-h)/m;y>.8&&l<60?(u-=20,f.push("Behind schedule (80% time, <60% complete)")):y>.5&&l<40&&(u-=15,f.push("Behind schedule (50% time, <40% complete)"))}}return u=Math.max(0,Math.min(100,u)),{score:Math.round(u),label:Yh(u),issues:f}}function yl(l){return l>=80?"#059669":l>=60?"#D97706":"#DC2626"}function Yh(l){return l>=80?"Healthy":l>=60?"At Risk":"Critical"}function lv(l,r){if(!l||!r)return 10;const c=new Date(l),o=new Date(r);let a=0;const u=new Date(c);for(;u<=o;){const f=u.getDay();f!==0&&f!==6&&a++,u.setDate(u.getDate()+1)}return a}function Si(l){if(l.weight&&l.weight>0)return l.weight;const r=l.labels?.find(c=>{const o=c.toLowerCase();return o.includes("weight")||o.includes("points")||o.includes("days")});if(r){const c=r.match(/\d+/);if(c)return parseInt(c[0],10)}return l.state==="closed"?0:l.labels?.some(c=>c.toLowerCase().includes("small"))?1:3}function av(l,r=10){const c=new Map;return l.forEach(o=>{if(o.state==="closed")return;const a=Si(o),u=o.assignees||[];if(u.length===0){c.has("Unassigned")||c.set("Unassigned",{name:"Unassigned",username:null,issues:[],totalWeight:0,capacity:0,utilizationPercent:0,status:"unassigned"});const f=c.get("Unassigned");f.issues.push(o),f.totalWeight+=a}else{const f=a/u.length;u.forEach(x=>{const g=x.username||x.name;c.has(g)||c.set(g,{name:x.name,username:x.username,avatar:x.avatar_url,issues:[],totalWeight:0,capacity:r,utilizationPercent:0,status:"ok"});const h=c.get(g);h.issues.push(o),h.totalWeight+=f})}}),c.forEach((o,a)=>{a!=="Unassigned"&&(o.utilizationPercent=Math.round(o.totalWeight/o.capacity*100),o.utilizationPercent>120?o.status="critical":o.utilizationPercent>100?o.status="overallocated":o.utilizationPercent>80?o.status="full":o.utilizationPercent<50?o.status="underutilized":o.status="ok")}),Array.from(c.values()).sort((o,a)=>{const u={critical:0,overallocated:1,full:2,ok:3,underutilized:4,unassigned:5};return u[o.status]!==u[a.status]?u[o.status]-u[a.status]:a.utilizationPercent-o.utilizationPercent})}function ov(l){const r=[],c=l.filter(u=>u.username&&(u.status==="critical"||u.status==="overallocated")),o=l.filter(u=>u.username&&u.status==="underutilized"),a=l.find(u=>u.name==="Unassigned");if(c.forEach(u=>{const f=u.totalWeight-u.capacity,x=o.filter(g=>g.capacity-g.totalWeight>=2);if(x.length>0){const g=x[0],h=g.capacity-g.totalWeight,m=u.issues.filter(S=>S.state==="opened").sort((S,w)=>Si(S)-Si(w)),b=[];let y=0;for(const S of m){const w=Si(S);if(y+w<=Math.min(f,h)&&(b.push(S),y+=w),y>=f*.5)break}b.length>0&&r.push({type:"rebalance",priority:"high",from:u.name,to:g.name,issues:b,weight:y,reason:`${u.name} is ${u.utilizationPercent}% utilized (${Math.round(f)} days over). Move ${y} days to ${g.name} (${g.utilizationPercent}% utilized).`})}else r.push({type:"warning",priority:"high",person:u.name,weight:Math.round(u.totalWeight-u.capacity),reason:`${u.name} is overallocated by ${Math.round(u.totalWeight-u.capacity)} days (${u.utilizationPercent}% capacity). Consider reducing scope or extending timeline.`})}),a&&a.totalWeight>0){const u=l.filter(f=>f.username&&f.utilizationPercent<90).sort((f,x)=>f.utilizationPercent-x.utilizationPercent);u.length>0?a.issues.forEach(f=>{const x=Si(f),g=u.find(h=>h.capacity-h.totalWeight>=x)||u[0];r.push({type:"assign",priority:"medium",to:g.name,toUsername:g.username,issues:[f],weight:x,reason:`Assign unassigned issue "${f.title}" (${x} days) to ${g.name} (${g.utilizationPercent}% utilized).`}),g.totalWeight+=x,g.utilizationPercent=Math.round(g.totalWeight/g.capacity*100)}):r.push({type:"warning",priority:"medium",weight:Math.round(a.totalWeight),reason:`${a.totalWeight} days of unassigned work. All team members are at capacity.`})}return o.forEach(u=>{u.utilizationPercent<30&&r.push({type:"info",priority:"low",person:u.name,capacity:Math.round(u.capacity-u.totalWeight),reason:`${u.name} has ${Math.round(u.capacity-u.totalWeight)} days available (${u.utilizationPercent}% utilized). Consider assigning more work.`})}),r.sort((u,f)=>{const x={high:0,medium:1,low:2};return x[u.priority]-x[f.priority]})}function zc(l){switch(l){case"critical":return"#DC2626";case"overallocated":return"#D97706";case"full":return"#2563EB";case"ok":return"#059669";case"underutilized":return"#6B7280";case"unassigned":return"#9CA3AF";default:return"#6B7280"}}function rv(l){switch(l){case"critical":return" Critical";case"overallocated":return" Overallocated";case"full":return" At Capacity";case"ok":return" Healthy";case"underutilized":return" Underutilized";case"unassigned":return" Unassigned";default:return"Unknown"}}function cv(l){return{icon:{rebalance:"",assign:"",warning:"",info:""}[l.type]||"",...l}}function dv(l,r){if(!l.end_date)return null;const c=new Date,o=new Date(l.end_date),a=new Map;r.forEach(x=>{if(x.iteration?.start_date){const g=xt(x.labels,x.iteration);g&&!a.has(g)&&a.set(g,{name:g,startDate:new Date(x.iteration.start_date),dueDate:x.iteration.due_date?new Date(x.iteration.due_date):null})}});const u=Array.from(a.values()).filter(x=>x.startDate>c&&x.startDate<=o);if(u.length>0)return u.length;const f=Math.max(0,(o-c)/(1e3*60*60*24));return Math.max(0,Math.floor(f/14))}function uv(l,r){const c=r.filter(f=>f.state==="closed"&&f.closed_at);if(c.length===0)return 0;const o=new Map;c.forEach(f=>{const x=xt(f.labels,f.iteration);x&&(o.has(x)||o.set(x,{name:x,count:0,startDate:f.iteration?.start_date||null}),o.get(x).count++)});const a=Array.from(o.values()).filter(f=>f.startDate).sort((f,x)=>new Date(x.startDate)-new Date(f.startDate)).slice(0,3);return a.length===0?c.length:a.reduce((f,x)=>f+x.count,0)/a.length}function pv(l){if(!Ua(l.labels))return 0;const r=new Date,c=new Date(l.updated_at),o=Math.ceil((r-c)/(1e3*60*60*24));return Math.max(0,o)}function fv(l){const r=new Map;return l.filter(c=>c.state==="opened").forEach(c=>{const o=c.assignees||[],a=Si(c);o.forEach(u=>{r.has(u.username)||r.set(u.username,{name:u.name,username:u.username,totalWeight:0,issueCount:0});const f=r.get(u.username);f.totalWeight+=a/o.length,f.issueCount++})}),Array.from(r.values())}function Ph(l,r,c=null){const o=r.filter(k=>k.state==="opened"),a=r.filter(k=>k.state==="closed"),u=r.length;if(u===0)return{status:"green",reason:"No issues in epic",severity:"healthy",factors:[],actions:[],projection:null};const f=a.length/u*100,x=o.length,g=dv(l,r),h=uv(l,r),m=g>0?x/g:x,b=m>0?h/m:1,y=o.filter(k=>Ua(k.labels)),S=y.length,D=y.filter(k=>pv(k)>15).length,M=o.reduce((k,L)=>k+Si(L),0);let W=0;if(c?.avgCycleTime){const k=c.avgCycleTime*x;W=k>0?(M-k)/k*100:0}const q=l.end_date?(new Date(l.end_date)-new Date)/(1e3*60*60*24):null,I=q!==null&&q<0&&o.length>0,N=o.length===0&&l.end_date&&a.some(k=>k.closed_at?new Date(k.closed_at)>new Date(l.end_date):!1),z=fv(r).filter(k=>k.totalWeight/10*100>120).length,F=[],_=[];if(I&&(F.push({severity:"critical",category:"timeline",title:"Epic is overdue",description:`Due date ${new Date(l.end_date).toLocaleDateString()} has passed with ${o.length} issue${o.length>1?"s":""} still open`,impact:"Cannot deliver on committed timeline"}),_.push({priority:"critical",title:"Negotiate timeline extension",description:"Schedule stakeholder meeting to extend deadline",estimatedEffort:"1 day",impact:"Align expectations with reality"})),N){const k=a.filter(L=>L.closed_at?new Date(L.closed_at)>new Date(l.end_date):!1);F.push({severity:"warning",category:"timeline",title:"Epic completed late",description:`All issues closed but ${k.length} issue${k.length>1?"s":""} finished after due date ${new Date(l.end_date).toLocaleDateString()}`,impact:"Delivered late but complete"}),_.push({priority:"medium",title:"Review timeline planning",description:"Analyze why epic took longer than expected to improve future estimates",estimatedEffort:"1 day",impact:"Better planning for future epics"})}b<.7&&m>0&&(F.push({severity:"critical",category:"velocity",title:"Velocity crisis",description:`Need ${m.toFixed(1)} issues/iter, currently ${h.toFixed(1)} issues/iter (${(b*100).toFixed(0)}% of required)`,impact:`${Math.abs(g*(m-h)).toFixed(0)} issues short at current pace`}),_.push({priority:"critical",title:"Increase team capacity or reduce scope",description:`Option A: Add ${Math.ceil((m-h)/2)} developers. Option B: Reduce scope by ${Math.ceil(x*(1-b))} issues`,estimatedEffort:"1 week",impact:`Achieve required velocity of ${m.toFixed(1)} issues/iter`})),(D>0||S>=4)&&(F.push({severity:"critical",category:"blockers",title:`${S} blocked issues`,description:D>0?`${D} blocked for >15 days, ${S} total blocked`:`${S} issues currently blocked`,impact:`${(S/u*100).toFixed(0)}% of epic work is blocked`}),_.push({priority:"critical",title:"Executive escalation for blockers",description:`Escalate to CTO/VP level: ${y.slice(0,3).map(k=>`#${k.iid}`).join(", ")}`,estimatedEffort:"2 days",impact:`Unblock ${S} issues, potential +${(S/(g||1)).toFixed(1)} issues/iter`})),W<-40&&(F.push({severity:"critical",category:"estimation",title:"Severe underestimation",description:`Team estimated ${M} days, historical data suggests ${(M/(1+W/100)).toFixed(0)} days (${Math.abs(W).toFixed(0)}% variance)`,impact:"Estimates not grounded in reality"}),_.push({priority:"high",title:"Re-estimate with senior team",description:"Conduct estimation workshop with team leads and historical data",estimatedEffort:"1 day",impact:"Realistic timeline and scope expectations"})),g!==null&&g<1&&x>3&&(F.push({severity:"critical",category:"timeline",title:"Insufficient time remaining",description:`${x} issues remaining, less than 1 iteration left`,impact:"Mathematically impossible to complete"}),_.push({priority:"critical",title:"Emergency scope reduction",description:`Reduce to ${Math.ceil(h)} must-have issues, defer ${x-Math.ceil(h)} to next release`,estimatedEffort:"2 days",impact:"Deliver core value on time"})),f<30&&g!==null&&g<3&&(F.push({severity:"critical",category:"progress",title:"Critically behind schedule",description:`Only ${f.toFixed(0)}% complete with ${g} iterations left`,impact:"Epic has barely started with deadline approaching"}),_.push({priority:"critical",title:"Scope reduction or timeline extension",description:"Stakeholder decision needed: reduce scope by 60% OR extend deadline by 8 weeks",estimatedEffort:"1 day",impact:"Align scope with reality"})),b>=.7&&b<1&&m>0&&(F.push({severity:"warning",category:"velocity",title:"Velocity gap",description:`Need ${m.toFixed(1)} issues/iter, currently ${h.toFixed(1)} issues/iter (${(b*100).toFixed(0)}% of required)`,impact:`${(m-h).toFixed(1)} issues/iter shortfall`}),_.push({priority:"high",title:"Focus team and remove distractions",description:"Eliminate non-essential meetings, defer low-priority work on other epics",estimatedEffort:"1 day",impact:`Close velocity gap of ${(m-h).toFixed(1)} issues/iter`})),S>=2&&S<4&&(F.push({severity:"warning",category:"blockers",title:`${S} blocked issues`,description:`Issues: ${y.slice(0,2).map(k=>`#${k.iid}`).join(", ")}`,impact:"Slowing team progress"}),_.push({priority:"medium",title:"Escalate blockers to team leads",description:`Work with dependent teams to unblock: ${y.slice(0,2).map(k=>`#${k.iid} ${k.title.substring(0,30)}`).join(", ")}`,estimatedEffort:"2 days",impact:`Unblock ${S} issues`})),W<-20&&W>=-40&&(F.push({severity:"warning",category:"estimation",title:"Optimistic estimates",description:`Team estimated ${M} days, historical average suggests ${(M/(1+W/100)).toFixed(0)} days (${Math.abs(W).toFixed(0)}% lower than history)`,impact:"May need more time than planned"}),_.push({priority:"medium",title:"Add buffer to timeline",description:"Add 3-5 day buffer per remaining issue based on historical data",estimatedEffort:"1 day",impact:"Realistic expectations"})),g!==null&&g<=1.5&&x>0&&(F.push({severity:"warning",category:"timeline",title:"No schedule buffer",description:"Will finish in last iteration, no room for delays",impact:"Any setback will cause delay"}),_.push({priority:"medium",title:"Prevent scope creep",description:"Lock scope, defer all new requests to next release, close issues faster than starting new ones",estimatedEffort:"Ongoing",impact:"Protect timeline"})),f<50&&g!==null&&g<4&&g>=3&&(F.push({severity:"warning",category:"progress",title:"Behind schedule",description:`${f.toFixed(0)}% complete with ${g} iterations left`,impact:"Need to accelerate"}),_.push({priority:"high",title:"Accelerate closures",description:"Focus on closing in-progress issues before starting new work, identify quick wins",estimatedEffort:"Ongoing",impact:"Increase completion rate"})),z>=1&&(F.push({severity:"warning",category:"capacity",title:`${z} team member(s) overallocated`,description:"Team members at >120% capacity",impact:"Burnout risk, quality issues"}),_.push({priority:"medium",title:"Re-balance workload",description:"Move issues from overallocated to underutilized team members",estimatedEffort:"1 day",impact:"Sustainable pace, better quality"}));const j={critical:0,warning:1,info:2};F.sort((k,L)=>j[k.severity]-j[L.severity]);const G={critical:0,high:1,medium:2,low:3};_.sort((k,L)=>G[k.priority]-G[L.priority]);let P="green",ee=`On track: ${h.toFixed(1)} issues/iter`,le="healthy";const re=F.some(k=>k.severity==="critical"),T=F.some(k=>k.severity==="warning");re?(P="red",le="critical",ee=F.find(L=>L.severity==="critical").title):T?(P="amber",le="warning",ee=F.find(L=>L.severity==="warning").title):m>0&&(ee=`On track: ${h.toFixed(1)} issues/iter (need ${m.toFixed(1)})`);let A=null;if(g!==null&&h>0){const k=Math.ceil(x/h),L=k*2,H=new Date;H.setDate(H.getDate()+L*7);const K=q!==null?(H-new Date(l.end_date))/(1e3*60*60*24):null;A={date:H,iterationsNeeded:k,weeksNeeded:L,daysVariance:K,onTime:K!==null&&K<=0}}return{status:P,reason:ee,severity:le,factors:F,actions:_,metrics:{progressPercent:f,remainingIssues:x,closedIssues:a.length,totalIssues:u,remainingIterations:g,currentVelocity:h,requiredVelocity:m,velocityRatio:b,blockedCount:S,totalWeight:M,weightVariance:W,daysUntilDue:q,overallocatedMembers:z},projection:A}}function Qh(l){if(!l||l.length===0)return{avgCycleTime:7,medianCycleTime:5};const r=l.filter(u=>u.created_at&&u.closed_at).map(u=>{const f=new Date(u.created_at);return(new Date(u.closed_at)-f)/(1e3*60*60*24)}).filter(u=>u>0&&u<365);if(r.length===0)return{avgCycleTime:7,medianCycleTime:5};const c=r.reduce((u,f)=>u+f,0)/r.length,o=r.sort((u,f)=>u-f),a=o[Math.floor(o.length/2)];return{avgCycleTime:Math.round(c),medianCycleTime:Math.round(a)}}function hv(l){if(l.state==="closed")return 100;const r=ms(l);return r==="testing"?85:r==="review"?70:r==="inProgress"?40:r==="todo"?5:0}function xv(l){if(!l)return"";const r=[`Status: ${l.status.toUpperCase()}`];return r.push(`Reason: ${l.reason}`),l.factors.length>0&&(r.push(""),r.push("Key Factors:"),l.factors.slice(0,2).forEach((c,o)=>{r.push(`${o+1}. ${c.title}`),r.push(`   ${c.description}`)})),r.join(`
`)}function gv({issues:l,epics:r,crossProjectData:c}){const[o,a]=R.useState(new Date().getFullYear()),[u,f]=R.useState([1,2,3,4]),[x,g]=R.useState(new Set),[h,m]=R.useState(new Set),[b,y]=R.useState(!0),S=(T,A)=>{if(!(A.ctrlKey||A.metaKey))f([T]);else if(u.includes(T)){if(u.length===1)return;T===Math.min(...u)?f(u.filter(L=>L!==T)):T===Math.max(...u)&&f(u.filter(L=>L!==T))}else{const L=[...u,T].sort((U,ne)=>U-ne),H=Math.min(...L),K=Math.max(...L),C=[];for(let U=H;U<=K;U++)C.push(U);f(C)}},w=()=>{f([1,2,3,4])},D=R.useMemo(()=>{const T=Math.min(...u),A=Math.max(...u),k=(T-1)*3,L=A*3-1,H=new Date(o,k,1);H.setHours(0,0,0,0);const K=new Date(o,L+1,0);return K.setHours(23,59,59,999),{start:H,end:K}},[o,u]),M=R.useMemo(()=>{const T=u.length;return T===4?"year":T>=2?"quarter":"month"},[u]),{epics:W,epicIssuesMap:q}=R.useMemo(()=>{if(!r||!l)return{epics:[],epicIssuesMap:new Map};const T=D.start,A=D.end,k=new Map;return l.forEach(H=>{const K=H.epic?.id;if(!K)return;const C=new Date(H.created_at),U=H.due_date?new Date(H.due_date):null,ne=H.milestone?.due_date?new Date(H.milestone.due_date):null;(C>=T&&C<=A||U&&U>=T&&U<=A||ne&&ne>=T&&ne<=A)&&(k.has(K)||k.set(K,[]),k.get(K).push(H))}),{epics:r.filter(H=>k.has(H.id)).filter(H=>{if(H.start_date||H.end_date){const K=H.start_date?new Date(H.start_date):null,C=H.end_date?new Date(H.end_date):null;return K&&K>=T&&K<=A||C&&C>=T&&C<=A||K&&C&&K<=A&&C>=T}return!0}),epicIssuesMap:k}},[r,l,D]),I=R.useMemo(()=>{const T=Qh(l.filter(k=>k.state==="closed")),A=new Map;return W.forEach(k=>{const L=q.get(k.id)||[],H=Ph(k,L,T);A.set(k.id,H)}),A},[W,q,l]),N=R.useMemo(()=>{const T=W.length,A=Array.from(I.values()).filter(ne=>ne.status==="red").length,k=Array.from(I.values()).filter(ne=>ne.status==="amber").length,L=Array.from(I.values()).filter(ne=>ne.status==="green").length,H=Array.from(q.values()).flat().length,K=Array.from(q.values()).flat().filter(ne=>ne.state==="opened").length,C=H-K,U=H>0?C/H*100:0;return{total:T,red:A,amber:k,green:L,totalIssues:H,openIssues:K,closedIssues:C,overallProgress:U}},[W,I,q]),B=R.useMemo(()=>{const T=new Set;return l.forEach(A=>{const k=new Date(A.created_at).getFullYear();T.add(k),A.due_date&&T.add(new Date(A.due_date).getFullYear())}),Array.from(T).sort((A,k)=>k-A)},[l]),z=T=>{const A=new Set(x);A.has(T)?A.delete(T):A.add(T),g(A)},F=T=>{const A=(q.get(T)||[]).map(L=>({...L,_isCrossProject:!1,_sourceProject:null}));let k=[];return c&&c.epicToIssuesMap&&(k=(c.epicToIssuesMap.get(T)||[]).filter(H=>!A.some(K=>K.id===H.id)).map(H=>({...H,_isCrossProject:!0,_sourceProject:H._projectName||H._projectId||"Other Project"}))),[...A,...k].sort((L,H)=>new Date(L.created_at)-new Date(H.created_at))},_=T=>{const A=new Set(h);A.has(T)?A.delete(T):A.add(T),m(A)},j=T=>T==="red"?"#EF4444":T==="amber"?"#F59E0B":"#10B981",G=T=>T==="red"?"#FEE2E2":T==="amber"?"#FEF3C7":"#D1FAE5",P=T=>T==="red"?"Critical":T==="amber"?"At Risk":"On Track",ee=(T,A)=>{if(!T||!A)return null;const k=new Date(T),L=new Date(A),{start:H,end:K}=D,C=(K-H)/(1e3*60*60*24),U=Math.max(0,(k-H)/(1e3*60*60*24)),ne=(L-k)/(1e3*60*60*24);return{left:`${Math.min(100,U/C*100)}%`,width:`${Math.max(2,Math.min(100-U/C*100,ne/C*100))}%`}},re=(()=>{const T=new Date;if(T.setHours(0,0,0,0),T<D.start||T>D.end)return null;const{start:A,end:k}=D,L=(k-A)/(1e3*60*60*24);return`${(T-A)/(1e3*60*60*24)/L*100}%`})();return W.length===0?t.jsxs("div",{className:"container-fluid",style:{padding:"20px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",flexWrap:"wrap",gap:"16px"},children:[t.jsxs("div",{children:[t.jsx("h2",{style:{fontSize:"24px",fontWeight:"600",marginBottom:"4px"},children:"Executive Gantt Chart"}),t.jsx("p",{style:{fontSize:"14px",color:"#6B7280",margin:0},children:"Epic-level timeline with RAG status and risk analysis"})]}),t.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"flex-end"},children:[t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[t.jsx("label",{style:{fontSize:"12px",color:"#6B7280",fontWeight:"600"},children:"Year"}),t.jsx("select",{value:o,onChange:T=>a(parseInt(T.target.value)),style:{padding:"8px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",background:"white",cursor:"pointer"},children:B.map(T=>t.jsx("option",{value:T,children:T},T))})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[t.jsx("label",{style:{fontSize:"12px",color:"#6B7280",fontWeight:"600"},children:"Time Range"}),t.jsxs("div",{style:{display:"flex",gap:"6px"},children:[[1,2,3,4].map(T=>{const A=u.includes(T);return t.jsxs("button",{onClick:k=>S(T,k),style:{padding:"8px 16px",background:A?"#3B82F6":"white",color:A?"white":"#374151",border:A?"none":"1px solid #D1D5DB",borderRadius:"6px",fontSize:"13px",fontWeight:A?"600":"500",cursor:"pointer",transition:"all 0.15s",minWidth:"48px"},children:["Q",T]},T)}),t.jsx("button",{onClick:w,style:{padding:"8px 16px",background:u.length===4?"#10B981":"white",color:u.length===4?"white":"#374151",border:u.length===4?"none":"1px solid #D1D5DB",borderRadius:"6px",fontSize:"13px",fontWeight:u.length===4?"600":"500",cursor:"pointer",transition:"all 0.15s"},children:"Full Year"})]})]})]})]}),t.jsxs("div",{className:"card text-center",style:{padding:"60px 20px"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px",opacity:.3},children:""}),t.jsx("h3",{className:"mb-2",children:"No Epics Found"}),t.jsx("p",{className:"text-muted",children:u.length===4?`No epics with work in ${o}. Try selecting a different year or time range.`:`No epics with work in ${o} Q${Math.min(...u)}${u.length>1?`-Q${Math.max(...u)}`:""}. Try selecting a different time range.`})]})]}):t.jsxs("div",{className:"container-fluid",style:{padding:"20px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",flexWrap:"wrap",gap:"16px"},children:[t.jsxs("div",{children:[t.jsx("h2",{style:{fontSize:"24px",fontWeight:"600",marginBottom:"4px"},children:"Executive Gantt Chart"}),t.jsx("p",{style:{fontSize:"14px",color:"#6B7280",margin:0},children:"Epic-level timeline with RAG status and risk analysis"})]}),t.jsxs("div",{style:{display:"flex",gap:"16px",alignItems:"flex-start",flexWrap:"wrap"},children:[t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[t.jsx("label",{style:{fontSize:"12px",color:"#6B7280",fontWeight:"600"},children:"Year"}),t.jsx("select",{value:o,onChange:T=>a(parseInt(T.target.value)),style:{padding:"8px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",background:"white",cursor:"pointer"},children:B.map(T=>t.jsx("option",{value:T,children:T},T))})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[t.jsx("label",{style:{fontSize:"12px",color:"#6B7280",fontWeight:"600"},children:"Time Range"}),t.jsxs("div",{style:{display:"flex",gap:"6px"},children:[[1,2,3,4].map(T=>{const A=u.includes(T);return T===Math.min(...u)||Math.max(...u),u.length,t.jsxs("button",{onClick:k=>S(T,k),style:{padding:"8px 16px",background:A?"#3B82F6":"white",color:A?"white":"#374151",border:A?"none":"1px solid #D1D5DB",borderRadius:"6px",fontSize:"13px",fontWeight:A?"600":"500",cursor:"pointer",transition:"all 0.15s",minWidth:"48px"},title:`Quarter ${T}`,children:["Q",T]},T)}),t.jsx("button",{onClick:w,style:{padding:"8px 16px",background:u.length===4?"#10B981":"white",color:u.length===4?"white":"#374151",border:u.length===4?"none":"1px solid #D1D5DB",borderRadius:"6px",fontSize:"13px",fontWeight:u.length===4?"600":"500",cursor:"pointer",transition:"all 0.15s"},title:"View full year",children:"Full Year"})]})]}),t.jsxs("button",{onClick:()=>y(!b),style:{padding:"8px 16px",background:b?"#3B82F6":"white",color:b?"white":"#1F2937",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"13px",cursor:"pointer",marginTop:"20px"},children:[b?"":""," Executive Summary"]})]})]}),b&&t.jsxs("div",{className:"card",style:{marginBottom:"30px",background:"#F9FAFB",borderColor:"#E5E7EB"},children:[t.jsxs("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"16px"},children:[o," ",u.length===4?"Portfolio Health":u.length===1?`Q${u[0]} Portfolio Health`:`Q${Math.min(...u)}-Q${Math.max(...u)} Portfolio Health`]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:"Total Epics"}),t.jsx("div",{style:{fontSize:"28px",fontWeight:"700",color:"#1F2937"},children:N.total}),t.jsxs("div",{style:{fontSize:"11px",color:"#6B7280",marginTop:"4px",display:"flex",gap:"8px"},children:[t.jsxs("span",{style:{color:"#EF4444"},children:[" ",N.red]}),t.jsxs("span",{style:{color:"#F59E0B"},children:[" ",N.amber]}),t.jsxs("span",{style:{color:"#10B981"},children:[" ",N.green]})]})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:"Total Issues"}),t.jsx("div",{style:{fontSize:"28px",fontWeight:"700",color:"#1F2937"},children:N.totalIssues}),t.jsxs("div",{style:{fontSize:"11px",color:"#6B7280",marginTop:"4px"},children:[N.openIssues," open, ",N.closedIssues," closed"]})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:"Overall Progress"}),t.jsxs("div",{style:{fontSize:"28px",fontWeight:"700",color:"#1F2937"},children:[N.overallProgress.toFixed(0),"%"]}),t.jsx("div",{style:{width:"100%",height:"6px",background:"#E5E7EB",borderRadius:"3px",marginTop:"8px",overflow:"hidden"},children:t.jsx("div",{style:{width:`${N.overallProgress}%`,height:"100%",background:"linear-gradient(90deg, #3B82F6, #10B981)",transition:"width 0.3s"}})})]})]})]}),t.jsxs("div",{className:"card",style:{marginBottom:"20px",overflow:"visible",position:"relative"},children:[re&&t.jsx("div",{style:{position:"absolute",left:`calc(350px + (100% - 350px) * ${parseFloat(re)/100})`,top:0,bottom:0,width:"2px",background:"#EF4444",zIndex:5,cursor:"help"},title:`Today: ${new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}`,children:t.jsx("div",{style:{position:"absolute",top:"8px",left:"-18px",fontSize:"10px",color:"#EF4444",fontWeight:"600",whiteSpace:"nowrap",background:"white",padding:"2px 4px",borderRadius:"3px",border:"1px solid #EF4444",pointerEvents:"none"},children:" TODAY"})}),t.jsxs("div",{style:{display:"flex",borderBottom:"2px solid #E5E7EB",paddingBottom:"4px",marginBottom:"12px"},children:[t.jsx("div",{style:{width:"350px",fontWeight:"600",fontSize:"12px",color:"#6B7280",textTransform:"uppercase"},children:"Epic"}),t.jsxs("div",{style:{flex:1,position:"relative",minHeight:"48px"},children:[M==="year"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"12px",color:"#6B7280",fontWeight:"600",marginBottom:"4px"},children:["Q1","Q2","Q3","Q4"].map((T,A)=>t.jsxs("div",{style:{flex:1,textAlign:"center",borderRight:A<3?"1px dashed #D1D5DB":"none"},children:[T," ",o]},T))}),t.jsx("div",{style:{display:"flex",fontSize:"10px",color:"#9CA3AF",borderTop:"1px solid #E5E7EB",paddingTop:"4px"},children:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((T,A)=>t.jsx("div",{style:{flex:1,textAlign:"center",borderRight:A<11?"1px dotted #E5E7EB":"none",padding:"2px 0"},children:T},T))})]}),M==="quarter"&&(()=>{const T=(Math.min(...u)-1)*3,A=Math.max(...u)*3-1,k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],L=[];for(let C=T;C<=A;C++)L.push({name:k[C],index:C});const H=[];let K=new Date(D.start);for(;K<=D.end;)H.push(new Date(K)),K.setDate(K.getDate()+7);return t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{display:"flex",fontSize:"12px",color:"#6B7280",fontWeight:"600",marginBottom:"4px"},children:L.map((C,U)=>t.jsx("div",{style:{flex:1,textAlign:"center",borderRight:U<L.length-1?"1px dashed #D1D5DB":"none"},children:C.name},C.index))}),t.jsx("div",{style:{display:"flex",fontSize:"9px",color:"#9CA3AF",borderTop:"1px solid #E5E7EB",paddingTop:"4px"},children:H.map((C,U)=>t.jsxs("div",{style:{flex:1,textAlign:"center",borderRight:U<H.length-1?"1px dotted #E5E7EB":"none",padding:"2px 0",fontSize:"9px"},title:C.toLocaleDateString(),children:[C.getDate(),"/",C.getMonth()+1]},U))})]})})(),M==="month"&&(()=>{const T=[];let A=new Date(D.start);for(;A<=D.end;)T.push(new Date(A)),A.setDate(A.getDate()+7);return t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{display:"flex",fontSize:"11px",color:"#6B7280",fontWeight:"600",marginBottom:"4px"},children:T.map((k,L)=>t.jsxs("div",{style:{flex:1,textAlign:"center",borderRight:L<T.length-1?"1px dashed #D1D5DB":"none"},children:["Week ",L+1]},L))}),t.jsx("div",{style:{display:"flex",fontSize:"9px",color:"#9CA3AF",borderTop:"1px solid #E5E7EB",paddingTop:"4px"},children:T.map((k,L)=>t.jsx("div",{style:{flex:1,textAlign:"center",borderRight:L<T.length-1?"1px dotted #E5E7EB":"none",padding:"2px 0"},children:k.toLocaleDateString("en-US",{month:"short",day:"numeric"})},L))})]})})()]})]}),W.map(T=>{const A=q.get(T.id)||[],k=I.get(T.id),L=x.has(T.id),H=ee(T.start_date,T.end_date),K=A.filter(ie=>ie.state==="opened"),C=A.filter(ie=>ie.state==="closed"),U=K.filter(ie=>{const de=ms(ie);return de==="inProgress"||de==="review"||de==="testing"}),ne=k.metrics.progressPercent;return t.jsxs("div",{style:{marginBottom:"24px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"12px 0",borderBottom:"1px solid #E5E7EB"},children:[t.jsx("div",{style:{width:"350px",paddingRight:"16px"},children:t.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"8px"},children:[t.jsx("button",{onClick:()=>z(T.id),style:{background:"none",border:"none",cursor:"pointer",fontSize:"14px",padding:"0 4px",color:"#6B7280"},children:L?"":""}),t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[t.jsx("a",{href:T.web_url,target:"_blank",rel:"noopener noreferrer",style:{fontSize:"14px",fontWeight:"600",color:"#1F2937",textDecoration:"none"},onMouseEnter:ie=>ie.target.style.textDecoration="underline",onMouseLeave:ie=>ie.target.style.textDecoration="none",children:T.title}),t.jsx("div",{style:{padding:"2px 8px",background:G(k.status),color:j(k.status),borderRadius:"4px",fontSize:"11px",fontWeight:"600",whiteSpace:"nowrap"},children:P(k.status)})]}),t.jsxs("div",{style:{fontSize:"12px",color:"#6B7280"},children:[C.length,"/",A.length," closed"," | ",K.length," open",U.length>0&&` | ${U.length} in progress`]})]})]})}),t.jsx("div",{style:{flex:1,position:"relative",height:"40px"},children:H&&t.jsxs("div",{style:{position:"absolute",left:H.left,width:H.width,height:"32px",background:"#E5E7EB",borderRadius:"6px",overflow:"hidden",cursor:"pointer",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",border:`1px solid ${j(k.status)}40`},onClick:()=>window.open(T.web_url,"_blank"),title:xv(k),children:[t.jsx("div",{style:{width:`${ne}%`,height:"100%",background:`linear-gradient(90deg, ${j(k.status)}, ${j(k.status)}DD)`,transition:"width 0.3s ease"}}),t.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsxs("span",{style:{color:ne>30?"white":"#1F2937",fontSize:"12px",fontWeight:"600",textShadow:ne>30?"0 1px 2px rgba(0,0,0,0.3)":"none",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",padding:"0 8px"},children:[ne.toFixed(0),"%"]})})]})})]}),L&&(()=>{const ie=F(T.id),de=ie.filter(ce=>!ce._isCrossProject).length,ue=ie.filter(ce=>ce._isCrossProject).length;return t.jsxs("div",{style:{marginTop:"12px",marginLeft:"32px",paddingLeft:"16px",borderLeft:"2px solid #E5E7EB"},children:[ue>0&&t.jsxs("div",{style:{padding:"8px 12px",background:"#EFF6FF",border:"1px solid #BFDBFE",borderRadius:"6px",marginBottom:"12px",fontSize:"12px",color:"#1E40AF"},children:[t.jsxs("strong",{children:[" Showing ",de," local + ",ue," cross-project issues"]}),t.jsx("div",{style:{fontSize:"11px",color:"#3B82F6",marginTop:"2px"},children:"Cross-project issues are highlighted with a blue left border"})]}),ie.slice(0,20).map(ce=>{const ye=hv(ce),Se=ee(ce.created_at,ce.due_date||ce.milestone?.due_date||T.end_date),Zt=ms(ce),Kt=mi(Zt);return t.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"8px 0",paddingLeft:ce._isCrossProject?"12px":"0",borderBottom:"1px solid #F3F4F6",borderLeft:ce._isCrossProject?"4px solid #3B82F6":"none",background:ce._isCrossProject?"#F0F9FF":"transparent",marginLeft:ce._isCrossProject?"-12px":"0",borderRadius:ce._isCrossProject?"4px":"0"},children:[t.jsxs("div",{style:{width:"318px",paddingRight:"16px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"4px"},children:[t.jsxs("a",{href:ce.web_url,target:"_blank",rel:"noopener noreferrer",style:{fontSize:"12px",color:ce.state==="closed"?"#6B7280":"#1F2937",textDecoration:"none",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",flex:1},onMouseEnter:sn=>sn.target.style.textDecoration="underline",onMouseLeave:sn=>sn.target.style.textDecoration="none",children:["#",ce.iid," ",ce.title]}),ce._isCrossProject&&t.jsx("span",{style:{fontSize:"9px",padding:"2px 5px",background:"#3B82F6",color:"white",borderRadius:"3px",fontWeight:"600",whiteSpace:"nowrap"},title:`From: ${ce._sourceProject}`,children:ce._sourceProject})]}),t.jsxs("div",{style:{fontSize:"10px",color:"#6B7280"},children:[ce.assignees?.[0]?.name||"Unassigned","  ",t.jsx("span",{style:{color:Kt,fontWeight:"600"},children:vi(Zt)})]})]}),t.jsx("div",{style:{flex:1,position:"relative",height:"24px"},children:Se&&t.jsxs("div",{style:{position:"absolute",left:Se.left,width:Se.width,height:"20px",background:"#F3F4F6",borderRadius:"4px",overflow:"hidden",cursor:"pointer",boxShadow:"0 1px 2px rgba(0,0,0,0.05)",border:`1px solid ${Kt}40`},onClick:()=>window.open(ce.web_url,"_blank"),title:`${ce.title} - ${ye}% complete`,children:[t.jsx("div",{style:{width:`${ye}%`,height:"100%",background:Kt,transition:"width 0.3s ease"}}),ye>20&&t.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsxs("span",{style:{color:ye>30?"white":"#1F2937",fontSize:"10px",fontWeight:"600",textShadow:ye>30?"0 1px 2px rgba(0,0,0,0.3)":"none"},children:[ye,"%"]})})]})})]},ce.id)}),ie.length>20&&t.jsxs("div",{style:{padding:"8px 0",fontSize:"11px",color:"#6B7280",fontStyle:"italic"},children:["+ ",ie.length-20," more issues (showing first 20)"]})]})})(),L&&k.factors.length>0&&t.jsxs("div",{style:{marginTop:"12px",marginLeft:"32px"},children:[t.jsxs("button",{onClick:()=>_(T.id),style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",background:"#F9FAFB",border:"1px solid #E5E7EB",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"600",color:"#1F2937",width:"100%",justifyContent:"space-between"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("span",{style:{fontSize:"14px"},children:""}),t.jsx("span",{children:"Analysis & Recommendations"}),t.jsxs("span",{style:{fontSize:"11px",fontWeight:"400",color:"#6B7280"},children:["(",k.factors.length," factors, ",k.actions.length," actions)"]})]}),t.jsx("span",{style:{fontSize:"12px",color:"#6B7280"},children:h.has(T.id)?"":""})]}),h.has(T.id)&&t.jsxs("div",{style:{background:"#F9FAFB",border:"1px solid #E5E7EB",borderRadius:"6px",padding:"16px",marginTop:"12px",marginBottom:"12px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px"},children:[t.jsx("span",{style:{fontSize:"16px"},children:""}),t.jsxs("h4",{style:{fontSize:"14px",fontWeight:"600",color:"#1F2937",margin:0},children:["Why ",P(k.status),"?"]})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("div",{style:{fontSize:"13px",fontWeight:"600",color:"#6B7280",marginBottom:"8px"},children:[" Primary Issue: ",k.reason]}),k.factors.length>0&&t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"13px",fontWeight:"600",color:"#6B7280",marginTop:"12px",marginBottom:"8px"},children:" Contributing Factors:"}),k.factors.slice(0,3).map((ie,de)=>t.jsxs("div",{style:{padding:"10px",background:"white",borderLeft:`3px solid ${ie.severity==="critical"?"#EF4444":"#F59E0B"}`,borderRadius:"4px",marginBottom:"8px"},children:[t.jsxs("div",{style:{fontSize:"12px",fontWeight:"600",color:"#1F2937",marginBottom:"4px"},children:[de+1,". [",ie.severity==="critical"?" Critical":" Medium","] ",ie.title]}),t.jsx("div",{style:{fontSize:"11px",color:"#6B7280",marginBottom:"2px"},children:ie.description}),t.jsxs("div",{style:{fontSize:"11px",color:"#6B7280",fontStyle:"italic"},children:["Impact: ",ie.impact]})]},de))]})]}),k.actions.length>0&&t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"13px",fontWeight:"600",color:"#6B7280",marginBottom:"8px"},children:" Recommended Actions:"}),k.actions.slice(0,3).map((ie,de)=>t.jsxs("div",{style:{padding:"10px",background:"white",borderRadius:"4px",marginBottom:"8px",borderLeft:`3px solid ${ie.priority==="critical"?"#EF4444":ie.priority==="high"?"#F59E0B":"#3B82F6"}`},children:[t.jsxs("div",{style:{fontSize:"12px",fontWeight:"600",color:"#1F2937",marginBottom:"4px"},children:[ie.priority==="critical"?" [Critical]":ie.priority==="high"?" [High]":" [Medium]"," ",ie.title]}),t.jsx("div",{style:{fontSize:"11px",color:"#6B7280",marginBottom:"2px"},children:ie.description}),t.jsxs("div",{style:{fontSize:"10px",color:"#6B7280"},children:["Effort: ",ie.estimatedEffort,"  Impact: ",ie.impact]})]},de))]}),k.projection&&t.jsxs("div",{style:{marginTop:"12px",padding:"10px",background:k.projection.onTime?"#D1FAE5":"#FEE2E2",borderRadius:"4px"},children:[t.jsxs("div",{style:{fontSize:"12px",fontWeight:"600",color:k.projection.onTime?"#065F46":"#991B1B"},children:[" Projection: ",k.projection.onTime?"On time":`${Math.abs(Math.round(k.projection.daysVariance))} days late`]}),t.jsxs("div",{style:{fontSize:"11px",color:k.projection.onTime?"#065F46":"#991B1B",marginTop:"2px"},children:["Expected completion: ",k.projection.date.toLocaleDateString()," (",k.projection.iterationsNeeded," iterations at current velocity)"]})]})]})]}),!1]},T.id)})]})]})}function mv({epics:l,issues:r}){const[c,o]=R.useState(""),[a,u]=R.useState("current"),f=R.useMemo(()=>{const y=new Set,S=new Date,w=`Q${Math.floor(S.getMonth()/3)+1} ${S.getFullYear()}`;return y.add(w),l.forEach(D=>{if(D.start_date||D.due_date||D.end_date){const M=new Date(D.start_date||D.due_date||D.end_date),W=`Q${Math.floor(M.getMonth()/3)+1} ${M.getFullYear()}`;y.add(W)}}),Array.from(y).sort((D,M)=>{const[W,q]=D.split(" "),[I,N]=M.split(" "),B=parseInt(W.substring(1)),z=parseInt(I.substring(1));return N!==q?parseInt(N)-parseInt(q):z-B})},[l]),x=R.useMemo(()=>l.map(y=>{const S=y.issues||[],w=S.length,D=S.filter(_=>_.state==="closed").length,M=w>0?Math.round(D/w*100):0,W=new Set;S.forEach(_=>{if(_.iteration){const j=typeof _.iteration=="object"?_.iteration.title:_.iteration;j&&W.add(j)}});let q="green",I=[];const N=new Date,B=y.due_date||y.end_date;if(B){const _=new Date(B),j=Math.floor((_-N)/(1e3*60*60*24));y.state==="opened"&&(j<0?(q="red",I.push(`Overdue by ${Math.abs(j)} days`)):j<14&&M<80&&(q=q==="red"?"red":"amber",I.push(`Due in ${j} days, only ${M}% complete`)))}M<30&&y.state==="opened"&&(q=q==="red"?"red":"amber",I.push(`Low completion rate: ${M}%`));const z=S.filter(_=>_.labels?.some(j=>j.toLowerCase().includes("block"))).length;z>0&&(q=q==="red"?"red":"amber",I.push(`${z} blocked issue${z>1?"s":""}`));let F=null;if(y.start_date||y.due_date||y.end_date){const _=new Date(y.start_date||y.due_date||y.end_date);F=`Q${Math.floor(_.getMonth()/3)+1} ${_.getFullYear()}`}return{...y,totalIssues:w,closedIssues:D,completionRate:M,iterations:Array.from(W).sort(),rag:q,ragReason:I.length>0?I:["On track"],quarter:F,blockedIssues:z}}).sort((y,S)=>{const w={red:0,amber:1,green:2};return w[y.rag]!==w[S.rag]?w[y.rag]-w[S.rag]:y.completionRate-S.completionRate}),[l]),g=R.useMemo(()=>{let y=x;if(a!=="all")if(a==="current"){const S=new Date,w=`Q${Math.floor(S.getMonth()/3)+1} ${S.getFullYear()}`;y=y.filter(D=>D.quarter===w)}else y=y.filter(S=>S.quarter===a);return c&&(y=Ay(y,c)),y},[x,a,c]),h=R.useMemo(()=>{const y={red:0,amber:0,green:0,total:g.length};return g.forEach(S=>{y[S.rag]++}),y},[g]),m=y=>{switch(y){case"red":return"#DC2626";case"amber":return"#D97706";case"green":return"#059669";default:return"#6B7280"}},b=()=>{const y=c0(g),S=new Date().toISOString().split("T")[0];Xt(y,`quarterly-epic-tracker-${a}-${S}.csv`)};return!l||l.length===0?t.jsx("div",{className:"container",children:t.jsxs("div",{className:"card text-center",style:{padding:"60px 20px"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px",opacity:.3},children:""}),t.jsx("h3",{className:"mb-2",children:"No Epics Found"}),t.jsxs("p",{className:"text-muted",children:["Epic support requires GitLab Premium/Ultimate.",t.jsx("br",{}),"Configure your Group Path in settings to enable epic tracking."]})]})}):t.jsxs("div",{className:"container-fluid",children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[t.jsxs("div",{children:[t.jsx("h2",{style:{fontSize:"24px",fontWeight:"600",marginBottom:"8px"},children:"Quarterly Epic Tracker"}),t.jsx("p",{style:{fontSize:"14px",color:"#6B7280"},children:"Track key epics per quarter with RAG status and iteration progress"})]}),g.length>0&&t.jsxs("button",{className:"btn btn-primary",onClick:b,children:[" Export CSV (",g.length," epics)"]})]}),t.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"20px",flexWrap:"wrap"},children:[t.jsx("button",{className:`btn ${a==="current"?"btn-primary":"btn-secondary"}`,onClick:()=>u("current"),children:"Current Quarter"}),f.map(y=>t.jsx("button",{className:`btn ${a===y?"btn-primary":"btn-secondary"}`,onClick:()=>u(y),children:y},y)),t.jsx("button",{className:`btn ${a==="all"?"btn-primary":"btn-secondary"}`,onClick:()=>u("all"),children:"All Quarters"})]}),t.jsx(Qc,{value:c,onChange:o,placeholder:"Search epics by title, labels, description..."}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:"30px"},children:[t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Total Epics"}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"600",color:"#1F2937"},children:h.total}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:a==="current"?"This quarter":a})]}),t.jsxs("div",{className:"card",style:{borderLeft:"4px solid #DC2626"},children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:" Red"}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"600",color:"#DC2626"},children:h.red}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:"Critical attention needed"})]}),t.jsxs("div",{className:"card",style:{borderLeft:"4px solid #D97706"},children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:" Amber"}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"600",color:"#D97706"},children:h.amber}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:"At risk, needs monitoring"})]}),t.jsxs("div",{className:"card",style:{borderLeft:"4px solid #059669"},children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:" Green"}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"600",color:"#059669"},children:h.green}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:"On track"})]})]}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:g.length===0?t.jsxs("div",{className:"card text-center",style:{padding:"40px 20px"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px",opacity:.3},children:""}),t.jsx("h3",{className:"mb-2",children:"No Epics Found"}),t.jsx("p",{className:"text-muted",children:c?"Try a different search term":`No epics for ${a}`})]}):g.map(y=>t.jsxs("div",{className:"card",style:{borderLeft:`6px solid ${m(y.rag)}`,opacity:y.state==="closed"?.7:1},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[t.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#1F2937",margin:0},children:y.title}),t.jsx("span",{style:{padding:"4px 8px",background:y.state==="opened"?"#DBEAFE":"#D1FAE5",color:y.state==="opened"?"#1E40AF":"#065F46",borderRadius:"4px",fontSize:"12px",fontWeight:"600",textTransform:"capitalize"},children:y.state})]}),y.description&&t.jsxs("p",{style:{fontSize:"14px",color:"#6B7280",margin:"8px 0",lineHeight:"1.5"},children:[y.description.substring(0,200),y.description.length>200&&"..."]}),t.jsxs("div",{style:{display:"flex",gap:"16px",fontSize:"12px",color:"#6B7280",marginTop:"8px"},children:[y.quarter&&t.jsxs("div",{children:[t.jsx("strong",{children:"Quarter:"})," ",y.quarter]}),y.start_date&&t.jsxs("div",{children:[t.jsx("strong",{children:"Start:"})," ",new Date(y.start_date).toLocaleDateString()]}),(y.due_date||y.end_date)&&t.jsxs("div",{children:[t.jsx("strong",{children:"Due:"})," ",new Date(y.due_date||y.end_date).toLocaleDateString()]}),y.web_url&&t.jsx("div",{children:t.jsx("a",{href:y.web_url,target:"_blank",rel:"noopener noreferrer",style:{color:"#2563EB"},children:"View in GitLab "})})]})]}),t.jsxs("div",{style:{minWidth:"120px",textAlign:"center",padding:"16px",background:m(y.rag)+"20",borderRadius:"8px"},children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:"RAG Status"}),t.jsx("div",{style:{fontSize:"36px",fontWeight:"700",color:m(y.rag)},children:y.rag==="red"?"":y.rag==="amber"?"":""}),t.jsx("div",{style:{fontSize:"12px",fontWeight:"600",color:m(y.rag),textTransform:"uppercase"},children:y.rag})]})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"16px",marginBottom:"16px"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:"Completion"}),t.jsxs("div",{style:{fontSize:"24px",fontWeight:"600",color:"#2563EB"},children:[y.completionRate,"%"]})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:"Total Issues"}),t.jsx("div",{style:{fontSize:"24px",fontWeight:"600",color:"#1F2937"},children:y.totalIssues})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:"Completed"}),t.jsx("div",{style:{fontSize:"24px",fontWeight:"600",color:"#059669"},children:y.closedIssues})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:"Iterations"}),t.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#1F2937"},children:y.iterations.length>0?y.iterations.join(", "):"None"})]})]}),t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"6px"},children:["Progress: ",y.closedIssues," / ",y.totalIssues," issues completed"]}),t.jsx("div",{style:{width:"100%",height:"12px",background:"#E5E7EB",borderRadius:"6px",overflow:"hidden"},children:t.jsx("div",{style:{width:`${y.completionRate}%`,height:"100%",background:m(y.rag),transition:"width 0.3s ease"}})})]}),t.jsxs("div",{style:{padding:"12px",background:m(y.rag)+"15",borderRadius:"8px",fontSize:"13px"},children:[t.jsx("div",{style:{fontWeight:"600",color:m(y.rag),marginBottom:"6px"},children:"Status Details:"}),t.jsx("ul",{style:{margin:0,paddingLeft:"20px",color:"#1F2937"},children:y.ragReason.map((S,w)=>t.jsx("li",{children:S},w))})]})]},y.id))})]})}function yv({epics:l,issues:r,crossProjectData:c}){const[o,a]=R.useState("portfolio");return t.jsxs("div",{className:"container-fluid",children:[t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("h2",{style:{fontSize:"24px",fontWeight:"600",marginBottom:"8px"},children:"Epic Management"}),t.jsx("p",{style:{fontSize:"14px",color:"#6B7280"},children:"Manage epics across portfolio, timeline, and quarterly views"})]}),t.jsxs("div",{style:{display:"flex",gap:"4px",borderBottom:"2px solid #E5E7EB",marginBottom:"24px"},children:[t.jsx("button",{onClick:()=>a("portfolio"),style:{padding:"12px 24px",background:o==="portfolio"?"white":"transparent",border:"none",borderBottom:o==="portfolio"?"3px solid #E60000":"3px solid transparent",fontSize:"14px",fontWeight:o==="portfolio"?"600":"500",color:o==="portfolio"?"#E60000":"#6B7280",cursor:"pointer",transition:"all 0.2s",marginBottom:"-2px"},children:"Portfolio"}),t.jsx("button",{onClick:()=>a("timeline"),style:{padding:"12px 24px",background:o==="timeline"?"white":"transparent",border:"none",borderBottom:o==="timeline"?"3px solid #E60000":"3px solid transparent",fontSize:"14px",fontWeight:o==="timeline"?"600":"500",color:o==="timeline"?"#E60000":"#6B7280",cursor:"pointer",transition:"all 0.2s",marginBottom:"-2px"},children:"Timeline"}),t.jsx("button",{onClick:()=>a("quarterly"),style:{padding:"12px 24px",background:o==="quarterly"?"white":"transparent",border:"none",borderBottom:o==="quarterly"?"3px solid #E60000":"3px solid transparent",fontSize:"14px",fontWeight:o==="quarterly"?"600":"500",color:o==="quarterly"?"#E60000":"#6B7280",cursor:"pointer",transition:"all 0.2s",marginBottom:"-2px"},children:"Quarterly"})]}),t.jsxs("div",{children:[o==="portfolio"&&t.jsx(iv,{epics:l,issues:r,crossProjectData:c}),o==="timeline"&&t.jsx(gv,{epics:l,issues:r,crossProjectData:c}),o==="quarterly"&&t.jsx(mv,{epics:l,issues:r,crossProjectData:c})]})]})}function vv({epics:l,issues:r}){const[c,o]=R.useState(null),[a,u]=R.useState("all"),f=R.useMemo(()=>{if(!l||!r)return[];const y=Qh(r.filter(w=>w.state==="closed"));return l.map(w=>{const D=r.filter(W=>W.epic?.id===w.id),M=Ph(w,D,y);return{epic:w,issues:D,...M}}).sort((w,D)=>{const M={red:0,amber:1,green:2};return M[w.status]-M[D.status]})},[l,r]),x=R.useMemo(()=>a==="all"?f:f.filter(y=>y.status===a),[f,a]),g=R.useMemo(()=>{const y=f.filter(M=>M.status==="red").length,S=f.filter(M=>M.status==="amber").length,w=f.filter(M=>M.status==="green").length,D=f.length;return{red:y,amber:S,green:w,total:D}},[f]),h=y=>y==="red"?"#EF4444":y==="amber"?"#F59E0B":"#10B981",m=y=>y==="red"?"#FEE2E2":y==="amber"?"#FEF3C7":"#D1FAE5",b=y=>y==="red"?"Critical":y==="amber"?"At Risk":"On Track";return!l||l.length===0?t.jsx("div",{className:"container",children:t.jsxs("div",{className:"card text-center",style:{padding:"60px 20px"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px",opacity:.3},children:""}),t.jsx("h3",{className:"mb-2",children:"No Epics Available"}),t.jsx("p",{className:"text-muted",children:"Add epics to your project to see risk analysis."})]})}):t.jsxs("div",{className:"container-fluid",style:{padding:"20px"},children:[t.jsxs("div",{style:{marginBottom:"24px"},children:[t.jsx("h2",{style:{fontSize:"24px",fontWeight:"600",marginBottom:"4px"},children:"Risk Analysis Dashboard"}),t.jsx("p",{style:{fontSize:"14px",color:"#6B7280"},children:"Deep-dive root cause analysis with actionable recommendations"})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",marginBottom:"24px"},children:[t.jsxs("div",{className:"card",onClick:()=>u(a==="red"?"all":"red"),style:{cursor:"pointer",borderLeft:"4px solid #EF4444",background:a==="red"?"#FEE2E2":"white"},children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:" Critical Epics"}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"700",color:"#EF4444"},children:g.red}),t.jsxs("div",{style:{fontSize:"11px",color:"#6B7280",marginTop:"4px"},children:[g.total>0?Math.round(g.red/g.total*100):0,"% of portfolio"]})]}),t.jsxs("div",{className:"card",onClick:()=>u(a==="amber"?"all":"amber"),style:{cursor:"pointer",borderLeft:"4px solid #F59E0B",background:a==="amber"?"#FEF3C7":"white"},children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:" At Risk Epics"}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"700",color:"#F59E0B"},children:g.amber}),t.jsxs("div",{style:{fontSize:"11px",color:"#6B7280",marginTop:"4px"},children:[g.total>0?Math.round(g.amber/g.total*100):0,"% of portfolio"]})]}),t.jsxs("div",{className:"card",onClick:()=>u(a==="green"?"all":"green"),style:{cursor:"pointer",borderLeft:"4px solid #10B981",background:a==="green"?"#D1FAE5":"white"},children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:" On Track Epics"}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"700",color:"#10B981"},children:g.green}),t.jsxs("div",{style:{fontSize:"11px",color:"#6B7280",marginTop:"4px"},children:[g.total>0?Math.round(g.green/g.total*100):0,"% of portfolio"]})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:"Total Epics"}),t.jsx("div",{style:{fontSize:"32px",fontWeight:"700",color:"#1F2937"},children:g.total}),t.jsx("div",{style:{fontSize:"11px",color:"#6B7280",marginTop:"4px"},children:a!=="all"?`Showing ${x.length}`:"All epics"})]})]}),x.length===0?t.jsx("div",{className:"card text-center",style:{padding:"40px"},children:t.jsx("p",{style:{color:"#6B7280"},children:"No epics match the selected filter."})}):x.map(y=>{const S=c===y.epic.id,w=y.status==="red"||y.status==="amber";return t.jsx("div",{style:{marginBottom:"20px"},children:t.jsxs("div",{className:"card",style:{borderLeft:`4px solid ${h(y.status)}`,background:S?m(y.status):"white"},children:[t.jsxs("div",{onClick:()=>o(S?null:y.epic.id),style:{cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:S?"20px":"0"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[t.jsx("a",{href:y.epic.web_url,target:"_blank",rel:"noopener noreferrer",onClick:D=>D.stopPropagation(),style:{fontSize:"18px",fontWeight:"600",color:"#1F2937",textDecoration:"none"},onMouseEnter:D=>D.target.style.textDecoration="underline",onMouseLeave:D=>D.target.style.textDecoration="none",children:y.epic.title}),t.jsx("div",{style:{padding:"4px 12px",background:h(y.status),color:"white",borderRadius:"6px",fontSize:"12px",fontWeight:"600"},children:b(y.status)}),y.status!=="green"&&t.jsxs("span",{style:{fontSize:"14px",color:"#6B7280"},children:[S?"":""," Click for details"]})]}),t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:y.reason}),y.metrics&&t.jsxs("div",{style:{display:"flex",gap:"20px",fontSize:"13px",color:"#6B7280"},children:[t.jsxs("span",{children:[y.metrics.closedIssues,"/",y.metrics.totalIssues," issues closed (",y.metrics.progressPercent.toFixed(0),"%)"]}),y.metrics.remainingIterations!==null&&t.jsxs("span",{children:[y.metrics.remainingIterations," iterations left"]}),y.metrics.currentVelocity>0&&t.jsxs("span",{children:["Velocity: ",y.metrics.currentVelocity.toFixed(1)," (need ",y.metrics.requiredVelocity.toFixed(1),")"]})]})]}),y.metrics&&t.jsxs("div",{style:{minWidth:"120px",textAlign:"right"},children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:"Progress"}),t.jsxs("div",{style:{fontSize:"24px",fontWeight:"700",color:h(y.status)},children:[y.metrics.progressPercent.toFixed(0),"%"]})]})]}),S&&w&&t.jsx("div",{children:t.jsxs("div",{style:{borderTop:"1px solid #E5E7EB",paddingTop:"20px",marginTop:"20px"},children:[t.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#1F2937",marginBottom:"16px"},children:"Root Cause Analysis"}),y.factors.length>0&&t.jsxs("div",{style:{marginBottom:"24px"},children:[t.jsx("h4",{style:{fontSize:"14px",fontWeight:"600",color:"#6B7280",marginBottom:"12px"},children:" Contributing Factors"}),y.factors.map((D,M)=>t.jsxs("div",{style:{padding:"12px",background:"white",borderLeft:`4px solid ${D.severity==="critical"?"#EF4444":"#F59E0B"}`,borderRadius:"6px",marginBottom:"12px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[t.jsxs("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1F2937"},children:[M+1,". ",D.title]}),t.jsx("div",{style:{padding:"2px 8px",background:D.severity==="critical"?"#FEE2E2":"#FEF3C7",color:D.severity==="critical"?"#DC2626":"#D97706",borderRadius:"4px",fontSize:"11px",fontWeight:"600"},children:D.severity==="critical"?"CRITICAL":"WARNING"})]}),t.jsx("div",{style:{fontSize:"13px",color:"#6B7280",marginBottom:"6px"},children:D.description}),t.jsxs("div",{style:{fontSize:"12px",color:"#6B7280",fontStyle:"italic"},children:[t.jsx("strong",{children:"Impact:"})," ",D.impact]})]},M))]}),y.actions.length>0&&t.jsxs("div",{style:{marginBottom:"24px"},children:[t.jsx("h4",{style:{fontSize:"14px",fontWeight:"600",color:"#6B7280",marginBottom:"12px"},children:" Recommended Action Plan"}),y.actions.map((D,M)=>t.jsxs("div",{style:{padding:"12px",background:"white",borderLeft:`4px solid ${D.priority==="critical"?"#EF4444":D.priority==="high"?"#F59E0B":"#3B82F6"}`,borderRadius:"6px",marginBottom:"12px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[t.jsxs("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1F2937"},children:[D.priority==="critical"?"":D.priority==="high"?"":""," ",D.title]}),t.jsx("div",{style:{padding:"2px 8px",background:D.priority==="critical"?"#FEE2E2":D.priority==="high"?"#FEF3C7":"#DBEAFE",color:D.priority==="critical"?"#DC2626":D.priority==="high"?"#D97706":"#1E40AF",borderRadius:"4px",fontSize:"11px",fontWeight:"600",textTransform:"uppercase"},children:D.priority})]}),t.jsx("div",{style:{fontSize:"13px",color:"#1F2937",marginBottom:"6px"},children:D.description}),t.jsxs("div",{style:{display:"flex",gap:"16px",fontSize:"12px",color:"#6B7280"},children:[t.jsxs("span",{children:[t.jsx("strong",{children:"Effort:"})," ",D.estimatedEffort]}),t.jsxs("span",{children:[t.jsx("strong",{children:"Impact:"})," ",D.impact]})]})]},M))]}),y.projection&&t.jsxs("div",{style:{padding:"16px",background:y.projection.onTime?"#D1FAE5":"#FEE2E2",borderRadius:"8px",border:`2px solid ${y.projection.onTime?"#10B981":"#EF4444"}`},children:[t.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:y.projection.onTime?"#065F46":"#991B1B",marginBottom:"8px"},children:" Completion Projection"}),t.jsxs("div",{style:{fontSize:"13px",color:y.projection.onTime?"#065F46":"#991B1B"},children:[t.jsxs("div",{children:["Expected completion: ",t.jsx("strong",{children:y.projection.date.toLocaleDateString()})]}),t.jsxs("div",{children:["At current velocity: ",t.jsxs("strong",{children:[y.projection.iterationsNeeded," iterations"]})," (",y.projection.weeksNeeded," weeks)"]}),y.projection.daysVariance!==null&&t.jsx("div",{style:{marginTop:"8px",fontSize:"14px",fontWeight:"600"},children:y.projection.onTime?` On time (${Math.abs(Math.round(y.projection.daysVariance))} days early)`:` ${Math.abs(Math.round(y.projection.daysVariance))} days late`})]})]})]})}),S&&y.status==="green"&&t.jsx("div",{style:{borderTop:"1px solid #E5E7EB",paddingTop:"16px",marginTop:"16px"},children:t.jsxs("div",{style:{padding:"16px",background:"#D1FAE5",borderRadius:"8px"},children:[t.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"#065F46",marginBottom:"8px"},children:" Epic is on track"}),t.jsxs("div",{style:{fontSize:"13px",color:"#065F46"},children:["Current velocity (",y.metrics.currentVelocity.toFixed(1)," issues/iter) is sufficient to complete remaining ",y.metrics.remainingIssues," issues in ",y.metrics.remainingIterations," iterations."]}),y.projection&&t.jsxs("div",{style:{marginTop:"8px",fontSize:"13px",color:"#065F46"},children:["Projected completion: ",t.jsx("strong",{children:y.projection.date.toLocaleDateString()}),y.projection.daysVariance<0&&` (${Math.abs(Math.round(y.projection.daysVariance))} days ahead of schedule)`]})]})})]})},y.epic.id)})]})}function bv(){const{risks:l,addRisk:r,updateRisk:c,getRiskScore:o}=Uc(),[a,u]=R.useState(!1),[f,x]=R.useState({title:"",description:"",probability:2,impact:2,owner:"",status:"open"}),g=()=>{f.title&&(r(f),x({title:"",description:"",probability:2,impact:2,owner:"",status:"open"}),u(!1))},h={};for(let b=3;b>=1;b--)for(let y=1;y<=3;y++){const S=`${b}-${y}`;h[S]=l.filter(w=>w.probability===b&&w.impact===y&&w.status==="open").length}const m=l.filter(b=>b.status==="open");return t.jsxs("div",{className:"container",children:[t.jsxs("div",{className:"card mb-3",children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"32px"},children:[t.jsx("h2",{children:"Risk Register"}),t.jsx("button",{className:"btn btn-primary",onClick:()=>u(!0),children:"Add Risk"})]}),t.jsx("h3",{className:"mb-3",style:{fontWeight:"500"},children:"Probability  Impact Matrix"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"auto repeat(3, 1fr)",gap:"8px",marginBottom:"32px"},children:[t.jsx("div",{}),t.jsx("div",{className:"text-center metric-label",children:"LOW IMPACT"}),t.jsx("div",{className:"text-center metric-label",children:"MEDIUM IMPACT"}),t.jsx("div",{className:"text-center metric-label",children:"HIGH IMPACT"}),t.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",paddingRight:"12px"},children:t.jsx("span",{className:"metric-label",children:"HIGH PROB"})}),t.jsx(Bn,{score:o({probability:3,impact:1}),count:h["3-1"]}),t.jsx(Bn,{score:o({probability:3,impact:2}),count:h["3-2"]}),t.jsx(Bn,{score:o({probability:3,impact:3}),count:h["3-3"]}),t.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",paddingRight:"12px"},children:t.jsx("span",{className:"metric-label",children:"MED PROB"})}),t.jsx(Bn,{score:o({probability:2,impact:1}),count:h["2-1"]}),t.jsx(Bn,{score:o({probability:2,impact:2}),count:h["2-2"]}),t.jsx(Bn,{score:o({probability:2,impact:3}),count:h["2-3"]}),t.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",paddingRight:"12px"},children:t.jsx("span",{className:"metric-label",children:"LOW PROB"})}),t.jsx(Bn,{score:o({probability:1,impact:1}),count:h["1-1"]}),t.jsx(Bn,{score:o({probability:1,impact:2}),count:h["1-2"]}),t.jsx(Bn,{score:o({probability:1,impact:3}),count:h["1-3"]})]})]}),t.jsxs("div",{className:"card",children:[t.jsx("h3",{className:"mb-3",children:"Active Risks"}),m.length===0?t.jsxs("div",{className:"text-center",style:{padding:"60px 20px"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px",opacity:.3},children:""}),t.jsx("p",{className:"text-muted",children:'No active risks. Click "Add Risk" to create one.'})]}):t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:m.map(b=>t.jsx("div",{className:"card",style:{background:"var(--bg-secondary)",borderLeft:`4px solid ${o(b)>=6?"var(--danger)":o(b)>=3?"var(--warning)":"var(--success)"}`},children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsx("h4",{style:{marginBottom:"8px"},children:b.title}),t.jsx("p",{className:"text-muted mb-2",style:{fontSize:"14px"},children:b.description}),t.jsxs("div",{style:{display:"flex",gap:"16px",fontSize:"13px"},children:[t.jsxs("span",{children:[t.jsx("strong",{children:"Probability:"})," ",b.probability===3?"High":b.probability===2?"Medium":"Low"]}),t.jsxs("span",{children:[t.jsx("strong",{children:"Impact:"})," ",b.impact===3?"High":b.impact===2?"Medium":"Low"]}),t.jsxs("span",{children:[t.jsx("strong",{children:"Score:"})," ",o(b)]}),b.owner&&t.jsxs("span",{children:[t.jsx("strong",{children:"Owner:"})," ",b.owner]})]})]}),t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsx("button",{className:"btn",onClick:()=>c(b.id,{status:"monitoring"}),style:{fontSize:"13px",padding:"6px 12px"},children:"Monitor"}),t.jsx("button",{className:"btn",onClick:()=>c(b.id,{status:"closed"}),style:{fontSize:"13px",padding:"6px 12px"},children:"Close"})]})]})},b.id))})]}),a&&t.jsx("div",{className:"modal-overlay",onClick:()=>u(!1),children:t.jsxs("div",{className:"modal",onClick:b=>b.stopPropagation(),children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{children:"Add New Risk"}),t.jsx("button",{className:"btn",onClick:()=>u(!1),style:{padding:"4px 8px"},children:""})]}),t.jsxs("div",{className:"modal-body",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Title *"}),t.jsx("input",{type:"text",className:"form-input",value:f.title,onChange:b=>x({...f,title:b.target.value}),placeholder:"Brief risk description"})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Description"}),t.jsx("textarea",{className:"form-textarea",value:f.description,onChange:b=>x({...f,description:b.target.value}),placeholder:"Detailed risk description",rows:3})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Probability"}),t.jsxs("select",{className:"form-select",value:f.probability,onChange:b=>x({...f,probability:parseInt(b.target.value)}),children:[t.jsx("option",{value:1,children:"Low"}),t.jsx("option",{value:2,children:"Medium"}),t.jsx("option",{value:3,children:"High"})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Impact"}),t.jsxs("select",{className:"form-select",value:f.impact,onChange:b=>x({...f,impact:parseInt(b.target.value)}),children:[t.jsx("option",{value:1,children:"Low"}),t.jsx("option",{value:2,children:"Medium"}),t.jsx("option",{value:3,children:"High"})]})]})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",children:"Owner"}),t.jsx("input",{type:"text",className:"form-input",value:f.owner,onChange:b=>x({...f,owner:b.target.value}),placeholder:"Risk owner name"})]})]}),t.jsxs("div",{className:"modal-footer",children:[t.jsx("button",{className:"btn",onClick:()=>u(!1),children:"Cancel"}),t.jsx("button",{className:"btn btn-primary",onClick:g,disabled:!f.title,children:"Add Risk"})]})]})})]})}function Bn({score:l,count:r}){const o=l>=6?{bg:"#FEE2E2",text:"#DC2626"}:l>=3?{bg:"#FEF3C7",text:"#D97706"}:{bg:"#D1FAE5",text:"#059669"};return t.jsx("div",{style:{background:o.bg,color:o.text,padding:"24px",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"32px",fontWeight:"700",minHeight:"80px"},children:r})}function jv({epics:l,issues:r}){const{risks:c}=Uc(),o=()=>{const a=u0(c),u=new Date().toISOString().split("T")[0];Xt(a,`risk-register-${u}.csv`)};return t.jsxs("div",{className:"container-fluid",children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"30px"},children:[t.jsxs("div",{children:[t.jsx("h2",{style:{fontSize:"24px",fontWeight:"600",marginBottom:"8px"},children:"Risk Management"}),t.jsx("p",{style:{fontSize:"14px",color:"#6B7280"},children:"Comprehensive risk analysis, tracking, and mitigation"})]}),t.jsx("button",{className:"btn btn-primary",onClick:o,disabled:!c||c.length===0,style:{display:"flex",alignItems:"center",gap:"8px"},children:t.jsx("span",{children:"Export Risks CSV"})})]}),t.jsxs("div",{style:{marginBottom:"30px"},children:[t.jsx("div",{style:{padding:"12px 16px",background:"#F9FAFB",borderBottom:"2px solid #E60000",marginBottom:"20px"},children:t.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#1F2937",margin:0},children:"Risk Analysis & Trends"})}),t.jsx(vv,{epics:l,issues:r})]}),t.jsxs("div",{children:[t.jsx("div",{style:{padding:"12px 16px",background:"#F9FAFB",borderBottom:"2px solid #E60000",marginBottom:"20px"},children:t.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#1F2937",margin:0},children:"Risk Register"})}),t.jsx(bv,{})]})]})}function Sv({issues:l}){const[r,c]=R.useState(null),o=R.useMemo(()=>{const u=new Map;l.forEach(x=>{const g=xt(x.labels,x.iteration);if(g&&!u.has(g)){const h=x.iteration?.start_date||null;u.set(g,h)}});const f=new Set(l.map(x=>xt(x.labels,x.iteration)));return Array.from(f).filter(Boolean).sort((x,g)=>{const h=u.get(x),m=u.get(g);return h&&m?new Date(m)-new Date(h):h&&!m?-1:!h&&m?1:x.localeCompare(g)})},[l]),a=u=>{if(u.state==="closed")return 100;const f=u.labels.map(x=>x.toLowerCase());return f.some(x=>x.includes("review")||x.includes("testing"))?75:f.some(x=>x.includes("progress")||x.includes("wip"))?50:f.some(x=>x.includes("started"))?25:0};return o.length===0?t.jsx("div",{className:"container",children:t.jsxs("div",{className:"card text-center",style:{padding:"60px 20px"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px",opacity:.3},children:""}),t.jsx("h3",{className:"mb-2",children:"No Sprints/Iterations Found"}),t.jsx("p",{className:"text-muted",children:'Add iterations to your issues in GitLab, or add "Sprint X" / "Iteration X" labels to see the sprint board.'})]})}):t.jsxs("div",{className:"container-fluid",children:[t.jsx("h2",{className:"mb-3",children:"Sprint Board"}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:o.map(u=>{const f=l.filter(I=>xt(I.labels,I.iteration)===u),x=f.filter(I=>I.state==="closed").length,g=f.length,h=g>0?Math.round(x/g*100):0,b=f.find(I=>I.iteration)?.iteration,y=b?.start_date,S=b?.due_date,w={todo:f.filter(I=>I.state==="opened"&&a(I)===0),progress:f.filter(I=>I.state==="opened"&&a(I)>0&&a(I)<100),done:f.filter(I=>I.state==="closed")},D=lv(y,S),M=av(f,D),W=ov(M),q=W.filter(I=>I.priority==="high").length>0;return t.jsxs("div",{className:"card",children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[t.jsxs("div",{children:[t.jsx("h3",{style:{marginBottom:"4px"},children:u}),(y||S)&&t.jsxs("div",{style:{fontSize:"13px",color:"#6B7280"},children:[y&&new Date(y).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}),y&&S&&" - ",S&&new Date(S).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})]})]}),t.jsxs("div",{style:{textAlign:"right"},children:[t.jsxs("div",{style:{fontSize:"24px",fontWeight:"700",color:"var(--primary)"},children:[h,"%"]}),t.jsxs("div",{className:"text-small text-muted",children:[x," / ",g]})]})]}),t.jsx("div",{className:"progress-bar mb-3",children:t.jsx("div",{className:"progress-fill",style:{width:`${h}%`}})}),t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px",background:q?"#FEF3C7":"#EFF6FF",borderRadius:"8px",cursor:"pointer",marginBottom:"12px"},onClick:()=>c(r===u?null:u),children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("span",{style:{fontSize:"20px"},children:r===u?"":""}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:q?"#92400E":"#1E40AF"},children:q?" Team Capacity Issues":" Team Capacity"}),t.jsxs("div",{style:{fontSize:"12px",color:q?"#78350F":"#1E40AF"},children:[M.length," team members, ",D," working days",W.length>0&&`  ${W.length} recommendation${W.length>1?"s":""}`]})]})]}),t.jsxs("div",{style:{fontSize:"12px",color:q?"#92400E":"#1E40AF"},children:["Click to ",r===u?"hide":"show"," details"]})]}),r===u&&t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px",padding:"16px",background:"#F9FAFB",borderRadius:"8px"},children:[t.jsxs("div",{children:[t.jsx("h4",{style:{fontSize:"14px",fontWeight:"600",marginBottom:"12px"},children:"Team Workload"}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gap:"12px"},children:M.map(I=>t.jsxs("div",{style:{padding:"12px",background:"white",borderRadius:"6px",borderLeft:`4px solid ${zc(I.status)}`},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsx("div",{style:{fontSize:"13px",fontWeight:"600",color:"#1F2937"},children:I.name}),t.jsx("div",{style:{fontSize:"11px",color:"#6B7280"},children:rv(I.status)})]}),t.jsxs("div",{style:{textAlign:"right"},children:[t.jsxs("div",{style:{fontSize:"16px",fontWeight:"700",color:zc(I.status)},children:[I.utilizationPercent,"%"]}),t.jsxs("div",{style:{fontSize:"10px",color:"#6B7280"},children:[I.totalWeight.toFixed(1),"d / ",I.capacity,"d"]})]})]}),t.jsxs("div",{style:{fontSize:"11px",color:"#6B7280"},children:[I.issues.length," issue",I.issues.length!==1?"s":""]}),t.jsx("div",{style:{width:"100%",height:"6px",background:"#E5E7EB",borderRadius:"3px",overflow:"hidden",marginTop:"8px"},children:t.jsx("div",{style:{width:`${Math.min(I.utilizationPercent,100)}%`,height:"100%",background:zc(I.status),transition:"width 0.3s ease"}})})]},I.username||I.name))})]}),W.length>0&&t.jsxs("div",{children:[t.jsx("h4",{style:{fontSize:"14px",fontWeight:"600",marginBottom:"12px"},children:"Smart Recommendations"}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:W.map((I,N)=>{const B=cv(I),z=I.priority==="high"?"#FEF3C7":I.priority==="medium"?"#DBEAFE":"#F3F4F6",F=I.priority==="high"?"#78350F":I.priority==="medium"?"#1E40AF":"#374151";return t.jsx("div",{style:{padding:"12px",background:z,borderRadius:"6px",fontSize:"12px",color:F},children:t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsx("span",{style:{fontSize:"16px"},children:B.icon}),t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{fontWeight:"600",marginBottom:"4px"},children:[I.type==="rebalance"&&`Move ${I.weight.toFixed(1)} days from ${I.from} to ${I.to}`,I.type==="assign"&&`Assign to ${I.to}`,I.type==="warning"&&"Capacity Warning",I.type==="info"&&"Available Capacity"]}),t.jsx("div",{children:I.reason}),I.issues&&I.issues.length>0&&t.jsxs("div",{style:{marginTop:"6px",fontSize:"11px"},children:["Issues: ",I.issues.map(_=>`#${_.iid}`).join(", ")]})]})]})},N)})})]})]})]}),t.jsxs("div",{className:"grid grid-3",style:{gap:"16px"},children:[t.jsxs("div",{style:{background:"var(--bg-secondary)",padding:"16px",borderRadius:"8px"},children:[t.jsxs("h4",{style:{marginBottom:"12px",fontSize:"14px",fontWeight:"600"},children:[" To Do (",w.todo.length,")"]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[w.todo.map(I=>t.jsxs("div",{className:"card",style:{padding:"12px",cursor:"pointer",transition:"all 0.2s"},onClick:()=>window.open(I.web_url,"_blank"),onMouseOver:N=>N.currentTarget.style.boxShadow="0 4px 6px rgba(0,0,0,0.1)",onMouseOut:N=>N.currentTarget.style.boxShadow="0 1px 2px rgba(0,0,0,0.05)",children:[t.jsxs("div",{style:{fontSize:"13px",fontWeight:"500",marginBottom:"4px"},children:["#",I.iid," ",I.title]}),t.jsx("div",{className:"text-small text-muted",children:I.assignees?.[0]?.name||"Unassigned"})]},I.id)),w.todo.length===0&&t.jsx("div",{className:"text-center text-muted",style:{padding:"20px"},children:"No items"})]})]}),t.jsxs("div",{style:{background:"#DBEAFE",padding:"16px",borderRadius:"8px"},children:[t.jsxs("h4",{style:{marginBottom:"12px",fontSize:"14px",fontWeight:"600"},children:[" In Progress (",w.progress.length,")"]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[w.progress.map(I=>t.jsxs("div",{className:"card",style:{padding:"12px",cursor:"pointer",transition:"all 0.2s"},onClick:()=>window.open(I.web_url,"_blank"),onMouseOver:N=>N.currentTarget.style.boxShadow="0 4px 6px rgba(0,0,0,0.1)",onMouseOut:N=>N.currentTarget.style.boxShadow="0 1px 2px rgba(0,0,0,0.05)",children:[t.jsxs("div",{style:{fontSize:"13px",fontWeight:"500",marginBottom:"4px"},children:["#",I.iid," ",I.title]}),t.jsx("div",{className:"text-small text-muted",children:I.assignees?.[0]?.name||"Unassigned"})]},I.id)),w.progress.length===0&&t.jsx("div",{className:"text-center text-muted",style:{padding:"20px"},children:"No items"})]})]}),t.jsxs("div",{style:{background:"#D1FAE5",padding:"16px",borderRadius:"8px"},children:[t.jsxs("h4",{style:{marginBottom:"12px",fontSize:"14px",fontWeight:"600"},children:[" Done (",w.done.length,")"]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[w.done.map(I=>t.jsx("div",{className:"card",style:{padding:"12px",cursor:"pointer",transition:"all 0.2s"},onClick:()=>window.open(I.web_url,"_blank"),onMouseOver:N=>N.currentTarget.style.boxShadow="0 4px 6px rgba(0,0,0,0.1)",onMouseOut:N=>N.currentTarget.style.boxShadow="0 1px 2px rgba(0,0,0,0.05)",children:t.jsxs("div",{style:{fontSize:"13px",fontWeight:"500",textDecoration:"line-through",color:"var(--text-secondary)"},children:["#",I.iid," ",I.title]})},I.id)),w.done.length===0&&t.jsx("div",{className:"text-center text-muted",style:{padding:"20px"},children:"No items"})]})]})]})]},u)})})]})}const Xh="sprintGoals";function Xa(){try{const l=localStorage.getItem(Xh);return l?JSON.parse(l):[]}catch(l){return console.error("Error loading sprint goals:",l),[]}}function Ev(l="current"){return Xa().find(c=>c.sprintId===l)||null}function yh(l){const r=Xa(),c=r.findIndex(o=>o.sprintId===l.sprintId);return c>=0?r[c]={...r[c],...l,updatedAt:new Date().toISOString()}:r.push({...l,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),localStorage.setItem(Xh,JSON.stringify(r)),r}function Bv(){return Xa().sort((r,c)=>new Date(c.createdAt)-new Date(r.createdAt))}function Cv(){const l=Xa(),r=l.filter(x=>x.achievement!==void 0&&x.achievement!==null);if(r.length===0)return{totalGoals:l.length,achievedCount:0,partialCount:0,missedCount:0,achievementRate:0};const c=r.filter(x=>x.achievement==="met").length,o=r.filter(x=>x.achievement==="partial").length,a=r.filter(x=>x.achievement==="not-met").length,u=c*100+o*50,f=Math.round(u/r.length);return{totalGoals:l.length,goalsWithStatus:r.length,achievedCount:c,partialCount:o,missedCount:a,achievementRate:f}}function Dv(){const l=Bv(),r=Cv(),c=l.slice(0,5),o=c.filter(a=>a.achievement==="met").length;return{...r,recentSprints:c.length,recentAchieved:o,recentRate:c.length>0?Math.round(o/c.length*100):0,hasGoals:l.length>0}}function wv({sprintId:l="current",sprintName:r="Current Sprint"}){const[c,o]=R.useState(null),[a,u]=R.useState(!1),[f,x]=R.useState(""),[g,h]=R.useState(null);R.useEffect(()=>{m(),b()},[l]);const m=()=>{const q=Ev(l);o(q),q&&x(q.goal||"")},b=()=>{const q=Dv();h(q)},y=()=>{const q={sprintId:l,sprintName:r,goal:f,achievement:c?.achievement||null,notes:c?.notes||""};yh(q),m(),b(),u(!1)},S=()=>{x(c?.goal||""),u(!1)},w=q=>{const I={...c,sprintId:l,sprintName:r,achievement:q};yh(I),m(),b()},D=q=>{switch(q){case"met":return"#10B981";case"partial":return"#F59E0B";case"not-met":return"#EF4444";default:return"#6B7280"}},M=q=>{switch(q){case"met":return"";case"partial":return"";case"not-met":return"";default:return""}},W=q=>{switch(q){case"met":return"Met";case"partial":return"Partially Met";case"not-met":return"Not Met";default:return"In Progress"}};return t.jsx("div",{className:"card",style:{marginBottom:"24px"},children:t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px",paddingBottom:"12px",borderBottom:"2px solid #E5E7EB"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"16px",marginBottom:"4px",fontWeight:"600",color:"#1F2937"},children:"Sprint Goal"}),t.jsx("div",{style:{fontSize:"13px",color:"#6B7280"},children:r})]}),g&&g.hasGoals&&t.jsxs("div",{style:{background:"#F3F4F6",padding:"6px 12px",borderRadius:"6px",fontSize:"12px",fontWeight:"600",color:"#374151"},children:["Achievement: ",g.achievementRate,"%"]})]}),a?t.jsxs("div",{children:[t.jsx("textarea",{value:f,onChange:q=>x(q.target.value),placeholder:"Enter your sprint goal (e.g., 'Deliver MVP user authentication with OAuth and email verification')",style:{width:"100%",minHeight:"100px",padding:"12px",background:"white",border:"2px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",color:"#1F2937",resize:"vertical",marginBottom:"12px",fontFamily:"inherit"},autoFocus:!0}),t.jsxs("div",{style:{display:"flex",gap:"12px"},children:[t.jsx("button",{onClick:y,className:"btn btn-primary",style:{fontSize:"13px"},children:"Save Goal"}),t.jsx("button",{onClick:S,className:"btn btn-secondary",style:{fontSize:"13px"},children:"Cancel"})]})]}):t.jsxs("div",{children:[c&&c.goal?t.jsxs("div",{style:{background:"#F9FAFB",padding:"16px",borderRadius:"6px",marginBottom:"16px",border:"1px solid #E5E7EB"},children:[t.jsx("div",{style:{fontSize:"15px",fontWeight:"500",lineHeight:"1.6",marginBottom:"12px",color:"#1F2937"},children:c.goal}),c.achievement&&t.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"6px",background:"white",padding:"6px 12px",borderRadius:"6px",fontSize:"12px",fontWeight:"600",color:D(c.achievement),border:`2px solid ${D(c.achievement)}`},children:[M(c.achievement)," ",W(c.achievement)]})]}):t.jsxs("div",{style:{background:"#F9FAFB",padding:"24px",borderRadius:"6px",marginBottom:"16px",textAlign:"center",border:"2px dashed #D1D5DB"},children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"4px"},children:"No sprint goal set yet"}),t.jsx("div",{style:{fontSize:"12px",color:"#9CA3AF"},children:'Click "Set Goal" to define your sprint objective'})]}),t.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center",flexWrap:"wrap"},children:[t.jsx("button",{onClick:()=>u(!0),className:"btn btn-secondary",style:{fontSize:"13px"},children:c&&c.goal?"Edit Goal":"Set Goal"}),c&&c.goal&&t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",fontWeight:"500",marginLeft:"4px"},children:"Mark as:"}),t.jsxs("div",{style:{display:"flex",gap:"6px"},children:[t.jsx("button",{onClick:()=>w("met"),style:{padding:"6px 12px",background:c.achievement==="met"?"#D1FAE5":"white",color:c.achievement==="met"?"#059669":"#6B7280",border:`2px solid ${c.achievement==="met"?"#10B981":"#E5E7EB"}`,borderRadius:"6px",fontSize:"11px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},title:"Mark as Met",children:" Met"}),t.jsx("button",{onClick:()=>w("partial"),style:{padding:"6px 12px",background:c.achievement==="partial"?"#FEF3C7":"white",color:c.achievement==="partial"?"#D97706":"#6B7280",border:`2px solid ${c.achievement==="partial"?"#F59E0B":"#E5E7EB"}`,borderRadius:"6px",fontSize:"11px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},title:"Mark as Partially Met",children:" Partial"}),t.jsx("button",{onClick:()=>w("not-met"),style:{padding:"6px 12px",background:c.achievement==="not-met"?"#FEE2E2":"white",color:c.achievement==="not-met"?"#DC2626":"#6B7280",border:`2px solid ${c.achievement==="not-met"?"#EF4444":"#E5E7EB"}`,borderRadius:"6px",fontSize:"11px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},title:"Mark as Not Met",children:" Not Met"})]})]})]})]})]})})}const Za="retroActions";function Ci(){try{const l=localStorage.getItem(Za);return l?JSON.parse(l):[]}catch(l){return console.error("Error loading retro actions:",l),[]}}function zv(l="current"){return Ci().filter(c=>c.sprintId===l)}function Av(){return Ci().filter(r=>r.status==="open"||r.status==="in-progress")}function Zh(){const l=Av(),r=new Date;return l.filter(c=>c.dueDate?new Date(c.dueDate)<r:!1)}function vh(l){const r=Ci();if(l.id){const c=r.findIndex(o=>o.id===l.id);c>=0&&(r[c]={...r[c],...l,updatedAt:new Date().toISOString()})}else{const c={...l,id:Date.now().toString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};r.push(c)}return localStorage.setItem(Za,JSON.stringify(r)),r}function kv(l){const c=Ci().filter(o=>o.id!==l);return localStorage.setItem(Za,JSON.stringify(c)),c}function Tv(l){const r=Ci(),c=r.find(o=>o.id===l);return c&&(c.status="done",c.completedAt=new Date().toISOString(),c.updatedAt=new Date().toISOString(),localStorage.setItem(Za,JSON.stringify(r))),r}function Fv(){const l=Ci();if(l.length===0)return{totalActions:0,openActions:0,inProgressActions:0,completedActions:0,overdueActions:0,completionRate:0,avgDaysToComplete:0};const r=l.filter(g=>g.status==="open").length,c=l.filter(g=>g.status==="in-progress").length,o=l.filter(g=>g.status==="done").length,a=Zh().length,u=Math.round(o/l.length*100),f=l.filter(g=>g.status==="done"&&g.completedAt&&g.createdAt);let x=0;if(f.length>0){const g=f.reduce((h,m)=>{const b=new Date(m.createdAt),y=new Date(m.completedAt),S=Math.ceil((y-b)/(1e3*60*60*24));return h+S},0);x=Math.round(g/f.length)}return{totalActions:l.length,openActions:r,inProgressActions:c,completedActions:o,overdueActions:a,completionRate:u,avgDaysToComplete:x}}function Rv(){const l=Ci(),r=["ID","Sprint","Action","Owner","Status","Due Date","Created At","Completed At","Carried From","Days Open"],c=l.map(a=>{const u=new Date(a.createdAt),f=a.completedAt?new Date(a.completedAt):new Date,x=Math.ceil((f-u)/(1e3*60*60*24));return[a.id,a.sprintName||a.sprintId,`"${a.action.replace(/"/g,'""')}"`,a.owner||"Unassigned",a.status,a.dueDate||"N/A",new Date(a.createdAt).toLocaleDateString(),a.completedAt?new Date(a.completedAt).toLocaleDateString():"N/A",a.carriedFrom||"N/A",x]});return[r.join(","),...c.map(a=>a.join(","))].join(`
`)}function Mv(l,r="retro-actions.csv"){const c=new Blob([l],{type:"text/csv;charset=utf-8;"}),o=document.createElement("a"),a=URL.createObjectURL(c);o.setAttribute("href",a),o.setAttribute("download",r),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o)}function Nv(l="current",r="Current Sprint"){return{sprintId:l,sprintName:r,action:"",owner:"",dueDate:"",status:"open",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}function Iv({sprintId:l="current",sprintName:r="Current Sprint"}){const[c,o]=R.useState([]),[a,u]=R.useState(null),[f,x]=R.useState(!1),[g,h]=R.useState(null),[m,b]=R.useState("all");R.useEffect(()=>{y(),S()},[l]);const y=()=>{const z=zv(l);o(z)},S=()=>{const z=Fv();u(z)},w=z=>{vh({...z,sprintId:l,sprintName:r}),y(),S(),x(!1),h(null)},D=z=>{confirm("Are you sure you want to delete this action?")&&(kv(z),y(),S())},M=(z,F)=>{if(F==="done")Tv(z);else{const _=c.find(j=>j.id===z);_&&vh({..._,status:F})}y(),S()},W=()=>{const z=Rv();Mv(z)},q=z=>{switch(z){case"done":return"#10B981";case"in-progress":return"#3B82F6";case"open":return"#6B7280";case"wont-do":return"#EF4444";default:return"#6B7280"}},I=z=>{switch(z){case"done":return" Done";case"in-progress":return" In Progress";case"open":return" Open";case"wont-do":return" Won't Do";default:return z}},N=z=>!z.dueDate||z.status==="done"||z.status==="wont-do"?!1:new Date(z.dueDate)<new Date,B=c.filter(z=>m==="open"?z.status==="open"||z.status==="in-progress":m==="overdue"?N(z):!0);return t.jsxs("div",{children:[a&&t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px",marginBottom:"24px"},children:[t.jsxs("div",{className:"card",style:{textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Total Actions"}),t.jsx("div",{style:{fontSize:"36px",fontWeight:"700",color:"#1F2937"},children:a.totalActions})]}),t.jsxs("div",{className:"card",style:{textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Open Actions"}),t.jsx("div",{style:{fontSize:"36px",fontWeight:"700",color:"#3B82F6"},children:a.openActions+a.inProgressActions})]}),t.jsxs("div",{className:"card",style:{textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Completion Rate"}),t.jsxs("div",{style:{fontSize:"36px",fontWeight:"700",color:a.completionRate>=70?"#10B981":a.completionRate>=50?"#F59E0B":"#EF4444"},children:[a.completionRate,"%"]})]}),t.jsxs("div",{className:"card",style:{textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"14px",color:"#6B7280",marginBottom:"8px"},children:"Overdue"}),t.jsx("div",{style:{fontSize:"36px",fontWeight:"700",color:a.overdueActions>0?"#EF4444":"#10B981"},children:a.overdueActions})]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsxs("button",{onClick:()=>b("all"),style:{padding:"6px 14px",background:m==="all"?"#E60000":"#F3F4F6",color:m==="all"?"white":"#4B5563",border:"none",borderRadius:"6px",fontSize:"13px",fontWeight:"500",cursor:"pointer"},children:["All (",c.length,")"]}),t.jsxs("button",{onClick:()=>b("open"),style:{padding:"6px 14px",background:m==="open"?"#E60000":"#F3F4F6",color:m==="open"?"white":"#4B5563",border:"none",borderRadius:"6px",fontSize:"13px",fontWeight:"500",cursor:"pointer"},children:["Open (",c.filter(z=>z.status==="open"||z.status==="in-progress").length,")"]}),t.jsxs("button",{onClick:()=>b("overdue"),style:{padding:"6px 14px",background:m==="overdue"?"#E60000":"#F3F4F6",color:m==="overdue"?"white":"#4B5563",border:"none",borderRadius:"6px",fontSize:"13px",fontWeight:"500",cursor:"pointer"},children:["Overdue (",Zh().length,")"]})]}),t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsx("button",{onClick:W,style:{padding:"6px 12px",background:"#F3F4F6",color:"#4B5563",border:"none",borderRadius:"6px",fontSize:"13px",fontWeight:"500",cursor:"pointer"},children:"Export CSV"}),t.jsx("button",{onClick:()=>{x(!0),h(Nv(l,r))},style:{padding:"6px 16px",background:"#E60000",color:"white",border:"none",borderRadius:"6px",fontSize:"13px",fontWeight:"500",cursor:"pointer"},children:"+ Add Action"})]})]}),(f||g)&&g&&t.jsxs("div",{className:"card",style:{marginBottom:"20px",background:"#F9FAFB",border:"2px solid #E60000"},children:[t.jsx("div",{style:{marginBottom:"16px",fontSize:"16px",fontWeight:"600",color:"#1F2937"},children:f?" Add New Action":" Edit Action"}),t.jsxs("div",{style:{display:"grid",gap:"16px"},children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#4B5563",marginBottom:"6px"},children:"Action Item *"}),t.jsx("textarea",{value:g.action,onChange:z=>h({...g,action:z.target.value}),placeholder:"Describe the improvement action...",style:{width:"100%",minHeight:"80px",padding:"10px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",fontFamily:"inherit",resize:"vertical"}})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"16px"},children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#4B5563",marginBottom:"6px"},children:"Owner"}),t.jsx("input",{type:"text",value:g.owner,onChange:z=>h({...g,owner:z.target.value}),placeholder:"Assignee name",style:{width:"100%",padding:"8px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#4B5563",marginBottom:"6px"},children:"Due Date"}),t.jsx("input",{type:"date",value:g.dueDate,onChange:z=>h({...g,dueDate:z.target.value}),style:{width:"100%",padding:"8px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#4B5563",marginBottom:"6px"},children:"Status"}),t.jsxs("select",{value:g.status,onChange:z=>h({...g,status:z.target.value}),style:{width:"100%",padding:"8px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px"},children:[t.jsx("option",{value:"open",children:"Open"}),t.jsx("option",{value:"in-progress",children:"In Progress"}),t.jsx("option",{value:"done",children:"Done"}),t.jsx("option",{value:"wont-do",children:"Won't Do"})]})]})]}),t.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[t.jsx("button",{onClick:()=>{x(!1),h(null)},style:{padding:"8px 16px",background:"#F3F4F6",color:"#4B5563",border:"none",borderRadius:"6px",fontSize:"13px",fontWeight:"500",cursor:"pointer"},children:"Cancel"}),t.jsx("button",{onClick:()=>w(g),disabled:!g.action.trim(),style:{padding:"8px 20px",background:g.action.trim()?"#10B981":"#D1D5DB",color:"white",border:"none",borderRadius:"6px",fontSize:"13px",fontWeight:"500",cursor:g.action.trim()?"pointer":"not-allowed"},children:f?"Add Action":"Save Changes"})]})]})]}),B.length>0?t.jsx("div",{style:{display:"grid",gap:"12px"},children:B.map(z=>{const F=N(z);return t.jsx("div",{className:"card",style:{border:F?"2px solid #EF4444":"1px solid #E5E7EB",background:F?"#FEF2F2":"white"},children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[t.jsx("span",{style:{display:"inline-block",padding:"4px 10px",background:q(z.status)+"20",color:q(z.status),borderRadius:"12px",fontSize:"12px",fontWeight:"600"},children:I(z.status)}),F&&t.jsx("span",{style:{display:"inline-block",padding:"4px 10px",background:"#FEE2E2",color:"#DC2626",borderRadius:"12px",fontSize:"12px",fontWeight:"600"},children:" Overdue"}),z.carriedFrom&&t.jsx("span",{style:{display:"inline-block",padding:"4px 10px",background:"#FEF3C7",color:"#D97706",borderRadius:"12px",fontSize:"12px",fontWeight:"600"},children:" Carried Over"})]}),t.jsx("div",{style:{fontSize:"14px",color:"#1F2937",marginBottom:"12px",lineHeight:"1.5",textDecoration:z.status==="done"?"line-through":"none",opacity:z.status==="done"?.6:1},children:z.action}),t.jsxs("div",{style:{display:"flex",gap:"16px",fontSize:"12px",color:"#6B7280"},children:[z.owner&&t.jsxs("div",{children:[t.jsx("strong",{children:"Owner:"})," ",z.owner]}),z.dueDate&&t.jsxs("div",{children:[t.jsx("strong",{children:"Due:"})," ",new Date(z.dueDate).toLocaleDateString()]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Created:"})," ",new Date(z.createdAt).toLocaleDateString()]})]})]}),t.jsxs("div",{style:{display:"flex",gap:"6px",marginLeft:"16px"},children:[z.status!=="done"&&z.status!=="wont-do"&&t.jsxs(t.Fragment,{children:[z.status==="open"&&t.jsx("button",{onClick:()=>M(z.id,"in-progress"),style:{padding:"6px 12px",background:"#3B82F6",color:"white",border:"none",borderRadius:"6px",fontSize:"12px",fontWeight:"500",cursor:"pointer"},title:"Start",children:""}),t.jsx("button",{onClick:()=>M(z.id,"done"),style:{padding:"6px 12px",background:"#10B981",color:"white",border:"none",borderRadius:"6px",fontSize:"12px",fontWeight:"500",cursor:"pointer"},title:"Complete",children:""})]}),t.jsx("button",{onClick:()=>{x(!1),h(z)},style:{padding:"6px 12px",background:"#F3F4F6",color:"#4B5563",border:"none",borderRadius:"6px",fontSize:"12px",fontWeight:"500",cursor:"pointer"},title:"Edit",children:""}),t.jsx("button",{onClick:()=>D(z.id),style:{padding:"6px 12px",background:"#FEE2E2",color:"#DC2626",border:"none",borderRadius:"6px",fontSize:"12px",fontWeight:"500",cursor:"pointer"},title:"Delete",children:""})]})]})},z.id)})}):t.jsxs("div",{className:"card",style:{padding:"40px",textAlign:"center",background:"#F9FAFB",border:"2px dashed #D1D5DB"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),t.jsxs("div",{style:{fontSize:"16px",fontWeight:"600",color:"#4B5563",marginBottom:"8px"},children:["No ",m!=="all"?m:""," actions yet"]}),t.jsx("div",{style:{fontSize:"14px",color:"#6B7280"},children:"Add retrospective action items to track continuous improvements"})]})]})}const Ov=R.lazy(()=>Wc(()=>Promise.resolve().then(()=>I1),void 0,import.meta.url));function _v({issues:l,onNavigate:r}){const[c,o]=R.useState(!1),[a,u]=R.useState(!1);return t.jsxs("div",{className:"container-fluid",children:[t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("h2",{style:{fontSize:"24px",fontWeight:"600",marginBottom:"8px"},children:"Sprint Management"}),t.jsx("p",{style:{fontSize:"14px",color:"#6B7280"},children:"Plan sprints, manage board, and track team capacity"})]}),t.jsx(wv,{sprintId:"current",sprintName:"Current Sprint"}),t.jsxs("div",{className:"card",style:{marginBottom:"24px"},children:[t.jsxs("button",{onClick:()=>u(!a),style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",padding:"16px",background:"#F9FAFB",border:"none",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:f=>f.currentTarget.style.background="#F3F4F6",onMouseLeave:f=>f.currentTarget.style.background="#F9FAFB",children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("span",{style:{fontSize:"20px"},children:a?"":""}),t.jsxs("div",{style:{textAlign:"left"},children:[t.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#1F2937"},children:" Retrospective Actions"}),t.jsx("div",{style:{fontSize:"13px",color:"#6B7280",marginTop:"2px"},children:"Track continuous improvement actions from retros"})]})]}),t.jsx("div",{style:{fontSize:"13px",color:"#6B7280",fontWeight:"500"},children:a?"Click to collapse":"Click to expand"})]}),a&&t.jsx("div",{style:{padding:"20px",borderTop:"1px solid #E5E7EB"},children:t.jsx(Iv,{sprintId:"current",sprintName:"Current Sprint"})})]}),t.jsxs("div",{className:"card",style:{marginBottom:"24px"},children:[t.jsxs("button",{onClick:()=>o(!c),style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",padding:"16px",background:"#F9FAFB",border:"none",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:f=>f.currentTarget.style.background="#F3F4F6",onMouseLeave:f=>f.currentTarget.style.background="#F9FAFB",children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("span",{style:{fontSize:"20px"},children:c?"":""}),t.jsxs("div",{style:{textAlign:"left"},children:[t.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#1F2937"},children:" Sprint Planning"}),t.jsx("div",{style:{fontSize:"13px",color:"#6B7280",marginTop:"2px"},children:"Plan capacity, assign issues, and set up sprints"})]})]}),t.jsx("div",{style:{fontSize:"13px",color:"#6B7280",fontWeight:"500"},children:c?"Click to collapse":"Click to expand"})]}),c&&t.jsx("div",{style:{padding:"20px",borderTop:"1px solid #E5E7EB"},children:t.jsx(R.Suspense,{fallback:t.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#6B7280"},children:[t.jsx("div",{style:{display:"inline-block",width:"32px",height:"32px",border:"3px solid #E5E7EB",borderTop:"3px solid #E60000",borderRadius:"50%",animation:"spin 0.8s linear infinite",marginBottom:"12px"}}),t.jsx("div",{style:{fontSize:"14px",fontWeight:"500"},children:"Loading Sprint Planning..."})]}),children:t.jsx(Ov,{issues:l,onNavigate:r})})})]}),t.jsxs("div",{children:[t.jsx("div",{style:{padding:"12px 16px",background:"#F9FAFB",borderBottom:"2px solid #E60000",marginBottom:"20px"},children:t.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#1F2937",margin:0},children:" Sprint Board"})}),t.jsx(Sv,{issues:l})]})]})}function jl(l){if(!l||l.length===0)return null;const r=["team::","squad::","group::"];for(const c of r){const o=l.find(a=>a.toLowerCase().startsWith(c));if(o)return o.replace(new RegExp(c,"i"),"").split("::")[0].replace(/-/g," ").replace(/\b\w/g,a=>a.toUpperCase())}return null}function Lv(l){const r=new Map;return l.forEach(c=>{const o=jl(c.labels);if(o){r.has(o)||r.set(o,{name:o,issueCount:0,openIssueCount:0,closedIssueCount:0,members:new Set,issues:[]});const a=r.get(o);a.issueCount++,c.state==="opened"&&a.openIssueCount++,c.state==="closed"&&a.closedIssueCount++,a.issues.push(c),c.assignees?.forEach(u=>{a.members.add(u.username)})}}),Array.from(r.values()).map(c=>({...c,members:Array.from(c.members),memberCount:c.members.size}))}function Wv(l,r){const c=[];return l.forEach(o=>{const a=new Map;o.issues.forEach(f=>{const x=jl(f.labels);if(x){a.has(x)||a.set(x,{team:x,issueCount:0,openIssues:0,closedIssues:0,storyPoints:0,members:new Set,issues:[]});const g=a.get(x);g.issueCount++,g.issues.push(f),f.state==="opened"&&g.openIssues++,f.state==="closed"&&g.closedIssues++;const h=f.labels?.find(m=>m.toLowerCase().startsWith("sp::"));if(h){const m=parseInt(h.split("::")[1],10);isNaN(m)||(g.storyPoints+=m)}f.assignees?.forEach(m=>{g.members.add(m.username)})}});const u=Array.from(a.values()).map(f=>({...f,members:Array.from(f.members),memberCount:f.members.size,percentage:Math.round(f.issueCount/o.issues.length*100),completionRate:f.issueCount>0?Math.round(f.closedIssues/f.issueCount*100):0}));u.sort((f,x)=>x.issueCount-f.issueCount),c.push({initiativeId:o.id,initiativeName:o.name,teams:u,primaryTeam:u[0]?.team||"Unassigned",isMultiTeam:u.length>1,teamCount:u.length,unassignedIssues:o.issues.filter(f=>!jl(f.labels)).length})}),c}function Uv(l,r){const c=new Map;return l.forEach(a=>{a.progress>=100||a.issues.forEach(u=>{if(u.state!=="opened")return;const f=u.labels?.some(x=>x.toLowerCase().includes("priority::high")||x.toLowerCase().includes("priority::critical"));u.assignees?.forEach(x=>{c.has(x.username)||c.set(x.username,{username:x.username,name:x.name,avatar:x.avatar_url,initiatives:new Set,highPriorityInitiatives:new Set,totalIssues:0,highPriorityIssues:0,teams:new Set});const g=c.get(x.username);g.initiatives.add(a.id),g.totalIssues++,f&&(g.highPriorityInitiatives.add(a.id),g.highPriorityIssues++);const h=jl(u.labels);h&&g.teams.add(h)})})}),Array.from(c.values()).map(a=>({...a,initiatives:Array.from(a.initiatives),highPriorityInitiatives:Array.from(a.highPriorityInitiatives),teams:Array.from(a.teams),initiativeCount:a.initiatives.size,highPriorityCount:a.highPriorityInitiatives.size,isContended:a.initiatives.size>=3||a.highPriorityInitiatives.size>=2,contentionLevel:Hv(a.initiatives.size,a.highPriorityInitiatives.size,a.totalIssues)})).filter(a=>a.isContended).sort((a,u)=>u.contentionLevel-a.contentionLevel)}function Hv(l,r,c){let o=Math.min((l-2)*20,50);return o+=r*15,c>=10?o+=20:c>=5&&(o+=10),Math.min(o,100)}function $v(l,r){return l.map(c=>{const o=r.filter(g=>g.issues.some(h=>jl(h.labels)===c.name)),a=o.filter(g=>g.progress<100),u=c.issues.filter(g=>g.state==="opened").length,f=c.issueCount>0?Math.round(c.closedIssueCount/c.issueCount*100):0;let x="available";return a.length>=4||u>=30?x="overloaded":(a.length>=2||u>=15)&&(x="at-capacity"),{teamName:c.name,memberCount:c.members.length||c.memberCount,initiativeCount:o.length,activeInitiativeCount:a.length,openIssueCount:u,totalIssueCount:c.issueCount,completionRate:f,capacityStatus:x,capacityScore:qv(a.length,u,c.members.length||c.memberCount),initiatives:o.map(g=>({id:g.id,name:g.name,progress:g.progress,status:g.status}))}}).sort((c,o)=>{const a={overloaded:3,"at-capacity":2,available:1};return a[o.capacityStatus]-a[c.capacityStatus]})}function qv(l,r,c){const o=c>0?1/Math.sqrt(c):1,a=Math.min(l*30*o,60),u=Math.min(r*2*o,40);return Math.min(Math.round(a+u),100)}function Gv(l){const r=new Map;l.forEach(o=>{const a=new Set;o.issues.forEach(u=>{u.assignees?.forEach(f=>{a.add(f.username)})}),a.forEach(u=>{r.has(u)||r.set(u,[]),r.get(u).push({id:o.id,name:o.name,status:o.status,progress:o.progress})})});const c=[];return r.forEach((o,a)=>{o.length>1&&c.push({username:a,initiativeCount:o.length,initiatives:o.sort((u,f)=>u.name.localeCompare(f.name))})}),c.sort((o,a)=>a.initiativeCount-o.initiativeCount)}function Vv(l){const r=["Initiative","Primary Team","Team Count","Is Multi-Team","Unassigned Issues","Team","Issue Count","Open Issues","Closed Issues","Completion Rate %","Story Points","Member Count","Percentage of Initiative"],c=[];return l.forEach(a=>{a.teams.length===0?c.push([a.initiativeName,a.primaryTeam,a.teamCount,a.isMultiTeam?"Yes":"No",a.unassignedIssues,"No teams assigned","-","-","-","-","-","-","-"]):a.teams.forEach((u,f)=>{c.push([f===0?a.initiativeName:"",f===0?a.primaryTeam:"",f===0?a.teamCount:"",f===0?a.isMultiTeam?"Yes":"No":"",f===0?a.unassignedIssues:"",u.team,u.issueCount,u.openIssues,u.closedIssues,`${u.completionRate}%`,u.storyPoints,u.memberCount,`${u.percentage}%`])})}),[r.join(","),...c.map(a=>a.map(u=>typeof u=="string"&&u.includes(",")?`"${u}"`:u).join(","))].join(`
`)}function Yv(l){const r=["Name","Username","Initiative Count","High Priority Initiatives","Total Open Issues","High Priority Issues","Teams","Contention Level","Status"],c=l.map(a=>[a.name,a.username,a.initiativeCount,a.highPriorityCount,a.totalIssues,a.highPriorityIssues,`"${a.teams.join(", ")}"`,a.contentionLevel,a.contentionLevel>=70?"Critical":a.contentionLevel>=40?"High":"Medium"]);return[r.join(","),...c.map(a=>a.join(","))].join(`
`)}function Pv(l){const r=["Team","Member Count","Total Initiatives","Active Initiatives","Open Issues","Total Issues","Completion Rate %","Capacity Status","Capacity Score","Initiative List"],c=l.map(a=>[a.teamName,a.memberCount,a.initiativeCount,a.activeInitiativeCount,a.openIssueCount,a.totalIssueCount,`${a.completionRate}%`,a.capacityStatus,a.capacityScore,`"${a.initiatives.map(u=>`${u.name} (${u.progress}%)`).join("; ")}"`]);return[r.join(","),...c.map(a=>a.join(","))].join(`
`)}function Kc(l,r){const c=Ya(r),o=[];return l.forEach(a=>{const u=new Map;a.issues.forEach(f=>{const x=c.get(f.iid);x&&x.dependencies.length>0&&x.dependencies.forEach(g=>{const h=l.find(m=>m.issues.some(b=>b.iid===g.iid));if(h&&h.id!==a.id){u.has(h.id)||u.set(h.id,{initiative:h,dependencyCount:0,openDependencies:0,blockedIssues:[],blockingIssues:[]});const m=u.get(h.id);m.dependencyCount++,g.state==="opened"&&m.openDependencies++,m.blockedIssues.push({iid:f.iid,title:f.title,state:f.state}),m.blockingIssues.push({iid:g.iid,title:g.title,state:g.state})}})}),u.size>0&&o.push({initiativeId:a.id,initiativeName:a.name,initiativeStatus:a.status,initiativeProgress:a.progress,dependsOn:Array.from(u.values()).map(f=>({initiativeId:f.initiative.id,initiativeName:f.initiative.name,initiativeStatus:f.initiative.status,initiativeProgress:f.initiative.progress,dependencyCount:f.dependencyCount,openDependencies:f.openDependencies,isBlocking:f.openDependencies>0,severity:Qv(f.openDependencies,f.dependencyCount,f.initiative.status,f.initiative.progress),blockedIssues:f.blockedIssues,blockingIssues:f.blockingIssues}))})}),o}function Qv(l,r,c,o){return l===0?"low":l>=3||c==="delayed"||o<50?"high":l>=1||c==="at-risk"?"medium":"low"}function Xv(l,r){const c=Kc(l,r),o=[];return l.forEach(a=>{const u={initiative:a.name,initiativeId:a.id,status:a.status,dependencies:{}};l.forEach(f=>{if(a.id===f.id)u.dependencies[f.id]={type:"self"};else{const g=c.find(h=>h.initiativeId===a.id)?.dependsOn.find(h=>h.initiativeId===f.id);g?u.dependencies[f.id]={type:"depends",count:g.dependencyCount,openCount:g.openDependencies,isBlocking:g.isBlocking,severity:g.severity}:u.dependencies[f.id]={type:"none"}}}),o.push(u)}),{matrix:o,initiatives:l.map(a=>({id:a.id,name:a.name,status:a.status,progress:a.progress}))}}function Zv(l,r){const c=Kc(l,r),o=new Map;return c.forEach(a=>{a.dependsOn.forEach(u=>{if(u.isBlocking){o.has(u.initiativeId)||o.set(u.initiativeId,{initiativeId:u.initiativeId,initiativeName:u.initiativeName,initiativeStatus:u.initiativeStatus,initiativeProgress:u.initiativeProgress,blockedInitiatives:[],totalBlockedIssues:0,highestSeverity:"low"});const f=o.get(u.initiativeId);f.blockedInitiatives.push({initiativeId:a.initiativeId,initiativeName:a.initiativeName,openDependencies:u.openDependencies,severity:u.severity}),f.totalBlockedIssues+=u.openDependencies,u.severity==="high"?f.highestSeverity="high":u.severity==="medium"&&f.highestSeverity!=="high"&&(f.highestSeverity="medium")}})}),Array.from(o.values()).sort((a,u)=>{const f={high:3,medium:2,low:1},x=f[u.highestSeverity]-f[a.highestSeverity];return x!==0?x:u.blockedInitiatives.length-a.blockedInitiatives.length})}function Kv(l){const r=["Initiative","Status","Progress %","Depends On Initiative","Dependency Status","Dependency Progress %","Total Dependencies","Open Dependencies","Severity","Is Blocking"],c=[];return l.forEach(a=>{a.dependsOn.length===0?c.push([a.initiativeName,a.initiativeStatus,a.initiativeProgress,"No dependencies","-","-","0","0","-","No"]):a.dependsOn.forEach((u,f)=>{c.push([f===0?a.initiativeName:"",f===0?a.initiativeStatus:"",f===0?a.initiativeProgress:"",u.initiativeName,u.initiativeStatus,u.initiativeProgress,u.dependencyCount,u.openDependencies,u.severity,u.isBlocking?"Yes":"No"])})}),[r.join(","),...c.map(a=>a.map(u=>typeof u=="string"&&u.includes(",")?`"${u}"`:u).join(","))].join(`
`)}function Jv(l,r,c=null){const o=l.issues.filter(D=>D.state==="opened");if(o.length===0)return{isComplete:!0,forecastDate:new Date,confidence:100,weeksRemaining:0,variance:{optimistic:0,pessimistic:0}};const a=e1(l);if(a.weeklyAverage===0)return{isComplete:!1,forecastDate:null,confidence:0,weeksRemaining:null,variance:{optimistic:null,pessimistic:null},reason:"No historical velocity data available"};const u=o.length;let f=0,x=!1;o.forEach(D=>{const M=D.labels?.find(W=>W.toLowerCase().startsWith("sp::"));if(M){x=!0;const W=parseInt(M.split("::")[1],10);isNaN(W)||(f+=W)}});const g=x?"storyPoints":"issueCount",h=x?f:u,m=x?a.weeklyPointsAverage:a.weeklyAverage,b=Math.ceil(h/m),y=s1(a.trend,a.consistency),S=l1(b,a.consistency),w=new Date;return w.setDate(w.getDate()+b*7),{isComplete:!1,forecastDate:w,confidence:y,weeksRemaining:b,variance:S,velocity:{weeklyAverage:a.weeklyAverage,weeklyPointsAverage:a.weeklyPointsAverage,trend:a.trend,consistency:a.consistency},remainingWork:{issues:u,storyPoints:x?f:null,metric:g}}}function e1(l,r){const c=l.issues.filter(m=>m.state==="closed");if(c.length===0)return{weeklyAverage:0,weeklyPointsAverage:0,trend:0,consistency:0};const o=new Map;c.forEach(m=>{if(!m.closed_at)return;const b=new Date(m.closed_at),y=t1(b);o.has(y)||o.set(y,{issueCount:0,storyPoints:0,week:y});const S=o.get(y);S.issueCount++;const w=m.labels?.find(D=>D.toLowerCase().startsWith("sp::"));if(w){const D=parseInt(w.split("::")[1],10);isNaN(D)||(S.storyPoints+=D)}});const u=Array.from(o.values()).sort((m,b)=>b.week.localeCompare(m.week)).slice(0,8),f=u.length>0?u.reduce((m,b)=>m+b.issueCount,0)/u.length:0,x=u.length>0?u.reduce((m,b)=>m+b.storyPoints,0)/u.length:0,g=n1(u.map(m=>m.issueCount)),h=i1(u.map(m=>m.issueCount));return{weeklyAverage:f,weeklyPointsAverage:x,trend:g,consistency:h}}function t1(l){const r=l.getFullYear(),c=new Date(r,0,1),o=Math.floor((l-c)/(1440*60*1e3)),a=Math.ceil((o+c.getDay()+1)/7);return`${r}-${a.toString().padStart(2,"0")}`}function n1(l){if(l.length<2)return 0;const r=l.length,c=r*(r-1)/2,o=l.reduce((g,h)=>g+h,0),a=l.reduce((g,h,m)=>g+m*h,0),u=r*(r-1)*(2*r-1)/6,f=(r*a-c*o)/(r*u-c*c),x=o/r;return x!==0?f/x*100:0}function i1(l){if(l.length<2)return 100;const r=l.reduce((u,f)=>u+f,0)/l.length,c=l.reduce((u,f)=>u+Math.pow(f-r,2),0)/l.length,o=Math.sqrt(c),a=r!==0?o/r*100:0;return Math.max(0,100-a)}function s1(l,r){let c=r;return l>10?c=Math.min(100,c+10):l<-10&&(c=Math.max(0,c-15)),Math.round(c)}function l1(l,r,c){const o=(100-r)/100,a=Math.max(1,Math.ceil(l*(1-.2*(r/100)))),u=Math.ceil(l*(1+(.5+o*.5)));return{optimistic:a,pessimistic:u}}function a1(l,r){if(!l.dueDate||!r.forecastDate)return{hasDueDate:!1,hasOutlooking:r.forecastDate!==null,gap:null,status:"unknown"};const c=new Date(l.dueDate),o=r.forecastDate,a=Math.round((o-c)/(1e3*60*60*24));let u="on-track";return a>14?u="at-risk":a>7?u="warning":a<-14&&(u="ahead"),{hasDueDate:!0,hasForecast:!0,dueDate:c,forecastDate:o,gap:a,status:u,isLate:a>0,weeksGap:Math.round(a/7)}}function o1(l,r){return l.map(c=>{const o=Jv(c),a=a1(c,o);return{initiativeId:c.id,initiativeName:c.name,initiativeStatus:c.status,initiativeProgress:c.progress,dueDate:c.dueDate,...o,comparison:a}}).sort((c,o)=>c.comparison.hasDueDate?o.comparison.hasDueDate?o.comparison.gap-c.comparison.gap:-1:1)}function r1(l){const r=["Initiative","Status","Progress %","Due Date","Forecast Date","Gap (Days)","Gap (Weeks)","Forecast Status","Weeks Remaining","Confidence %","Optimistic (Weeks)","Pessimistic (Weeks)","Weekly Velocity","Remaining Issues"],c=l.map(a=>[a.initiativeName,a.initiativeStatus,a.initiativeProgress,a.dueDate?new Date(a.dueDate).toLocaleDateString():"No due date",a.forecastDate?a.forecastDate.toLocaleDateString():"Cannot forecast",a.comparison.hasDueDate&&a.comparison.hasForecast?a.comparison.gap:"-",a.comparison.hasDueDate&&a.comparison.hasForecast?a.comparison.weeksGap:"-",a.comparison.status||"unknown",a.weeksRemaining||"-",a.confidence||"-",a.variance?.optimistic||"-",a.variance?.pessimistic||"-",a.velocity?.weeklyAverage?.toFixed(1)||"-",a.remainingWork?.issues||"-"]);return[r.join(","),...c.map(a=>a.map(u=>typeof u=="string"&&u.includes(",")?`"${u}"`:u).join(","))].join(`
`)}function bh(l){if(!l)return"N/A";const r={month:"short",day:"numeric",year:"numeric"};return l.toLocaleDateString("en-US",r)}function c1(l){const r={"on-track":{label:"On Track",color:"#059669",background:"#D1FAE5"},warning:{label:"Minor Delay",color:"#D97706",background:"#FEF3C7"},"at-risk":{label:"At Risk",color:"#DC2626",background:"#FEE2E2"},ahead:{label:"Ahead",color:"#0891B2",background:"#CFFAFE"},unknown:{label:"Unknown",color:"#6B7280",background:"#F3F4F6"}};return r[l]||r.unknown}function d1({issues:l,epics:r,milestones:c}){const[o,a]=R.useState("overview"),[u,f]=R.useState(null),x=R.useMemo(()=>!r||!l?[]:Ch(r,l),[r,l]),g=R.useMemo(()=>Lv(l||[]),[l]),h=R.useMemo(()=>Wv(x),[x,l]),m=R.useMemo(()=>$v(g,x),[g,x]),b=R.useMemo(()=>Uv(x),[x,l]),y=R.useMemo(()=>Kc(x,l||[]),[x,l]),S=R.useMemo(()=>Xv(x,l||[]),[x,l]),w=R.useMemo(()=>Zv(x,l||[]),[x,l]),D=R.useMemo(()=>o1(x),[x,l]),M=R.useMemo(()=>Gv(x),[x]),W=()=>{const z=Vv(h),F=new Date().toISOString().split("T")[0];Xt(z,`team-attribution-${F}.csv`)},q=()=>{const z=Yv(b),F=new Date().toISOString().split("T")[0];Xt(z,`resource-contention-${F}.csv`)},I=()=>{const z=Pv(m),F=new Date().toISOString().split("T")[0];Xt(z,`team-capacity-${F}.csv`)},N=()=>{const z=Kv(y),F=new Date().toISOString().split("T")[0];Xt(z,`initiative-dependencies-${F}.csv`)},B=()=>{const z=r1(D),F=new Date().toISOString().split("T")[0];Xt(z,`initiative-forecasts-${F}.csv`)};return x.length===0?t.jsx("div",{className:"container",children:t.jsxs("div",{className:"card",style:{padding:"60px 40px",textAlign:"center"},children:[t.jsx("h2",{style:{fontSize:"20px",marginBottom:"12px",color:"var(--text-secondary)"},children:"No Initiatives Found"}),t.jsx("p",{style:{fontSize:"14px",color:"var(--text-tertiary)",marginBottom:"20px"},children:'Tag epics with "initiative::name" labels to start tracking cross-team coordination'}),t.jsxs("p",{style:{fontSize:"13px",color:"var(--text-tertiary)"},children:["Example: ",t.jsx("code",{style:{padding:"2px 6px",background:"var(--bg-secondary)",borderRadius:"4px"},children:"initiative::platform-modernization"})]})]})}):t.jsxs("div",{className:"container",children:[t.jsxs("div",{style:{marginBottom:"30px"},children:[t.jsx("h2",{style:{fontSize:"24px",fontWeight:"600",marginBottom:"8px"},children:"Cross-Team Coordination"}),t.jsx("p",{style:{fontSize:"14px",color:"var(--text-secondary)"},children:"Manage cross-team initiatives with team attribution, dependencies, and forecasting"})]}),t.jsx("div",{style:{display:"flex",gap:"8px",marginBottom:"30px",borderBottom:"2px solid var(--border-light)",paddingBottom:"0"},children:[{id:"overview",label:"Overview"},{id:"teams",label:"Team Capacity"},{id:"dependencies",label:"Dependencies"},{id:"forecasts",label:"Forecasts"},{id:"resources",label:"Resource Contention"}].map(z=>t.jsx("button",{onClick:()=>a(z.id),style:{padding:"12px 20px",background:"none",border:"none",borderBottom:o===z.id?"2px solid var(--primary)":"2px solid transparent",color:o===z.id?"var(--primary)":"var(--text-secondary)",fontWeight:o===z.id?"600":"400",fontSize:"14px",cursor:"pointer",marginBottom:"-2px",transition:"all 0.2s"},children:z.label},z.id))}),o==="overview"&&t.jsx(u1,{initiatives:x,teams:g,teamCapacity:m,resourceContention:b,blockingInitiatives:w,forecasts:D}),o==="teams"&&t.jsx(p1,{teamCapacity:m,initiativeAttributions:h,onExportAttribution:W,onExportCapacity:I}),o==="dependencies"&&t.jsx(f1,{initiativeDependencies:y,dependencyMatrix:S,blockingInitiatives:w,onExport:N}),o==="forecasts"&&t.jsx(h1,{forecasts:D,initiatives:x,onExport:B}),o==="resources"&&t.jsx(x1,{resourceContention:b,sharedResources:M,onExport:q})]})}function u1({initiatives:l,teams:r,teamCapacity:c,resourceContention:o,blockingInitiatives:a,forecasts:u}){const f=u.filter(h=>h.comparison.status==="at-risk"||h.comparison.status==="warning"),x=c.filter(h=>h.capacityStatus==="overloaded"),g=o.filter(h=>h.contentionLevel>=70);return t.jsxs("div",{children:[t.jsxs("div",{className:"grid grid-4",style:{marginBottom:"30px"},children:[t.jsxs("div",{className:"card metric-card",children:[t.jsx("div",{className:"metric-label",children:"Total Initiatives"}),t.jsx("div",{className:"metric-value",style:{color:"var(--info)"},children:l.length}),t.jsxs("div",{style:{fontSize:"11px",color:"var(--text-tertiary)",marginTop:"4px"},children:[l.filter(h=>h.progress<100).length," active"]})]}),t.jsxs("div",{className:"card metric-card",children:[t.jsx("div",{className:"metric-label",children:"Teams Involved"}),t.jsx("div",{className:"metric-value",style:{color:"var(--primary)"},children:r.length}),t.jsxs("div",{style:{fontSize:"11px",color:"var(--text-tertiary)",marginTop:"4px"},children:[x.length," overloaded"]})]}),t.jsxs("div",{className:"card metric-card",children:[t.jsx("div",{className:"metric-label",children:"At-Risk Forecasts"}),t.jsx("div",{className:"metric-value",style:{color:"var(--danger)"},children:f.length}),t.jsx("div",{style:{fontSize:"11px",color:"var(--text-tertiary)",marginTop:"4px"},children:"Delayed delivery risk"})]}),t.jsxs("div",{className:"card metric-card",children:[t.jsx("div",{className:"metric-label",children:"Resource Conflicts"}),t.jsx("div",{className:"metric-value",style:{color:"var(--warning)"},children:g.length}),t.jsx("div",{style:{fontSize:"11px",color:"var(--text-tertiary)",marginTop:"4px"},children:"Critical contention"})]})]}),t.jsxs("div",{className:"grid grid-2",style:{gap:"30px"},children:[t.jsxs("div",{className:"card",children:[t.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"16px"},children:"Blocking Initiatives"}),t.jsx("p",{style:{fontSize:"13px",color:"var(--text-secondary)",marginBottom:"20px"},children:"Initiatives that are blocking other initiatives"}),a.length===0?t.jsx("div",{style:{padding:"40px",textAlign:"center",background:"var(--bg-secondary)",borderRadius:"8px"},children:t.jsx("div",{style:{fontSize:"14px",color:"var(--text-secondary)"},children:"No blocking dependencies found"})}):t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:a.slice(0,3).map(h=>t.jsxs("div",{style:{padding:"16px",background:"var(--bg-secondary)",borderRadius:"8px",borderLeft:`4px solid ${h.highestSeverity==="high"?"var(--danger)":h.highestSeverity==="medium"?"var(--warning)":"var(--info)"}`},children:[t.jsx("div",{style:{fontSize:"15px",fontWeight:"600",marginBottom:"8px"},children:h.initiativeName}),t.jsxs("div",{style:{fontSize:"13px",color:"var(--text-secondary)",marginBottom:"8px"},children:["Blocking ",h.blockedInitiatives.length," initiative",h.blockedInitiatives.length!==1?"s":"","  ",h.totalBlockedIssues," open dependencies"]}),t.jsxs("div",{style:{fontSize:"12px",color:"var(--text-tertiary)"},children:["Status: ",t.jsx("strong",{style:{textTransform:"capitalize"},children:h.initiativeStatus}),"  Progress: ",t.jsxs("strong",{children:[h.initiativeProgress,"%"]})]})]},h.initiativeId))})]}),t.jsxs("div",{className:"card",children:[t.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"16px"},children:"Overloaded Teams"}),t.jsx("p",{style:{fontSize:"13px",color:"var(--text-secondary)",marginBottom:"20px"},children:"Teams at or above capacity"}),x.length===0?t.jsx("div",{style:{padding:"40px",textAlign:"center",background:"var(--bg-secondary)",borderRadius:"8px"},children:t.jsx("div",{style:{fontSize:"14px",color:"var(--text-secondary)"},children:"No overloaded teams"})}):t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:x.slice(0,3).map(h=>t.jsxs("div",{style:{padding:"16px",background:"var(--bg-secondary)",borderRadius:"8px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[t.jsx("div",{style:{fontSize:"15px",fontWeight:"600"},children:h.teamName}),t.jsx("span",{style:{padding:"4px 10px",borderRadius:"12px",fontSize:"11px",fontWeight:"600",color:"var(--danger)",background:"#FEE2E2"},children:"Overloaded"})]}),t.jsxs("div",{style:{fontSize:"13px",color:"var(--text-secondary)",marginBottom:"8px"},children:[h.activeInitiativeCount," active initiatives  ",h.openIssueCount," open issues"]}),t.jsxs("div",{style:{fontSize:"12px",color:"var(--text-tertiary)"},children:[h.memberCount," member",h.memberCount!==1?"s":"","  Capacity: ",h.capacityScore,"/100"]})]},h.teamName))})]})]})]})}function p1({teamCapacity:l,initiativeAttributions:r,onExportAttribution:c,onExportCapacity:o}){return t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[t.jsx("h3",{style:{fontSize:"18px",fontWeight:"600"},children:"Team Capacity Overview"}),t.jsxs("div",{style:{display:"flex",gap:"12px"},children:[t.jsx("button",{className:"btn btn-secondary",onClick:o,children:"Export Capacity"}),t.jsx("button",{className:"btn btn-primary",onClick:c,children:"Export Attribution"})]})]}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:l.map(a=>{const u=a.capacityStatus==="overloaded"?"var(--danger)":a.capacityStatus==="at-capacity"?"var(--warning)":"var(--success)";return t.jsxs("div",{className:"card",children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[t.jsxs("div",{children:[t.jsx("h4",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"4px"},children:a.teamName}),t.jsxs("div",{style:{fontSize:"13px",color:"var(--text-secondary)"},children:[a.memberCount," member",a.memberCount!==1?"s":"","  ",a.completionRate,"% completion rate"]})]}),t.jsx("span",{style:{padding:"6px 14px",borderRadius:"12px",fontSize:"12px",fontWeight:"600",color:u,background:`${u}15`,textTransform:"capitalize"},children:a.capacityStatus.replace("-"," ")})]}),t.jsxs("div",{className:"grid grid-3",style:{marginBottom:"16px"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",color:"var(--text-tertiary)",marginBottom:"4px"},children:"Active Initiatives"}),t.jsx("div",{style:{fontSize:"20px",fontWeight:"700",color:"var(--primary)"},children:a.activeInitiativeCount})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",color:"var(--text-tertiary)",marginBottom:"4px"},children:"Open Issues"}),t.jsx("div",{style:{fontSize:"20px",fontWeight:"700",color:"var(--warning)"},children:a.openIssueCount})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",color:"var(--text-tertiary)",marginBottom:"4px"},children:"Capacity Score"}),t.jsx("div",{style:{fontSize:"20px",fontWeight:"700",color:u},children:a.capacityScore})]})]}),a.initiatives.length>0&&t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"12px",color:"var(--text-tertiary)",marginBottom:"8px",fontWeight:"600"},children:"Initiatives:"}),t.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:a.initiatives.map(f=>t.jsxs("span",{style:{padding:"4px 10px",borderRadius:"12px",fontSize:"11px",background:"var(--bg-secondary)",color:"var(--text-secondary)"},children:[f.name," (",f.progress,"%)"]},f.id))})]})]},a.teamName)})})]})}function f1({initiativeDependencies:l,blockingInitiatives:r,onExport:c}){return t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[t.jsx("h3",{style:{fontSize:"18px",fontWeight:"600"},children:"Initiative Dependencies"}),t.jsx("button",{className:"btn btn-primary",onClick:c,children:"Export Dependencies"})]}),l.length===0?t.jsx("div",{className:"card",style:{padding:"60px 40px",textAlign:"center"},children:t.jsx("div",{style:{fontSize:"16px",color:"var(--text-secondary)"},children:"No cross-initiative dependencies found"})}):t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:l.map(o=>t.jsxs("div",{className:"card",children:[t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("h4",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"4px"},children:o.initiativeName}),t.jsxs("div",{style:{fontSize:"13px",color:"var(--text-secondary)"},children:["Depends on ",o.dependsOn.length," initiative",o.dependsOn.length!==1?"s":""]})]}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:o.dependsOn.map(a=>t.jsx("div",{style:{padding:"12px",background:"var(--bg-secondary)",borderRadius:"6px",borderLeft:`4px solid ${a.severity==="high"?"var(--danger)":a.severity==="medium"?"var(--warning)":"var(--success)"}`},children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsx("div",{style:{fontSize:"14px",fontWeight:"600",marginBottom:"4px"},children:a.initiativeName}),t.jsxs("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:[a.dependencyCount," dependencies  ",a.openDependencies," open",a.isBlocking&&t.jsx("span",{style:{color:"var(--danger)",marginLeft:"8px"},children:" Blocking"})]})]}),t.jsx("span",{style:{padding:"4px 10px",borderRadius:"12px",fontSize:"11px",fontWeight:"600",textTransform:"capitalize",color:a.severity==="high"?"var(--danger)":a.severity==="medium"?"var(--warning)":"var(--success)",background:a.severity==="high"?"#FEE2E2":a.severity==="medium"?"#FEF3C7":"#D1FAE5"},children:a.severity})]})},a.initiativeId))})]},o.initiativeId))})]})}function h1({forecasts:l,onExport:r}){return t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[t.jsx("h3",{style:{fontSize:"18px",fontWeight:"600"},children:"Initiative Forecasts"}),t.jsx("button",{className:"btn btn-primary",onClick:r,children:"Export Forecasts"})]}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:l.map(c=>{const o=c1(c.comparison.status);return t.jsxs("div",{className:"card",children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsx("h4",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"4px"},children:c.initiativeName}),t.jsxs("div",{style:{fontSize:"13px",color:"var(--text-secondary)"},children:["Progress: ",c.initiativeProgress,"%  Status: ",t.jsx("span",{style:{textTransform:"capitalize"},children:c.initiativeStatus})]})]}),c.comparison.hasDueDate&&c.comparison.hasForecast&&t.jsx("span",{style:{padding:"6px 14px",borderRadius:"12px",fontSize:"12px",fontWeight:"600",color:o.color,background:o.background},children:o.label})]}),t.jsxs("div",{className:"grid grid-3",style:{marginBottom:"12px"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",color:"var(--text-tertiary)",marginBottom:"4px"},children:"Due Date"}),t.jsx("div",{style:{fontSize:"14px",fontWeight:"600"},children:c.dueDate?bh(new Date(c.dueDate)):"Not set"})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",color:"var(--text-tertiary)",marginBottom:"4px"},children:"Forecast Date"}),t.jsx("div",{style:{fontSize:"14px",fontWeight:"600"},children:c.forecastDate?bh(c.forecastDate):"No forecast"})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",color:"var(--text-tertiary)",marginBottom:"4px"},children:"Gap"}),t.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:c.comparison.isLate?"var(--danger)":"var(--success)"},children:c.comparison.hasDueDate&&c.comparison.hasForecast?`${Math.abs(c.comparison.weeksGap)} week${Math.abs(c.comparison.weeksGap)!==1?"s":""} ${c.comparison.isLate?"late":"early"}`:"N/A"})]})]}),c.velocity&&t.jsxs("div",{style:{padding:"12px",background:"var(--bg-secondary)",borderRadius:"6px",fontSize:"12px",color:"var(--text-secondary)"},children:[t.jsx("strong",{children:"Velocity:"})," ",c.velocity.weeklyAverage.toFixed(1)," issues/week ",t.jsx("strong",{style:{marginLeft:"12px"},children:"Confidence:"})," ",c.confidence,"% ",t.jsx("strong",{style:{marginLeft:"12px"},children:"Range:"})," ",c.variance?.optimistic,"-",c.variance?.pessimistic," weeks"]})]},c.initiativeId)})})]})}function x1({resourceContention:l,sharedResources:r,onExport:c}){return t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[t.jsx("h3",{style:{fontSize:"18px",fontWeight:"600"},children:"Resource Contention"}),t.jsx("button",{className:"btn btn-primary",onClick:c,children:"Export Contention"})]}),l.length===0?t.jsx("div",{className:"card",style:{padding:"60px 40px",textAlign:"center"},children:t.jsx("div",{style:{fontSize:"16px",color:"var(--text-secondary)"},children:"No resource contention detected"})}):t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:l.map(o=>t.jsxs("div",{className:"card",children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[t.jsxs("div",{children:[t.jsx("h4",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"4px"},children:o.name}),t.jsxs("div",{style:{fontSize:"13px",color:"var(--text-secondary)"},children:["@",o.username]})]}),t.jsxs("span",{style:{padding:"6px 14px",borderRadius:"12px",fontSize:"12px",fontWeight:"600",color:o.contentionLevel>=70?"var(--danger)":o.contentionLevel>=40?"var(--warning)":"var(--info)",background:o.contentionLevel>=70?"#FEE2E2":o.contentionLevel>=40?"#FEF3C7":"#DBEAFE"},children:["Level ",o.contentionLevel]})]}),t.jsxs("div",{className:"grid grid-3",style:{marginBottom:"12px"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",color:"var(--text-tertiary)",marginBottom:"4px"},children:"Initiatives"}),t.jsx("div",{style:{fontSize:"20px",fontWeight:"700",color:"var(--primary)"},children:o.initiativeCount})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",color:"var(--text-tertiary)",marginBottom:"4px"},children:"High Priority"}),t.jsx("div",{style:{fontSize:"20px",fontWeight:"700",color:"var(--danger)"},children:o.highPriorityCount})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",color:"var(--text-tertiary)",marginBottom:"4px"},children:"Open Issues"}),t.jsx("div",{style:{fontSize:"20px",fontWeight:"700",color:"var(--warning)"},children:o.totalIssues})]})]}),o.teams.length>0&&t.jsxs("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:[t.jsx("strong",{children:"Teams:"})," ",o.teams.join(", ")]})]},o.username))})]})}function g1({isCrossProject:l,onTeamUpdate:r}){const[c,o]=R.useState([]),[a,u]=R.useState(null),[f,x]=R.useState({username:"",role:"Developer",defaultCapacity:40});R.useEffect(()=>{g()},[]);const g=()=>{const S=Ct();o(S.teamMembers||[])},h=()=>{const S=Ct();S.teamMembers=c,Gc(S),r()},m=()=>{if(!f.username.trim()){alert("Please enter a username");return}if(c.find(w=>w.username===f.username)){alert("Team member already exists");return}o([...c,{...f}]),x({username:"",role:"Developer",defaultCapacity:40})},b=(S,w,D)=>{const M=[...c];M[S]={...M[S],[w]:D},o(M)},y=S=>{if(confirm(`Remove ${c[S].username} from the team?`)){const w=c.filter((D,M)=>M!==S);o(w)}};return l?t.jsxs("div",{style:{padding:"40px",textAlign:"center",background:"#F9FAFB",borderRadius:"8px",border:"1px solid #E5E7EB"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),t.jsx("h3",{style:{color:"#374151",marginBottom:"8px"},children:"Team Configuration Unavailable"}),t.jsx("p",{style:{color:"#6B7280"},children:"Please select a specific project to manage team members. Different projects have different teams."})]}):t.jsxs("div",{children:[t.jsxs("div",{style:{background:"#F9FAFB",border:"1px solid #E5E7EB",borderRadius:"8px",padding:"20px",marginBottom:"20px"},children:[t.jsx("h3",{style:{marginBottom:"16px",fontSize:"16px",fontWeight:"600",color:"#1F2937"},children:"Team Roster"}),c.length===0?t.jsxs("div",{style:{padding:"40px",textAlign:"center",color:"#6B7280"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"12px"},children:""}),t.jsx("p",{children:"No team members configured yet. Add your first team member below."})]}):t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",background:"white",borderRadius:"6px",overflow:"hidden"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{background:"#F3F4F6"},children:[t.jsx("th",{style:{padding:"12px",textAlign:"left",fontWeight:"600",fontSize:"13px",color:"#374151"},children:"Username"}),t.jsx("th",{style:{padding:"12px",textAlign:"left",fontWeight:"600",fontSize:"13px",color:"#374151"},children:"Role"}),t.jsx("th",{style:{padding:"12px",textAlign:"left",fontWeight:"600",fontSize:"13px",color:"#374151"},children:"Weekly Capacity (hours)"}),t.jsx("th",{style:{padding:"12px",textAlign:"right",fontWeight:"600",fontSize:"13px",color:"#374151"},children:"Actions"})]})}),t.jsx("tbody",{children:c.map((S,w)=>t.jsxs("tr",{style:{borderBottom:"1px solid #E5E7EB"},children:[t.jsx("td",{style:{padding:"12px",fontSize:"14px",color:"#1F2937",fontWeight:"500"},children:a===w?t.jsx("input",{type:"text",value:S.username,onChange:D=>b(w,"username",D.target.value),style:{padding:"6px 10px",border:"1px solid #D1D5DB",borderRadius:"4px",fontSize:"14px",width:"100%"}}):S.username}),t.jsx("td",{style:{padding:"12px",fontSize:"14px",color:"#6B7280"},children:a===w?t.jsx("select",{value:S.role,onChange:D=>b(w,"role",D.target.value),style:{padding:"6px 10px",border:"1px solid #D1D5DB",borderRadius:"4px",fontSize:"14px",width:"100%"},children:yi.map(D=>t.jsx("option",{value:D,children:D},D))}):t.jsx("span",{style:{padding:"4px 10px",background:"#EEF2FF",color:"#4F46E5",borderRadius:"4px",fontSize:"12px",fontWeight:"500"},children:S.role})}),t.jsx("td",{style:{padding:"12px",fontSize:"14px",color:"#6B7280"},children:a===w?t.jsx("input",{type:"number",value:S.defaultCapacity,onChange:D=>b(w,"defaultCapacity",parseInt(D.target.value)),style:{padding:"6px 10px",border:"1px solid #D1D5DB",borderRadius:"4px",fontSize:"14px",width:"100px"}}):`${S.defaultCapacity}h/week`}),t.jsx("td",{style:{padding:"12px",textAlign:"right"},children:a===w?t.jsx("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end"},children:t.jsx("button",{onClick:()=>u(null),style:{padding:"6px 12px",background:"#10B981",color:"white",border:"none",borderRadius:"4px",fontSize:"13px",fontWeight:"500",cursor:"pointer"},children:"Done"})}):t.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end"},children:[t.jsx("button",{onClick:()=>u(w),style:{padding:"6px 12px",background:"#F3F4F6",color:"#374151",border:"none",borderRadius:"4px",fontSize:"13px",fontWeight:"500",cursor:"pointer"},children:"Edit"}),t.jsx("button",{onClick:()=>y(w),style:{padding:"6px 12px",background:"#FEE2E2",color:"#DC2626",border:"none",borderRadius:"4px",fontSize:"13px",fontWeight:"500",cursor:"pointer"},children:"Remove"})]})})]},w))})]})]}),t.jsxs("div",{style:{background:"#F9FAFB",border:"1px solid #E5E7EB",borderRadius:"8px",padding:"20px",marginBottom:"20px"},children:[t.jsx("h3",{style:{marginBottom:"16px",fontSize:"16px",fontWeight:"600",color:"#1F2937"},children:"Add Team Member"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 2fr 1fr auto",gap:"12px",alignItems:"end"},children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"13px",fontWeight:"500",color:"#374151"},children:"Username"}),t.jsx("input",{type:"text",value:f.username,onChange:S=>x({...f,username:S.target.value}),placeholder:"e.g., john.doe",style:{padding:"8px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",width:"100%"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"13px",fontWeight:"500",color:"#374151"},children:"Role"}),t.jsx("select",{value:f.role,onChange:S=>x({...f,role:S.target.value}),style:{padding:"8px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",width:"100%"},children:yi.map(S=>t.jsx("option",{value:S,children:S},S))})]}),t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"13px",fontWeight:"500",color:"#374151"},children:"Hours/Week"}),t.jsx("input",{type:"number",value:f.defaultCapacity,onChange:S=>x({...f,defaultCapacity:parseInt(S.target.value)}),style:{padding:"8px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",width:"100%"}})]}),t.jsx("button",{onClick:m,style:{padding:"8px 20px",background:"#3B82F6",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"500",cursor:"pointer"},children:"+ Add"})]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px"},children:[t.jsx("button",{onClick:g,style:{padding:"10px 20px",background:"#F3F4F6",color:"#374151",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"500",cursor:"pointer"},children:"Reset"}),t.jsx("button",{onClick:h,style:{padding:"10px 20px",background:"#10B981",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"600",cursor:"pointer"},children:" Save Team Configuration"})]})]})}const vl="gitlab-pm-absences";function Kh(l){const r=xs();return!r||r==="cross-project"?l:`${l}_${r}`}function bs(){try{const l=localStorage.getItem(Kh(vl));if(l){const r=JSON.parse(l);return r.absences&&(r.absences=r.absences.map(c=>({...c,startDate:new Date(c.startDate),endDate:new Date(c.endDate)}))),r}}catch(l){console.error("Error loading absences:",l)}return{absences:[],lastModified:new Date().toISOString()}}function m1(){const l=[];for(let r=0;r<localStorage.length;r++){const c=localStorage.key(r);if(c&&c.startsWith(vl))try{const o=localStorage.getItem(c);if(o){const a=JSON.parse(o);if(a.absences){const u=c===vl?"default":c.replace(`${vl}_`,""),f=a.absences.map(x=>({...x,startDate:new Date(x.startDate),endDate:new Date(x.endDate),_projectId:u}));l.push(...f)}}}catch(o){console.error(`Error loading absences from ${c}:`,o)}}return l}function Jh(l){try{const r={...l,lastModified:new Date().toISOString()};return localStorage.setItem(Kh(vl),JSON.stringify(r)),!0}catch(r){return console.error("Error saving absences:",r),!1}}function y1(l,r,c,o="",a="vacation"){const u=bs(),f=new Date(r.getFullYear(),r.getMonth(),r.getDate()),x=new Date(c.getFullYear(),c.getMonth(),c.getDate()),g={id:`${l}-${f.getTime()}-${x.getTime()}`,username:l,startDate:f,endDate:x,reason:o,type:a,createdAt:new Date().toISOString()};return u.absences=u.absences.filter(h=>h.username!==l||!j1(h.startDate,h.endDate,f,x)),u.absences.push(g),Jh(u),g}function v1(l){const r=bs();r.absences=r.absences.filter(c=>c.id!==l),Jh(r)}function ex(l,r=null,c=null){let a=bs().absences.filter(u=>u.username===l);return(r||c)&&(a=a.filter(u=>!(r&&u.endDate<r||c&&u.startDate>c))),a.sort((u,f)=>u.startDate-f.startDate)}function b1(l,r){return bs().absences.filter(o=>o.startDate<=r&&o.endDate>=l).sort((o,a)=>o.startDate-a.startDate)}function j1(l,r,c,o){return l<=o&&c<=r}function qa(l,r){let c=0;const o=new Date(l);for(;o<=r;){const a=o.getDay();a!==0&&a!==6&&c++,o.setDate(o.getDate()+1)}return c}function tx(l,r,c,o){const a=ex(l,r,c);let u=0;a.forEach(x=>{const g=x.startDate>r?x.startDate:r,h=x.endDate<c?x.endDate:c,m=qa(g,h);u+=m});const f=o/5;return Math.round(u*f*10)/10}function S1(l,r,c){if(!r.startDate||!r.dueDate)return{adjustedCapacity:c,hoursLost:0,workingDaysLost:0,absences:[]};const o=new Date(r.startDate),a=new Date(r.dueDate),u=ex(l,o,a),f=qa(o,a),x=tx(l,o,a,c);let g=0;u.forEach(y=>{const S=y.startDate>o?y.startDate:o,w=y.endDate<a?y.endDate:a;g+=qa(S,w)});const h=f/5,m=h*c,b=Math.max(0,m-x);return{adjustedCapacity:Math.round(b*10)/10,hoursLost:Math.round(x*10)/10,workingDaysLost:g,absences:u,sprintWorkingDays:f,sprintWeeks:Math.round(h*10)/10}}function E1(l,r,c){const o=b1(r,c),a={totalAbsences:o.length,byMember:{},byType:{vacation:0,sick:0,conference:0,training:0,other:0},totalDaysOff:0,totalHoursImpact:0};return l.forEach(u=>{const f=o.filter(g=>g.username===u.username),x=tx(u.username,r,c,u.defaultCapacity||40);a.byMember[u.username]={absenceCount:f.length,hoursLost:x,absences:f},a.totalHoursImpact+=x,f.forEach(g=>{const h=qa(g.startDate>r?g.startDate:r,g.endDate<c?g.endDate:c);a.totalDaysOff+=h,a.byType[g.type]=(a.byType[g.type]||0)+1})}),a}function B1(l=null,r=null){let o=bs().absences;(l||r)&&(o=o.filter(f=>!(l&&f.endDate<l||r&&f.startDate>r)));const a=`Username,Start Date,End Date,Reason,Type,Created At
`,u=o.map(f=>{const x=f.startDate.toISOString().split("T")[0],g=f.endDate.toISOString().split("T")[0],h=new Date(f.createdAt).toISOString().split("T")[0];return`${f.username},${x},${g},"${f.reason}",${f.type},${h}`}).join(`
`);return a+u}function C1({issues:l,isCrossProject:r,refreshKey:c,onAbsenceUpdate:o}){const[a,u]=R.useState([]),[f,x]=R.useState([]),[g,h]=R.useState(3),[m,b]=R.useState(new Date().getFullYear()),[y,S]=R.useState(new Date().getMonth()),[w,D]=R.useState(null),[M,W]=R.useState(null),q=R.useRef(null);R.useEffect(()=>{const L=Ct();u(L.teamMembers||[]),I()},[c]);const I=()=>{if(r){const L=m1();x(L)}else{const L=bs();x(L.absences||[])}},N=R.useMemo(()=>{const L=new Date(m,y,1),H=new Date(m,y+g,0);return{start:L,end:H}},[m,y,g]),B=R.useMemo(()=>{const L=[],H=new Date(N.start);for(;H<=N.end;)L.push(new Date(H)),H.setDate(H.getDate()+1);return L},[N]),z=R.useMemo(()=>l?Sl(l).map(H=>{const K=l.find(C=>Ei(C.iteration)===H);return{name:H,id:K?.iteration?.id||H,startDate:K?.iteration?.start_date?new Date(K.iteration.start_date):null,dueDate:K?.iteration?.due_date?new Date(K.iteration.due_date):null}}).filter(H=>H.startDate&&H.dueDate).filter(H=>H.startDate<=N.end&&H.dueDate>=N.start).sort((H,K)=>H.startDate-K.startDate):[],[l,N]),F=(L,H)=>{if(!r)if(w){const K=w.startDate<H?w.startDate:H,C=w.startDate<H?H:w.startDate;y1(w.username,K,C,"Absence","vacation"),I(),o(),D(null)}else D({username:L,startDate:H})},_=(L,H)=>{w&&w.username===L&&D({...w,currentDate:H})},j=()=>{D(null)},G=L=>{v1(L),I(),o(),W(null)},P=(L,H,K=null)=>f.some(C=>C.username===L&&C.id!==K&&H>=C.startDate&&H<=C.endDate),ee=(L,H)=>{if(!w||w.username!==L)return!1;const K=w.currentDate||w.startDate,C=w.startDate<K?w.startDate:K,U=w.startDate<K?K:w.startDate;return H>=C&&H<=U},le=(L,H)=>f.find(K=>K.username===L&&H>=K.startDate&&H<=K.endDate),re=L=>{const H=L.getDay();return H===0||H===6},T=()=>{const L=B1(N.start,N.end),H=new Blob([L],{type:"text/csv"}),K=URL.createObjectURL(H),C=document.createElement("a");C.href=K,C.download=`absences-${N.start.toISOString().split("T")[0]}-to-${N.end.toISOString().split("T")[0]}.csv`,document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(K)},A=R.useMemo(()=>E1(a,N.start,N.end),[a,f,N]),k=R.useMemo(()=>{const L=[];let H=null,K=0;return B.forEach(C=>{const U=`${C.getFullYear()}-${C.getMonth()}`;U!==H?(H!==null&&L.push({...L[L.length-1],dayCount:K}),H=U,K=1,L.push({year:C.getFullYear(),month:C.getMonth(),monthName:C.toLocaleDateString("en-US",{month:"short",year:"numeric"}),dayCount:0})):K++}),L.length>0&&(L[L.length-1].dayCount=K),L},[B]);return a.length===0?t.jsxs("div",{style:{padding:"40px",textAlign:"center",background:"#F9FAFB",borderRadius:"8px",border:"1px solid #E5E7EB"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),t.jsx("h3",{style:{color:"#374151",marginBottom:"8px"},children:"No Team Members"}),t.jsx("p",{style:{color:"#6B7280"},children:"Please add team members in the Team Setup tab first."})]}):t.jsxs("div",{children:[t.jsx("div",{style:{marginBottom:"20px"},children:t.jsxs("div",{style:{display:"flex",gap:"32px",alignItems:"flex-start",flexWrap:"wrap"},children:[t.jsxs("div",{style:{background:"#F9FAFB",border:"1px solid #E5E7EB",borderRadius:"8px",padding:"16px",minWidth:"280px"},children:[t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("div",{style:{fontSize:"11px",fontWeight:"600",color:"#6B7280",marginBottom:"6px",textTransform:"uppercase"},children:"Year"}),t.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",justifyContent:"center"},children:[t.jsx("button",{onClick:()=>b(m-1),style:{padding:"6px 10px",background:"white",border:"1px solid #D1D5DB",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"600",color:"#374151"},children:""}),t.jsx("span",{style:{fontSize:"18px",fontWeight:"700",minWidth:"80px",textAlign:"center",color:"#1F2937"},children:m}),t.jsx("button",{onClick:()=>b(m+1),style:{padding:"6px 10px",background:"white",border:"1px solid #D1D5DB",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"600",color:"#374151"},children:""})]})]}),t.jsxs("div",{style:{marginTop:"12px"},children:[t.jsx("div",{style:{fontSize:"11px",fontWeight:"600",color:"#6B7280",marginBottom:"6px",textTransform:"uppercase"},children:"Starting Month"}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"6px"},children:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((L,H)=>t.jsx("button",{onClick:()=>S(H),style:{padding:"8px",background:y===H?"#3B82F6":"white",color:y===H?"white":"#374151",border:y===H?"none":"1px solid #D1D5DB",borderRadius:"6px",fontSize:"12px",fontWeight:y===H?"600":"500",cursor:"pointer",transition:"all 0.15s"},children:L},H))})]})]}),t.jsxs("div",{style:{background:"#F9FAFB",border:"1px solid #E5E7EB",borderRadius:"8px",padding:"16px",minWidth:"280px"},children:[t.jsx("div",{style:{fontSize:"11px",fontWeight:"600",color:"#6B7280",marginBottom:"6px",textTransform:"uppercase"},children:"Months to View"}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(6, 1fr)",gap:"6px"},children:[1,2,3,4,5,6,7,8,9,10,11,12].map(L=>t.jsx("button",{onClick:()=>h(L),style:{padding:"8px",background:g===L?"#3B82F6":"white",color:g===L?"white":"#374151",border:g===L?"none":"1px solid #D1D5DB",borderRadius:"6px",fontSize:"12px",fontWeight:g===L?"600":"500",cursor:"pointer",transition:"all 0.15s"},children:L},L))})]}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:t.jsx("button",{onClick:()=>{const L=new Date;b(L.getFullYear()),S(L.getMonth())},style:{padding:"8px 16px",background:"#10B981",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"600"},children:" Jump to Today"})}),t.jsx("div",{style:{flex:1}}),t.jsx("button",{onClick:T,style:{padding:"8px 16px",background:"#F3F4F6",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:" Export CSV"})]})}),t.jsx("div",{className:"card",style:{marginBottom:"20px",background:"#F9FAFB",border:"1px solid #E5E7EB"},children:t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"20px"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:"TOTAL ABSENCES"}),t.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"#1F2937"},children:A.totalAbsences})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:"DAYS OFF"}),t.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"#2563EB"},children:A.totalDaysOff})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"},children:"CAPACITY IMPACT"}),t.jsxs("div",{style:{fontSize:"24px",fontWeight:"700",color:"#DC2626"},children:[A.totalHoursImpact,"h"]})]})]})}),w&&t.jsx("div",{className:"card",style:{marginBottom:"20px",background:"#EFF6FF",border:"1px solid #3B82F6"},children:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("span",{style:{fontSize:"20px"},children:""}),t.jsxs("div",{style:{flex:1},children:[t.jsx("strong",{style:{color:"#1E40AF"},children:"Selecting absence period"}),t.jsx("p",{style:{margin:"4px 0 0 0",fontSize:"14px",color:"#1E40AF"},children:"Click on another date to complete the selection, or press ESC to cancel"})]}),t.jsx("button",{onClick:j,style:{padding:"6px 12px",background:"white",border:"1px solid #3B82F6",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"500",color:"#1E40AF"},children:"Cancel"})]})}),t.jsx("div",{ref:q,style:{overflowX:"auto",overflowY:"visible",border:"1px solid #E5E7EB",borderRadius:"8px",background:"white"},onMouseLeave:j,children:t.jsxs("div",{style:{minWidth:`${Math.max(1200,B.length*24)}px`},children:[t.jsxs("div",{style:{display:"flex",borderBottom:"2px solid #E5E7EB",background:"#F9FAFB",position:"sticky",top:0,zIndex:10},children:[t.jsx("div",{style:{width:"200px",minWidth:"200px",padding:"12px",fontWeight:"600",fontSize:"12px",color:"#6B7280",borderRight:"2px solid #E5E7EB",background:"#F9FAFB",position:"sticky",left:0,zIndex:11},children:"TEAM MEMBER"}),t.jsx("div",{style:{display:"flex",flex:1},children:k.map((L,H)=>t.jsx("div",{style:{width:`${L.dayCount*24}px`,padding:"12px 8px",textAlign:"center",fontWeight:"600",fontSize:"12px",color:"#1F2937",borderRight:H<k.length-1?"1px solid #D1D5DB":"none"},children:L.monthName},H))})]}),t.jsxs("div",{style:{display:"flex",borderBottom:"1px solid #E5E7EB",background:"#FAFAFA"},children:[t.jsx("div",{style:{width:"200px",minWidth:"200px",borderRight:"2px solid #E5E7EB",background:"#FAFAFA",position:"sticky",left:0,zIndex:9}}),t.jsx("div",{style:{display:"flex",flex:1},children:B.map((L,H)=>{const K=re(L);return t.jsx("div",{style:{width:"24px",minWidth:"24px",padding:"4px 0",textAlign:"center",fontSize:"10px",color:K?"#DC2626":"#6B7280",fontWeight:K?"600":"400",background:K?"#FEF2F2":"transparent"},children:L.getDate()},H)})})]}),z.length>0&&t.jsxs("div",{style:{display:"flex",borderBottom:"1px solid #E5E7EB",background:"#F0F9FF",height:"24px"},children:[t.jsx("div",{style:{width:"200px",minWidth:"200px",borderRight:"2px solid #E5E7EB",padding:"4px 8px",fontSize:"10px",fontWeight:"600",color:"#1E40AF",background:"#F0F9FF",position:"sticky",left:0,zIndex:9},children:"SPRINTS"}),t.jsx("div",{style:{position:"relative",flex:1},children:z.map((L,H)=>{const K=B.findIndex(ie=>ie>=L.startDate),C=B.findIndex(ie=>ie>L.dueDate),ne=((C===-1?B.length:C)-K)*24;return K===-1||ne<=0?null:t.jsx("div",{style:{position:"absolute",left:`${K*24}px`,width:`${ne}px`,height:"20px",background:"#DBEAFE",border:"1px solid #3B82F6",borderRadius:"4px",fontSize:"9px",padding:"2px 4px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:"#1E40AF",fontWeight:"600"},title:L.name,children:L.name},H)})})]}),a.map((L,H)=>{const K=f.filter(C=>C.username===L.username);return t.jsxs("div",{style:{display:"flex",borderBottom:H<a.length-1?"1px solid #E5E7EB":"none"},children:[t.jsxs("div",{style:{width:"200px",minWidth:"200px",padding:"12px",borderRight:"2px solid #E5E7EB",background:"white",position:"sticky",left:0,zIndex:8},children:[t.jsx("div",{style:{fontSize:"13px",fontWeight:"600",color:"#1F2937",marginBottom:"2px"},children:L.name||L.username}),t.jsx("div",{style:{fontSize:"11px",color:"#6B7280"},children:L.role||"Team Member"}),t.jsxs("div",{style:{fontSize:"10px",color:"#9CA3AF",marginTop:"4px"},children:[L.defaultCapacity||40,"h/week"]})]}),t.jsxs("div",{style:{display:"flex",flex:1,position:"relative"},children:[B.map((C,U)=>{const ne=re(C),ie=P(L.username,C),de=ee(L.username,C),ue=le(L.username,C);return t.jsx("div",{onClick:()=>!ie&&!r&&F(L.username,C),onMouseEnter:()=>!r&&_(L.username,C),style:{width:"24px",minWidth:"24px",height:"60px",background:de?"#DBEAFE":ie?"#FEE2E2":ne?"#F9FAFB":"white",borderRight:U<B.length-1?"1px solid #F3F4F6":"none",cursor:r?"default":ie?"pointer":"crosshair",position:"relative",opacity:r?.7:1},title:ue?`${ue.reason} (${ue.type})`:r?"Select a project to edit absences":""},U)}),K.map((C,U)=>{const ne=B.findIndex(Se=>Se>=C.startDate),ie=B.findIndex(Se=>Se>C.endDate),ue=((ie===-1?B.length:ie)-ne)*24;if(ne===-1||ue<=0)return null;const ce={vacation:{bg:"#DBEAFE",border:"#3B82F6",text:"#1E40AF"},sick:{bg:"#FEF3C7",border:"#F59E0B",text:"#92400E"},conference:{bg:"#E0E7FF",border:"#6366F1",text:"#3730A3"},training:{bg:"#D1FAE5",border:"#059669",text:"#065F46"},other:{bg:"#F3F4F6",border:"#6B7280",text:"#374151"}},ye=ce[C.type]||ce.other;return t.jsxs("div",{onClick:Se=>{Se.stopPropagation(),r||W(C)},style:{position:"absolute",left:`${ne*24}px`,top:"8px",width:`${ue}px`,height:"44px",background:ye.bg,border:`2px solid ${ye.border}`,borderRadius:"6px",padding:"4px 6px",fontSize:"11px",fontWeight:"600",color:ye.text,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",cursor:r?"default":"pointer",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",zIndex:5,opacity:r?.7:1},title:r?`${C.reason||C.type} (Project: ${C._projectId||"default"})
Read-only in cross-project view`:`${C.reason||C.type}
Click to edit`,children:[C.reason||C.type,r&&C._projectId&&t.jsxs("span",{style:{fontSize:"9px",opacity:.7,marginLeft:"4px"},children:["[",C._projectId,"]"]})]},U)})]})]},L.username)})]})}),M&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>W(null),children:t.jsxs("div",{className:"card",style:{width:"400px",maxWidth:"90%"},onClick:L=>L.stopPropagation(),children:[t.jsx("h3",{style:{marginBottom:"16px"},children:"Absence Details"}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("strong",{children:"Team Member:"})," ",M.username]}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("strong",{children:"Period:"})," ",M.startDate.toLocaleDateString()," - ",M.endDate.toLocaleDateString()]}),t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("strong",{children:"Type:"})," ",M.type]}),M.reason&&t.jsxs("div",{style:{marginBottom:"12px"},children:[t.jsx("strong",{children:"Reason:"})," ",M.reason]}),t.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"20px"},children:[t.jsx("button",{onClick:()=>G(M.id),style:{flex:1,padding:"10px",background:"#DC2626",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"500"},children:"Delete"}),t.jsx("button",{onClick:()=>W(null),style:{flex:1,padding:"10px",background:"#F3F4F6",color:"#1F2937",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"500"},children:"Close"})]})]})}),t.jsxs("div",{className:"card",style:{marginTop:"20px",background:"#F9FAFB"},children:[t.jsx("h4",{style:{marginBottom:"12px"},children:"How to use"}),t.jsxs("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"14px",color:"#6B7280",lineHeight:"1.6"},children:[t.jsx("li",{children:"Click on a day to start marking an absence"}),t.jsx("li",{children:"Click on another day to complete the absence period"}),t.jsx("li",{children:"Click on an existing absence to view details or delete"}),t.jsx("li",{children:"Weekends are automatically excluded from capacity calculations"}),t.jsx("li",{children:"Absences automatically reduce sprint capacity based on affected days"})]})]})]})}function D1({issues:l,isCrossProject:r,refreshKey:c}){const[o,a]=R.useState([]),[u,f]=R.useState([]),[x,g]=R.useState(null),[h,m]=R.useState({}),[b,y]=R.useState(null);R.useEffect(()=>{S()},[c]),R.useEffect(()=>{l&&l.length>0&&w()},[l]);const S=()=>{const q=Ct();a(q.teamMembers||[])},w=()=>{const I=Sl(l).map(N=>{const B=l.find(z=>Ei(z.iteration)===N);return{name:N,id:B?.iteration?.id||N,startDate:B?.iteration?.start_date?new Date(B.iteration.start_date):null,dueDate:B?.iteration?.due_date?new Date(B.iteration.due_date):null}}).filter(N=>N.startDate&&N.dueDate).sort((N,B)=>B.startDate-N.startDate);f(I),I.length>0&&!x&&g(I[0])},D=R.useMemo(()=>!x||o.length===0?[]:o.map(q=>{const I=q.defaultCapacity||0,N=Math.ceil((x.dueDate-x.startDate)/(1e3*60*60*24)),z=Math.floor(N*(5/7))/5,F=Math.round(z*I),_=S1(q.username,x,I),j=_.hoursLost||0,G=Math.max(0,F-j),re=gs().sprints.find(A=>A.sprintId===x.id)?.memberCapacity?.find(A=>A.username===q.username)?.availableHours,T=re!==void 0?re:G;return{username:q.username,role:q.role,weeklyDefault:I,sprintDefault:F,absenceHours:j,absenceDays:_.workingDaysLost||0,autoAdjusted:G,manualOverride:re,final:T,hasOverride:re!==void 0,absences:_.absences||[]}}),[x,o,c]),M=R.useMemo(()=>D.reduce((q,I)=>({sprintDefault:q.sprintDefault+I.sprintDefault,absenceHours:q.absenceHours+I.absenceHours,autoAdjusted:q.autoAdjusted+I.autoAdjusted,manualAdjustment:q.manualAdjustment+(I.hasOverride?I.manualOverride-I.autoAdjusted:0),final:q.final+I.final}),{sprintDefault:0,absenceHours:0,autoAdjusted:0,manualAdjustment:0,final:0}),[D]),W=(q,I)=>{const N=gs();let B=N.sprints.find(F=>F.sprintId===x.id);B||(B={sprintId:x.id,sprintName:x.name,memberCapacity:[]},N.sprints.push(B));const z=B.memberCapacity.findIndex(F=>F.username===q);z>=0?I===null?B.memberCapacity.splice(z,1):B.memberCapacity[z].availableHours=I:I!==null&&B.memberCapacity.push({username:q,availableHours:I}),Th(N),y(null),S()};return r?t.jsxs("div",{style:{padding:"40px",textAlign:"center",background:"#F9FAFB",borderRadius:"8px",border:"1px solid #E5E7EB"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),t.jsx("h3",{style:{color:"#374151",marginBottom:"8px"},children:"Sprint Capacity Unavailable"}),t.jsx("p",{style:{color:"#6B7280"},children:"Sprint capacity planning is only available for individual projects. Please select a specific project."})]}):o.length===0?t.jsxs("div",{style:{padding:"40px",textAlign:"center",background:"#F9FAFB",borderRadius:"8px",border:"1px solid #E5E7EB"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),t.jsx("h3",{style:{color:"#374151",marginBottom:"8px"},children:"No Team Members"}),t.jsx("p",{style:{color:"#6B7280"},children:"Please add team members in the Team Setup tab first."})]}):u.length===0?t.jsxs("div",{style:{padding:"40px",textAlign:"center",background:"#F9FAFB",borderRadius:"8px",border:"1px solid #E5E7EB"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),t.jsx("h3",{style:{color:"#374151",marginBottom:"8px"},children:"No Sprints Found"}),t.jsx("p",{style:{color:"#6B7280"},children:"No sprint iterations found in your issues. Make sure your issues have iteration/sprint assignments."})]}):t.jsxs("div",{children:[t.jsxs("div",{style:{marginBottom:"24px"},children:[t.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:"#374151"},children:"Select Sprint"}),t.jsx("select",{value:x?.id||"",onChange:q=>{const I=u.find(N=>N.id===q.target.value);g(I)},style:{padding:"10px 14px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",minWidth:"300px",background:"white"},children:u.map(q=>t.jsxs("option",{value:q.id,children:[q.name," (",q.startDate.toLocaleDateString()," - ",q.dueDate.toLocaleDateString(),")"]},q.id))})]}),t.jsx("div",{style:{background:"white",border:"1px solid #E5E7EB",borderRadius:"8px",overflow:"hidden",marginBottom:"20px"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{background:"#F9FAFB",borderBottom:"2px solid #E5E7EB"},children:[t.jsx("th",{style:{padding:"12px",textAlign:"left",fontWeight:"600",fontSize:"13px",color:"#374151"},children:"Member"}),t.jsxs("th",{style:{padding:"12px",textAlign:"right",fontWeight:"600",fontSize:"13px",color:"#374151"},children:["Default",t.jsx("br",{}),t.jsx("span",{style:{fontWeight:"400",fontSize:"11px",color:"#6B7280"},children:"(Sprint Total)"})]}),t.jsxs("th",{style:{padding:"12px",textAlign:"right",fontWeight:"600",fontSize:"13px",color:"#374151"},children:["Absences",t.jsx("br",{}),t.jsx("span",{style:{fontWeight:"400",fontSize:"11px",color:"#6B7280"},children:"(Hours Lost)"})]}),t.jsxs("th",{style:{padding:"12px",textAlign:"right",fontWeight:"600",fontSize:"13px",color:"#374151"},children:["Auto-Adjusted",t.jsx("br",{}),t.jsx("span",{style:{fontWeight:"400",fontSize:"11px",color:"#6B7280"},children:"(After Absences)"})]}),t.jsxs("th",{style:{padding:"12px",textAlign:"right",fontWeight:"600",fontSize:"13px",color:"#374151"},children:["Manual Override",t.jsx("br",{}),t.jsx("span",{style:{fontWeight:"400",fontSize:"11px",color:"#6B7280"},children:"(Optional)"})]}),t.jsx("th",{style:{padding:"12px",textAlign:"right",fontWeight:"600",fontSize:"13px",color:"#374151"},children:"Final Capacity"})]})}),t.jsxs("tbody",{children:[D.map((q,I)=>t.jsxs("tr",{style:{borderBottom:"1px solid #E5E7EB"},children:[t.jsxs("td",{style:{padding:"12px"},children:[t.jsx("div",{style:{fontWeight:"500",color:"#1F2937",marginBottom:"2px"},children:q.username}),t.jsxs("div",{style:{fontSize:"11px",color:"#6B7280",background:"#F3F4F6",display:"inline-block",padding:"2px 6px",borderRadius:"3px"},children:[q.role,"  ",q.weeklyDefault,"h/week"]})]}),t.jsxs("td",{style:{padding:"12px",textAlign:"right",fontSize:"14px",color:"#374151"},children:[q.sprintDefault,"h"]}),t.jsx("td",{style:{padding:"12px",textAlign:"right"},children:q.absenceHours>0?t.jsxs("div",{children:[t.jsxs("div",{style:{fontSize:"14px",color:"#DC2626",fontWeight:"500"},children:["-",q.absenceHours,"h"]}),t.jsxs("div",{style:{fontSize:"11px",color:"#6B7280"},children:["(",q.absenceDays," days)"]})]}):t.jsx("span",{style:{fontSize:"14px",color:"#6B7280"},children:""})}),t.jsxs("td",{style:{padding:"12px",textAlign:"right",fontSize:"14px",color:"#374151",fontWeight:"500"},children:[q.autoAdjusted,"h"]}),t.jsx("td",{style:{padding:"12px",textAlign:"right"},children:b===q.username?t.jsxs("div",{style:{display:"flex",gap:"6px",justifyContent:"flex-end"},children:[t.jsx("input",{type:"number",defaultValue:q.manualOverride!==void 0?q.manualOverride:q.autoAdjusted,onKeyDown:N=>{N.key==="Enter"?W(q.username,parseInt(N.target.value)):N.key==="Escape"&&y(null)},style:{width:"70px",padding:"4px 8px",border:"1px solid #3B82F6",borderRadius:"4px",fontSize:"13px"},autoFocus:!0}),t.jsx("button",{onClick:()=>y(null),style:{padding:"4px 8px",background:"#F3F4F6",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer"},children:""})]}):q.hasOverride?t.jsxs("div",{children:[t.jsxs("div",{style:{fontSize:"14px",color:"#3B82F6",fontWeight:"500"},children:[q.manualOverride,"h"]}),t.jsxs("div",{style:{display:"flex",gap:"4px",justifyContent:"flex-end",marginTop:"4px"},children:[t.jsx("button",{onClick:()=>y(q.username),style:{padding:"2px 6px",background:"#F3F4F6",border:"none",borderRadius:"3px",fontSize:"11px",cursor:"pointer",color:"#374151"},children:"Edit"}),t.jsx("button",{onClick:()=>W(q.username,null),style:{padding:"2px 6px",background:"#FEE2E2",border:"none",borderRadius:"3px",fontSize:"11px",cursor:"pointer",color:"#DC2626"},children:"Remove"})]})]}):t.jsx("button",{onClick:()=>y(q.username),style:{padding:"4px 12px",background:"#F3F4F6",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer",color:"#6B7280"},children:"+ Set Override"})}),t.jsxs("td",{style:{padding:"12px",textAlign:"right",fontSize:"16px",fontWeight:"700",color:q.hasOverride?"#3B82F6":"#10B981"},children:[q.final,"h"]})]},q.username)),t.jsxs("tr",{style:{background:"#F9FAFB",fontWeight:"600"},children:[t.jsx("td",{style:{padding:"12px",fontSize:"14px",color:"#1F2937"},children:"Total Team Capacity"}),t.jsxs("td",{style:{padding:"12px",textAlign:"right",fontSize:"14px",color:"#374151"},children:[M.sprintDefault,"h"]}),t.jsxs("td",{style:{padding:"12px",textAlign:"right",fontSize:"14px",color:"#DC2626"},children:["-",M.absenceHours,"h"]}),t.jsxs("td",{style:{padding:"12px",textAlign:"right",fontSize:"14px",color:"#374151"},children:[M.autoAdjusted,"h"]}),t.jsxs("td",{style:{padding:"12px",textAlign:"right",fontSize:"14px",color:M.manualAdjustment<0?"#DC2626":"#10B981"},children:[M.manualAdjustment>0?"+":"",M.manualAdjustment,"h"]}),t.jsxs("td",{style:{padding:"12px",textAlign:"right",fontSize:"18px",fontWeight:"700",color:"#1F2937"},children:[M.final,"h"]})]})]})]})}),t.jsxs("div",{style:{background:"#EFF6FF",border:"1px solid #BFDBFE",borderRadius:"6px",padding:"12px 16px",fontSize:"13px",color:"#1E40AF"},children:[t.jsx("strong",{children:"How it works:"})," Default capacity is calculated based on weekly hours and sprint duration. Absences automatically reduce capacity. You can add manual overrides for exceptional cases (e.g., team member working part-time during sprint)."]})]})}function w1({issues:l}){const[r,c]=R.useState("team"),a=xs()==="cross-project",[u,f]=R.useState(0),x=()=>f(h=>h+1),g=[{id:"team",label:" Team Setup",icon:""},{id:"absences",label:" Absence Calendar",icon:""},{id:"capacity",label:" Sprint Capacity",icon:""}];return t.jsxs("div",{className:"container",style:{padding:"20px"},children:[t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("h1",{children:" Resource Planning"}),t.jsx("p",{style:{color:"#6B7280",marginBottom:"20px"},children:"Manage your team, plan absences, and monitor sprint capacity in one integrated view"}),a&&t.jsxs("div",{style:{background:"#FEF3C7",border:"1px solid #F59E0B",borderRadius:"8px",padding:"12px 16px",marginBottom:"16px",display:"flex",alignItems:"center",gap:"10px"},children:[t.jsx("span",{style:{fontSize:"20px"},children:""}),t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:"600",color:"#92400E",marginBottom:"4px"},children:"Cross-Project View"}),t.jsx("div",{style:{fontSize:"13px",color:"#92400E"},children:"You're viewing data from all projects. Team configuration and absence editing are disabled in cross-project mode. Select a specific project to manage resources."})]})]}),t.jsx("div",{style:{display:"flex",gap:"4px",borderBottom:"2px solid #E5E7EB",marginBottom:"24px"},children:g.map(h=>t.jsx("button",{onClick:()=>c(h.id),style:{padding:"12px 24px",background:r===h.id?"white":"transparent",color:r===h.id?"#3B82F6":"#6B7280",border:"none",borderBottom:r===h.id?"3px solid #3B82F6":"3px solid transparent",borderRadius:"6px 6px 0 0",fontSize:"14px",fontWeight:r===h.id?"600":"500",cursor:"pointer",transition:"all 0.2s",marginBottom:"-2px"},children:h.label},h.id))})]}),t.jsxs("div",{children:[r==="team"&&t.jsx(g1,{isCrossProject:a,onTeamUpdate:x}),r==="absences"&&t.jsx(C1,{issues:l,isCrossProject:a,refreshKey:u,onAbsenceUpdate:x}),r==="capacity"&&t.jsx(D1,{issues:l,isCrossProject:a,refreshKey:u})]})]})}function z1(){console.log("App: Component initializing...");const[l,r]=R.useState("executive");console.log("App: activeView state initialized:",l);const c=Cn();console.log("App: Configuration check:",c);const[o,a]=R.useState(!c),[u,f]=R.useState(!1),[x,g]=R.useState(Qm()==="grouped");console.log("App: showConfigModal:",!c),console.log("App: Calling useGitLabData hook...");const{issues:h,milestones:m,epics:b,crossProjectData:y,loading:S,error:w,refresh:D}=Im();console.log("App: GitLab data:",{issuesCount:h?.length,milestonesCount:m?.length,epicsCount:b?.length,loading:S,error:w}),y&&console.log("App: Cross-project data available:",y.statistics),console.log("App: Calling useHealthScore hook...");const{stats:M,healthScore:W}=Hm(h,m);console.log("App: Health data:",{stats:M,healthScore:W}),console.log("App: Calling useRisks hook...");const{risks:q}=Uc();console.log("App: Risks data:",{risksCount:q?.length});const I=()=>{console.log("App: handleConfigSave called"),a(!1),D()},N=B=>{console.log("App: handleProjectSwitch called with:",B),D(),r("executive")};return console.log("App: About to render, current state:",{activeView:l,showConfigModal:o,configured:c,issuesCount:h?.length,loading:S}),t.jsx(Gm,{issues:h,children:t.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column"},children:[t.jsx(Vm,{stats:M,healthScore:W,onRefresh:D,onConfigure:()=>a(!0),onChangeRole:()=>f(!0),loading:S}),x?t.jsx(Km,{activeView:l,onViewChange:r,onProjectChange:Cn()?B=>{B==="cross-project"?(console.log("Cross-project view activated - refreshing data"),D()):N(B)}:null}):t.jsx(Ym,{activeView:l,onViewChange:r}),Cn()&&h.length>0&&["executive","insights","compliance","cycletime","resources","velocity","sprintmanagement","epicmanagement","riskmanagement","roadmap","stakeholders","crossteam"].includes(l)&&t.jsx("div",{style:{position:"sticky",top:"0",zIndex:800,background:"white",padding:"12px 20px",borderBottom:"1px solid #E5E7EB",display:"flex",justifyContent:"flex-end"},children:t.jsx(e0,{})}),t.jsxs("div",{style:{flex:1,paddingTop:"20px"},children:[w&&t.jsx("div",{className:"container",children:t.jsxs("div",{className:"card",style:{background:"#FEE2E2",borderColor:"#DC2626",color:"#DC2626"},children:[t.jsx("strong",{children:"Error:"})," ",w]})}),S&&!h.length&&t.jsx("div",{className:"container",children:t.jsx("div",{className:"card text-center",children:t.jsx("p",{children:"Loading GitLab data..."})})}),!S&&!w&&!h.length&&Cn()&&t.jsx("div",{className:"container",children:t.jsx("div",{className:"card text-center",children:t.jsx("p",{children:"No issues found. Please check your configuration."})})}),!Cn()&&!o&&t.jsx("div",{className:"container",children:t.jsxs("div",{className:"card text-center",children:[t.jsx("h2",{className:"mb-2",children:"Welcome to GitLab Project Management"}),t.jsx("p",{className:"mb-2",children:"Please configure your GitLab connection to get started."}),t.jsx("button",{className:"btn btn-primary",onClick:()=>a(!0),children:"Configure Now"})]})}),l==="backup"&&t.jsx(nv,{}),Cn()&&h.length>0&&t.jsxs(t.Fragment,{children:[l==="executive"&&t.jsx(h0,{stats:M,healthScore:W,issues:h,milestones:m,epics:b,risks:q}),l==="insights"&&t.jsx(vy,{issues:h,milestones:m,epics:b,stats:M,healthScore:W,risks:q}),l==="compliance"&&t.jsx(Wy,{issues:h}),l==="cycletime"&&t.jsx(Qy,{issues:h}),l==="epicmanagement"&&t.jsx(yv,{epics:b,issues:h,crossProjectData:y}),l==="riskmanagement"&&t.jsx(jv,{epics:b,issues:h}),l==="roadmap"&&t.jsx(g0,{issues:h,milestones:m}),l==="sprintmanagement"&&t.jsx(_v,{issues:h,onNavigate:r}),l==="velocity"&&t.jsx(S0,{issues:h}),l==="resources"&&t.jsx(I0,{issues:h}),l==="resourceplanning"&&t.jsx(w1,{issues:h}),l==="stakeholders"&&t.jsx(J0,{stats:M,healthScore:W}),l==="crossteam"&&t.jsx(d1,{issues:h,epics:b,milestones:m})]})]}),t.jsx(t0,{show:o,onClose:()=>a(!1),onSave:I,onProjectSwitch:N}),t.jsx(Jm,{show:u,onClose:()=>f(!1)})]})})}class A1 extends jh.Component{constructor(r){super(r),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(r){return console.error("ErrorBoundary: Error caught:",r),{hasError:!0}}componentDidCatch(r,c){console.error("ErrorBoundary: Component error details:",{error:r.toString(),errorInfo:c,componentStack:c.componentStack}),this.setState({error:r,errorInfo:c})}render(){return this.state.hasError?(console.log("ErrorBoundary: Rendering error UI"),t.jsxs("div",{style:{padding:"40px",fontFamily:"sans-serif",maxWidth:"800px",margin:"0 auto"},children:[t.jsx("h1",{style:{color:"#DC2626"},children:"Something went wrong"}),t.jsx("h2",{children:"Error Details:"}),t.jsxs("pre",{style:{background:"#FEE2E2",padding:"16px",borderRadius:"8px",overflowX:"auto",fontSize:"14px"},children:[this.state.error&&this.state.error.toString(),`

`,this.state.errorInfo&&this.state.errorInfo.componentStack]}),t.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"20px",padding:"10px 20px",background:"#E60000",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Reload Page"}),t.jsx("p",{style:{marginTop:"20px",color:"#6B7280"},children:"Please open the browser console (F12) and share the error details with the developer."})]})):this.props.children}}console.log("=== GitLab PM Dashboard - Starting ===");console.log("Environment:",{protocol:window.location.protocol,pathname:window.location.pathname,userAgent:navigator.userAgent,reactVersion:R.StrictMode?"React 18+":"Unknown"});try{console.log("Step 1: Looking for root element...");const l=document.getElementById("root");if(!l)throw console.error("ERROR: Root element not found!"),document.body.innerHTML='<div style="padding: 40px; font-family: sans-serif;"><h1>Error: Root element missing</h1><p>Cannot find element with id="root"</p></div>',new Error("Root element not found");console.log("Step 2: Root element found:",l),console.log("Step 3: Creating React root...");const r=Cm.createRoot(l);console.log("Step 4: React root created successfully"),console.log("Step 5: Rendering App component with ErrorBoundary..."),r.render(t.jsx(R.StrictMode,{children:t.jsx(A1,{children:t.jsx(z1,{})})})),console.log(" App rendered successfully!")}catch(l){console.error(" FATAL ERROR during initialization:",l),console.error("Error stack:",l.stack),document.body.innerHTML=`
    <div style="padding: 40px; font-family: sans-serif; max-width: 800px; margin: 0 auto;">
      <h1 style="color: #DC2626;">GitLab PM Dashboard - Initialization Error</h1>
      <h2>Error Details:</h2>
      <pre style="background: #FEE2E2; padding: 16px; border-radius: 8px; overflow-x: auto;">${l.message}

${l.stack}</pre>
      <h2>Debug Information:</h2>
      <pre style="background: #F3F4F6; padding: 16px; border-radius: 8px; overflow-x: auto;">${JSON.stringify({protocol:window.location.protocol,pathname:window.location.pathname,userAgent:navigator.userAgent},null,2)}</pre>
      <p>Please check the browser console (F12) for more details and share this with the developer.</p>
    </div>
  `}function k1(l){if(!l||l.length===0)return{rootEpics:[],epicMap:new Map};const r=new Map,c=[];l.forEach(a=>{r.set(a.id,{...a,children:[],level:0,path:[a.id]})}),l.forEach(a=>{const u=r.get(a.id);if(a.parent_id&&r.has(a.parent_id)){const f=r.get(a.parent_id);f.children.push(u),u.parent=f,u.level=f.level+1,u.path=[...f.path,a.id]}else c.push(u)});const o=a=>{a.children.sort((u,f)=>u.start_date&&f.start_date?new Date(u.start_date)-new Date(f.start_date):(u.title||"").localeCompare(f.title||"")),a.children.forEach(o)};return c.forEach(o),{rootEpics:c,epicMap:r}}function T1(l,r){const c=new Map,o=new Map,a=[];return r.forEach(u=>{c.set(u.id,{epic:u,issues:[],projects:new Set,crossProjectIssues:[]})}),l.forEach(u=>{if(!u.epic)return;const f=c.get(u.epic.id);if(!f)return;f.issues.push(u);const x=u.project_id||u.project?.id;x&&(f.projects.add(x),f.epic.group_id!==u.namespace?.id&&(f.crossProjectIssues.push(u),a.push({epic:f.epic,issue:u,type:"cross-project",epicProject:f.epic.group_id,issueProject:x}))),o.has(x)||o.set(x,new Set),o.get(x).add(u.epic.id)}),{epicIssueMap:c,projectEpicMap:o,crossProjectLinks:a,statistics:F1(c,a)}}function F1(l,r){const c={totalEpics:l.size,epicsWithIssues:0,epicsWithCrossProjectIssues:0,totalCrossProjectLinks:r.length,projectCount:new Set,avgProjectsPerEpic:0};return l.forEach((o,a)=>{o.issues.length>0&&c.epicsWithIssues++,o.crossProjectIssues.length>0&&c.epicsWithCrossProjectIssues++,o.projects.forEach(u=>c.projectCount.add(u))}),c.projectCount=c.projectCount.size,c.avgProjectsPerEpic=c.epicsWithIssues>0?Math.round(c.projectCount/c.epicsWithIssues*10)/10:0,c}function R1(l,r){const{epicIssueMap:c,projectEpicMap:o,crossProjectLinks:a}=r;return l.map(u=>{const f=c.get(u.id)||{issues:[],projects:new Set,crossProjectIssues:[]};return{...u,_crossProject:{issueCount:f.issues.length,projectCount:f.projects.size,projects:Array.from(f.projects),crossProjectIssueCount:f.crossProjectIssues.length,hasMultipleProjects:f.projects.size>1,complexity:f.projects.size>3?"high":f.projects.size>1?"medium":"low"},issues:f.issues}})}function M1(l){return l.filter(r=>!r.epic&&r.labels?.some(c=>c.toLowerCase().includes("epic")||c.toLowerCase().includes("feature")))}const nx=Object.freeze(Object.defineProperty({__proto__:null,buildEpicHierarchy:k1,enhanceEpicsWithCrossProjectData:R1,findOrphanedIssues:M1,linkCrossProjectIssues:T1},Symbol.toStringTag,{value:"Module"}));function Ac({value:l,onChange:r,options:c,placeholder:o="Select...",label:a,style:u={}}){const[f,x]=R.useState(!1),[g,h]=R.useState(""),m=R.useRef(null);R.useEffect(()=>{const w=D=>{m.current&&!m.current.contains(D.target)&&(x(!1),h(""))};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const b=c.filter(w=>w.label.toLowerCase().includes(g.toLowerCase())),y=c.find(w=>w.value===l),S=y?y.label:o;return t.jsxs("div",{ref:m,style:{position:"relative",...u},children:[a&&t.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",marginBottom:"6px",color:"#6B7280"},children:a}),t.jsxs("div",{onClick:()=>x(!f),style:{width:"100%",padding:"8px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px",cursor:"pointer",background:"white",display:"flex",justifyContent:"space-between",alignItems:"center",color:l?"#1F2937":"#9CA3AF"},children:[t.jsx("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:S}),t.jsx("span",{style:{fontSize:"10px",color:"#6B7280"},children:f?"":""})]}),f&&t.jsxs("div",{style:{position:"absolute",top:"calc(100% + 4px)",left:0,right:0,background:"white",border:"1px solid #D1D5DB",borderRadius:"6px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",zIndex:1e3,maxHeight:"300px",overflow:"hidden",display:"flex",flexDirection:"column"},children:[t.jsx("div",{style:{padding:"8px",borderBottom:"1px solid #E5E7EB"},children:t.jsx("input",{type:"text",value:g,onChange:w=>h(w.target.value),placeholder:"Search...",autoFocus:!0,style:{width:"100%",padding:"6px 8px",border:"1px solid #D1D5DB",borderRadius:"4px",fontSize:"13px",outline:"none"},onClick:w=>w.stopPropagation()})}),t.jsx("div",{style:{overflowY:"auto",maxHeight:"250px"},children:b.length===0?t.jsx("div",{style:{padding:"12px",textAlign:"center",color:"#9CA3AF",fontSize:"13px"},children:"No results found"}):b.map(w=>t.jsxs("div",{onClick:()=>{r(w.value),x(!1),h("")},style:{padding:"10px 12px",fontSize:"14px",cursor:"pointer",background:l===w.value?"#EFF6FF":"white",color:l===w.value?"#2563EB":"#1F2937",fontWeight:l===w.value?"600":"400",borderBottom:"1px solid #F3F4F6",transition:"background 0.1s"},onMouseEnter:D=>{l!==w.value&&(D.currentTarget.style.background="#F9FAFB")},onMouseLeave:D=>{l!==w.value&&(D.currentTarget.style.background="white")},children:[w.label,w.subtitle&&t.jsx("div",{style:{fontSize:"11px",color:"#6B7280",marginTop:"2px"},children:w.subtitle})]},w.value))})]})]})}function N1({issues:l,onNavigate:r}){const{filteredIssues:c}=Bi(),[o,a]=R.useState({teamMembers:[]}),[u,f]=R.useState({}),[x,g]=R.useState({sprints:[]}),[h,m]=R.useState(null),[b,y]=R.useState(null),[S,w]=R.useState(!0),[D,M]=R.useState("all"),[W,q]=R.useState("all"),[I,N]=R.useState("all"),[B,z]=R.useState("");R.useEffect(()=>{a(Ct()),f(Ga()),g(gs())},[]);const F=R.useMemo(()=>{const T=new Date;return T.setMonth(T.getMonth()-6),c.filter(A=>A.state==="opened"?!0:A.closed_at?new Date(A.closed_at)>=T:A.updated_at?new Date(A.updated_at)>=T:A.due_date?new Date(A.due_date)>=T:!1)},[c]),_=R.useMemo(()=>Sl(F).map(A=>{const k=F.find(L=>Ei(L.iteration)===A);return{name:A,id:k?.iteration?.id||A,startDate:k?.iteration?.start_date,dueDate:k?.iteration?.due_date}}).sort((A,k)=>A.startDate?k.startDate?new Date(k.startDate)-new Date(A.startDate):-1:1),[F]);R.useEffect(()=>{if(_.length>0&&!h){const T=new Date,A=_.find(k=>k.startDate&&k.dueDate&&new Date(k.startDate)<=T&&new Date(k.dueDate)>=T);m(A||_[0])}},[_,h]);const j=R.useMemo(()=>{const T=new Map;return F.forEach(A=>{A.epic&&T.set(A.epic.id,A.epic)}),Array.from(T.values()).sort((A,k)=>A.title.localeCompare(k.title))},[F]),G=R.useMemo(()=>{const T=new Map;return F.forEach(A=>{A.assignees?.forEach(k=>{T.set(k.username,k)})}),Array.from(T.values()).sort((A,k)=>A.name.localeCompare(k.name))},[F]),{sprintIssues:P,backlogIssues:ee}=R.useMemo(()=>{const T=[],A=[];return F.forEach(k=>{if(!(D!=="all"&&k.epic?.id!==D)&&!(W!=="all"&&!k.assignees?.some(L=>L.username===W))&&!(I!=="all"&&(I==="none"&&k.weight||I==="low"&&(!k.weight||k.weight>3)||I==="medium"&&(!k.weight||k.weight<4||k.weight>7)||I==="high"&&(!k.weight||k.weight<8)))){if(B){const L=B.toLowerCase(),H=k.title.toLowerCase().includes(L),K=k.epic?.title.toLowerCase().includes(L),C=k.assignees?.some(ie=>ie.name.toLowerCase().includes(L)||ie.username.toLowerCase().includes(L)),U=k.weight&&k.weight.toString().includes(L),ne=k.iid.toString().includes(L);if(!H&&!K&&!C&&!U&&!ne)return}k.state==="opened"&&(h&&k.iteration?.id===h.id?T.push(k):A.push(k))}}),{sprintIssues:T,backlogIssues:A}},[F,h,D,W,I,B]),le=R.useMemo(()=>{if(!h||o.teamMembers.length===0)return null;const T=x.sprints.find(K=>K.sprintId===h.id),A=o.teamMembers.map(K=>{const C=T?.memberCapacity.find(ce=>ce.username===K.username),U=C?C.availableHours:K.defaultCapacity,ne=C?.reason||"",ie=P.filter(ce=>ce.assignees?.some(ye=>ye.username===K.username)),de=ie.reduce((ce,ye)=>ce+bi(ye,u),0),ue=U>0?de/U*100:0;return{...K,availableHours:U,allocatedHours:Math.round(de*10)/10,remainingHours:Math.round((U-de)*10)/10,utilization:Math.round(ue),reason:ne,issueCount:ie.length,issues:ie}}),k=A.reduce((K,C)=>K+C.availableHours,0),L=A.reduce((K,C)=>K+C.allocatedHours,0),H=k-L;return{members:A,totalAvailable:Math.round(k),totalAllocated:Math.round(L*10)/10,totalRemaining:Math.round(H*10)/10,teamUtilization:k>0?Math.round(L/k*100):0}},[h,o,u,x,P]),re=R.useMemo(()=>{const T=ee.reduce((L,H)=>L+(H.weight||0),0),A=ee.reduce((L,H)=>L+bi(H,u),0),k=ee.filter(L=>!L.assignees||L.assignees.length===0).length;return{count:ee.length,totalWeight:T,totalHours:Math.round(A*10)/10,unassigned:k}},[ee,u]);return h?t.jsxs("div",{className:"container-fluid",children:[t.jsxs("div",{className:"card",style:{marginBottom:"24px",background:"#FFFFFF",border:"1px solid #E5E7EB"},children:[t.jsxs("div",{children:[t.jsxs("h2",{style:{margin:"0 0 8px 0",fontSize:"24px",fontWeight:"600",color:"#1F2937"},children:["Sprint Planning: ",h?.name]}),t.jsx("div",{style:{fontSize:"14px",color:"#6B7280"},children:"Plan your sprints with real-time capacity tracking. Use the iteration filter at the top to switch sprints."})]}),h.startDate&&(()=>{const T=new Date,A=new Date(h.startDate),k=h.dueDate?new Date(h.dueDate):null,L=k?Math.ceil((k-A)/(1e3*60*60*24)):0,H=Math.max(0,Math.ceil((T-A)/(1e3*60*60*24))),K=k?Math.max(0,Math.ceil((k-T)/(1e3*60*60*24))):0,C=k&&L>0?Math.min(100,H/L*100):0,U=k&&T>k,ne=A<=T&&(!k||k>=T);return t.jsxs("div",{style:{marginTop:"16px",padding:"12px",background:"#F9FAFB",borderRadius:"8px",fontSize:"13px",border:"1px solid #E5E7EB"},children:[t.jsxs("div",{style:{display:"flex",gap:"24px",marginBottom:k?"12px":"0"},children:[t.jsxs("div",{children:[t.jsx("span",{style:{color:"#6B7280"},children:"Start:"})," ",t.jsx("strong",{style:{color:"#1F2937"},children:A.toLocaleDateString()})]}),k&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("span",{style:{color:"#6B7280"},children:"End:"})," ",t.jsx("strong",{style:{color:"#1F2937"},children:k.toLocaleDateString()})]}),t.jsxs("div",{children:[t.jsx("span",{style:{color:"#6B7280"},children:"Duration:"})," ",t.jsxs("strong",{style:{color:"#1F2937"},children:[L," days"]})]}),t.jsxs("div",{children:[t.jsx("span",{style:{color:"#6B7280"},children:U?"Overdue:":ne?"Remaining:":"Starts in:"})," ",t.jsx("strong",{style:{color:U?"#DC2626":"#E60000"},children:U?`${Math.abs(K)} days`:ne?`${K} days`:`${Math.abs(H)} days`})]}),t.jsxs("div",{children:[t.jsx("span",{style:{color:"#6B7280"},children:"Progress:"})," ",t.jsxs("strong",{style:{color:"#1F2937"},children:[Math.round(C),"%"]})]})]})]}),k&&t.jsx("div",{style:{width:"100%",height:"6px",background:"#E5E7EB",borderRadius:"3px",overflow:"hidden"},children:t.jsx("div",{style:{width:`${C}%`,height:"100%",background:U?"#DC2626":"#E60000",transition:"width 0.3s ease"}})})]})})()]}),o.teamMembers.length===0&&t.jsx("div",{className:"card",style:{marginBottom:"24px",background:"#FEF3C7",border:"2px solid #F59E0B"},children:t.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"16px"},children:[t.jsx("div",{style:{fontSize:"32px"},children:""}),t.jsxs("div",{style:{flex:1},children:[t.jsx("h3",{style:{margin:"0 0 8px 0",fontSize:"18px",fontWeight:"600",color:"#92400E"},children:"Team Configuration Required"}),t.jsx("p",{style:{margin:"0 0 16px 0",fontSize:"14px",color:"#78350F",lineHeight:"1.5"},children:"To use Sprint Planning and capacity tracking, you need to configure your team members first. Team configuration is project-specific, so each project in your portfolio needs its own team setup."}),r&&t.jsx("div",{style:{marginBottom:"16px"},children:t.jsx("button",{onClick:()=>r("resources"),style:{padding:"12px 24px",background:"#E60000",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s",boxShadow:"0 2px 4px rgba(230, 0, 0, 0.2)"},onMouseEnter:T=>{T.currentTarget.style.background="#B80000",T.currentTarget.style.boxShadow="0 4px 8px rgba(230, 0, 0, 0.3)"},onMouseLeave:T=>{T.currentTarget.style.background="#E60000",T.currentTarget.style.boxShadow="0 2px 4px rgba(230, 0, 0, 0.2)"},children:"Go to Team Configuration "})}),t.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[t.jsxs("div",{style:{padding:"12px 16px",background:"white",borderRadius:"6px",fontSize:"13px",border:"1px solid #F59E0B"},children:[t.jsx("div",{style:{fontWeight:"600",color:"#92400E",marginBottom:"4px"},children:"Step 1: Configure Team"}),t.jsx("div",{style:{color:"#78350F"},children:"Add team members and assign roles"})]}),t.jsxs("div",{style:{padding:"12px 16px",background:"white",borderRadius:"6px",fontSize:"13px",border:"1px solid #F59E0B"},children:[t.jsx("div",{style:{fontWeight:"600",color:"#92400E",marginBottom:"4px"},children:"Step 2: Set Capacity"}),t.jsx("div",{style:{color:"#78350F"},children:"Configure weekly capacity and story point conversion rates"})]}),t.jsxs("div",{style:{padding:"12px 16px",background:"white",borderRadius:"6px",fontSize:"13px",border:"1px solid #F59E0B"},children:[t.jsx("div",{style:{fontWeight:"600",color:"#92400E",marginBottom:"4px"},children:"Quick Start"}),t.jsxs("div",{style:{color:"#78350F"},children:["Use ",t.jsx("strong",{children:'"Import from Issues"'})," to automatically detect team members"]})]})]})]})]})}),le&&t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",marginBottom:"24px"},children:[t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"13px",color:"#6B7280",marginBottom:"8px"},children:"Team Capacity"}),t.jsxs("div",{style:{fontSize:"28px",fontWeight:"700",color:"#1F2937"},children:[le.totalAvailable,"h"]}),t.jsxs("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:[o.teamMembers.length," team members"]})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"13px",color:"#6B7280",marginBottom:"8px"},children:"Allocated"}),t.jsxs("div",{style:{fontSize:"28px",fontWeight:"700",color:"#DC2626"},children:[le.totalAllocated,"h"]}),t.jsxs("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:[P.length," issues"]})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"13px",color:"#6B7280",marginBottom:"8px"},children:"Remaining"}),t.jsxs("div",{style:{fontSize:"28px",fontWeight:"700",color:le.totalRemaining<0?"#DC2626":"#059669"},children:[le.totalRemaining,"h"]}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:le.totalRemaining<0?"Over capacity!":"Available"})]}),t.jsxs("div",{className:"card",children:[t.jsx("div",{style:{fontSize:"13px",color:"#6B7280",marginBottom:"8px"},children:"Utilization"}),t.jsxs("div",{style:{fontSize:"28px",fontWeight:"700",color:le.teamUtilization>=100?"#DC2626":le.teamUtilization>=80?"#D97706":"#059669"},children:[le.teamUtilization,"%"]}),t.jsx("div",{style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"},children:le.teamUtilization>=100?"Overloaded":le.teamUtilization>=80?"At capacity":"Healthy"})]})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:S?"1fr 400px":"1fr",gap:"24px"},children:[t.jsxs("div",{children:[t.jsx("div",{className:"card",style:{marginBottom:"20px",background:"#F9FAFB"},children:t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"12px"},children:[t.jsxs("div",{children:[t.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",marginBottom:"6px",color:"#6B7280"},children:"Search Issues"}),t.jsx("input",{type:"text",value:B,onChange:T=>z(T.target.value),placeholder:"Search by title, epic, assignee, weight, or #ID...",style:{width:"100%",padding:"8px 12px",border:"1px solid #D1D5DB",borderRadius:"6px",fontSize:"14px"}})]}),t.jsx(Ac,{label:"Filter by Epic",value:D,onChange:M,placeholder:"All Epics",options:[{value:"all",label:"All Epics"},...j.map(T=>({value:T.id,label:T.title}))]}),t.jsx(Ac,{label:"Filter by Assignee",value:W,onChange:q,placeholder:"All Assignees",options:[{value:"all",label:"All Assignees"},...G.map(T=>({value:T.username,label:T.name,subtitle:T.username}))]}),t.jsx(Ac,{label:"Filter by Weight",value:I,onChange:N,placeholder:"All Weights",options:[{value:"all",label:"All Weights"},{value:"none",label:"No Weight"},{value:"low",label:"Low (1-3)"},{value:"medium",label:"Medium (4-7)"},{value:"high",label:"High (8+)"}]})]})}),le&&t.jsxs("div",{className:"card",children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[t.jsx("h3",{style:{margin:0,fontSize:"18px",fontWeight:"600"},children:"Team Capacity Breakdown"}),t.jsxs("button",{onClick:()=>w(!S),style:{padding:"8px 16px",background:S?"#DC2626":"#059669",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:[S?"Hide":"Show"," Backlog"]})]}),le.members.map(T=>{const A=T.utilization>=100,k=T.utilization>=80&&T.utilization<100,L=b===T.username;return t.jsxs("div",{style:{marginBottom:"16px",padding:"16px",background:A?"#FEF2F2":k?"#FEF3C7":"#F9FAFB",borderRadius:"8px",border:`2px solid ${A?"#FEE2E2":k?"#FDE68A":"#E5E7EB"}`},children:[t.jsxs("div",{onClick:()=>y(L?null:T.username),style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"12px"},children:[t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[t.jsx("span",{style:{fontSize:"16px",fontWeight:"600",color:"#1F2937"},children:T.name}),t.jsx("span",{style:{padding:"3px 8px",background:"#EFF6FF",color:"#2563EB",borderRadius:"12px",fontSize:"11px",fontWeight:"600"},children:T.role}),T.reason&&t.jsx("span",{style:{padding:"3px 8px",background:"#FEF3C7",color:"#92400E",borderRadius:"12px",fontSize:"11px",fontWeight:"500"},children:T.reason})]}),t.jsxs("div",{style:{fontSize:"13px",color:"#6B7280"},children:[T.allocatedHours,"h / ",T.availableHours,"h","  ",T.issueCount," issues","  ",t.jsxs("span",{style:{fontWeight:"600",color:A?"#DC2626":k?"#D97706":"#059669"},children:[T.utilization,"% utilization"]})]})]}),t.jsx("div",{style:{fontSize:"20px",color:"#9CA3AF"},children:L?"":""})]}),t.jsx("div",{style:{marginTop:"12px"},children:t.jsx("div",{style:{width:"100%",height:"10px",background:"#E5E7EB",borderRadius:"5px",overflow:"hidden"},children:t.jsx("div",{style:{width:`${Math.min(T.utilization,100)}%`,height:"100%",background:A?"#DC2626":k?"#D97706":"#059669",transition:"width 0.3s ease"}})})}),L&&T.issues.length>0&&t.jsx("div",{style:{marginTop:"16px"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{borderBottom:"1px solid #E5E7EB"},children:[t.jsx("th",{style:{padding:"8px",textAlign:"left",fontSize:"11px",fontWeight:"600",color:"#6B7280"},children:"ID"}),t.jsx("th",{style:{padding:"8px",textAlign:"left",fontSize:"11px",fontWeight:"600",color:"#6B7280"},children:"Title"}),t.jsx("th",{style:{padding:"8px",textAlign:"center",fontSize:"11px",fontWeight:"600",color:"#6B7280"},children:"Weight"}),t.jsx("th",{style:{padding:"8px",textAlign:"center",fontSize:"11px",fontWeight:"600",color:"#6B7280"},children:"Hours"})]})}),t.jsx("tbody",{children:T.issues.map(H=>{const K=bi(H,u);return t.jsxs("tr",{style:{borderBottom:"1px solid #F3F4F6"},children:[t.jsxs("td",{style:{padding:"8px",color:"#6B7280"},children:["#",H.iid]}),t.jsx("td",{style:{padding:"8px",color:"#374151"},children:t.jsx("div",{style:{maxWidth:"300px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:H.title})}),t.jsx("td",{style:{padding:"8px",textAlign:"center"},children:H.weight?t.jsx("span",{style:{padding:"2px 6px",background:"#DBEAFE",color:"#1E40AF",borderRadius:"4px",fontSize:"11px",fontWeight:"600"},children:H.weight}):"-"}),t.jsxs("td",{style:{padding:"8px",textAlign:"center",fontWeight:"600",color:"#374151"},children:[K.toFixed(1),"h"]})]},H.id)})})]})})]},T.username)})]})]}),S&&t.jsx("div",{children:t.jsxs("div",{className:"card",style:{position:"sticky",top:"20px",maxHeight:"calc(100vh - 40px)",overflow:"auto"},children:[t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("h3",{style:{margin:"0 0 8px 0",fontSize:"18px",fontWeight:"600"},children:"Backlog"}),t.jsxs("div",{style:{fontSize:"13px",color:"#6B7280"},children:[re.count," issues  ",re.totalWeight," points  ",re.totalHours,"h",re.unassigned>0&&t.jsxs("span",{style:{color:"#D97706",fontWeight:"600"},children:[" ","  ",re.unassigned," unassigned"]})]})]}),ee.length===0?t.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"#9CA3AF",fontSize:"14px"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"12px"},children:""}),t.jsx("div",{children:"All issues are assigned to sprints!"})]}):t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:ee.map(T=>{const A=bi(T,u);return t.jsxs("div",{style:{padding:"12px",background:"#F9FAFB",borderRadius:"6px",border:"1px solid #E5E7EB",fontSize:"13px"},children:[t.jsx("div",{style:{display:"flex",justifyContent:"between",alignItems:"start",gap:"8px",marginBottom:"6px"},children:t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{fontWeight:"600",color:"#374151",marginBottom:"4px"},children:["#",T.iid," ",T.title]}),T.epic&&t.jsxs("div",{style:{fontSize:"11px",color:"#6B7280",marginBottom:"4px"},children:[" ",T.epic.title]}),t.jsxs("div",{style:{display:"flex",gap:"6px",flexWrap:"wrap"},children:[T.weight&&t.jsxs("span",{style:{padding:"2px 6px",background:"#DBEAFE",color:"#1E40AF",borderRadius:"4px",fontSize:"11px",fontWeight:"600"},children:[T.weight," pts"]}),t.jsxs("span",{style:{padding:"2px 6px",background:"#F3F4F6",color:"#6B7280",borderRadius:"4px",fontSize:"11px",fontWeight:"500"},children:[A.toFixed(1),"h"]}),T.assignees&&T.assignees.length>0&&t.jsx("span",{style:{padding:"2px 6px",background:"#DCFCE7",color:"#166534",borderRadius:"4px",fontSize:"11px",fontWeight:"500"},children:T.assignees[0].name})]})]})}),t.jsx("div",{style:{fontSize:"11px",color:"#9CA3AF",marginTop:"6px"},children:" Tip: Assign to sprint in GitLab to move from backlog"})]},T.id)})})]})})]})]}):t.jsx("div",{className:"container-fluid",children:t.jsxs("div",{className:"card",style:{textAlign:"center",padding:"60px",color:"#6B7280"},children:[t.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),t.jsx("div",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"8px"},children:"No Sprints Found"}),t.jsx("div",{style:{fontSize:"14px"},children:"Make sure your issues have iterations assigned to see sprint planning"})]})})}const I1=Object.freeze(Object.defineProperty({__proto__:null,default:N1},Symbol.toStringTag,{value:"Module"}));</script>
    <style rel="stylesheet" crossorigin>:root{--primary: #E60000;--primary-dark: #B80000;--bg-primary: #FFFFFF;--bg-secondary: #F8F9FA;--bg-tertiary: #F3F4F6;--text-primary: #1F2937;--text-secondary: #6B7280;--text-tertiary: #9CA3AF;--border-light: #E5E7EB;--border-medium: #D1D5DB;--success: #059669;--warning: #D97706;--danger: #DC2626;--info: #2563EB}*{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Arial,sans-serif;background:var(--bg-secondary);color:var(--text-primary);line-height:1.6}.header{background:var(--bg-primary);border-bottom:1px solid var(--border-light);box-shadow:0 1px 3px #0000000d}.card{background:var(--bg-primary);border:1px solid var(--border-light);border-radius:8px;padding:24px;box-shadow:0 1px 2px #0000000d}.card:hover{box-shadow:0 4px 6px #00000012}.btn{padding:10px 20px;font-size:14px;font-weight:500;border:1px solid var(--border-medium);border-radius:6px;cursor:pointer;transition:all .2s;background:var(--bg-primary);color:var(--text-primary)}.btn:hover{border-color:var(--border-medium);background:var(--bg-tertiary)}.btn-primary{background:var(--primary);color:#fff;border-color:var(--primary)}.btn-primary:hover{background:var(--primary-dark);border-color:var(--primary-dark)}h1{font-size:28px;font-weight:600;line-height:1.2}h2{font-size:24px;font-weight:600;line-height:1.3}h3{font-size:18px;font-weight:600;line-height:1.4}.container{max-width:1400px;margin:0 auto;padding:20px}.container-fluid{width:100%;padding:20px;margin:0}.container-timeline{width:100%;padding:20px 10px;margin:0}.grid{display:grid;gap:20px}.grid-2{grid-template-columns:repeat(2,1fr)}.grid-3{grid-template-columns:repeat(3,1fr)}.grid-4{grid-template-columns:repeat(4,1fr)}.metric-card{text-align:center;padding:20px}.metric-value{font-size:32px;font-weight:700;color:var(--text-primary);margin:8px 0}.metric-label{font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--text-secondary)}.health-circle{width:120px;height:120px;border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto;font-size:32px;font-weight:700;color:#fff}.health-good{background:var(--success)}.health-warning{background:var(--warning)}.health-danger{background:var(--danger)}.badge{display:inline-block;padding:4px 8px;border-radius:4px;font-size:12px;font-weight:500}.badge-success{background:#d1fae5;color:var(--success)}.badge-warning{background:#fef3c7;color:var(--warning)}.badge-danger{background:#fee2e2;color:var(--danger)}.badge-info{background:#dbeafe;color:var(--info)}.progress-bar{width:100%;height:8px;background:var(--bg-tertiary);border-radius:4px;overflow:hidden}.progress-fill{height:100%;background:var(--primary);transition:width .3s ease}table{width:100%;border-collapse:collapse}th,td{padding:12px;text-align:left;border-bottom:1px solid var(--border-light)}th{font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--text-secondary);background:var(--bg-secondary)}tr:hover{background:var(--bg-secondary)}.tabs{display:flex;gap:4px;border-bottom:1px solid var(--border-light);background:var(--bg-primary);padding:0 20px}.tab{padding:12px 20px;font-size:14px;font-weight:500;color:var(--text-secondary);background:transparent;border:none;border-bottom:2px solid transparent;cursor:pointer;transition:all .2s}.tab:hover{color:var(--text-primary)}.tab.active{color:var(--primary);border-bottom-color:var(--primary)}.modal-overlay{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal{background:var(--bg-primary);border-radius:8px;max-width:600px;width:90%;max-height:90vh;overflow-y:auto;box-shadow:0 20px 25px -5px #0000001a}.modal-header{padding:24px;border-bottom:1px solid var(--border-light);display:flex;justify-content:space-between;align-items:center}.modal-body{padding:24px}.modal-footer{padding:24px;border-top:1px solid var(--border-light);display:flex;justify-content:flex-end;gap:12px}.form-group{margin-bottom:20px}.form-label{display:block;font-size:13px;font-weight:500;color:var(--text-primary);margin-bottom:6px}.form-input,.form-select,.form-textarea{width:100%;padding:10px 12px;font-size:14px;border:1px solid var(--border-medium);border-radius:6px;background:var(--bg-primary);color:var(--text-primary)}.form-input:focus,.form-select:focus,.form-textarea:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px #e600001a}.form-textarea{resize:vertical;min-height:100px}.text-center{text-align:center}.text-right{text-align:right}.mb-1{margin-bottom:8px}.mb-2{margin-bottom:16px}.mb-3{margin-bottom:24px}.mt-1{margin-top:8px}.mt-2{margin-top:16px}.mt-3{margin-top:24px}.text-muted{color:var(--text-secondary)}.text-small{font-size:12px}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes pulse{0%,to{opacity:1;border-color:#3b82f6}50%{opacity:.7;border-color:#60a5fa}}</style>
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>
